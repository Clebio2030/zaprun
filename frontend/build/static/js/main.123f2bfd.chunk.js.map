{"version":3,"sources":["services/api.js","layout/themeContext.js","context/ActiveMenuContext/index.js","config.js","hooks/useHelps/index.js","translate/languages/pt.js","translate/languages/index.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","errors/toastError.js","services/SocketWorker.js","hooks/useAuth.js/index.js","services/socket.js","context/Auth/AuthContext.js","hooks/useWhatsApps/index.js","context/WhatsApp/WhatsAppsContext.js","rules.js","components/Can/index.js","hooks/usePlans/index.js","hooks/useVersion/index.js","layout/MainListItems.js","components/MarkdownWrapper/index.js","assets/instagram.png","assets/whatsapp.png","context/Tickets/TicketsContext.js","components/TicketListItem/index.js","hooks/useTickets/index.js","hooks/useSettings/companySettings.js","components/NotificationsPopOver/index.js","components/NotificationsVolume/index.js","components/QueueSelect/index.js","components/TabPanel/index.js","components/AvatarUpload/index.js","components/UserModal/index.js","components/BackdropLoading/index.js","components/AnnouncementsPopover/index.js","hooks/useDate/index.js","pages/Chat/ChatPopover.js","hooks/useSettings/index.js","components/VersionControl/index.js","layout/index.js","components/Dashboard/TableAttendantsStatus.js","hooks/useDashboard/index.js","hooks/useMessages/index.js","pages/Dashboard/ChartsUser.js","pages/Dashboard/ChartDonut.js","pages/Dashboard/Title.js","pages/Dashboard/Filters.js","pages/Dashboard/ChartsDate.js","components/ForbiddenPage/index.js","pages/Dashboard/index.js","components/ButtonWithSpinner/index.js","components/TagsContainer/index.js","components/ContactModal/index.js","components/ShowTicketOpenModal/index.js","components/NewTicketModal/index.js","components/ContactTag/index.js","components/ConnectionIcon/index.js","components/AcceptTicketWithoutQueueModal/index.js","hooks/useQueues/index.js","components/UserModal/statusIcon.js","components/TransferTicketModalCustom/index.js","components/TicketListItemCustom/index.js","components/TicketsListSkeleton/index.js","components/TicketsListCustom/index.js","components/TicketsQueueSelect/index.js","components/TagsFilter/index.js","components/UsersFilter/index.js","components/StatusFilter/index.js","components/WhatsappsFilter/index.js","context/QueuesSelected/QueuesSelectedContext.js","components/TicketsManagerTabs/index.js","utils/FormatMask.js","utils/formatSerializedId.js","components/ModalImageCors/index.js","components/ContactDrawerSkeleton/index.js","components/ContactForm/index.js","components/ContactNotesDialogListItem/index.js","components/ConfirmationModal/index.js","components/ContactNotesEditModal/index.js","hooks/useTicketNotes/index.js","components/ContactNotes/index.js","components/TagsKanbanContainer/index.js","components/ContactDrawer/index.js","context/ReplyingMessage/ReplyingMessageContext.js","components/MessageInput/RecordingTimer.js","hooks/useQuickMessages/index.js","components/ContactSendModal/index.js","components/CameraModal/index.js","context/ForwarMessage/ForwardMessageContext.js","components/AudioModal/index.js","components/MessageUploadMedias/index.js","context/EditingMessage/EditingMessageContext.js","components/OutlinedDiv/index.js","components/MessageVariablesPicker/index.js","components/ScheduleModal/index.js","components/MessageInput/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","components/TicketInfo/index.js","components/ShowTicketLogModal/index.js","components/VcardPreview/index.js","components/LocationPreview/index.js","components/ForwardMessageModal/index.js","components/MessageOptionsMenu/index.js","assets/wa-background.png","assets/wa-background-dark.png","components/ModalYoutubeCors/index.js","components/MessagesList/SelectMessageCheckbox.js","components/MessagesList/index.js","components/TicketMessagesDialog/index.js","components/TicketActionButtonsCustom/index.js","components/Ticket/index.js","pages/TicketsCustom/index.js","components/TicketAdvancedLayout/index.js","pages/TicketsAdvanced/index.js","pages/TicketResponsiveContainer/index.js","pages/Signup/index.js","pages/Login/index.js","components/MainContainer/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/Title/index.js","components/TableRowSkeleton/index.js","components/SchedulesForm/index.js","components/WhatsAppModal/index.js","components/QrcodeModal/index.js","pages/Connections/index.js","hooks/useCompanies/index.js","components/ModalUsers/index.js","components/CompaniesManager/index.js","components/PlansManager/index.js","components/HelpsManager/index.js","components/Settings/Options.js","components/OnlyForSuperUser/index.js","components/ColorPicker/index.js","components/ColorBoxModal/index.js","components/Settings/Whitelabel.js","pages/SettingsCustom/index.js","components/FormFields/InputField.js","components/FormFields/SelectField.js","components/CheckoutPage/Forms/AddressForm.js","components/CheckoutPage/Forms/PaymentForm.js","components/CheckoutPage/ReviewOrder/styles.js","components/CheckoutPage/ReviewOrder/ShippingDetails.js","components/CheckoutPage/ReviewOrder/PaymentDetails.js","components/CheckoutPage/ReviewOrder/index.js","components/CheckoutPage/ReviewOrder/ReviewOrder.js","components/CheckoutPage/CheckoutSuccess/style.js","components/CheckoutPage/CheckoutSuccess/CheckoutSuccess.js","components/CheckoutPage/CheckoutSuccess/index.js","components/CheckoutPage/FormModel/checkoutFormModel.js","components/CheckoutPage/FormModel/validationSchema.js","components/CheckoutPage/FormModel/formInitialValues.js","components/CheckoutPage/styles.js","components/CheckoutPage/index.js","components/CheckoutPage/CheckoutPage.js","components/SubscriptionModal/index.js","pages/Financeiro/index.js","context/Socket/SocketContext.js","pages/Users/index.js","components/ContactImportWpModal/index.js","pages/Contacts/index.js","assets/upload.gif","hooks/useWindowDimensions/index.js","components/ContactImport/index.js","pages/Contacts/import.js","components/MomentsUser/index.js","pages/Moments/index.js","components/ToolTips/index.js","components/ChatBots/options.js","components/QueueModal/index.js","pages/Queues/index.js","components/TagModal/index.js","components/ContactTagListModal/index.js","pages/Tags/index.js","pages/MessagesAPI/index.js","pages/Helps/index.js","components/ContactListDialog/index.js","pages/ContactLists/index.js","components/ContactListItemModal/index.js","hooks/useContactLists/index.js","pages/ContactListItems/index.js","components/CompaniesModal/index.js","pages/Companies/index.js","components/QuickMessageDialog/index.js","pages/QuickMessages/index.js","routes/Route.js","pages/Schedules/index.js","components/CampaignModal/index.js","pages/Campaigns/index.js","pages/CampaignsConfig/index.js","components/Dashboard/CardCounter.js","pages/CampaignReport/index.js","components/AnnouncementModal/index.js","pages/Annoucements/index.js","pages/Chat/ChatList.js","pages/Chat/ChatMessages.js","pages/Chat/index.js","components/QueueSelectSingle/index.js","components/PromptModal/index.js","pages/Prompts/index.js","pages/ForgetPassWord/index.js","components/WhatsAppModalAdmin/index.js","components/CompanyWhatsapps/index.js","pages/AllConnections/index.js","components/QueueSelectCustom/index.js","pages/Reports/index.js","stores/useNodeStorage.js","pages/FlowBuilderConfig/nodes/messageNode.js","components/FlowBuilderAddTextModal/index.js","components/FlowBuilderIntervalModal/index.js","pages/FlowBuilderConfig/nodes/startNode.js","pages/FlowBuilderConfig/nodes/conditionNode.js","pages/FlowBuilderConfig/nodes/menuNode.js","pages/FlowBuilderConfig/nodes/intervalNode.js","pages/FlowBuilderConfig/nodes/imgNode.js","pages/FlowBuilderConfig/nodes/randomizerNode.js","pages/FlowBuilderConfig/nodes/videoNode.js","components/FlowBuilderConditionModal/index.js","components/FlowBuilderMenuModal/index.js","components/FlowBuilderAddImgModal/index.js","components/FlowBuilderAddTicketModal/index.js","components/FlowBuilderAddQueueFlowModal/index.js","components/FlowBuilderAddAudioModal/index.js","pages/FlowBuilderConfig/nodes/audioNode.js","pages/FlowBuilderConfig/nodes/typebotNode.js","pages/FlowBuilderConfig/nodes/openaiNode.js","pages/FlowBuilderConfig/nodes/QueueFlowNode.js","components/FlowBuilderRandomizerModal/index.js","components/FlowBuilderAddVideoModal/index.js","utils/capitalize.js","components/FlowBuilderSingleBlockModal/index.js","pages/FlowBuilderConfig/nodes/singleBlockNode.js","pages/FlowBuilderConfig/nodes/ticketNode.js","components/FlowBuilderAddTypebotModal/index.js","components/FlowBuilderAddOpenAIModal/index.js","pages/FlowBuilderConfig/index.js","pages/FlowBuilderConfig/nodes/removeEdge.js","styles/styles.js","components/WebhookModal/index.js","components/FlowBuilderModal/index.js","pages/FlowBuilder/index.js","components/CampaignModalPhrase/index.js","pages/CampaignsPhrase/index.js","pages/Subscription/index.js","assets/n8n.png","assets/webhook.png","assets/flowbuilders.png","components/QueueIntegrationModal/index.js","pages/QueueIntegration/index.js","components/FileModal/index.js","pages/Files/index.js","pages/ToDoList/index.js","pages/Kanban/index.js","pages/TagsKanban/index.js","pages/Portal/PortalHeader/index.js","pages/Portal/LGPD/index.js","pages/Portal/index.js","routes/index.js","App.js","index.js","serviceWorker.js","assets/logo.png","assets/logo-black.png","assets/favicon.ico","assets/nopicture.png","assets/planilha.xlsx","assets/typebot-ico.png","assets/facebook.png","assets/sound.mp3","assets/chat_notify.mp3","assets/dialogflow.png","assets/typebot.jpg"],"names":["api","axios","create","baseURL","process","withCredentials","openApi","ColorModeContext","React","createContext","toggleColorMode","setPrimaryColorLight","_","setPrimaryColorDark","setAppLogoLight","setAppLogoDark","setAppLogoFavicon","ActiveMenuContext","useActiveMenu","useContext","ActiveMenuProvider","_ref","children","activeMenu","setActiveMenu","useState","createElement","Provider","value","getConfig","name","defaultValue","arguments","length","undefined","window","ENV","getBackendUrl","usePlans","findAll","async","data","request","url","method","params","list","save","responseData","update","concat","id","remove","messages","pt","translations","signup","title","toasts","success","fail","form","email","password","company","phone","buttons","submit","login","button","register","companies","plan","token","auth","dueDate","expiration","days","day","expirationToday","dashboard","tabs","indicators","assessments","attendants","charts","perDay","cards","inAttendance","waiting","activeAttendants","finalized","newContacts","totalReceivedMessages","totalSentMessages","averageServiceTime","averageWaitingTime","status","activeTickets","passiveTickets","groups","users","numberAppointments","statusNow","totalCallsUser","totalAttendances","date","initialDate","finalDate","licence","available","totalCalls","callsWaitRating","callsWithoutRating","ratedCalls","evaluationIndex","score","prosecutors","neutral","detractors","reports","operator","period","until","reportTitle","calls","search","durationCalls","grupoSessions","groupTicketsReports","timezone","msgToast","errorToast","back","groupServiceReport","loading","contact","dateOpen","dateLastUpdated","agent","agentClosed","waitingAssistance","researchReports","response","active","inactive","quantity","percentage","activeSearch","inactiveSearch","ticketDurationDetail","startService","lastUpdated","lastAgent","durationFinished","ticketDuration","open","pending","finished","durationAfterFinished","actions","ticketReports","pdf","exportTitle","todo","newTask","add","task","contactImportWpModal","downloadModel","closed","import","connections","waitConnection","newConnection","restartConnections","callSupport","deleted","closedimported","confirmationModal","closedImportedTitle","closedImportedMessage","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","disconnect","tryAgain","qrcode","newQr","closedImported","preparing","importing","processed","in","connecting","typography","toolTips","disconnected","content","connected","timeout","table","lastUpdate","default","session","number","showTicketOpenModal","header","message","user","queue","messageWait","showTicketLogModal","options","chatBot","access","transfered","receivedTransfer","reopen","redirect","whatsappModal","edit","general","integrations","schedules","importOldMessagesEnable","importOldMessages","importRecentMessages","importOldMessagesGroups","closedTicketsPostImported","queueRedirection","queueRedirectionDesc","group","timeSendQueue","importAlert","groupAsTicket","timeCreateNewTicket","maxUseBotQueues","timeUseBotQueues","expiresTicket","expiresTicketNPS","maxUseBotQueuesNPS","closeLastMessageOptions1","closeLastMessageOptions2","outOfHoursMessage","greetingMessage","complationMessage","lgpdLinkPrivacy","lgpdMessage","lgpdDeletedMessages","lgpdSendMessage","ratingMessage","sendIdQueue","inactiveMessage","timeInactiveMessage","whenExpiresTicket","expiresInactiveMessage","prompt","collectiveVacationEnd","collectiveVacationStart","collectiveVacationMessage","queueIdImportMessages","okAdd","okEdit","cancel","menuItem","enabled","disabled","minutes","errorSendQueue","errorExpiresNPS","errorRatingMessage","qrCode","contacts","searchPlaceholder","importTitlte","exportContact","blockContact","unblockContact","importMessage","importChat","wantImport","export","whatsapp","lastMessage","menu","importYourPhone","importToExcel","forwardMessage","text","forwardMessageModal","ok","promptModal","voice","max_tokens","temperature","apikey","max_messages","voiceKey","voiceRegion","prompts","contactModal","mainInfo","extraInfo","extraName","extraValue","chatBotContact","termsLGDP","addExtraInfo","flowbuilderModal","flowNotIdPhrase","queueModal","queueData","confirmationDelete","color","orderQueue","rotate","timeRotate","integrationId","fileListId","closeTicket","queueType","integration","file","bot","toolTipTitle","toolTip","selectOption","attendent","toolTipMessageTitle","toolTipMessageContent","selectUser","selectQueue","selectIntegration","addOptions","serviceHours","dayWeek","startTimeA","endTimeA","startTimeB","endTimeB","monday","tuesday","wednesday","thursday","friday","saturday","sunday","queueIntegrationModal","type","projectName","language","jsonContent","urlN8N","typebotSlug","typebotExpires","typebotKeywordFinish","typebotKeywordRestart","typebotRestartMessage","typebotUnknownMessage","typebotDelayMessage","test","testSuccess","addSuccess","editSuccess","userModal","warning","updateImage","removeImage","farewellMessage","profile","startWork","endWork","allTicketEnable","allTicketDisable","allTicket","allowGroup","defaultMenuOpen","defaultMenuClosed","defaultMenu","defaultTheme","defaultThemeDark","defaultThemeLight","allHistoric","allHistoricEnabled","allHistoricDisabled","allUserChat","userClosePendingTicket","showDashboard","allowRealTime","allowConnections","permissions","addImage","editImage","companyModal","passwordDefault","numberAttendants","numberConections","scheduleModal","body","sendAt","sentAt","assinar","addSchedule","tagModal","addKanban","editKanban","timeLane","nextLaneId","greetingMessageLane","rollbackLaneId","successKanban","fileModal","fileOptions","chat","noTicketMessage","uploads","titles","titleUploadMsgDragDrop","titleFileList","chatInternal","new","modal","conversation","filterUsers","modalDelete","ticketsManager","questionCloseTicket","yes","not","newTicket","resolveAll","close","ticketsQueueSelect","placeholder","tickets","inbox","closedAllTickets","closedAll","no","resolverd","notification","filterConections","filterConectionsOptions","filterContacts","ticketsPerPage","showAll","returnQueue","scredule","deleteTicket","closedTicket","closedMessage","closedNotMessage","transferTicketModal","fieldLabel","fieldQueueLabel","fieldQueuePlaceholder","fieldWhatsapp","noOptions","msgTransfer","ticketsList","called","today","missedCall","pendingHeader","assignedHeader","groupingHeader","noTicketsTitle","noTicketsMessage","noQueue","accept","start","transfer","ignore","exportAsPDF","kanbanActions","acceptModal","newTicketModal","SendContactModal","mainDrawer","listItems","chatsTempoReal","quickMessages","queues","tags","administration","settings","files","helps","messagesAPI","campaigns","flow","annoucements","chats","financeiro","queueIntegration","version","kanban","allConnections","management","appBar","logout","messageEnd","goodMorning","myName","continuity","virtualAssistant","location","notRegister","refresh","languages","es","en","tr","textMessage","userId","queueId","mediaMessage","media","API","methods","messagesText","messagesMidia","instructions","comments","comments1","comments2","codeCountry","code","notifications","noTickets","noAttachment","attach","dialog","shortcode","geral","visao","mediaName","contactLists","contactListItems","lists","subMenus","listContacts","randomInterval","noBreak","intervalGapAfter","laggerTriggerRange","addVar","shortcut","contactList","option","scheduledAt","completedAt","confirmation","readonly","help","message1","message2","message3","message4","message5","confirmationMessage1","confirmationMessage2","confirmationMessage3","confirmationMessage4","confirmationMessage5","messagePlaceholder","tagList","statusTicket","openTicketStatus","pendingTicketStatus","closedTicketStatus","enabledOpenTicket","disabledOpenTicket","openTicket","okadd","restart","campaignReport","scheduled","cancelled","campaign","validContacts","confirmationsRequested","confirmations","deliver","connection","schedule","conclusion","announcements","priority","mediaPath","high","medium","low","campaignsConfig","greeting","ID","queueSelect","inputLabel","inputLabelRO","withoutQueue","dateClose","NPS","supportTime","filter","onlyRated","compaies","namePlan","numberQueues","useCampaigns","useExternalApi","useFacebook","useInstagram","useWhatsapp","useInternalChat","useSchedules","createdAt","lastLogin","money","document","recurrence","monthly","bimonthly","quarterly","semester","yearly","clear","delete","plans","public","codeVideo","description","tagsKanban","laneDefault","deletedAll","deleteAll","deleteAllTitle","deleteAllMessage","userCreation","updating","creationCompanyUser","evaluations","officeScheduling","queueManagement","companyManagement","connectionManagement","sendGreetingAccepted","sendMsgTransfTicket","checkMsgIsGroup","chatBotType","userRandom","acceptCallWhatsapp","sendSignMessage","sendGreetingMessageOneQueues","sendQueuePosition","sendFarewellWaitingTicket","acceptAudioMessageContact","enableLGPD","requiredTag","closeTicketOnTransfer","DirectTicketsToWallets","showNotificationPending","customMessages","sendQueuePositionMessage","AcceptCallWhatsappMessage","greetingAcceptedMessage","transferMessage","LGPD","welcome","linkLGPD","obfuscateMessageDelete","alwaysConsent","obfuscatePhoneUser","messagesList","assignedTo","dialogRatingTitle","dialogClosingTitle","dialogRatingCancel","dialogRatingSuccess","dialogRatingWithoutFarewellMsg","ratingTitle","notMessage","amount","return","resolve","rating","enableIntegration","disableIntegration","logTicket","messagesInput","placeholderPrivateMessage","placeholderOpen","placeholderClosed","signMessage","privateMessage","contactDrawer","block","unblock","messageVariablesPicker","label","vars","contactFirstName","contactName","protocolNumber","hour","ticket_id","ticketOptionsMenu","registerAppointment","resolveWithNoFarewell","acceptAudioMessage","appointmentsModal","textarea","titleFrom","confirm","messageInput","tooltip","signature","meet","imageVideo","cam","messageOptionsMenu","reply","forward","toForward","talkTo","invoices","details","expirationDate","action","backendErrors","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","ERR_OUT_OF_HOURS","resolvAll","ratings","i18n","use","LanguageDetector","init","debug","defaultNS","fallbackLng","ns","resources","toastError","err","_err$response","_err$response$data","errorMsg","error","exists","toast","t","toastId","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","theme","isString","SocketWorker","constructor","companyId","instance","this","socket","configureSocket","eventListeners","io","autoConnect","reconnection","reconnectionDelay","reconnectionAttempts","Infinity","query","on","reconnectAfterDelay","event","callback","connect","push","emit","off","cb","forEach","setTimeout","forceReconnect","useAuth","history","useHistory","isAuth","setIsAuth","setLoading","setUser","setSocket","interceptors","config","localStorage","getItem","headers","JSON","parse","Promise","reject","_error$response","_error$response2","originalRequest","_retry","post","setItem","stringify","defaults","Authorization","removeItem","useEffect","Object","keys","_params$user","_params$user2","isObject","socketConnection","handleLogin","userData","has","isArray","companieSettings","setting","find","s","key","signEnable","profileImage","moment","locale","format","vencimento","diff","before","isBefore","dias","duration","asDays","Math","round","warn","handleLogout","getCurrentUserInfo","get","AuthContext","AuthProvider","reducer","state","payload","whatsApp","whatsAppIndex","findIndex","updatedAt","retries","whatsAppId","splice","useWhatsApps","whatsApps","dispatch","useReducer","fetchSession","onCompanyWhatsapp","whatsappId","onCompanyWhatsappSession","WhatsAppsContext","WhatsAppsProvider","rules","static","admin","Can","role","perform","check","staticPermissions","includes","dynamicPermissions","dynamic","permissionCondition","defaultProps","getPlanList","getPlanCompany","useVersion","getVersion","useStyles","makeStyles","listItem","height","width","backgroundColor","palette","primary","main","listItemText","fontSize","mode","avatarActive","avatarHover","iconHoverActive","display","justifyContent","alignItems","borderRadius","ListItemLink","props","icon","to","showBadge","classes","useLocation","isActive","pathname","renderLink","useMemo","forwardRef","itemProps","ref","RouterLink","assign","ConditionalTooltip","tooltipEnabled","Tooltip","placement","ListItem","component","className","ListItemIcon","Badge","badgeContent","overlap","badge","Avatar","ListItemText","Typography","newChats","chatIndex","u","chatId","map","MainListItems","_ref2","collapsed","drawerClose","useTheme","connectionWarning","setConnectionWarning","openCampaignSubmenu","setOpenCampaignSubmenu","openFlowSubmenu","setOpenFlowSubmenu","openDashboardSubmenu","setOpenDashboardSubmenu","showCampaigns","setShowCampaigns","showKanban","setShowKanban","showOpenAi","setShowOpenAi","showIntegrations","setShowIntegrations","showSchedules","setShowSchedules","showInternalChat","setShowInternalChat","showExternalApi","setShowExternalApi","invisible","setInvisible","pageNumber","setPageNumber","searchParam","setVersion","managementHover","setManagementHover","campaignHover","setCampaignHover","flowHover","setFlowHover","useHelps","hasHelps","setHasHelps","checkHelps","isManagementActive","startsWith","isCampaignRouteActive","isFlowbuilderRouteActive","_version","fetchVersion","planConfigs","useKanban","useOpenAi","useIntegrations","fetchData","delayDebounceFn","fetchChats","clearTimeout","onCompanyChatMainListItems","unreadsCount","chatUser","unreads","whats","records","onClick","Fragment","dense","prev","onMouseEnter","onMouseLeave","Dashboard","ExpandLessIcon","ExpandMoreIcon","Collapse","unmountOnExit","style","small","DashboardOutlinedIcon","Description","GridOn","WhatsAppIcon","FlashOnIcon","ViewKanban","ContactPhoneOutlinedIcon","Schedule","LocalOfferIcon","variant","ForumIcon","HelpOutlineIcon","Divider","ListSubheader","inset","EventAvailableIcon","List","disablePadding","ListIcon","PeopleIcon","SettingsOutlinedIcon","Webhook","ShapeLine","super","AnnouncementIcon","PeopleAltOutlinedIcon","AccountTreeOutlinedIcon","AllInclusive","DeviceHubOutlined","SyncAltIcon","PhonelinkSetup","AttachFile","LocalAtmIcon","BusinessIcon","padding","textAlign","fontWeight","elements","allowedElements","CustomLink","target","rel","MarkdownWrapper","boldRegex","tildaRegex","replace","RegExp","markdownOptions","disableParsingRawHTML","forceInline","overrides","a","element","el","Markdown","TicketsContext","TicketsContextProvider","currentTicket","setCurrentTicket","tabOpen","setTabOpen","uuid","ticket","position","pendingTicket","cursor","noTicketsDiv","margin","flexDirection","noTicketsText","lineHeight","contactNameWrapper","lastMessageTime","marginRight","right","bottom","closedBadge","alignSelf","justifySelf","marginLeft","contactLastMessage","paddingRight","newMessagesCount","bottomButton","top","badgeStyle","green","acceptButton","left","ticketQueueColor","flex","userTag","background","border","paddingLeft","divTags","flexWrap","divUser","tagsWrapper","zIndex","boxShadow","paper","animation","transform","opacity","SmallAvatar","withStyles","root","TicketListItem","_ticket$queue","_ticket$queue2","_ticket$contact","_ticket$contact2","_ticket$whatsapp","_ticket$userRating","_ticket$user","_ticket$tags","ticketId","useParams","isMounted","useRef","current","handleClosedTicket","put","renderUserName","emojiRegex","trim","split","e","uuidv4","handleSelectTicket","selected","clsx","arrow","ListItemAvatar","anchorOrigin","vertical","horizontal","alt","channel","src","facebookIcon","whatsappIcon","insatagramIcon","urlPicture","disableTypography","noWrap","isSameDay","parseISO","Date","secondary","userRating","rate","getRatingIcon","unreadMessages","IconButton","toString","isBot","handleAcepptTicketBot","handleAcepptTicket","CheckIcon","isGroup","toUpperCase","ClearOutlinedIcon","handleViewTicket","ReplayIcon","handleReopenTicket","useTickets","queueIds","withUnreadMessages","whatsappIds","statusFilter","forceSearch","userFilter","sortTickets","searchOnMessages","hasMore","setHasMore","setTickets","count","setCount","whatsapps","dateStart","sub","dateEnd","item","fetchTickets","useCompanySettings","getAll","tabContainer","overflowY","maxHeight","scrollbarStyles","popoverPaper","maxWidth","spacing","breakpoints","down","noShadow","NotificationsPopOver","volume","ticketIdUrl","ticketIdRef","anchorEl","isOpen","setIsOpen","setNotifications","getSetting","q","showTicketWithoutQueue","setShowTicketWithoutQueue","setShowNotificationPending","showGroupNotification","setShowGroupNotification","setDesktopNotifications","play","useSound","alertSound","soundAlertRef","historyRef","fetchSettings","Notification","requestPermission","onConnectNotificationsPopover","onCompanyTicketNotificationsPopover","prevState","ticketIndex","notfiticationIndex","n","tag","String","onCompanyAppMessageNotificationsPopover","_data$ticket","_data$ticket2","_user$queues","_data$ticket3","_data$ticket4","_data$ticket5","_data$ticket6","_data$ticket6$whatsap","fromMe","read","some","_data$ticket7","_data$ticket7$whatsap","visibilityState","handleNotifications","renotify","onclick","preventDefault","focus","handleClickAway","NotificationTicket","substring","appName","Favicon","animated","appLogoFavicon","defaultLogoFavicon","alertCount","iconSize","handleClick","aria-label","ChatIcon","Popover","disableScrollLock","transformOrigin","onClose","icons","customBadge","NotificationsVolume","setVolume","VolumeUpIcon","Grid","container","VolumeDownIcon","xs","Slider","Number","aria-labelledby","step","min","max","onChange","handleVolumeChange","chips","chip","QueueSelect","selectedQueueIds","setQueues","marginTop","FormControl","fullWidth","InputLabel","Select","multiple","labelWidth","MenuProps","getContentAnchorEl","renderValue","Chip","MenuItem","TabPanel","rest","avatar","AvatarUploader","setAvatar","selectedFile","setSelectedFile","previewImage","setPreviewImage","Box","reader","FileReader","onload","result","readAsDataURL","htmlFor","Button","startIcon","CloudUploadIcon","backendUrl","require","multFieldLine","btnWrapper","buttonProgress","formControl","minWidth","textField","updateDiv","updateInput","updateLabel","textTransform","errorUpdate","errorText","UserSchema","Yup","shape","required","nullable","UserModal","initialState","loggedInUser","setSelectedQueueIds","setWhatsappId","profileUrl","setProfileUrl","tab","setTab","startWorkRef","endWorkRef","_data$queues","userQueueIds","fetchUser","handleClose","handleTabChange","newValue","Dialog","scroll","DialogTitle","Formik","initialValues","enableReinitialize","validationSchema","onSubmit","values","uploadAvatar","formData","FormData","append","reload","handleSaveUser","setSubmitting","touched","errors","isSubmitting","setFieldValue","Form","Paper","mainPaper","elevation","Tabs","indicatorColor","textColor","scrollButtons","Tab","DialogContent","dividers","alignContent","md","xl","Field","as","TextField","autoFocus","Boolean","helperText","labelId","ampm","inputRef","InputLabelProps","shrink","inputProps","multiline","rows","DialogActions","CircularProgress","size","backdrop","drawer","BackdropLoading","Backdrop","AnnouncementDialog","announcement","aria-describedby","backgroundRepeat","backgroundSize","backgroundPosition","DialogContentText","whiteSpace","newAnnouncements","announcementIndex","announcementId","AnnouncementsPopover","setAnchorEl","setAnnouncement","showAnnouncementDialog","setShowAnnouncementDialog","fetchAnnouncements","onCompanyAnnouncement","record","currentTarget","onScroll","scrollTop","scrollHeight","clientHeight","borderLeft","useDate","dateToClient","strDate","isValid","datetimeToClient","dateToDatabase","returnDays","data1","getTime","ceil","ChatPopover","notifySound","console","log","onCompanyChatPopover","newMessage","senderId","goToMessages","href","useSettings","param","getPublicSetting","fancyBackground","toolbar","dark","barraSuperior","toolbarIcon","minHeight","transition","transitions","easing","sharp","leavingScreen","appBarShift","enteringScreen","menuButtonHidden","flexGrow","drawerPaper","overflowX","drawerPaperClose","up","appBarSpacer","overflow","paddingTop","paddingBottom","containerWithScroll","logo","calculatedLogoLight","calculatedLogoDark","hideLogo","avatar2","StyledBadge","LoggedInLayout","_user$company","_user$company2","_user$company3","_user$company4","themeToggle","userToken","setUserToken","loadingUserToken","setLoadingUserToken","userModalOpen","setUserModalOpen","menuOpen","setMenuOpen","drawerOpen","setDrawerOpen","drawerVariant","setDrawerVariant","colorMode","greaterThenSm","useMediaQuery","offsetWidth","ImageUrl","FRONTEND_URL","onCompanyAuthLayout","interval","setInterval","clearInterval","handleCloseMenu","Drawer","ChevronLeftIcon","AppBar","Toolbar","edge","MenuIcon","Brightness7Icon","Brightness4Icon","handleRefreshPage","CachedIcon","onImageUpdate","newProfileUrl","Menu","handleOpenUserModal","handleClickLogout","grey","pointer","TableAttendantsStatus","formatTime","startOf","Skeleton","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","k","countRating","avgWaitTime","avgSupportTime","online","CheckCircleIcon","ErrorIcon","useDashboard","getReport","useMessages","fetchMessages","ChartJS","CategoryScale","LinearScale","BarElement","Title","Legend","ChartDataLabels","responsive","plugins","legend","datalabels","anchor","offset","textStrokeColor","textStrokeWidth","font","weight","ChatsUser","setInitialDate","setFinalDate","ticketsData","setTicketsData","handleGetTicketsInformation","dataCharts","labels","nome","datasets","index","quantidade","gutterBottom","LocalizationProvider","dateAdapter","AdapterDateFns","adapterLocale","brLocale","DatePicker","renderInput","sx","Bar","DonutChart","COLORS","ResponsiveContainer","PieChart","Pie","dataKey","nameKey","cx","cy","outerRadius","innerRadius","labelLine","strokeWidth","midAngle","percent","RADIAN","PI","radius","x","cos","y","sin","fill","textAnchor","dominantBaseline","dy","entry","Cell","Filters","setDateStartTicket","setDateEndTicket","dateStartTicket","dateEndTicket","setQueueTicket","queueTicket","setDateStart","setDateEnd","fetchDataFilter","setFetchDataFilter","customFixedHeightPaperLg","sm","ChartsDate","hasOwnProperty","horario","total","marginBottom","boxContainer","tabHeaderBackground","ForbiddenPage","Container","overline","letterSpacing","fontFamily","h4","borderWidth","borderStyle","tabIndicator","nps","fixedHeightPaper","cardAvatar","cardTitle","blue","cardSubtitle","alignRight","selectContainer","iframeDashboard","customFixedHeightPaper","fixedHeightPaper2","counters","setCounters","setAttendants","filterType","setFilterType","setPeriod","dateFrom","setDateFrom","dateTo","setDateTo","selectedUsers","setSelectedUsers","selectedQueues","setSelectedQueues","newDate","getDate","month","getMonth","year","getFullYear","nowIni","now","showFilter","setShowFilter","firstLoad","isEmpty","date_from","date_to","GetMessages","all","Grid2","float","ClearIcon","FilterListIcon","handleChangeTab","indicator","borderColor","lg","Card","CardContent","Stack","direction","supportHappening","SvgIcon","CallIcon","supportPending","HourglassEmptyIcon","supportFinished","supportGroups","Groups","GetUsers","userOnline","RecordVoiceOverIcon","leads","GroupAddIcon","MessageIcon","SendIcon","AccessAlarmIcon","TimerIcon","ArrowUpward","ArrowDownward","ChartDonut","npsPromotersPerc","npsDetractorsPerc","npsPassivePerc","npsScore","parseInt","paragraph","waitRating","withoutRating","withRating","percRating","toLocaleString","exportarGridParaExcel","ws","XLSX","table_to_sheet","getElementById","wb","book_new","book_append_sheet","SaveAlt","ButtonWithSpinner","TagsContainer","setTags","selecteds","setSelecteds","loadTags","then","Array","createTag","reason","optionsChanged","newTag","getRandomHexColor","syncTags","contactId","red","floor","random","padStart","Autocomplete","freeSolo","v","r","getOptionLabel","renderTags","getTagProps","PaperComponent","extraAttr","ContactSchema","ContactModal","onSave","disableBot","lgpdAcceptedAt","setContact","setDisableBot","fetchContact","handleSaveContact","Switch","checked","FieldArray","_ref3","info","DeleteOutlineIcon","ShowTicketOpen","offline","createFilterOptions","NewTicketModal","modalOpen","initialContact","setOptions","channelFilter","setChannelFilter","setSearchParam","selectedContact","setSelectedContact","selectedQueue","setSelectedQueue","selectedWhatsapp","setSelectedWhatsapp","newContact","setNewContact","setWhatsapps","contactModalOpen","setContactModalOpen","openAlert","setOpenAlert","userTicketOpen","setUserTicketOpen","queueTicketOpen","setQueueTicketOpen","fetchContacts","IconChannel","Facebook","verticalAlign","Instagram","WhatsApp","handleSaveTicket","createAddContactOption","filterOptions","filtered","inputValue","renderOption","renderOptionLabel","clearOnBlur","autoHighlight","clearOnEscape","handleSelectOption","onKeyPress","InputProps","endAdornment","displayEmpty","w","handleCloseContactModal","handleCloseAlert","ContactTag","ConnectionIcon","connectionType","InstagramIcon","FacebookIcon","autoComplete","buttonColorError","AcceptTicketWithouSelectQueue","handleUpdateTicketStatus","otherTicket","settingMessage","isGreetingMessage","msg","mediaUrl","handleSendMessage","useQueues","UserStatusIcon","TransferTicketModalCustom","ticketid","allQueues","setAllQueues","selectedUser","setSelectedUser","findAllQueues","setMsgTransfer","loadQueues","fetchUsers","noOptionsText","maxRows","minRows","isTransfered","queueTag","connectionTag","lastMessageTimeUnread","contactLastMessageUnread","ticketInfo","secondaryContentSecond","ticketInfo1","Radiusdot","connectionIcon","TicketListItemCustom","_ticket$whatsapp2","acceptTicketWithouSelectQueueOpen","setAcceptTicketWithouSelectQueueOpen","transferTicketModalOpen","setTransferTicketModalOpen","handleOpenAcceptTicketWithouSelectQueue","useCallback","truncate","str","len","isNil","handleCloseTransferTicketModal","tagName","toLowerCase","GroupIcon","ListItemSecondaryAction","Done","secondaryContentSecond1","handleOpenTransferModal","SwapHoriz","handleCloseTicket","HighlightOff","sendFarewellMessage","amountUsedBotQueues","handleCloseIgnoreTicket","Replay","TicketsSkeleton","ticketsListWrapper","borderTopRightRadius","borderBottomRightRadius","borderTop","ticketsListHeader","borderBottom","ticketsCount","ticketSortAsc","b","ticketSortDesc","sortDir","unshift","sort","TicketsListCustom","updateCount","shouldUpdateTicket","indexOf","onCompanyTicketTicketsList","onCompanyAppMessageTicketsList","onCompanyContactTicketsList","onConnectTicketsList","square","TicketsListSkeleton","menuListItem","TicketsQueueSelect","userQueues","PaperProps","MenuListProps","Checkbox","TagsFilter","onFiltered","textShadow","UsersFilter","initialUsers","setUsers","loadUsers","userList","getOptionSelected","getUserProps","StatusFilter","WhatsappsFilter","initialWhatsapps","loadWhatsapps","whatsappList","getWhatsappProps","QueueSelectedContext","QueueSelectedProvider","selectedQueuesMessage","setSelectedQueuesMessage","ticketsWrapper","tabsHeader","settingsIcon","tabPanelItem","tabsBadge","ticketOptionsBox","optionsBackground","serachInputWrapper","searchIcon","searchInput","show","hide","closeAllFab","speedDial","snackbar","yesButton","noButton","filterIcon","buttonOpen","TicketsManagerTabs","newTicketModalOpen","setNewTicketModalOpen","showAllTickets","setShowAllTickets","setSortTickets","searchInputRef","setSearchOnMessages","openCount","setOpenCount","pendingCount","setPendingCount","groupingCount","setGroupingCount","selectedTags","setSelectedTags","setForceSearch","selectedStatus","setSelectedStatus","setFilter","snackbarOpen","setSnackbarOpen","hoveredButton","setHoveredButton","isHoveredAll","setIsHoveredAll","isHoveredNew","setIsHoveredNew","isHoveredResolve","setIsHoveredResolve","isHoveredOpen","setIsHoveredOpen","isHoveredClosed","setIsHoveredClosed","isHoveredSort","setIsHoveredSort","isFilterActive","setIsFilterActive","searchTimeout","applyPanelStyle","handleSnackbarClose","handleFilter","setOpen","hidden","setHidden","handleCloseOrOpenTicket","SearchIcon","InputBase","searchedTerm","FilterAlt","FilterAltOff","ToggleButton","VisibilityIcon","VisibilityOffIcon","Snackbar","ContentProps","AddIcon","handleSnackbarOpen","PlaylistAddCheckOutlined","MoveToInboxIcon","CheckBoxIcon","TextRotationDown","TextRotateUp","handleChangeTabOpen","MessageSharpIcon","ClockIcon","Group","TicketsList","val","FormatMask","setPhoneFormatMask","phoneToFormat","phoneNumberFormatted","match","removeMask","maskPhonePattern","phoneNumber","formatSerializedId","serializedId","_formatMask$setPhoneF","formatMask","messageMedia","objectFit","borderTopLeftRadius","borderBottomLeftRadius","ModalImageCors","imageUrl","fetching","setFetching","blobUrl","setBlobUrl","responseType","URL","createObjectURL","Blob","fetchImage","ModalImage","smallSrcSet","large","showRotate","ContactDrawerSkeleton","contactHeader","contactAvatar","contactDetails","contactExtraInfo","textCenter","ContactForm","onCancel","inline","ContactNotesDialogListItem","note","deleteItem","editItem","DeleteIcon","ConfirmationModal","onConfirm","isCellPhone","ContactNotesEditModal","editedNote","setEditedNote","handleSave","useTicketNotes","saveNote","deleteNote","listNotes","NoteSchema","ContactNotes","newNote","setNewNote","showOnDeleteDialog","setShowOnDeleteDialog","selectedNote","setSelectedNote","notes","setNotes","editingNote","setEditingNote","handleResetState","loadNotes","openAndFetchData","handleChangeComment","handleOpenDialogDelete","renderNoteList","handleEdit","setErrors","TagsKanbanContainer","setSelected","renderSelectedValue","selectedTag","flexShrink","borderRight","inputBackground","ContactDrawer","_contact$extraInfo","handleDrawerClose","setModalOpen","blockingContact","setBlockingContact","openForm","setOpenForm","hideNum","setHideNum","setAcceptAudio","BackdropProps","ModalProps","CloseIcon","handleContactToggleAcceptAudio","CardHeader","titleTypographyProps","subheaderTypographyProps","CreateIcon","subheader","slice","Link","handleBlockContact","handleUnBlockContact","contactTags","ReplyMessageContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","timerBox","RecordingTimer","timer","setTimer","seconds","addZero","useQuickMessages","deleteRecord","ContactSendModal","handleSendVcard","Modal","setAppElement","customStyles","overlay","ModalCamera","onRequestClose","onCapture","capturedImage","setCapturedImage","Camera","onTakePhoto","dataUri","idealFacingMode","FACING_MODES","ENVIRONMENT","isImageMirror","fetch","res","blob","ForwardMessageContext","ForwardMessageProvider","showSelectMessageCheckbox","setShowSelectMessageCheckbox","selectedMessages","setSelectedMessages","forwardMessageModalOpen","setForwardMessageModalOpen","AudioModal","audioRef","audioRate","setAudioRate","parseFloat","showButtonRate","setShowButtonRate","isIOS","navigator","userAgent","MSStream","playbackRate","onplaying","onpause","onended","controls","getAudioSource","sourceUrl","toggleRate","newRate","pdfjs","GlobalWorkerOptions","workerSrc","messageInputWrapperPrivate","buttonEnable","buttonDisable","MessageUploadMedias","onSend","onCancelSelection","currentIndex","setCurrentIndex","captions","setCaptions","numPages","setNumPages","componentMounted","setComponentMounted","isTyping","setIsTyping","firstTyping","setFirstTyping","onDocumentLoadSuccess","handlePrev","handleNext","handleSend","selectedMedias","caption","renderFileContent","currentFile","Document","onLoadSuccess","Page","prevCaptions","updatedCaptions","onBlur","handleTextFieldBlur","onKeyDown","shiftKey","SkipPrevious","Cancel","Send","SkipNext","EditMessageContext","EditMessageProvider","editingMessage","setEditingMessage","InputComponent","other","OutlinedDiv","inputComponent","MessageVariablesPicker","msgVars","msgVar","onMouseDown","ScheduleSchema","ScheduleModal","scheduleId","cleanContact","ticketUserId","intervalo","valorIntervalo","enviarQuantasVezes","tipoDias","setSchedule","currentContact","setCurrentContact","setContacts","setIntervalo","setTipoDias","attachment","setAttachment","attachmentFile","confirmationOpen","setConfirmationOpen","messageInputRef","selectedWhatsapps","setSelectedWhatsapps","mappedWhatsapps","c","customList","ticketUser","capitalize","head","handleAttachmentFile","scheduleData","handleSaveSchedule","setValueFunc","firstHalfText","selectionStart","secondHalfText","selectionEnd","newCursorPos","setSelectionRange","handleClickMsgVar","FormControlLabel","control","DeleteOutline","click","Mp3Recorder","MicRecorder","bitRate","mainWrapper","dropInfo","dropInfoOut","gridFiles","newMessageBox","messageInputWrapper","messageInputPrivate","sendMessageIcons","ForwardMessageIcons","uploadInput","viewMediaInputWrapper","emojiBox","circleLoading","audioLoading","recorderWrapper","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","messageContactName","messageQuickAnswersWrapper","listStyle","textOverflow","invertedFabMenu","invertedFabMenuMP","invertedFabMenuCont","invertedFabMenuMeet","invertedFabMenuDoc","invertedFabMenuCamera","pink","flexContainer","flexItem","MessageInput","ticketStatus","droppedFiles","ticketChannel","mediasUpload","setMediasUpload","inputMessage","setInputMessage","showEmoji","setShowEmoji","recording","setRecording","quickAnswers","setQuickAnswer","typeBar","setTypeBar","onDragEnter","setOnDragEnter","appointmentModalOpen","setAppointmentModalOpen","signMessagePar","setSignMessagePar","setSignMessage","setPrivateMessage","privateMessageInputVisible","setPrivateMessageInputVisible","senVcardModalOpen","setSenVcardModalOpen","showModalMedias","setShowModalMedias","listQuickMessages","isMobile","placeholderText","setPlaceHolderText","maxLength","from","signMessageStorage","handleSendLinkVideo","link","handleChangeInput","handlePrivateMessage","handleQuickAnswersClick","handleUploadQuickMessageMedia","handleAddEmoji","emoji","native","modalCameraOpen","setModalCameraOpen","handleCapture","imageData","handleUploadCamera","handleChangeMedias","handleChangeSign","getStatusSingMessageLocalstogare","handleOpenModalForward","handleInputPaste","clipboardData","handleInputDrop","dataTransfer","handleUploadMedia","userName","sendMessage","quotedMsg","isPrivate","handleMenuItemClick","handleStartRecording","mediaDevices","getUserMedia","audio","m","truncatedMessage","firstWord","charAt","filteredOptions","disableOption","filename","extension","handleUploadAudio","stop","getMp3","handleCloseModalMedias","handleCancelAudio","handleOpenMenuClick","handleSendContactModalOpen","handleCameraModalOpen","handleCancelSelection","renderReplyingMessage","_message$contact","Clear","onDrop","CameraModal","vcard","vCard","handleSendContatcMessage","Hidden","only","Mood","ClickAwayListener","onClickAway","Picker","perLine","showPreview","showSkinTones","onSelect","Fab","keepMounted","PermMedia","CameraAlt","Person","Duo","Create","Comment","aria-controls","aria-haspopup","MoreVert","input","onPaste","messageQuickAnswersWrapperItem","Timer","Reply","CheckCircleOutline","Mic","ticketHeader","TicketHeaderSkeleton","TicketHeader","handleBack","ArrowBackIos","TicketInfo","setAmount","ShowTicketLogModal","activeStep","setActiveStep","logs","setLogs","typeDescriptions","fetchLogs","Stepper","orientation","_log$user","_log$queue","_log$queue2","_log$user2","Step","StepLabel","VcardPreview","numbers","profilePicUrl","getData","obj","contactObj","LocationPreview","image","handleLocation","dangerouslySetInnerHTML","__html","ForwardMessageModal","optionsContacts","setOptionsContacts","sending","setSending","messageSending","setMessageSending","sleep","ms","optionL","labelPlacement","responseList","messageId","contactL","handleForwardMessage","MessageOptionsMenu","editingContext","ticketOpen","setTicketOpen","AcceptTicketWithoutQueue","ForwardModal","hanldeReplyMessage","handleSetShowSelectCheckbox","YouTubePreview","videoUrl","videoId","setVideoId","ampersandPosition","YouTube","opts","SelectMessageCheckbox","isChecked","setIsChecked","handleSelectMessage","messagesListWrapper","currentTick","currentTicktText","backgroundImage","whatsBackground","whatsBackgroundDark","dragElement","messageLeft","quotedContainerLeft","quotedSideColorLeft","messageRight","messageRightPrivate","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","textContentItem","overflowWrap","textContentItemDeleted","fontStyle","timestamp","dailyTimestamp","dailyTimestampText","ackIcons","deletedIcon","ackDoneAllIcon","ackPlayedIcon","downloadMedia","light","messageCenter","deletedMessage","newMessages","messageIndex","messageToUpdate","MessagesList","loadingMore","setLoadingMore","lastMessageRef","selectedMessage","setSelectedMessage","messageOptionsMenuOpen","currentTicketId","dragActive","setDragActive","lgpdDeleteMessage","setLGPDDeleteMessage","settinglgpdDeleteMessage","settingEnableLGPD","entries","scrollToBottom","connectEventMessagesList","onAppMessageMessagesList","_data$message","_data$message$ticket","_data$message$ticket2","scrollIntoView","handleOpenMessageOptionsMenu","checkMessageMedia","mediaType","locationParts","imageLocation","linkLocation","descriptionLocation","_obj$","_message$ticket","_message$ticket2","array","ind","GetApp","renderDailyTimestamps","messageDay","previousMessageDay","renderTicketsSeparator","_messagesList","lastTicket","_message$ticket3","_message$ticket4","_message$ticket4$queu","_message$ticket5","_message$ticket5$queu","renderMessageDivider","path","renderQuotedMessage","_message$quotedMsg","_message$quotedMsg2","_message$quotedMsg3","_message$quotedMsg3$c","_message$quotedMsg4","_message$quotedMsg5","handleDrag","stopPropagation","isYouTubeLink","xmlRegex","onDragLeave","onDragOver","prevPageNumber","renderMessages","_message$queue2","_message$queue","_message$contact2","_message$contact3","xmlString","isDeleted","ExpandMore","xmlns","viewBox","d","onDoubleClick","isForwarded","basename","isEdited","ack","AccessTime","DoneAll","renderMessageAck","mainWrapperShift","easeOut","TicketMessagesDialog","setTicket","exportedToPDF","setExportedToPDF","handleExportToPDF","messagesListElement","headerElement","pdfOPtions","quality","html2canvas","scale","jsPDF","unit","headerClone","cloneNode","messagesListClone","containerElement","appendChild","html2pdf","set","handleExportAndClose","actionButtons","bottomButtonVisibilityIcon","botoes","SessionSchema","ratingId","TicketActionButtonsCustom","setIsMounted","formRef","scheduleModalOpen","setScheduleModalOpen","setContactId","showTicketLogOpen","setShowTicketLogOpen","openTicketMessageDialog","setOpenTicketMessageDialog","setEnableIntegration","useIntegration","setLogTicket","resetForm","_setting","HighlightOffIcon","UndoIcon","SwapHorizOutlined","handleContactToggleDisableBot","paddingHorizontal","innerRef","handleCloseTicketWithoutFarewellMsg","Ticket","dragDropFiles","setDragDropFiles","fetchTicket","onConnectTicket","onCompanyTicket","onCompanyContactTicket","_data$contact","handleDrawerOpen","TicketActionButtons","chatContainer","chatPapper","contactsWrapper","messagesWrapper","welcomeMsg","dragger","userSelect","TicketsCustom","ticketsManagerWidth","defaultTicketsManagerWidth","setTicketsManagerWidth","ticketsManagerWidthRef","handleMouseMove","newWidth","clientX","offsetLeft","handleMouseUp","removeEventListener","TicketsManager","addEventListener","TicketAdvancedLayout","styled","gridTemplateRows","placeholderContainer","placeholderItem","TicketAdvanced","setOption","BottomNavigation","showLabels","BottomNavigationAction","QuestionAnswerIcon","withWidth","isWidthUp","Tickets","leftSide","rightSide","companyName","SignUp","setPlans","qs","planId","planList","listPublic","CssBaseline","LockOutlinedIcon","handleSignUp","mt","customStyle","customStyle2","powered","logoImg","iconButton","Login","rememberMe","allowSignup","setAllowSignup","catch","Helmet","noValidate","justify","mainContainer","contentWrapper","MainContainer","contactsHeader","MainHeader","MainHeaderButtonsWrapper","customTableCell","TableRowSkeleton","columns","textfield","row","buttonContainer","SchedulesForm","labelSaveButton","setSchedules","weekday","weekdayEn","render","arrayHelpers","FastField","abel","field","NumberFormat","customInput","_ref4","_ref5","_ref6","gap","tokenRefresh","memo","autoToken","setAutoToken","inputFileRef","attachmentName","setAttachmentName","isDefault","provider","enableImportMessage","greetingMediaAttachment","setWhatsApp","setEnableImportMessage","setImportOldMessagesGroups","setClosedTicketsPostImported","setImportOldMessages","setImportRecentMessages","copied","setCopied","schedulesEnabled","setSchedulesEnabled","NPSEnabled","setNPSEnabled","selectedPrompt","setSelectedPrompt","setPrompts","webhooks","setWebhooks","flowIdNotPhrase","setFlowIdNotPhrase","flowIdWelcome","setFlowIdWelcome","selectedIntegration","setSelectedIntegration","setIntegrations","generateRandomCode","settingSchedules","scheduleType","settingNPS","handleEnableImportMessage","flowDefault","selectedFlowIdNotPhrase","selectedFlowIdWelcome","promptId","whatsQueueIds","queueIntegrations","flows","handleChangeIntegration","handleChangeFlowIdNotPhrase","handleChangeFlowIdWelcome","handleChangePrompt","charset","i","randomIndex","handleRefreshToken","handleCopyToken","clipboard","writeText","handleSaveSchedules","handleFileUpload","handleDeleFile","whatsappData","dir","handleSaveWhatsApp","_values$collectiveVac","_values$collectiveVac2","endIcon","Autorenew","FileCopy","selectedIds","webhook","setQrCode","onWhatsappData","QRCode","pxToRem","tooltipPopper","CircularProgressWithLabel","CustomToolTip","popper","Connections","whatsAppModalOpen","setWhatsAppModalOpen","statusImport","setStatusImport","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","planConfig","setPlanConfig","responseFacebook","accessToken","facebookUserId","facebookUserToken","responseInstagram","addInstagram","go","handleCloseWhatsAppModal","handleCloseQrModal","handleOpenConfirmationModal","renderActionButtons","handleOpenQrModal","handleStartWhatsAppSession","handleRequestNewQrCode","statusImportMessages","isNaN","ultimoStatus","renderImportButton","QrcodeModal","WhatsAppModal","openInNewTab","REACT_APP_NUMBER_SUPPORT","PopupState","popupId","popupState","_planConfig$plan","_process$env$REACT_AP","_process$env$REACT_AP2","bindTrigger","bindMenu","FacebookLogin","appId","REACT_APP_FACEBOOK_APP_ID","autoLoad","fields","scope","REACT_APP_REQUIRE_BUSINESS_MANAGEMENT","renderProps","_planConfig$plan2","_planConfig$plan3","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","renderStatusToolTips","CheckCircle","handleEditWhatsApp","Edit","useCompanies","updateSchedules","ModalUsers","tableContainer","textRight","CompanyForm","onDelete","initialValue","modalUser","setModalUser","firstUser","setFirstUser","setRecord","listPlans","handleCloseModalUsers","handleSubmit","setValues","incrementDueDate","CompaniesManagerGrid","rowStyle","EditIcon","renderPlan","minimumFractionDigits","renderPlanValue","renderStatus","CompaniesManager","showConfirmDialog","setShowConfirmDialog","setRecords","paymentMethod","loadPlans","companyList","handleCancel","handleOpenDeleteDialog","handleDelete","PlanManagerForm","isPublic","PlansManagerGrid","renderWhatsapp","renderFacebook","renderInstagram","renderCampaigns","renderSchedules","renderInternalChat","renderExternalApi","renderKanban","renderOpenAi","renderIntegrations","PlansManager","_data$amount","HelpManagerForm","HelpsManagerGrid","video","HelpsManager","loadHelps","helpList","Options","oldSettings","scheduleTypeChanged","setUserRating","setScheduleType","setChatBotType","loadingUserRating","setLoadingUserRating","loadingScheduleType","setLoadingScheduleType","setUserCreation","loadingUserCreation","setLoadingUserCreation","SendGreetingAccepted","setSendGreetingAccepted","loadingSendGreetingAccepted","setLoadingSendGreetingAccepted","UserRandom","setUserRandom","loadingUserRandom","setLoadingUserRandom","SettingsTransfTicket","setSettingsTransfTicket","loadingSettingsTransfTicket","setLoadingSettingsTransfTicket","AcceptCallWhatsapp","setAcceptCallWhatsapp","loadingAcceptCallWhatsapp","setLoadingAcceptCallWhatsapp","setSendSignMessage","loadingSendSignMessage","setLoadingSendSignMessage","setSendGreetingMessageOneQueues","loadingSendGreetingMessageOneQueues","setLoadingSendGreetingMessageOneQueues","setSendQueuePosition","loadingSendQueuePosition","setLoadingSendQueuePosition","setSendFarewellWaitingTicket","loadingSendFarewellWaitingTicket","setLoadingSendFarewellWaitingTicket","setAcceptAudioMessageContact","loadingAcceptAudioMessageContact","setLoadingAcceptAudioMessageContact","setEnableLGPD","loadingEnableLGPD","setLoadingEnableLGPD","setLGPDMessage","loadinglgpdMessage","setLoadingLGPDMessage","lgpdLink","setLGPDLink","loadingLGPDLink","setLoadingLGPDLink","loadingLGPDDeleteMessage","setLoadingLGPDDeleteMessage","lgpdConsent","setLGPDConsent","loadingLGPDConsent","setLoadingLGPDConsent","lgpdHideNumber","setLGPDHideNumber","loadingLGPDHideNumber","setLoadingLGPDHideNumber","setRequiredTag","loadingRequiredTag","setLoadingRequiredTag","setCloseTicketOnTransfer","loadingCloseTicketOnTransfer","setLoadingCloseTicketOnTransfer","directTicketsToWallets","setDirectTicketsToWallets","loadingDirectTicketsToWallets","setLoadingDirectTicketsToWallets","setTransferMessage","loadingTransferMessage","setLoadingTransferMessage","setGreetingAcceptedMessage","loadingGreetingAcceptedMessage","setLoadingGreetingAcceptedMessage","setAcceptCallWhatsappMessage","loadingAcceptCallWhatsappMessage","setLoadingAcceptCallWhatsappMessage","setSendQueuePositionMessage","loadingSendQueuePositionMessage","setLoadingSendQueuePositionMessage","loadingShowNotificationPending","setLoadingShowNotificationPending","updateUserCreation","userPar","handleChangeUserCreation","FormHelperText","column","handleChangeUserRating","handleScheduleType","handleSendGreetingAccepted","handleUserRandom","handleSettingsTransfTicket","handleChatBotType","handleAcceptCallWhatsapp","handleSendSignMessage","handleSendGreetingMessageOneQueues","handleSendQueuePosition","handleSendFarewellWaitingTicket","handleAcceptAudioMessageContact","handleEnableLGPD","handleRequiredTag","handleCloseTicketOnTransfer","handleShowNotificationPending","handleLGPDMessage","handleLGPDLink","handleLGPDDeleteMessage","handleLGPDConsent","handleLGPDHideNumber","handletransferMessage","handleGreetingAcceptedMessage","handleAcceptCallWhatsappMessage","handlesendQueuePositionMessage","OnlyForSuperUser","ColorPicker","ColorBoxModal","currentColor","selectedColor","setSelectedColor","ColorBox","disableAlpha","hslGradient","handleOk","colorAdorment","appLogoLightPreviewDiv","appLogoDarkPreviewDiv","appLogoFaviconPreviewDiv","appLogoLightPreviewImg","appLogoDarkPreviewImg","appLogoFaviconPreviewImg","Whitelabel","settingsLoaded","setSettingsLoaded","currentUser","setCurrentUser","primaryColorLightModalOpen","setPrimaryColorLightModalOpen","primaryColorDarkModalOpen","setPrimaryColorDarkModalOpen","logoLightInput","logoDarkInput","logoFaviconInput","appNameInput","setAppName","updateSettingsLoaded","newSettings","handleSaveSetting","_settings$find","_settings$find2","_settings$find3","_settings$find4","_settings$find5","_settings$find6","primaryColorLight","primaryColorDark","appLogoLight","appLogoDark","uploadLogo","onUploadProgress","loaded","startAdornment","InputAdornment","Colorize","hex","defaultLogoLight","Delete","defaultLogoDark","SettingsCustom","setCompany","setSettings","setOldSettings","getAllSettings","getAllSettingsOld","settingList","settingListOld","findData","isSuper","InputField","meta","useField","at","_renderHelperText","SelectField","selectedValue","isError","AddressForm","billingName","setBillingName","addressZipCode","setAddressZipCode","addressStreet","setAddressStreet","addressState","setAddressState","addressCity","setAddressCity","formField","firstName","address1","city","zipcode","country","ul","cardHeader","cardPricing","footer","divider","customCard","custom","Pricing","usersPlans","setUsersPlans","connectionsPlans","setConnectionsPlans","storagePlans","setStoragePlans","price","buttonText","buttonVariant","customValuePlans","setCustomValuePlans","tier","StarIcon","line","MinimizeIcon","handleChangeMin","handleChangeAdd","handleChangeConnectionsMin","handleChangeConnectionsAdd","CardActions","PaymentDetails","formValues","newPlan","address2","ReviewOrder","useFormikContext","ShippingDetails","div","_templateObject","_taggedTemplateLiteral","Total","_templateObject2","SuccessContent","_templateObject3","_templateObject4","CheckoutSuccess","pix","pixString","onCompanyPayment","valor","original","CopyToClipboard","onCopy","handleCopyQR","FaCheckCircle","FaCopy","formId","requiredErrorMsg","lastName","invalidErrorMsg","useAddressForPaymentDetails","nameOnCard","cardNumber","expiryDate","cvv","checkoutFormModel","stepper","wrapper","CheckoutPage","steps","datePayment","setDatePayment","invoiceId","setinvoiceId","Invoice","currentValidationSchema","isLastStep","_handleBack","formInitialValues","newValues","_submitForm","setTouched","PaymentForm","_renderStepContent","invoice","onPayClick","detail","currency","handlePayClick","linkInvoice","newUsers","userIndex","Invoices","selectedContactId","setSelectedContactId","fetchInvoices","SubscriptionModal","userAvatar","avatarDiv","loadingContainer","loadingText","Users","deletingUser","setDeletingUser","onCompanyUser","handleDeleteUser","handleCloseUserModal","prevPage","AccountCircle","renderProfileImage","handleEditUser","colSpan","btns","ContactImportWpModal","userProfile","contactsToImport","setContactsToImport","statusMessage","setStatusMessage","handleClosed","handleOnExportContacts","model","allDatas","contactTag","_element$tags","tagsContact","join","contactWithTags","exportData","json_to_sheet","handleimportContact","contactIndex","Contacts","importContactModalOpen","setImportContactModalOpen","deletingContact","setDeletingContact","ImportContacts","setImportContacts","unBlockingContact","setUnBlockingContact","confirmOpen","setConfirmOpen","setExportContact","confirmChatsOpen","setConfirmChatsOpen","contactTicket","setContactTicket","fileUploadRef","importWhatsappId","setImportWhatsappId","onContactEvent","handleDeleteContact","handleImportExcel","handleimportChats","ArrowDropDown","ContactPhone","Backup","handleOpenContactModal","_formatSerializedId","_contact$number","_contact$whatsapp","CancelIcon","hadleEditContact","BlockIcon","getWindowDimensions","innerWidth","innerHeight","xlsTable","importOptions","buttonImport","select","backButtonContainer","ContactImport","windowDimensions","setWindowDimensions","handleResize","useWindowDimensions","setRows","setColumns","contactFieldsAvailable","setContactFieldsAvailable","columnValue","setColumnValue","selectedFields","setSelectedFields","openingFile","setOpeningFile","selection","setSelection","invalidFile","setInvalidFile","setError","countCreated","setCountCreated","countIgnored","setCountIgnored","uploading","setUploading","imported","setImported","selectedRows","setSelectedRows","validateContact","setValidateContact","contactFields","handleSelectChange","columnKey","oldValue","prevSelectedFields","newSelectedFields","prevColumnValue","newColumnValue","prevSelection","newSelection","renderXls","stickyHeader","newSelectedRows","contactField","renderSelectbox","rowIndex","prevSelectedRows","columnIndex","getRootProps","getInputProps","useDropzone","acceptedFiles","Sheets","SheetNames","utils","sheet_to_json","defval","range","decode_range","encode_col","WorksheetToDatagrid","readAsArrayBuffer","maxFiles","FormGroup","contactData","selectedField","prevCount","alert","processImport","upload","scrollbarStylesSoftBig","ContactImportPage","cardHeaderPending","card","changeWarap","yellow","DashboardManage","setUpdate","ticketNot","setTicketNot","onAppMessage","_err$response2","Moments","reduce","userTickets","_group$user","_group$userTickets","_ticket$contact$name","_ticket$contact3","_ticket$lastMessage","VisibilityOutlined","MomentsPending","pendingTickets","ReportProblem","_ticket$contact4","_ticket$lastMessage2","_ticket$queue3","_ticket$queue4","ChatMoments","MomentsUser","ToolTip","QueueSchema","of","textField1","customHeight","VerticalLinearStepper","optQueueId","setSteps","isStepContent","setIsStepContent","isNameEdit","setIsNamedEdit","isGreetingMessageEdit","setGreetingMessageEdit","setFile","selectedQueueOption","setSelectedQueueOption","userOptions","setUserOptions","handleSaveBot","chatBotId","fetchList","_steps$options$active","handleCloseConfirmationModal","handleDeleteQueue","validateOnChange","nonLinear","_steps$options$index","_touched$options","_touched$options$inde","_errors$options","_errors$options$index","_touched$options2","_touched$options2$ind","_errors$options2","_errors$options2$inde","_touched$options3","_touched$options3$ind","_errors$options3","_errors$options3$inde","_touched$options4","_touched$options4$ind","_errors$options4","_errors$options4$inde","_touched$options5","_touched$options5$ind","_errors$options5","_errors$options5$inde","_touched$options6","_touched$options6$ind","_errors$options6","_errors$options6$inde","_touched$options7","_touched$options7$ind","_errors$options7","_errors$options7$inde","_touched$options8","_touched$options8$ind","_errors$options8","_errors$options8$inde","SaveIcon","StepContent","HelpOutlineOutlinedIcon","helpertext","optIntegrationId","optFileId","f","chatbots","QueueModal","onEdit","tempoRoteador","ativarRoteador","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","initialStateSchedule","_queue$chatbots$activ","optionsId","handleSaveQueue","onFocus","selectField","_queue$chatbots$index","_touched$chatbots","_touched$chatbots$ind","_errors$chatbots","_errors$chatbots$inde","_touched$chatbots2","_touched$chatbots2$in","_errors$chatbots2","_errors$chatbots2$ind","_queue$chatbots$index2","_touched$chatbots3","_touched$chatbots3$in","_errors$chatbots3","_errors$chatbots3$ind","_touched$chatbots4","_touched$chatbots4$in","_errors$chatbots4","_errors$chatbots4$ind","_touched$chatbots5","_touched$chatbots5$in","_errors$chatbots5","_errors$chatbots5$ind","_touched$chatbots6","_touched$chatbots6$in","_errors$chatbots6","_errors$chatbots6$ind","_touched$chatbots7","_touched$chatbots7$in","_errors$chatbots7","_errors$chatbots7$ind","_touched$chatbots8","_touched$chatbots8$in","_errors$chatbots8","_errors$chatbots8$ind","OptionsChatBot","newQueues","queueIndex","Queues","queueModalOpen","setQueueModalOpen","onQueueEvent","handleEditQueue","handleCloseQueueModal","handleOpenQueueModal","TagSchema","TagModal","tagId","lanes","setLanes","selectedLane","setSelectedLane","selectedRollbackLane","setSelectedRollbackLane","setTag","fetchTags","tagData","handleSaveTag","lane","shadows","closeButton","ContactTagListModal","setTagList","onCompanyTags","_data$tag","_data$tag$contacts","_data$tag2","_data$tag2$contacts","closeAfterTransition","BackdropComponent","Fade","handleRemoveContactTag","tagIndex","Tags","selectedTagContacts","setSelectedTagContacts","selectedTagName","setSelectedTagName","setSelectedTag","deletingTag","setDeletingTag","tagModalOpen","setTagModalOpen","fetchMoreTags","handleDeleteTag","handleCloseTagModal","newSearchParam","handleOpenTagModal","_tag$contacts","_tag$contacts2","handleShowContacts","MoreHoriz","handleEditTag","mainHeader","elementMargin","formContainer","MessagesAPI","formMessageTextData","formMessageMediaData","medias","handleSendTextMessage","firstFile","handleSendMediaMessage","mainPaperContainer","gridTemplateColumns","helpPaper","paperHover","videoThumbnail","videoTitle","videoDescription","videoModal","videoModalContent","outline","aspectRatio","Helps","selectedVideo","setSelectedVideo","closeVideoModal","handleModalClose","openVideoModal","frameBorder","allow","allowFullScreen","ContactListSchema","ContactListModal","contactListId","setContactList","fetchContactList","contactListData","handleSaveContactList","newContactLists","contactListIndex","ContactLists","selectedContactList","setSelectedContactList","deletingContactList","setDeletingContactList","contactListModalOpen","setContactListModalOpen","fetchContactLists","onContactListEvent","handleDeleteContactList","ContactListDialog","handleCloseContactListModal","handleOpenContactListModal","contactsCount","planilhaExemplo","download","DownloadIcon","goToContacts","handleEditContactList","ContactListItemModal","useContactLists","findById","ContactListItems","contactListItemModalOpen","setContactListItemModalOpen","findContactList","onCompanyContactLists","handleCloseContactListItemModal","handleImportContacts","goToContactLists","handleOpenContactListItemModal","isWhatsappValid","titleAccess","htmlColor","CompanySchema","CompanyModal","showPassword","setShowPassword","fetchCompany","companyData","handleSaveCompany","VisibilityOff","Visibility","newCompanies","companyIndex","Companies","selectedCompany","setSelectedCompany","deletingCompany","setDeletingCompany","companyModalOpen","setCompanyModalOpen","fetchCompanies","handleDeleteCompany","handleCloseCompanyModal","_company$plan","folderSize","numberFileFolder","updatedAtFolder","QuickeMessageSchema","QuickMessageDialog","quickemessageId","quickemessage","setQuickemessage","quickemessageData","isMedia","handleSaveQuickeMessage","AttachFileIcon","quickmessages","newQuickmessages","quickemessageIndex","Quickemessages","selectedQuickemessage","setSelectedQuickemessage","deletingQuickemessage","setDeletingQuickemessage","quickemessageModalOpen","setQuickMessageDialogOpen","quickemessages","fetchQuickemessages","onQuickMessageEvent","handleDeleteQuickemessage","resetPagination","handleCloseQuickMessageDialog","handleOpenQuickMessageDialog","_quickemessage$mediaN","handleEditQuickemessage","Route","Component","Redirect","RouterRoute","eventTitleStyle","localizer","momentLocalizer","defaultMessages","time","allDay","week","work_week","previous","next","yesterday","tomorrow","agenda","noEventsInRange","showMore","newSchedules","scheduleIndex","calendarToolbar","Schedules","selectedSchedule","setSelectedSchedule","deletingSchedule","setDeletingSchedule","paramName","URLSearchParams","fetchSchedules","handleOpenScheduleModalFromContactId","handleOpenScheduleModal","onCompanySchedule","handleDeleteSchedule","handleCloseScheduleModal","Calendar","formats","agendaDateFormat","weekdayFormat","events","_schedule$contact","handleEditSchedule","end","startAccessor","endAccessor","CampaignSchema","CampaignModal","campaignId","tagListId","setCampaign","setContactLists","tagLists","setTagLists","messageTab","setMessageTab","campaignEditable","setCampaignEditable","formattedTagLists","prevCampaignData","moreThenAnHour","isEditable","renderMessageField","identifier","renderConfirmationMessageField","dataValues","_ref7","handleSaveCampaign","_ref8","centered","restartCampaign","cancelCampaign","newCampaigns","campaignIndex","Campaigns","selectedCampaign","setSelectedCampaign","deletingCampaign","setDeletingCampaign","campaignModalOpen","setCampaignModalOpen","fetchCampaigns","onCompanyCampaign","handleDeleteCampaign","handleCloseCampaignModal","handleOpenCampaignModal","formatStatus","PauseCircleOutlineIcon","PlayCircleOutlineIcon","DescriptionIcon","handleEditCampaign","tabPanelsContainer","initialSettings","messageInterval","longerIntervalAfter","greaterInterval","variables","sabado","domingo","startHour","endHour","CampaignsConfig","showVariablesForm","setShowVariablesForm","selectedKey","setSelectedKey","variable","setVariable","setSabado","setDomingo","setStartHour","setEndHour","settingsList","fromEntries","handleOnChangeSettings","changedProp","removeVariable","newList","CardCounter","CampaignReport","setValidContacts","delivered","setDelivered","confirmationRequested","setConfirmationRequested","confirmed","setConfirmed","setPercent","mounted","findCampaign","valids","isNull","deliveredAt","confirmationRequestedAt","onCampaignEvent","LinearProgress","DoneIcon","DoneAllIcon","ListAltIcon","ScheduleIcon","AnnouncementSchema","AnnouncementModal","announcementData","handleSaveAnnouncement","Announcements","selectedAnnouncement","setSelectedAnnouncement","deletingAnnouncement","setDeletingAnnouncement","announcementModalOpen","setAnnouncementModalOpen","handleDeleteAnnouncement","handleCloseAnnouncementModal","handleOpenAnnouncementModal","_announcement$mediaNa","handleEditAnnouncement","chatList","listItemActive","ChatList","handleSelectChat","handleDeleteChat","handleEditChat","pageInfo","selectedChat","setSelectedChat","getPrimaryText","mainText","getSecondaryText","ownerId","messageList","inputArea","buttonSend","boxLeft","boxRight","ChatMessages","handleLoadMore","scrollToBottomRef","baseRef","contentMessage","setContentMessage","sender","Input","onKeyUp","gridContainer","gridItem","gridItemTab","btnContainer","ChatModal","handleLoadNewChat","setTitle","showDialog","setShowDialog","dialogType","setDialogType","currentChat","setCurrentChat","setChats","chatsPageInfo","setChatsPageInfo","setMessages","messagesPageInfo","setMessagesPageInfo","messagesPage","setMessagesPage","findChats","selectChat","findMessages","onChatUser","changedChats","onChat","filteredChats","onCurrentChat","deleteChat","loadMoreMessages","QueueSelectSingle","PromptModal","selectedVoice","setSelectedVoice","showApiKey","setShowApiKey","handleToggleApiKey","maxTokens","apiKey","maxMessages","setPrompt","fetchPrompt","handleChangeVoice","promptData","handleSavePrompt","newPrompts","promptIndex","p","Prompts","promptModalOpen","setPromptModalOpen","onPromptEvent","handleDeletePrompt","handleClosePromptModal","handleOpenPromptModal","handleEditPrompt","passwordRegex","ForgetPassword","showAdditionalFields","setShowAdditionalFields","showResetPasswordButton","setShowResetPasswordButton","showConfirmPassword","setShowConfirmPassword","togglePasswordVisibility","toggleConfirmPasswordVisibility","isResetPasswordButtonClicked","newPassword","matches","confirmPassword","when","is","oneOf","otherwise","handleResetPassword","handleSendEmail","filteredWhatsapps","companyInfos","loadingComp","setLoadingComp","setCompanies","WhatsAppModalAdmin","AllConnections","loadingWhatsapp","setLoadingWhatsapp","setWhats","filterConnections","setFilterConnections","companyWhatsApps","setCompanyWhatsApps","loadCompanies","handleOpenWhatsAppModal","whatsappsFilter","comp","WhatsAppModalCompany","QueueSelectCustom","mainPaperTable","mainPaperFilter","mainHeaderBlock","filterItem","Reports","pageSize","setPageSize","setQueueIds","userIds","setUserIds","setOnlyRated","totalTickets","setTotalTickets","page","mainHeaderFilter","closedAt","dataFechamento","toLocaleDateString","horaFechamento","toLocaleTimeString","dataCriacao","horaCriacao","Conexão","whatsappName","Contato","Usuário","Fila","queueName","Status","ÚltimaMensagem","DataAbertura","HoraAbertura","DataFechamento","HoraFechamento","TempoDeAtendimento","History","Forward","Pagination","useNodeStorage","node","setNodesStorage","setConnectsStorage","connects","setAct","act","isConnectable","storageItems","Handle","ArrowForwardIos","pointerEvents","ContentCopy","Message","FlowBuilderAddTextModal","onUpdate","activeModal","setActiveModal","setLabels","btn","textDig","setTextDig","FlowBuilderIntervalModal","timerSec","setTimerSec","sec","RocketLaunch","ImportExport","condition","DynamicFeed","arrayOption","Image","CallSplit","Videocam","selectFieldStyles","FlowBuilderConditionModal","rule","setRule","valueCondition","setValueCondition","FlowBuilderMenuModal","setArrayOption","old","AddCircle","newArr","removeOption","FlowBuilderAddImgModal","preview","setPreview","oldImage","setOldImage","setMedias","idx","Compressor","FlowBuilderTicketModal","setQueueSelected","FlowBuilderAddQueueFlowModal","setFlows","selectedFlow","setFlowSelected","dataItemError","setDataItemError","flowId","fetchFlows","clearErrors","FlowBuilderAddAudioModal","MicNone","typebotIcon","SiOpenai","CompareArrows","FlowBuilderRandomizerModal","valueLabelDisplay","handleValue","marks","FlowBuilderAddVideoModal","FlowBuilderSingleBlockModal","setElements","elementsSeq","setElementsSeq","elementsSeqEdit","setElementsSeqEdit","elementsEdit","setElementsEdit","numberMessages","setNumberMessages","numberMessagesLast","setNumberMessagesLast","numberInterval","setNumberInterval","numberIntervalLast","setNumberIntervalLast","numberAudio","setNumberAudio","numberAudioLast","setNumberAudioLast","numberVideo","setNumberVideo","numberVideoLast","setNumberVideoLast","numberImg","setNumberImg","numberImgLast","setNumberImgLast","previewImg","setPreviewImg","previewAudios","setPreviewAudios","previewVideos","setPreviewVideos","handleElements","newNameFiles","elementsSequence","newArrMessage","newArrInterval","newArrImg","newArrAudio","newArrVideo","querySelector","onlyImg","onlyImgNameOriginal","itemSelectedEdit","indexElem","onlyAudio","onlyAudioNameOriginal","onlyVideo","onlyVideoNameOriginal","deleteElementsTypeOne","oldMedia","mediaItem","handleChangeMediasImg","imgBlob","handleChangeAudios","audioBlob","innerHTML","handleChangeVideos","videoBlob","divConteudo","imgLayout","valueDefault","audioLayout","valueRecordDefault","defaultChecked","videoLayout","messageLayout","intervalLayout","seq","elementsEditLoc","sequence","itemNode","inode","numberLoc","elm","arrNumberMax","apply","verifyButtonsUpload","scrollBehavior","oldEleme","mountData","handleSaveNode","LibraryBooks","itemLoc","ConfirmationNumber","DialogflowSchema","FlowBuilderTypebotModal","setIntegration","typebotIntegration","handleSaveDialogFlow","FlowBuilderOpenAIModal","speeddial","geraStringAleatoria","tamanho","stringAleatoria","caracteres","nodeTypes","messageNode","startNode","conditionNode","menuNode","intervalNode","img","imgNode","audioNode","randomizer","randomizerNode","videoNode","singleBlock","singleBlockNode","ticketNode","typebot","typebotNode","openai","openaiNode","QueueFlow","QueueFlowNode","edgeTypes","buttonedge","sourceX","sourceY","targetX","targetY","sourcePosition","targetPosition","arrowHeadType","markerEndId","edgePath","getBezierPath","markerEnd","getMarkerEnd","edgeCenterX","edgeCenterY","getEdgeCenter","foreignObjectSize","requiredExtensions","initialNodes","initialEdges","FlowBuilderConfig","dataNode","setDataNode","modalAddText","setModalAddText","modalAddInterval","setModalAddInterval","modalAddCondition","setModalAddCondition","modalAddMenu","setModalAddMenu","modalAddImg","setModalAddImg","modalAddAudio","setModalAddAudio","modalAddRandomizer","setModalAddRandomizer","modalAddVideo","setModalAddVideo","modalAddSingleBlock","setModalAddSingleBlock","modalAddTicket","setModalAddTicket","modalAddQueueFlow","setModalAddQueueFlow","modalAddTypebot","setModalAddTypebot","modalAddOpenAI","setModalAddOpenAI","addNode","posY","nodes","posX","setNodes","setEdges","source","nodeDuplicate","maioresX","maiorX","finalY","nodeNew","onNodesChange","useNodesState","edges","onEdgesChange","useEdgesState","onConnect","eds","addEdge","updateNode","dataAlter","SpeedDial","ariaLabel","SpeedDialIcon","SpeedDialAction","tooltipTitle","tooltipOpen","tooltipPlacement","clickActions","idFlow","saveFlow","ReactFlow","deleteKeyCode","onNodeDoubleClick","doubleClick","onNodeClick","clickNode","onEdgeClick","clickEdge","fitView","connectionLineStyle","stroke","defaultEdgeOptions","Controls","MiniMap","Background","WebhookModal","FlowBuilderModal","nameWebhook","FlowBuilder","selectedWebhookName","setSelectedWebhookName","confirmDuplicateOpen","setConfirmDuplicateOpen","reloadData","setReloadData","webhookId","handleDeleteWebhook","handleDuplicateFlow","DevicesFold","aria-expanded","CampaignModalPhrase","FlowCampaignId","dataItem","setDataItem","phrase","flowSelected","flowsData","setFlowsData","flowsDataComplete","setFlowsDataComplete","whatsAppNames","setWhatsAppNames","setWhatsApps","whatsAppSelected","setWhatsAppSelected","setActive","openModal","getFlows","nameFlow","itemFlows","detailsPhrase","clearData","applicationSaveAndEdit","disablePortal","CampaignsPhrase","campaignflows","setCampaignFlows","ModalOpenPhrase","setModalOpenPhrase","campaignflowSelected","setCampaignFlowSelected","getCampaigns","onSaveModal","TextFields","setDueDate","currentDueDate","readOnly","btnLeft","QueueIntegration","handleSaveDialogflow","handleTestSession","newIntegrations","integrationIndex","fetchIntegrations","handleDeleteIntegration","IntegrationModal","handleCloseIntegrationModal","dialogflow","n8n","flowbuilder","handleEditIntegration","FileListSchema","FilesModal","setFiles","selectedFileNames","setSelectedFileNames","fileList","setFileList","uploadFiles","filesOptions","fileOption","fileData","handleSaveFileList","updatedOptions","updatedFileNames","newFiles","fileListIndex","FileLists","selectedFileList","setSelectedFileList","deletingFileList","setDeletingFileList","fileListModalOpen","setFileListModalOpen","fetchFileLists","onFileEvent","fileId","handleDeleteFileList","FileModal","handleCloseFileListModal","handleOpenFileListModal","handleEditFileList","inputContainer","listContainer","ToDoList","setTask","tasks","setTasks","editIndex","setEditIndex","savedTasks","handleAddTask","newTasks","handleEditTask","handleDeleteTask","kanbanContainer","cardButton","common","white","dateInput","Kanban","startDate","setStartDate","endDate","setEndDate","jsonString","UserQueue","fetchedTags","lista","popularCards","filteredTickets","handleCardClick","onError","_ticket$user2","handleAddConnectionClick","mx","handleSearchClick","Board","onCardMoveAcrossLanes","cardId","sourceLaneId","targetLaneId","newTags","onTagsEvent","handleReturnToKanban","_tag$ticketTags","ticketTags","PortalHeader","class","PoliticaPrivacidade","textDecoration","PortalMainContent","Routes","BrowserRouter","exact","Signup","Financeiro","TicketResponsiveContainer","QuickMessages","Annoucements","isPrivat","Chat","Files","TagsKanban","Subscription","ToastContainer","queryClient","QueryClient","App","setLocale","appColorLocalStorage","appNameLocalStorage","prefersDarkMode","preferredTheme","setMode","prevMode","newMode","createTheme","scrollbarStylesSoft","textPrimary","borderPrimary","fontColor","messageIcons","i18nlocale","ptBR","documentElement","setProperty","fetchVersionData","ThemeProvider","QueryClientProvider","client","ReactDOM","finishProgress","swUrl","serviceWorker","registration","module","exports"],"mappings":"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AAKA,IACHra,IAAAkB,cAACy4B,GAAY,CACXG,GAAG,cACHf,QAASjK,KAAKiB,EAAE,mCAChB8J,KAAM75B,IAAAkB,cAACyhC,KAAY,MACnBvW,QAAS6P,MAKfj8B,IAAAkB,cAACw2B,GAAG,CACFC,KAAMjrB,EAAKiK,QACXihB,QAAQ,iBACRvd,IAAKA,IACHra,IAAAkB,cAACy4B,GAAY,CACXG,GAAG,YACHf,QAASjK,KAAKiB,EAAE,iCAChB8J,KAAM75B,IAAAkB,cAAC6gC,KAAoB,MAC3B3V,QAAS6P,MAKdvvB,EAAKw1B,OACJliC,IAAAkB,cAACy4B,GAAY,CACXG,GAAG,aACHf,QAASjK,KAAKiB,EAAE,kCAChB8J,KAAM75B,IAAAkB,cAAC0hC,KAAY,MACnBxW,QAAS6P,QAQjBA,GACAj8B,IAAAkB,cAAClB,IAAM+/B,SAAQ,KACb//B,IAAAkB,cAACqgC,IAAO,MACRvhC,IAAAkB,cAACu6B,IAAU,CACTgF,MAAO,CACLvH,SAAU,OACV2J,QAAS,OACTC,UAAW,SACXC,WAAY,SACZ,c,2LCn1Bd,MAAMC,GAAW,CAChB,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAG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","file":"static/js/main.123f2bfd.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\r\n\twithCredentials: true,\r\n});\r\n\r\nexport const openApi = axios.create({\r\n\tbaseURL: process.env.REACT_APP_BACKEND_URL\r\n\t\r\n});\r\n\r\nexport default api;\r\n","import React from \"react\";\r\n\r\nconst ColorModeContext = React.createContext({\r\n    toggleColorMode: () => { },\r\n    setPrimaryColorLight: (_) => { },\r\n    setPrimaryColorDark: (_) => { },\r\n    setAppLogoLight: (_) => { },\r\n    setAppLogoDark: (_) => { },\r\n    setAppLogoFavicon: (_) => { },\r\n});\r\n\r\nexport default ColorModeContext;","import React, { createContext, useContext, useState } from \"react\";\r\n\r\nconst ActiveMenuContext = createContext();\r\n\r\nexport const useActiveMenu = () => useContext(ActiveMenuContext);\r\n\r\nexport const ActiveMenuProvider = ({ children }) => {\r\n  const [activeMenu, setActiveMenu] = useState(\"\");\r\n\r\n  return (\r\n    <ActiveMenuContext.Provider value={{ activeMenu, setActiveMenu }}>\r\n      {children}\r\n    </ActiveMenuContext.Provider>\r\n  );\r\n};","function getConfig(name, defaultValue = null) {\r\n    if (window.ENV !== undefined) {\r\n        return window.ENV[name] || defaultValue;\r\n    }\r\n\r\n    return process.env[name] || defaultValue;\r\n}\r\n\r\nexport function getBackendUrl() {\r\n    return getConfig('REACT_APP_BACKEND_URL');\r\n}\r\n\r\nexport function getHoursCloseTicketsAuto() {\r\n    return getConfig('REACT_APP_HOURS_CLOSE_TICKETS_AUTO');\r\n}\r\n\r\nexport function getFrontendPort() {\r\n    return getConfig('SERVER_PORT');\r\n}\r\n\r\nexport function getPrimaryColor() {\r\n    return getConfig(\"REACT_APP_PRIMARY_COLOR\");\r\n}\r\n\r\nexport function getPrimaryDark() {\r\n    return getConfig(\"REACT_APP_PRIMARY_DARK\");\r\n}\r\n\r\nexport function getNumberSupport() {\r\n    return getConfig(\"REACT_APP_NUMBER_SUPPORT\");\r\n}","import api from \"../../services/api\";\r\n\r\nconst usePlans = () => {\r\n\r\n    const findAll = async (params) => {\r\n        const { data } = await api.request({\r\n            url: `/helps`,\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const list = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/helps/list',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const save = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/helps',\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const update = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/helps/${data.id}`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const remove = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/helps/${id}`,\r\n            method: 'DELETE'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        findAll,\r\n        list,\r\n        save,\r\n        update,\r\n        remove\r\n    }\r\n}\r\n\r\nexport default usePlans;","const messages = {\r\n  pt: {\r\n    translations: {\r\n      signup: {\r\n        title: \"Cadastre-se\",\r\n        toasts: {\r\n          success: \"Usuário criado com sucesso! Faça seu login!!!.\",\r\n          fail: \"Erro ao criar usuário. Verifique os dados informados.\",\r\n        },\r\n        form: {\r\n          name: \"Nome\",\r\n          email: \"Email\",\r\n          password: \"Senha\",\r\n          company: \"Nome da Organização\",\r\n          phone: \"Whatsapp (DDD + NÚMERO)\",\r\n        },\r\n        buttons: {\r\n          submit: \"Cadastrar\",\r\n          login: \"Já tem uma conta? Entre!\",\r\n        },\r\n      },\r\n      login: {\r\n        title: \"Login\",\r\n        form: {\r\n          email: \"Email\",\r\n          password: \"Senha\",\r\n          button: \"Acessar\",\r\n        },\r\n        buttons: {\r\n          submit: \"Entrar\",\r\n          register: \"Não tem um conta? Cadastre-se!\",\r\n        },\r\n      },\r\n      companies: {\r\n        title: \"Cadastrar Empresa\",\r\n        form: {\r\n          name: \"Nome da Empresa\",\r\n          plan: \"Plano\",\r\n          token: \"Token\",\r\n          submit: \"Cadastrar\",\r\n          success: \"Empresa criada com sucesso!\",\r\n        },\r\n      },\r\n      auth: {\r\n        toasts: {\r\n          success: \"Login efetuado com sucesso!\",\r\n        },\r\n        dueDate: {\r\n          expiration: \"Sua assinatura expira em\",\r\n          days: \"dias!\",\r\n          day: \"dia!\",\r\n          expirationToday: \"Sua assinatura expira hoje!\",\r\n        },\r\n        token: \"Token\",\r\n      },\r\n      dashboard: {\r\n        tabs: {\r\n          indicators: \"Indicadores\",\r\n          assessments: \"NPS\",\r\n          attendants: \"Atendentes\",\r\n        },\r\n        charts: {\r\n          perDay: {\r\n            title: \"Atendimentos hoje: \",\r\n          },\r\n        },\r\n        cards: {\r\n          inAttendance: \"Em Atendimento\",\r\n          waiting: \"Aguardando\",\r\n          activeAttendants: \"Atendentes Ativos\",\r\n          finalized: \"Finalizados\",\r\n          newContacts: \"Novos Contatos\",\r\n          totalReceivedMessages: \"Mensagens Recebidas\",\r\n          totalSentMessages: \"Mensagens Enviadas\",\r\n          averageServiceTime: \"T.M. de Atendimento\",\r\n          averageWaitingTime: \"T.M. de Espera\",\r\n          status: \"Status (Atual)\",\r\n          activeTickets: \"Tickets Ativos\",\r\n          passiveTickets: \"Tickets Passivos\",\r\n          groups: \"Grupos\",\r\n        },\r\n        users: {\r\n\r\n\r\n          name: \"Nome\",\r\n          numberAppointments: \"Quantidade de Atendimentos\",\r\n          statusNow: \"Atual\",\r\n          totalCallsUser: \"Total de atendimentos por usuario\",\r\n          totalAttendances: \"Total de atendimentos\",\r\n        },\r\n        date: {\r\n          initialDate: \"Data Inicial\",\r\n          finalDate: \"Data Final\",\r\n        },\r\n        licence: {\r\n          available: \"Disponível até\",\r\n        },\r\n        assessments: {\r\n          totalCalls: \"Total de Atendimentos\",\r\n          callsWaitRating: \"Atendimentos aguardando avaliação\",\r\n          callsWithoutRating: \"Atendimentos sem avaliação\",\r\n          ratedCalls: \"Atendimentos avaliados\",\r\n          evaluationIndex: \"Índice de avaliação\",\r\n          score: \"Pontuação\",\r\n          prosecutors: \"Promotores\",\r\n          neutral: \"Neutros\",\r\n          detractors: \"Detratores\",\r\n        },\r\n      },\r\n      reports: {\r\n        title: \"Relatório de Pesquisas Realizadas\",\r\n        operator: \"Operador\",\r\n        period: \"Período\",\r\n        until: \"Até\",\r\n        date: \"Data\",\r\n        reportTitle: \"Relatórios\",\r\n        calls: \"Atendimentos\",\r\n        search: \"Pesquisas\",\r\n        durationCalls: \"Duracão dos atendimentos\",\r\n        grupoSessions: \"Atendimentos em grupos\",\r\n        groupTicketsReports: {\r\n          timezone: \"America/Sao_Paulo\",\r\n          msgToast: \"Gerando relatório compactado, por favor aguarde.\",\r\n          errorToast: \"Erro ao gerar o relatório\",\r\n          back: \"Voltar\",\r\n          groupServiceReport: \"Relatório de Atendimento em Grupos\",\r\n          loading: \"Carregando...\",\r\n          contact: \"Contato\",\r\n          dateOpen: \"Data abertura\",\r\n          dateLastUpdated: \"Data Última Atualização\",\r\n          agent: \"Quem atendeu\",\r\n          agentClosed: \"Quem fechou\",\r\n          waitingAssistance: \"Aguardando atendimento\",\r\n          process: \"Em atendimento\",\r\n        },\r\n        researchReports: {\r\n          response: \"resposta\",\r\n          active: \"(Ativa)\",\r\n          inactive: \"(Inativa)\",\r\n          quantity: \"Quantidade\",\r\n          percentage: \"porcentagem\",\r\n          title: \"Relatório de Pesquisas Realizadas\",\r\n          activeSearch: \"Pesquisa ativa\",\r\n          inactiveSearch: \"Pesquisa inativa\",\r\n        },\r\n        ticketDurationDetail: {\r\n          msgToast: \"Gerando relatório compactado, por favor aguarde.\",\r\n          title: \"Relatório de Duração do Atendimento\",\r\n          startService: \"Início do atendimento\",\r\n          lastUpdated: \"Última atualização\",\r\n          lastAgent: \"Último atendente\",\r\n          durationFinished: \"Duração após finalizado\",\r\n        },\r\n        ticketDuration: {\r\n          title: \"Relatório de Duração dos Atendimento\",\r\n          contact: \"Contato\",\r\n          open: \"Abertos\",\r\n          pending: \"Pendentes\",\r\n          finished: \"Finalizados\",\r\n          durationFinished: \"Duração dos finalizados\",\r\n          durationAfterFinished: \"Duração após finalizado\",\r\n          actions: \"Ações\",\r\n        },\r\n        ticketReports: {\r\n          msgToast: \"Gerando relatório compactado, por favor aguarde.\",\r\n          title: \"Relatório de Atendimento\",\r\n        },\r\n        pdf: {\r\n          title: \"Relação de Atendimentos Realizados\",\r\n          exportTitle: \"Relação de Atendimentos em Grupos Realizados\",\r\n        },\r\n      },\r\n      todo: {\r\n        newTask: \"Nova Tarefa\",\r\n        add: \"Adicionar\",\r\n        task: \"Tarefas\",\r\n      },\r\n      contactImportWpModal: {\r\n        title: \"Exportar Contatos para o Excel\",\r\n        buttons: {\r\n          downloadModel: \"Download modelo do excel para importação\",\r\n          closed: \"Fechar\",\r\n          import: \"Selecione o arquivo do excel para importar Contatos\",\r\n        },\r\n      },\r\n      connections: {\r\n        title: \"Conexões\",\r\n        waitConnection: \"Aguarde... Suas conexões serão reiniciadas!\",\r\n        newConnection: \"Nova Conexão\",\r\n        restartConnections: \"Reiniciar Conexões\",\r\n        callSupport: \"Chamar Suporte\",\r\n        newConnection: \"Nova Conexão\",\r\n        toasts: {\r\n          deleted: \"Conexão excluída com sucesso!\",\r\n          closedimported:\r\n            \"Estamos fechando os tickets importados, por favor aguarde uns instantes\",\r\n        },\r\n        confirmationModal: {\r\n          closedImportedTitle: \"Fechar tickets importados\",\r\n          closedImportedMessage:\r\n            \"Se você confirmar todos os tickets importados serão fechados\",\r\n          deleteTitle: \"Deletar\",\r\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida.\",\r\n          disconnectTitle: \"Desconectar\",\r\n          disconnectMessage:\r\n            \"Tem certeza? Você precisará ler o QR Code novamente.\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar Conexão\",\r\n          disconnect: \"desconectar\",\r\n          tryAgain: \"Tentar novamente\",\r\n          qrcode: \"QR CODE\",\r\n          newQr: \"Novo QR CODE\",\r\n          closedImported: \"Fechar todos os tickets Importados\",\r\n          preparing: \"Preparando mensagens para importação\",\r\n          importing: \"Importando Mensagens do WhatsApp\",\r\n          newQr: \"Novo QR CODE\",\r\n          processed: \"Processado\",\r\n          in: \"de\",\r\n          connecting: \"Conectando\",\r\n        },\r\n        typography: {\r\n          processed: \"Processado\",\r\n          in: \"de\",\r\n          date: \"Data da mensagem\",\r\n        },\r\n        toolTips: {\r\n          disconnected: {\r\n            title: \"Falha ao iniciar sessão do WhatsApp\",\r\n            content:\r\n              \"Certifique-se de que seu celular esteja conectado à internet e tente novamente, ou solicite um novo QR Code\",\r\n          },\r\n          qrcode: {\r\n            title: \"Esperando leitura do QR Code\",\r\n            content:\r\n              \"Clique no botão 'QR CODE' e leia o QR Code com o seu celular para iniciar a sessão\",\r\n          },\r\n          connected: {\r\n            title: \"Conexão estabelecida!\",\r\n          },\r\n          timeout: {\r\n            title: \"A conexão com o celular foi perdida\",\r\n            content:\r\n              \"Certifique-se de que seu celular esteja conectado à internet e o WhatsApp esteja aberto, ou clique no botão 'Desconectar' para obter um novo QR Code\",\r\n          },\r\n        },\r\n        table: {\r\n          name: \"Nome\",\r\n          status: \"Status\",\r\n          lastUpdate: \"Última atualização\",\r\n          default: \"Padrão\",\r\n          actions: \"Ações\",\r\n          session: \"Sessão\",\r\n          number: \"Número do Whatsapp\",\r\n        },\r\n      },\r\n      showTicketOpenModal: {\r\n        title: {\r\n          header: \"Atendimento Existente\",\r\n        },\r\n        form: {\r\n          message: \"Este contato já está em atendimento:\",\r\n          user: \"Atendente\",\r\n          queue: \"Fila\",\r\n          messageWait:\r\n            \"Este contato já está aguardando atendimento. Veja na aba Aguardando!\",\r\n        },\r\n      },\r\n      showTicketLogModal: {\r\n        title: {\r\n          header: \"Logs\",\r\n        },\r\n        options: {\r\n          create: \"Ticket criado.\",\r\n          chatBot: \"ChatBot iniciado.\",\r\n          queue: \" - Fila definida.\",\r\n          open: \" iniciou o atendimento.\",\r\n          access: \"acessou o ticket.\",\r\n          transfered: \"transferiu o ticket.\",\r\n          receivedTransfer: \"recebeu o ticket transferido.\",\r\n          pending: \"devolveu a fila.\",\r\n          closed: \"fechou o ticket\",\r\n          reopen: \"reabriu o ticket\",\r\n          redirect: \"- redirecionado\"\r\n        },\r\n      },\r\n      whatsappModal: {\r\n        title: {\r\n          add: \"Adicionar Conexão\",\r\n          edit: \"Editar Conexão\",\r\n        },\r\n        tabs: {\r\n          general: \"Geral\",\r\n          messages: \"Mensagens\",\r\n          assessments: \"NPS\",\r\n          integrations: \"Integrações\",\r\n          schedules: \"Horário de expediente\",\r\n        },\r\n        form: {\r\n          importOldMessagesEnable: \"Importar mensagens do aparelho\",\r\n          importOldMessages: \"Data de inicio da importação\",\r\n          importRecentMessages: \"Data de termino da importação\",\r\n          importOldMessagesGroups: \"Importar mensagens de grupo\",\r\n          closedTicketsPostImported: \"Encerrar tickets após importação\",\r\n          name: \"Nome\",\r\n          queueRedirection: \"Redirecionamento de Fila\",\r\n          queueRedirectionDesc:\r\n            \"Selecione uma fila para os contatos que não possuem fila serem redirecionados\",\r\n          default: \"Padrão\",\r\n          group: \"Permitir grupos\",\r\n          timeSendQueue: \"Tempo em minutos para redirecionar para fila\",\r\n          importAlert:\r\n            \"ATENÇÃO: Ao salvar, sua conexão será encerrada, será necessário ler novamente o QR Code para importar as mensagens\",\r\n          groupAsTicket: \"Tratar grupos como ticket\",\r\n          timeCreateNewTicket: \"Criar novo ticket em x minutos\",\r\n          maxUseBotQueues: \"Enviar bot x vezes\",\r\n          timeUseBotQueues: \"Enviar bot em x minutos\",\r\n          expiresTicket: \"Encerrar chats abertos após x minutos\",\r\n          expiresTicketNPS:\r\n            \"Encerrar chats aguardando avaliação após x minutos\",\r\n          maxUseBotQueuesNPS:\r\n            \"Quantidade máxima de vezes que a avaliaçao vai ser enviada\",\r\n          closeLastMessageOptions1: \"Do atendente/Cliente\",\r\n          closeLastMessageOptions2: \"Do atendente\",\r\n          outOfHoursMessage: \"Mensagem de fora de expediente\",\r\n          greetingMessage: \"Mensagem de saudação\",\r\n          complationMessage: \"Mensagem de conclusão\",\r\n          lgpdLinkPrivacy: \"Link para política de privacidade\",\r\n          lgpdMessage: \"Mensagem de saudaçao LGPD\",\r\n          lgpdDeletedMessages: \"Ofuscar mensagem apagada pelo contato\",\r\n          lgpdSendMessage: \"Sempre solicitar confirmação do contato\",\r\n          ratingMessage: \"Mensagem de avaliaçao - Escala deve ser de 0 a 10\",\r\n          token: \"Token para integração externa\",\r\n          sendIdQueue: \"Fila\",\r\n          inactiveMessage: \"Mensagem de inatividade\",\r\n          timeInactiveMessage:\r\n            \"Tempo em minutos para envio do aviso de inatividade\",\r\n          whenExpiresTicket:\r\n            \"Encerrar chats abertos quando última mensagem for\",\r\n          expiresInactiveMessage: \"Mensagem de encerramento por inatividade\",\r\n          prompt: \"Prompt\",\r\n          collectiveVacationEnd: \"Data final\",\r\n          collectiveVacationStart: \"Data inicial\",\r\n          collectiveVacationMessage: \"Mensagem de férias coletivas\",\r\n          queueIdImportMessages: \"Fila para importar as mensagens\"\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        menuItem: {\r\n          enabled: \"Habilitado\",\r\n          disabled: \"Desabilitado\",\r\n          minutes: \"minutos\",\r\n        },\r\n        success: \"Conexão salvo com sucesso.\",\r\n        errorSendQueue:\r\n          \"Foi informado tempo para redirecionar fila, porém não foi selecionada fila para redirecionar. Os dois campos precisam estar preenchidos\",\r\n        errorExpiresNPS:\r\n          \"É obrigado informar um tempo para avaliação quando se utiliza o NPS.\",\r\n        errorRatingMessage:\r\n          \"É obrigado informar uma mensagem de avaliação quando se utiliza o NPS.\",\r\n      },\r\n      qrCode: {\r\n        message: \"Leia o QrCode para iniciar a sessão\",\r\n      },\r\n      contacts: {\r\n        title: \"Contatos\",\r\n        toasts: {\r\n          deleted: \"Contato excluído com sucesso!\",\r\n        },\r\n        searchPlaceholder: \"Pesquisar...\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Deletar \",\r\n          importTitlte: \"Importar contatos\",\r\n          exportContact: \"Exportar contatos\",\r\n          deleteMessage:\r\n            \"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados serão perdidos.\",\r\n          blockContact: \"Tem certeza que deseja bloquear este contato?\",\r\n          unblockContact: \"Tem certeza que deseja desbloquear este contato?\",\r\n          importMessage: \"Deseja importar todos os contatos do telefone?\",\r\n          importChat: \"Importar Conversas\",\r\n          wantImport: \"Deseja importar todas as conversas do telefone?\",\r\n        },\r\n        buttons: {\r\n          import: \"Importar Contatos\",\r\n          add: \"Adicionar Contato\",\r\n          export: \"Exportar Contato\",\r\n        },\r\n        table: {\r\n          name: \"Nome\",\r\n          whatsapp: \"Conexão\",\r\n          email: \"Email\",\r\n          actions: \"Ações\",\r\n          lastMessage: \"Última Mensagem\",\r\n        },\r\n        menu: {\r\n          importYourPhone: \"Importar do aparelho padrão\",\r\n          importToExcel: \"Importar / Exportar do Excel\",\r\n        },\r\n      },\r\n      forwardMessage: {\r\n        text: \"Encaminhada\",\r\n      },\r\n      forwardMessageModal: {\r\n        title: \"Encaminhar mensagem\",\r\n        buttons: {\r\n          ok: \"Encaminhar\",\r\n        },\r\n      },\r\n      promptModal: {\r\n        form: {\r\n          name: \"Nome\",\r\n          prompt: \"Prompt\",\r\n          voice: \"Voz\",\r\n          max_tokens: \"Máximo de Tokens na resposta\",\r\n          temperature: \"Temperatura\",\r\n          apikey: \"API Key\",\r\n          max_messages: \"Máximo de mensagens no Histórico\",\r\n          voiceKey: \"Chave da API de Voz\",\r\n          voiceRegion: \"Região de Voz\",\r\n        },\r\n        success: \"Prompt salvo com sucesso!\",\r\n        title: {\r\n          add: \"Adicionar Prompt\",\r\n          edit: \"Editar Prompt\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      prompts: {\r\n        title: \"Prompts\",\r\n        table: {\r\n          name: \"Nome\",\r\n          queue: \"Setor/Fila\",\r\n          max_tokens: \"Máximo Tokens Resposta\",\r\n          actions: \"Ações\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida!\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar Prompt\",\r\n        },\r\n      },\r\n      contactModal: {\r\n        title: {\r\n          add: \"Adicionar contato\",\r\n          edit: \"Editar contato\",\r\n        },\r\n        form: {\r\n          mainInfo: \"Dados do contato\",\r\n          extraInfo: \"Informações adicionais\",\r\n          name: \"Nome\",\r\n          number: \"Número do Whatsapp\",\r\n          email: \"Email\",\r\n          extraName: \"Nome do campo\",\r\n          extraValue: \"Valor\",\r\n          chatBotContact: \"Desabilitar chatbot\",\r\n          termsLGDP: \"Termos LGPD aceito em:\",\r\n          whatsapp: \"Conexão Origem: \"\r\n        },\r\n        buttons: {\r\n          addExtraInfo: \"Adicionar informação\",\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Contato salvo com sucesso.\",\r\n      },\r\n      flowbuilderModal: {\r\n        flowNotIdPhrase: \"Fluxo padrão\",\r\n      },\r\n      queueModal: {\r\n        title: {\r\n          queueData: \"Dados da fila\",\r\n          text: \"Horários de atendimento\",\r\n          add: \"Adicionar fila\",\r\n          edit: \"Editar fila\",\r\n          confirmationDelete:\r\n            \"Tem certeza? Todas as opções de integrações serão deletadas.\",\r\n        },\r\n        form: {\r\n          name: \"Nome\",\r\n          color: \"Cor\",\r\n          orderQueue: \"Ordem da fila (Bot)\",\r\n          rotate: \"Rodízio\",\r\n          timeRotate: \"Tempo de Rodízio\",\r\n          greetingMessage: \"Mensagem de saudação\",\r\n          complationMessage: \"Mensagem de conclusão\",\r\n          outOfHoursMessage: \"Mensagem de fora de expediente\",\r\n          token: \"Token\",\r\n          integrationId: \"Integração\",\r\n          fileListId: \"Lista de arquivos\",\r\n          closeTicket: \"Fechar ticket\",\r\n          queueType: \"Tipo de menu\",\r\n          message: \"Mensagem de retorno\",\r\n          queue: \"Fila para transferência\",\r\n          integration: \"Integração\",\r\n          file: \"Lista de arquivos\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        bot: {\r\n          title: \"Opções\",\r\n          toolTipTitle: \"Adicione opções para construir um chatbot\",\r\n          toolTip:\r\n            \"Se houver apenas uma opção, ela será escolhida automaticamente, fazendo com que o bot responda com a mensagem da opção e siga adiante\",\r\n          selectOption: \"Selecione uma opção\",\r\n          text: \"Texto\",\r\n          attendent: \"Atendente\",\r\n          queue: \"Fila\",\r\n          integration: \"Integração\",\r\n          file: \"Arquivo\",\r\n          toolTipMessageTitle:\r\n            \"A mensagem é obrigatória para seguir ao próximo nível\",\r\n          toolTipMessageContent:\r\n            \"A mensagem é obrigatória para seguir ao próximo nível\",\r\n          selectUser: \"Selecione um Usuário\",\r\n          selectQueue: \"Selecione uma Fila\",\r\n          selectIntegration: \"Selecione uma Integração\",\r\n          addOptions: \"Adicionar opções\",\r\n        },\r\n        serviceHours: {\r\n          dayWeek: \"Dia da semana\",\r\n          startTimeA: \"Hora Inicial - Turno A\",\r\n          endTimeA: \"Hora Final - Turno A\",\r\n          startTimeB: \"Hora Inicial - Turno B\",\r\n          endTimeB: \"Hora Final - Turno B\",\r\n          monday: \"Segunda-feira\",\r\n          tuesday: \"Terça-feira\",\r\n          wednesday: \"Quarta-feira\",\r\n          thursday: \"Quinta-feira\",\r\n          friday: \"Sexta-feira\",\r\n          saturday: \"Sábado\",\r\n          sunday: \"Domingo\",\r\n        },\r\n      },\r\n      queueIntegrationModal: {\r\n        title: {\r\n          add: \"Adicionar projeto\",\r\n          edit: \"Editar projeto\",\r\n        },\r\n        form: {\r\n          id: \"ID\",\r\n          type: \"Tipo\",\r\n          name: \"Nome\",\r\n          projectName: \"Nome do Projeto\",\r\n          language: \"Linguagem\",\r\n          jsonContent: \"JsonContent\",\r\n          urlN8N: \"URL\",\r\n          typebotSlug: \"Typebot - Slug\",\r\n          typebotExpires: \"Tempo em minutos para expirar uma conversa\",\r\n          typebotKeywordFinish: \"Palavra para finalizar o ticket\",\r\n          typebotKeywordRestart: \"Palavra para reiniciar o fluxo\",\r\n          typebotRestartMessage: \"Mensagem ao reiniciar a conversa\",\r\n          typebotUnknownMessage: \"Mensagem de opção inválida\",\r\n          typebotDelayMessage: \"Intervalo (ms) entre mensagens\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n          test: \"Testar Bot\",\r\n        },\r\n        messages: {\r\n          testSuccess: \"Integração testada com sucesso!\",\r\n          addSuccess: \"Integração adicionada com sucesso.\",\r\n          editSuccess: \"Integração editada com sucesso.\",\r\n        },\r\n      },\r\n      userModal: {\r\n        warning:\r\n          \"Para fazer a importação das mensagens é necessário ler o qrCode novamente !!!\",\r\n        title: {\r\n          add: \"Adicionar usuário\",\r\n          edit: \"Editar usuário\",\r\n          updateImage: \"Atualizar imagem\",\r\n          removeImage: \"Excluir imagem\",\r\n        },\r\n        form: {\r\n          name: \"Nome\",\r\n          email: \"Email\",\r\n          password: \"Senha\",\r\n          farewellMessage: \"Mensagem de despedida\",\r\n          profile: \"Perfil\",\r\n          startWork: \"Inicio de trabalho\",\r\n          endWork: \"Fim de trabalho\",\r\n          whatsapp: \"Conexão Padrão\",\r\n          allTicketEnable: \"Habilitado\",\r\n          allTicketDisable: \"Desabilitado\",\r\n          allTicket: \"Visualizar chamados sem fila\",\r\n          allowGroup: \"Permitir Grupos\",\r\n          defaultMenuOpen: \"Aberto\",\r\n          defaultMenuClosed: \"Fechado\",\r\n          defaultMenu: \"Menu padrão\",\r\n          defaultTheme: \"Tema Padrão\",\r\n          defaultThemeDark: \"Escuro\",\r\n          defaultThemeLight: \"Claro\",\r\n          allHistoric: \"Ver conversas de outras filas\",\r\n          allHistoricEnabled: \"Habilitado\",\r\n          allHistoricDisabled: \"Desabilitado\",\r\n          allUserChat: \"Ver conversas de outros usuários\",\r\n          userClosePendingTicket: \"Permitir fechar tickets pendentes\",\r\n          showDashboard: \"Ver Dashboard\",\r\n          allowRealTime: \"Ver Painel de Atendimentos\",\r\n          allowConnections: \"Permitir ações nas conexões\",\r\n        },\r\n        tabs: {\r\n          general: \"Geral\",\r\n          permissions: \"Permissões\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n          addImage: \"Adicionar Imagem\",\r\n          editImage: \"Editar Imagem\",\r\n        },\r\n        success: \"Usuário salvo com sucesso.\",\r\n      },\r\n      companyModal: {\r\n        title: {\r\n          add: \"Adicionar empresa\",\r\n          edit: \"Editar empresa\",\r\n        },\r\n        form: {\r\n          name: \"Nome\",\r\n          email: \"Email\",\r\n          passwordDefault: \"Senha\",\r\n          numberAttendants: \"Usuários\",\r\n          numberConections: \"Conexões\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Empresa salvo com sucesso.\",\r\n      },\r\n      scheduleModal: {\r\n        title: {\r\n          add: \"Novo Agendamento\",\r\n          edit: \"Editar Agendamento\",\r\n        },\r\n        form: {\r\n          body: \"Mensagem\",\r\n          contact: \"Contato\",\r\n          sendAt: \"Data de Agendamento\",\r\n          sentAt: \"Data de Envio\",\r\n          assinar: \"Enviar Assinatura\"\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n          addSchedule: \"Adicionar agendamento\"\r\n        },\r\n        success: \"Agendamento salvo com sucesso.\",\r\n      },\r\n      tagModal: {\r\n        title: {\r\n          add: \"Nova Tag\",\r\n          edit: \"Editar Tag\",\r\n          addKanban: \"Nova Lane\",\r\n          editKanban: \"Editar Lane\",\r\n        },\r\n        form: {\r\n          name: \"Nome\",\r\n          color: \"Cor\",\r\n          timeLane: \"Tempo em horas para redirecionar para lane\",\r\n          nextLaneId: \"Lane\",\r\n          greetingMessageLane: \"Mensagem de saudação da lane\",\r\n          rollbackLaneId: \"Voltar para Lane após retomar atendimento\"\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Tag salva com sucesso.\",\r\n        successKanban: \"Lane salva com sucesso.\",\r\n      },\r\n      fileModal: {\r\n        title: {\r\n          add: \"Adicionar lista de arquivos\",\r\n          edit: \"Editar lista de arquivos\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Salvar\",\r\n          okEdit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n          fileOptions: \"Adicionar arquivo\",\r\n        },\r\n        form: {\r\n          name: \"Nome da lista de arquivos\",\r\n          message: \"Detalhes da lista\",\r\n          fileOptions: \"Lista de arquivos\",\r\n          extraName: \"Mensagem para enviar com arquivo\",\r\n          extraValue: \"Valor da opção\",\r\n        },\r\n        success: \"Lista de arquivos salva com sucesso!\",\r\n      },\r\n      chat: {\r\n        noTicketMessage: \"Selecione um ticket para começar a conversar.\",\r\n      },\r\n      uploads: {\r\n        titles: {\r\n          titleUploadMsgDragDrop:\r\n            \"⬇️ ARRASTE E SOLTE ARQUIVOS NO CAMPO ABAIXO ⬇️\",\r\n          titleFileList: \"Lista de arquivo(s)\",\r\n        },\r\n      },\r\n      chatInternal: {\r\n        new: \"Nova\",\r\n        modal: {\r\n          conversation: \"Conversa\",\r\n          title: \"Título\",\r\n          filterUsers: \"Filtro por Usuários\",\r\n          cancel: \"Fechar\",\r\n          save: \"Salvar\",\r\n        },\r\n        modalDelete: {\r\n          title: \"Excluir Conversa\",\r\n          message: \"Esta ação não pode ser revertida, confirmar?\",\r\n        },\r\n      },\r\n      ticketsManager: {\r\n        questionCloseTicket: \"VOCÊ DESEJA FECHAR TODOS OS TICKETS?\",\r\n        yes: \"SIM\",\r\n        not: \"NÃO\",\r\n        buttons: {\r\n          newTicket: \"Novo\",\r\n          resolveAll: \"Resolver Todos\",\r\n          close: \"Fechar\",\r\n          new: \"Novo\",\r\n        },\r\n      },\r\n      ticketsQueueSelect: {\r\n        placeholder: \"Filas\",\r\n      },\r\n      tickets: {\r\n        inbox: {\r\n          closedAllTickets: \"Fechar todos os tickets?\",\r\n          closedAll: \"Fechar Todos\",\r\n          newTicket: \"Novo Ticket\",\r\n          yes: \"SIM\",\r\n          no: \"NÃO\",\r\n          open: \"Abertos\",\r\n          resolverd: \"Resolvidos\",\r\n        },\r\n        toasts: {\r\n          deleted: \"O atendimento que você estava foi deletado.\",\r\n        },\r\n        notification: {\r\n          message: \"Mensagem de\",\r\n        },\r\n        tabs: {\r\n          open: { title: \"Abertas\" },\r\n          closed: { title: \"Resolvidos\" },\r\n          search: { title: \"Busca\" },\r\n        },\r\n        search: {\r\n          placeholder: \"Buscar atendimento e mensagens\",\r\n          filterConections: \"Filtro por Conexão\",\r\n          filterConectionsOptions: {\r\n            open: \"Aberto\",\r\n            closed: \"Fechado\",\r\n            pending: \"Pendente\",\r\n          },\r\n          filterUsers: \"Filtro por Usuarios\",\r\n          filterContacts: \"Filtro por Contatos\",\r\n          ticketsPerPage: \"Tickets por página\",\r\n        },\r\n        buttons: {\r\n          showAll: \"Todos\",\r\n          returnQueue: \"Devolver a Fila\",\r\n          scredule: \"Agendamento\",\r\n          deleteTicket: \"Deletar Ticket\",\r\n        },\r\n        closedTicket: {\r\n          closedMessage: \"Fechar Ticket Com Mensagem de Despedida\",\r\n          closedNotMessage: \"Fechar Ticket Sem Mensagem de Despedida\",\r\n        },\r\n      },\r\n      transferTicketModal: {\r\n        title: \"Transferir Ticket\",\r\n        fieldLabel: \"Digite para buscar usuários\",\r\n        fieldQueueLabel: \"Transferir para fila\",\r\n        fieldQueuePlaceholder: \"Selecione uma fila\",\r\n        fieldWhatsapp: \"Selecione um whatsapp\",\r\n        noOptions: \"Nenhum usuário encontrado com esse nome\",\r\n        msgTransfer: \"Observações - mensagem interna, não vai para o cliente\",\r\n        buttons: {\r\n          ok: \"Transferir\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      chatInternal: {\r\n        new: \"Nova\",\r\n        modal: {\r\n          conversation: \"Conversa\",\r\n          title: \"Título\",\r\n          filterUsers: \"Filtro por Usuários\",\r\n          cancel: \"Fechar\",\r\n          save: \"Salvar\",\r\n        },\r\n        modalDelete: {\r\n          title: \"Excluir Conversa\",\r\n          message: \"Esta ação não pode ser revertida, confirmar?\",\r\n        },\r\n      },\r\n      ticketsList: {\r\n        called: \"Chamado\",\r\n        today: \"Hoje\",\r\n        missedCall: \"Chamada de voz/vídeo perdida às\",\r\n        pendingHeader: \"Aguardando\",\r\n        assignedHeader: \"Atendendo\",\r\n        groupingHeader: \"Grupos\",\r\n        noTicketsTitle: \"Nada aqui!\",\r\n        noTicketsMessage:\r\n          \"Nenhum atendimento encontrado com esse status ou termo pesquisado\",\r\n        noQueue: \"Sem Fila\",\r\n        buttons: {\r\n          accept: \"Aceitar\",\r\n          cancel: \"Cancelar\",\r\n          start: \"iniciar\",\r\n          closed: \"Fechar\",\r\n          reopen: \"Reabrir\",\r\n          transfer: \"Transferir\",\r\n          ignore: \"Ignorar\",\r\n          exportAsPDF: \"Exportar para PDF\",\r\n          kanbanActions: \"Opções de Kanban\"\r\n        },\r\n        acceptModal: {\r\n          title: \"Aceitar Chat\",\r\n          queue: \"Selecionar setor\",\r\n        },\r\n      },\r\n      newTicketModal: {\r\n        title: \"Criar Ticket\",\r\n        fieldLabel: \"Digite para pesquisar o contato\",\r\n        add: \"Adicionar\",\r\n        buttons: {\r\n          ok: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      SendContactModal: {\r\n        title: \"Enviar contato\",\r\n        fieldLabel: \"Digite para pesquisar o contato\",\r\n        add: \"Adicionar\",\r\n        buttons: {\r\n          ok: \"Enviar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      mainDrawer: {\r\n        listItems: {\r\n          dashboard: \"Dashboard\",\r\n          connections: \"Conexões\",\r\n          chatsTempoReal: \"Painel\",\r\n          tickets: \"Atendimentos\",\r\n          quickMessages: \"Respostas rápidas\",\r\n          contacts: \"Contatos\",\r\n          queues: \"Filas & Chatbot\",\r\n          tags: \"Tags\",\r\n          administration: \"Administração\",\r\n          companies: \"Empresas\",\r\n          users: \"Usuários\",\r\n          settings: \"Configurações\",\r\n          files: \"Lista de arquivos\",\r\n          helps: \"Ajuda\",\r\n          messagesAPI: \"API\",\r\n          schedules: \"Agendamentos\",\r\n          campaigns: \"Campanhas\",\r\n          flow: \"FlowBuilder\",\r\n          annoucements: \"Informativos\",\r\n          chats: \"Chat Interno\",\r\n          financeiro: \"Financeiro\",\r\n          queueIntegration: \"Integrações\",\r\n          version: \"Versão\",\r\n          kanban: \"Kanban\",\r\n          prompts: \"Talk.Ai\",\r\n          allConnections: \"Gerenciar conexões\",\r\n          reports: \"Relatórios\",\r\n          management: \"Gerência\"\r\n        },\r\n        appBar: {\r\n          user: {\r\n            profile: \"Perfil\",\r\n            logout: \"Sair\",\r\n            message: \"Olá\",\r\n            messageEnd: \"seja bem-vindo a\",\r\n            active: \"Ativo até\",\r\n            goodMorning: \"Oi,\",\r\n            myName: \"meu nome é\",\r\n            continuity: \"e darei continuidade em seu atendimento.\",\r\n            virtualAssistant: \"Assistente Virtual\",\r\n            token:\r\n              \"Token inválido, por favor entre em contato com o administrador da plataforma.\",\r\n          },\r\n          message: {\r\n            location: \"Localização\",\r\n            contact: \"Contato\",\r\n          },\r\n          notRegister: \"Nenhum registro\",\r\n          refresh: \"Atualizar\",\r\n        },\r\n      },\r\n      languages: {\r\n        undefined: \"Idioma\",\r\n        \"pt-BR\": \"Português\",\r\n        es: \"Español\",\r\n        en: \"English\",\r\n        tr: \"Türkçe\",\r\n      },\r\n      messagesAPI: {\r\n        title: \"API\",\r\n        textMessage: {\r\n          number: \"Número\",\r\n          body: \"Mensagem\",\r\n          token: \"Token cadastrado\",\r\n          userId: \"ID do usuário/atendente\",\r\n          queueId: \"ID da Fila\",\r\n        },\r\n        mediaMessage: {\r\n          number: \"Número\",\r\n          body: \"Nome do arquivo\",\r\n          media: \"Arquivo\",\r\n          token: \"Token cadastrado\",\r\n        },\r\n        API: {\r\n          title: \"Documentação para envio de mensagens\",\r\n          methods: {\r\n            title: \"Métodos de Envío\",\r\n            messagesText: \"Mensagens de Texto\",\r\n            messagesMidia: \"Mensagens de Media\",\r\n          },\r\n          instructions: {\r\n            title: \"Instruções\",\r\n            comments: \"Observações Importantes\",\r\n            comments1:\r\n              \"Antes de enviar mensagens, é necessário o cadastro do token vinculado à conexão que enviará as mensagens. <br />Para realizar o cadastro acesse o menu 'Conexões', clique no botão editar da conexão e insira o token no devido campo.\",\r\n            comments2:\r\n              \"O número para envio não deve ter mascara ou caracteres especiais e deve ser composto por:\",\r\n            codeCountry: \"Código do País\",\r\n            code: \"DDD\",\r\n            number: \"Número\",\r\n          },\r\n          text: {\r\n            title: \"1. Mensagens de Texto\",\r\n            instructions:\r\n              \"Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:\",\r\n          },\r\n          media: {\r\n            title: \"2. Mensagens de Media\",\r\n            instructions:\r\n              \"Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:\",\r\n          },\r\n        },\r\n      },\r\n      notifications: {\r\n        noTickets: \"Nenhuma notificação.\",\r\n      },\r\n      quickMessages: {\r\n        title: \"Respostas Rápidas\",\r\n        searchPlaceholder: \"Pesquisar...\",\r\n        noAttachment: \"Sem anexo\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Exclusão\",\r\n          deleteMessage: \"Esta ação é irreversível! Deseja prosseguir?\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar\",\r\n          attach: \"Anexar Arquivo\",\r\n          cancel: \"Cancelar\",\r\n          edit: \"Editar\",\r\n        },\r\n        toasts: {\r\n          success: \"Atalho adicionado com sucesso!\",\r\n          deleted: \"Atalho removido com sucesso!\",\r\n        },\r\n        dialog: {\r\n          title: \"Mensagem Rápida\",\r\n          shortcode: \"Atalho\",\r\n          message: \"Resposta\",\r\n          save: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n          geral: \"Permitir editar\",\r\n          add: \"Adicionar\",\r\n          edit: \"Editar\",\r\n          visao: \"Permitir visão\",\r\n        },\r\n        table: {\r\n          shortcode: \"Atalho\",\r\n          message: \"Mensagem\",\r\n          actions: \"Ações\",\r\n          mediaName: \"Nome do Arquivo\",\r\n          status: \"Status\",\r\n        },\r\n      },\r\n      contactLists: {\r\n        title: \"Listas de Contatos\",\r\n        table: {\r\n          name: \"Nome\",\r\n          contacts: \"Contatos\",\r\n          actions: \"Ações\",\r\n        },\r\n        buttons: {\r\n          add: \"Nova Lista\",\r\n        },\r\n        dialog: {\r\n          name: \"Nome\",\r\n          company: \"Empresa\",\r\n          okEdit: \"Editar\",\r\n          okAdd: \"Adicionar\",\r\n          add: \"Adicionar\",\r\n          edit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n      contactListItems: {\r\n        title: \"Contatos\",\r\n        searchPlaceholder: \"Pesquisa\",\r\n        buttons: {\r\n          add: \"Novo\",\r\n          lists: \"Listas\",\r\n          import: \"Importar\",\r\n        },\r\n        dialog: {\r\n          name: \"Nome\",\r\n          number: \"Número\",\r\n          whatsapp: \"Whatsapp\",\r\n          email: \"E-mail\",\r\n          okEdit: \"Editar\",\r\n          okAdd: \"Adicionar\",\r\n          add: \"Adicionar\",\r\n          edit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        table: {\r\n          name: \"Nome\",\r\n          number: \"Número\",\r\n          whatsapp: \"Whatsapp\",\r\n          email: \"E-mail\",\r\n          actions: \"Ações\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n          importMessage: \"Deseja importar os contatos desta planilha? \",\r\n          importTitlte: \"Importar\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n\r\n      kanban: {\r\n        title: \"Kanban\",\r\n        searchPlaceholder: \"Pesquisa\",\r\n        subMenus: {\r\n          list: \"Painel\",\r\n          tags: \"Lanes\",\r\n        },\r\n      },\r\n\r\n      campaigns: {\r\n        title: \"Campanhas\",\r\n        searchPlaceholder: \"Pesquisa\",\r\n        subMenus: {\r\n          list: \"Listagem\",\r\n          listContacts: \"Lista de contatos\",\r\n          settings: \"Configurações\",\r\n        },\r\n        settings: {\r\n          randomInterval: \"Intervalo Randômico de Disparo\",\r\n          noBreak: \"Sem Intervalo\",\r\n          intervalGapAfter: \"Intervalo maior após\",\r\n          undefined: \"Não definido\",\r\n          messages: \"mensagens\",\r\n          laggerTriggerRange: \"Intervalo de disparo maior\",\r\n          addVar: \"Adicionar variável\",\r\n          save: \"Salvar\",\r\n          close: \"Fechar\",\r\n          add: \"Adicionar\",\r\n          shortcut: \"Atalho\",\r\n          content: \"Conteúdo\",\r\n        },\r\n        buttons: {\r\n          add: \"Nova Campanha\",\r\n          contactLists: \"Listas de Contatos\",\r\n        },\r\n        table: {\r\n          name: \"Nome\",\r\n          whatsapp: \"Conexão\",\r\n          contactList: \"Lista de Contatos\",\r\n          option: \"Nenhuma\",\r\n          disabled: \"Desabilitada\",\r\n          enabled: \"Habilitada\",\r\n          status: \"Status\",\r\n          scheduledAt: \"Agendamento\",\r\n          completedAt: \"Concluída\",\r\n          confirmation: \"Confirmação\",\r\n          actions: \"Ações\",\r\n        },\r\n        dialog: {\r\n          new: \"Nova Campanha\",\r\n          update: \"Editar Campanha\",\r\n          readonly: \"Apenas Visualização\",\r\n          help: \"Utilize variáveis como {nome}, {numero}, {email} ou defina variáveis personalizadas.\",\r\n          form: {\r\n            name: \"Nome\",\r\n            message1: \"Mensagem 1\",\r\n            message2: \"Mensagem 2\",\r\n            message3: \"Mensagem 3\",\r\n            message4: \"Mensagem 4\",\r\n            message5: \"Mensagem 5\",\r\n            confirmationMessage1: \"Mensagem de Confirmação 1\",\r\n            confirmationMessage2: \"Mensagem de Confirmação 2\",\r\n            confirmationMessage3: \"Mensagem de Confirmação 3\",\r\n            confirmationMessage4: \"Mensagem de Confirmação 4\",\r\n            confirmationMessage5: \"Mensagem de Confirmação 5\",\r\n            messagePlaceholder: \"Conteúdo da mensagem\",\r\n            whatsapp: \"Conexão\",\r\n            status: \"Status\",\r\n            scheduledAt: \"Agendamento\",\r\n            confirmation: \"Confirmação\",\r\n            contactList: \"Lista de Contato\",\r\n            tagList: \"Tags\",\r\n            statusTicket: \"Status do Ticket\",\r\n            openTicketStatus: \"Aberto\",\r\n            pendingTicketStatus: \"Pendente\",\r\n            closedTicketStatus: \"Fechado\",\r\n            enabledOpenTicket: \"Habilitado\",\r\n            disabledOpenTicket: \"Desabilitado\",\r\n            openTicket: \"Abrir ticket\",\r\n          },\r\n          buttons: {\r\n            add: \"Adicionar\",\r\n            edit: \"Atualizar\",\r\n            okadd: \"Ok\",\r\n            cancel: \"Cancelar Disparos\",\r\n            restart: \"Reiniciar Disparos\",\r\n            close: \"Fechar\",\r\n            attach: \"Anexar Arquivo\",\r\n          },\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        toasts: {\r\n          success: \"Operação realizada com sucesso\",\r\n          cancel: \"Campanha cancelada\",\r\n          restart: \"Campanha reiniciada\",\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n      campaignReport: {\r\n        title: \"Relatório de\",\r\n        inactive: \"Inativa\",\r\n        scheduled: \"Programada\",\r\n        process: \"Em Andamento\",\r\n        cancelled: \"Cancelada\",\r\n        finished: \"Finalizada\",\r\n        campaign: \"Campanha\",\r\n        validContacts: \"Contatos Válidos\",\r\n        confirmationsRequested: \"Confirmações Solicitadas\",\r\n        confirmations: \"Confirmações\",\r\n        deliver: \"Entregues\",\r\n        connection: \"Conexão\",\r\n        contactLists: \"Lista de Contatos\",\r\n        schedule: \"Agendamento\",\r\n        conclusion: \"Conclusão\",\r\n      },\r\n      announcements: {\r\n        title: \"Informativos\",\r\n        searchPlaceholder: \"Pesquisa\",\r\n        active: \"Ativo\",\r\n        inactive: \"Inativo\",\r\n        buttons: {\r\n          add: \"Novo Informativo\",\r\n          contactLists: \"Listas de Informativos\",\r\n        },\r\n        table: {\r\n          priority: \"Prioridade\",\r\n          title: \"Title\",\r\n          text: \"Texto\",\r\n          mediaName: \"Arquivo\",\r\n          status: \"Status\",\r\n          actions: \"Ações\",\r\n        },\r\n        dialog: {\r\n          edit: \"Edição de Informativo\",\r\n          add: \"Novo Informativo\",\r\n          update: \"Editar Informativo\",\r\n          readonly: \"Apenas Visualização\",\r\n          form: {\r\n            priority: \"Prioridade\",\r\n            title: \"Title\",\r\n            text: \"Texto\",\r\n            mediaPath: \"Arquivo\",\r\n            status: \"Status\",\r\n            high: \"Alta\",\r\n            medium: \"Média\",\r\n            low: \"Baixa\",\r\n            active: \"Ativo\",\r\n            inactive: \"Inativo\",\r\n          },\r\n          buttons: {\r\n            add: \"Adicionar\",\r\n            edit: \"Atualizar\",\r\n            okadd: \"Ok\",\r\n            cancel: \"Cancelar\",\r\n            close: \"Fechar\",\r\n            attach: \"Anexar Arquivo\",\r\n          },\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        toasts: {\r\n          success: \"Operação realizada com sucesso\",\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n      campaignsConfig: {\r\n        title: \"Configurações de Campanhas\",\r\n      },\r\n      queues: {\r\n        title: \"Filas & Chatbot\",\r\n        table: {\r\n          name: \"Nome\",\r\n          color: \"Cor\",\r\n          greeting: \"Mensagem de saudação\",\r\n          orderQueue: \"Ordenação da fila (bot)\",\r\n          actions: \"Ações\",\r\n          ID: \"ID\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar fila\",\r\n        },\r\n        toasts: {\r\n          success: \"Fila salva com sucesso\",\r\n          deleted: \"Fila exclu[ida com sucesso\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage:\r\n            \"Você tem certeza? Essa ação não pode ser revertida! Os atendimentos dessa fila continuarão existindo, mas não terão mais nenhuma fila atribuída.\",\r\n        },\r\n      },\r\n      queue: {\r\n        queueData: \"Dados\",\r\n      },\r\n      queueSelect: {\r\n        inputLabel: \"Filas\",\r\n        inputLabelRO: \"Filas somente leitura\",\r\n        withoutQueue: \"Sem fila\",\r\n      },\r\n      reports: {\r\n        title: \"Relatórios de Atendimentos\",\r\n        table: {\r\n          id: \"Ticket\",\r\n          user: \"Usuário\",\r\n          dateOpen: \"Data Abertura\",\r\n          dateClose: \"Data Fechamento\",\r\n          NPS: \"NPS\",\r\n          status: \"Status\",\r\n          whatsapp: \"Conexão\",\r\n          queue: \"Fila\",\r\n          actions: \"Ações\",\r\n          lastMessage: \"Últ. Mensagem\",\r\n          contact: \"Cliente\",\r\n          supportTime: \"Tempo de Atendimento\",\r\n        },\r\n        buttons: {\r\n\r\n          filter: \"Aplicar Filtro\",\r\n          onlyRated: \"Apenas Avaliados\",\r\n        },\r\n        searchPlaceholder: \"Pesquisar...\",\r\n\r\n      },\r\n      queueIntegration: {\r\n        title: \"Integrações\",\r\n        table: {\r\n          id: \"ID\",\r\n          type: \"Tipo\",\r\n          name: \"Nome\",\r\n          projectName: \"Nome do Projeto\",\r\n          language: \"Linguagem\",\r\n          lastUpdate: \"Ultima atualização\",\r\n          actions: \"Ações\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar Projeto\",\r\n        },\r\n        searchPlaceholder: \"Pesquisar...\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage:\r\n            \"Você tem certeza? Essa ação não pode ser revertida! e será removida das filas e conexões vinculadas\",\r\n        },\r\n      },\r\n      users: {\r\n        title: \"Usuários\",\r\n        table: {\r\n          status: \"Status\",\r\n          name: \"Nome\",\r\n          email: \"Email\",\r\n          profile: \"Perfil\",\r\n          startWork: \"Inicio de trabalho\",\r\n          endWork: \"Fim de trabalho\",\r\n          actions: \"Ações\",\r\n          ID: \"ID\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar usuário\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Usuário excluído com sucesso.\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage:\r\n            \"Todos os dados do usuário serão perdidos. Os atendimento abertos deste usuário serão movidos para a fila.\",\r\n        },\r\n      },\r\n      compaies: {\r\n        title: \"Empresas\",\r\n        table: {\r\n          ID: \"ID\",\r\n          status: \"Ativo\",\r\n          name: \"Nome\",\r\n          email: \"Email\",\r\n          password: \"Senha\",\r\n          phone: \"Telefone\",\r\n          plan: \"Plano\",\r\n          active: \"Ativo\",\r\n          numberAttendants: \"Atendentes\",\r\n          numberConections: \"Conexões\",\r\n          value: \"Valor\",\r\n          namePlan: \"Nome Plano\",\r\n          numberQueues: \"Filas\",\r\n          useCampaigns: \"Campanhas\",\r\n          useExternalApi: \"Rest API\",\r\n          useFacebook: \"Facebook\",\r\n          useInstagram: \"Instagram\",\r\n          useWhatsapp: \"Whatsapp\",\r\n          useInternalChat: \"Chat Interno\",\r\n          useSchedules: \"Agendamento\",\r\n          createdAt: \"Criada Em\",\r\n          dueDate: \"Vencimento\",\r\n          lastLogin: \"Ult. Login\",\r\n          actions: \"Ações\",\r\n          money: \"R$\",\r\n          yes: \"Sim\",\r\n          no: \"Não\",\r\n          document: \"CNPJ/CPF\",\r\n          recurrence: \"Recorrência\",\r\n          monthly: \"Mensal\",\r\n          bimonthly: \"Bimestral\",\r\n          quarterly: \"Trimestral\",\r\n          semester: \"Semestral\",\r\n          yearly: \"Anual\",\r\n          clear: \"Limpar\",\r\n          delete: \"Excluir\",\r\n          user: \"Usuário\",\r\n          save: \"Salvar\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar empresa\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Empresa excluído com sucesso.\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage:\r\n            \"Todos os dados da empresa serão perdidos. Os tickets abertos deste usuário serão movidos para a fila.\",\r\n        },\r\n      },\r\n      plans: {\r\n        form: {\r\n          name: \"Nome\",\r\n          users: \"Usuários\",\r\n          connections: \"Conexões\",\r\n          campaigns: \"Campanhas\",\r\n          schedules: \"Agendamentos\",\r\n          enabled: \"Habilitadas\",\r\n          disabled: \"Desabilitadas\",\r\n          clear: \"Cancelar\",\r\n          delete: \"Excluir\",\r\n          save: \"Salvar\",\r\n          yes: \"Sim\",\r\n          no: \"Não\",\r\n          money: \"R$\",\r\n          public: \"Público\"\r\n        },\r\n      },\r\n      helps: {\r\n        title: \"Central de Ajuda\",\r\n        settings: {\r\n          codeVideo: \"Código do Video\",\r\n          description: \"Descrição\",\r\n          clear: \"Limpar\",\r\n          delete: \"Excluir\",\r\n          save: \"Salvar\",\r\n        },\r\n      },\r\n      schedules: {\r\n        title: \"Agendamentos\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Você tem certeza que quer excluir este Agendamento?\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        table: {\r\n          contact: \"Contato\",\r\n          body: \"Mensagem\",\r\n          sendAt: \"Data de Agendamento\",\r\n          sentAt: \"Data de Envio\",\r\n          status: \"Status\",\r\n          actions: \"Ações\",\r\n        },\r\n        buttons: {\r\n          add: \"Novo Agendamento\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Agendamento excluído com sucesso.\",\r\n        },\r\n      },\r\n      tags: {\r\n        title: \"Tags\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Você tem certeza que quer excluir esta Tag?\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        table: {\r\n          id: \"ID\",\r\n          name: \"Nome\",\r\n          kanban: \"Kanban\",\r\n          color: \"Cor\",\r\n          tickets: \"Registros Tags\",\r\n          contacts: \"Contatos\",\r\n          actions: \"Ações\",\r\n        },\r\n        buttons: {\r\n          add: \"Nova Tag\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Tag excluído com sucesso.\",\r\n        },\r\n      },\r\n\r\n      tagsKanban: {\r\n        title: \"Lanes\",\r\n        laneDefault: \"Em aberto\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Você tem certeza que quer excluir esta Lane?\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        table: {\r\n          name: \"Nome\",\r\n          color: \"Cor\",\r\n          tickets: \"Tickets\",\r\n          actions: \"Ações\",\r\n        },\r\n        buttons: {\r\n          add: \"Nova Lane\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Lane excluída com sucesso.\",\r\n        },\r\n      },\r\n\r\n      files: {\r\n        title: \"Lista de arquivos\",\r\n        table: {\r\n          name: \"Nome\",\r\n          contacts: \"Contatos\",\r\n          actions: \"Ação\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Lista excluída com sucesso!\",\r\n          deletedAll: \"Todas as listas foram excluídas com sucesso!\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar\",\r\n          deleteAll: \"Deletar Todos\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Deletar\",\r\n          deleteAllTitle: \"Deletar Todos\",\r\n          deleteMessage: \"Tem certeza que deseja deletar esta lista?\",\r\n          deleteAllMessage: \"Tem certeza que deseja deletar todas as listas?\",\r\n        },\r\n      },\r\n      settings: {\r\n        success: \"Configurações salvas com sucesso.\",\r\n        title: \"Configurações\",\r\n        tabs: {\r\n          options: \"Opções\",\r\n          plans: \"Planos\",\r\n          helps: \"Ajuda\",\r\n        },\r\n        settings: {\r\n          userCreation: {\r\n            name: \"Criação de usuário\",\r\n            options: {\r\n              enabled: \"Ativado\",\r\n              disabled: \"Desativado\",\r\n            },\r\n          },\r\n          tabs: {\r\n            options: \"Opções\",\r\n            schedules: \"Horários\",\r\n            plans: \"Planos\",\r\n            help: \"Ajuda\",\r\n          },\r\n          options: {\r\n            disabled: \"Desabilitado\",\r\n            enabled: \"Habilitado\",\r\n            updating: \"Atualizando...\",\r\n            creationCompanyUser: \"Criação de Company/Usuário\",\r\n            evaluations: \"Avaliações\",\r\n            officeScheduling: \"Agendamento de Expediente\",\r\n            queueManagement: \"Gerenciamento por Fila\",\r\n            companyManagement: \"Gerenciamento por Empresa\",\r\n            connectionManagement: \"Gerenciamento por Conexão\",\r\n            sendGreetingAccepted: \"Enviar saudação ao aceitar o ticket\",\r\n            sendMsgTransfTicket:\r\n              \"Enviar mensagem transferência de setor/atendente\",\r\n            checkMsgIsGroup: \"Ignorar Mensagens de Grupos\",\r\n            chatBotType: \"Tipo do Bot\",\r\n            userRandom: \"Escolher atendente aleatório\",\r\n            buttons: \"Botões\",\r\n            acceptCallWhatsapp: \"Informar que não aceita ligação no whatsapp?\",\r\n            sendSignMessage: \"Permite atendente escolher ENVIAR Assinatura\",\r\n            sendGreetingMessageOneQueues:\r\n              \"Enviar saudação quando houver somente 1 fila\",\r\n            sendQueuePosition: \"Enviar mensagem com a posição da fila\",\r\n            sendFarewellWaitingTicket:\r\n              \"Enviar mensagem de despedida no Aguardando\",\r\n            acceptAudioMessageContact:\r\n              \"Aceita receber audio de todos contatos?\",\r\n            enableLGPD: \"Habilitar tratamento LGPD\",\r\n            requiredTag: \"Tag obrigatoria para fechar ticket\",\r\n            closeTicketOnTransfer: \"Fechar ticket ao transferir para outra fila\",\r\n            DirectTicketsToWallets: \"Mover automaticamente cliente para carteira\",\r\n            showNotificationPending: \"Mostrar notificação para tickets pendentes\"\r\n          },\r\n          customMessages: {\r\n            sendQueuePositionMessage: \"Mensagem de posição na fila\",\r\n            AcceptCallWhatsappMessage: \"Mensagem para informar que não aceita ligações\",\r\n            greetingAcceptedMessage: \"Mensagem de Saudação ao aceitar ticket\",\r\n            transferMessage: \"Mensagem de transferência - ${queue.name} = fila destino\",\r\n          },\r\n          LGPD: {\r\n            title: \"LGPD\",\r\n            welcome: \"Mensagem de boas vindas(LGPD)\",\r\n            linkLGPD: \"Link da política de privacidade\",\r\n            obfuscateMessageDelete: \"Ofuscar mensagem apagada\",\r\n            alwaysConsent: \"Sempre solicitar consentimento\",\r\n            obfuscatePhoneUser: \"Ofuscar número telefone para usuários\",\r\n            enabled: \"Habilitado\",\r\n            disabled: \"Desabilitado\",\r\n          },\r\n        },\r\n      },\r\n      messagesList: {\r\n        header: {\r\n          assignedTo: \"Atribuído à:\",\r\n          dialogRatingTitle:\r\n            \"Deseja deixar uma avaliação de atendimento para o cliente?\",\r\n          dialogClosingTitle: \"Finalizando o atendimento com o cliente!\",\r\n          dialogRatingCancel: \"Resolver COM Mensagem de Despedida\",\r\n          dialogRatingSuccess: \"Resolver e Enviar Avaliação\",\r\n          dialogRatingWithoutFarewellMsg: \"Resolver SEM Mensagem de Despedida\",\r\n          ratingTitle: \"Escolha um menu de avaliação\",\r\n          notMessage: \"Nenhuma mensagem selecionada\",\r\n          amount: \"Valor de prospecção\",\r\n          buttons: {\r\n            return: \"Retornar\",\r\n            resolve: \"Resolver\",\r\n            reopen: \"Reabrir\",\r\n            accept: \"Aceitar\",\r\n            rating: \"Enviar Avaliação\",\r\n            enableIntegration: \"Habilitar integração\",\r\n            disableIntegration: \"Desabilitar integração\",\r\n            logTicket: \"Logs do Ticket\",\r\n            requiredTag: \"Você deve atribuir uma tag antes de fechar o ticket.\",\r\n          },\r\n        },\r\n      },\r\n      messagesInput: {\r\n        placeholderPrivateMessage:\r\n          \"Digite uma mensagem ou aperte / para respostas rápidas\",\r\n        placeholderOpen:\r\n          \"Digite uma mensagem ou aperte / para respostas rápidas\",\r\n        placeholderClosed:\r\n          \"Reabra ou aceite esse ticket para enviar uma mensagem.\",\r\n        signMessage: \"Assinar\",\r\n        privateMessage: \"Mensagem Privada\",\r\n      },\r\n      contactDrawer: {\r\n        header: \"Dados do contato\",\r\n        buttons: {\r\n          edit: \"Editar contato\",\r\n          block: \"Bloquear\",\r\n          unblock: \"Desbloquear\",\r\n        },\r\n        extraInfo: \"Outras informações\",\r\n      },\r\n      messageVariablesPicker: {\r\n        label: \"Variavéis disponíveis\",\r\n        vars: {\r\n          contactFirstName: \"Primeiro Nome\",\r\n          contactName: \"Nome\",\r\n          user: \"Atendente\",\r\n          greeting: \"Saudação\",\r\n          protocolNumber: \"Protocolo\",\r\n          date: \"Data\",\r\n          hour: \"Hora\",\r\n          ticket_id: \"Nº do Chamado\",\r\n          queue: \"Setor\",\r\n          connection: \"Conexão\",\r\n        },\r\n      },\r\n      ticketOptionsMenu: {\r\n        schedule: \"Agendamento\",\r\n        delete: \"Deletar\",\r\n        transfer: \"Transferir\",\r\n        registerAppointment: \"Observações do Contato\",\r\n        resolveWithNoFarewell: \"Finalizar sem despedida\",\r\n        acceptAudioMessage: \"Aceitar áudios do contato?\",\r\n        appointmentsModal: {\r\n          title: \"Observações do Ticket\",\r\n          textarea: \"Observação\",\r\n          placeholder: \"Insira aqui a informação que deseja registrar\",\r\n        },\r\n        confirmationModal: {\r\n          title: \"Deletar o ticket do contato\",\r\n          titleFrom: \"do contato \",\r\n          message:\r\n            \"Atenção! Todas as mensagens relacionadas ao ticket serão perdidas.\",\r\n        },\r\n        buttons: {\r\n          delete: \"Excluir\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      confirmationModal: {\r\n        buttons: {\r\n          confirm: \"Ok\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      messageInput: {\r\n        tooltip: {\r\n          signature: \"Habilitar/Desabilitar Assinatura\",\r\n          privateMessage: \"Habilitar/Desabilitar Mensagem Privada\",\r\n          meet: \"Enviar link para videoconferencia\",\r\n        },\r\n        type: {\r\n          imageVideo: \"Fotos e vídeos\",\r\n          cam: \"Câmera\",\r\n          contact: \"Contato\",\r\n          meet: \"Vídeo chamada\",\r\n        },\r\n      },\r\n      messageOptionsMenu: {\r\n        delete: \"Deletar\",\r\n        reply: \"Responder\",\r\n        edit: \"Editar\",\r\n        forward: \"Encaminhar\",\r\n        toForward: \"Encaminhar\",\r\n        talkTo: \"Conversar Com\",\r\n        confirmationModal: {\r\n          title: \"Apagar mensagem?\",\r\n          message: \"Esta ação não pode ser revertida.\",\r\n        },\r\n      },\r\n      invoices: {\r\n        table: {\r\n          invoices: \"Faturas\",\r\n          details: \"Detalhes\",\r\n          users: \"Usuários\",\r\n          connections: \"Conexões\",\r\n          queue: \"Filas\",\r\n          value: \"Valor\",\r\n          expirationDate: \"Data Venc.\",\r\n          action: \"Ação\",\r\n        },\r\n      },\r\n      backendErrors: {\r\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padrão.\",\r\n        ERR_NO_DEF_WAPP_FOUND:\r\n          \"Nenhum WhatsApp padrão encontrado. Verifique a página de conexões.\",\r\n        ERR_WAPP_NOT_INITIALIZED:\r\n          \"Esta sessão do WhatsApp não foi inicializada. Verifique a página de conexões.\",\r\n        ERR_WAPP_CHECK_CONTACT:\r\n          \"Não foi possível verificar o contato do WhatsApp. Verifique a página de conexões\",\r\n        ERR_WAPP_INVALID_CONTACT: \"Este não é um número de Whatsapp válido.\",\r\n        ERR_WAPP_DOWNLOAD_MEDIA:\r\n          \"Não foi possível baixar mídia do WhatsApp. Verifique a página de conexões.\",\r\n        ERR_INVALID_CREDENTIALS:\r\n          \"Erro de autenticação. Por favor, tente novamente.\",\r\n        ERR_SENDING_WAPP_MSG:\r\n          \"Erro ao enviar mensagem do WhatsApp. Verifique a página de conexões.\",\r\n        ERR_DELETE_WAPP_MSG: \"Não foi possível excluir a mensagem do WhatsApp.\",\r\n        ERR_OTHER_OPEN_TICKET: \"Já existe um tíquete aberto para este contato.\",\r\n        ERR_SESSION_EXPIRED: \"Sessão expirada. Por favor entre.\",\r\n        ERR_USER_CREATION_DISABLED:\r\n          \"A criação do usuário foi desabilitada pelo administrador.\",\r\n        ERR_NO_PERMISSION: \"Você não tem permissão para acessar este recurso.\",\r\n        ERR_DUPLICATED_CONTACT: \"Já existe um contato com este número.\",\r\n        ERR_NO_SETTING_FOUND: \"Nenhuma configuração encontrada com este ID.\",\r\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\r\n        ERR_NO_TICKET_FOUND: \"Nenhum tíquete encontrado com este ID.\",\r\n        ERR_NO_USER_FOUND: \"Nenhum usuário encontrado com este ID.\",\r\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\r\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\r\n        ERR_CREATING_TICKET: \"Erro ao criar tíquete no banco de dados.\",\r\n        ERR_FETCH_WAPP_MSG:\r\n          \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\r\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\r\n          \"Esta cor já está em uso, escolha outra.\",\r\n        ERR_WAPP_GREETING_REQUIRED:\r\n          \"A mensagem de saudação é obrigatório quando há mais de uma fila.\",\r\n        ERR_OUT_OF_HOURS: \"Fora do Horário de Expediente!\",\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nexport { messages };\r\n","import { messages as portugueseMessages } from \"./pt\";\r\nimport { messages as englishMessages } from \"./en\";\r\nimport { messages as spanishMessages } from \"./es\";\r\n\r\nconst messages = {\r\n\t...portugueseMessages,\r\n\t...englishMessages,\r\n\t...spanishMessages,\r\n};\r\n\r\nexport { messages };\r\n","const messages = {\r\n\ten: {\r\n\t\ttranslations: {\r\n\t\t\tsignup: {\r\n\t\t\t\ttitle: \"Sign up\",\r\n\t\t\t\ttoasts: {\r\n\t\t\t\t\tsuccess: \"User created successfully! Please login!\",\r\n\t\t\t\t\tfail: \"Error creating user. Check the reported data.\",\r\n\t\t\t\t},\r\n\t\t\t\tform: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\temail: \"Email\",\r\n\t\t\t\t\tpassword: \"Password\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tsubmit: \"Register\",\r\n\t\t\t\t\tlogin: \"Already have an account? Log in!\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tlogin: {\r\n\t\t\t\ttitle: \"Login\",\r\n\t\t\t\tform: {\r\n\t\t\t\t\temail: \"Email\",\r\n\t\t\t\t\tpassword: \"Password\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tsubmit: \"Enter\",\r\n\t\t\t\t\tregister: \"Don't have an account? Register!\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tauth: {\r\n\t\t\t\ttoasts: {\r\n\t\t\t\t\tsuccess: \"Login successfully!\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tdashboard: {\r\n\t\t\t\tcharts: {\r\n\t\t\t\t\tperDay: {\r\n\t\t\t\t\t\ttitle: \"Tickets today: \",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tconnections: {\r\n\t\t\t\ttitle: \"Connections\",\r\n\t\t\t\ttoasts: {\r\n\t\t\t\t\tdeleted: \"WhatsApp connection deleted sucessfully!\",\r\n\t\t\t\t},\r\n\t\t\t\tconfirmationModal: {\r\n\t\t\t\t\tdeleteTitle: \"Delete\",\r\n\t\t\t\t\tdeleteMessage: \"Are you sure? It cannot be reverted.\",\r\n\t\t\t\t\tdisconnectTitle: \"Disconnect\",\r\n\t\t\t\t\tdisconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tadd: \"Add WhatsApp\",\r\n\t\t\t\t\tdisconnect: \"Disconnect\",\r\n\t\t\t\t\ttryAgain: \"Try Again\",\r\n\t\t\t\t\tqrcode: \"QR CODE\",\r\n\t\t\t\t\tnewQr: \"New QR CODE\",\r\n\t\t\t\t\tconnecting: \"Connectiing\",\r\n\t\t\t\t},\r\n\t\t\t\ttoolTips: {\r\n\t\t\t\t\tdisconnected: {\r\n\t\t\t\t\t\ttitle: \"Failed to start WhatsApp session\",\r\n\t\t\t\t\t\tcontent:\r\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\tqrcode: {\r\n\t\t\t\t\t\ttitle: \"Waiting for QR Code read\",\r\n\t\t\t\t\t\tcontent:\r\n\t\t\t\t\t\t\t\"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\tconnected: {\r\n\t\t\t\t\t\ttitle: \"Connection established\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttimeout: {\r\n\t\t\t\t\t\ttitle: \"Connection with cell phone has been lost\",\r\n\t\t\t\t\t\tcontent:\r\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\ttable: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\tstatus: \"Status\",\r\n\t\t\t\t\tlastUpdate: \"Last Update\",\r\n\t\t\t\t\tdefault: \"Default\",\r\n\t\t\t\t\tactions: \"Actions\",\r\n\t\t\t\t\tsession: \"Session\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\twhatsappModal: {\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tadd: \"Add WhatsApp\",\r\n\t\t\t\t\tedit: \"Edit WhatsApp\",\r\n\t\t\t\t},\r\n\t\t\t\tform: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\tdefault: \"Default\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tokAdd: \"Add\",\r\n\t\t\t\t\tokEdit: \"Save\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: \"WhatsApp saved successfully.\",\r\n\t\t\t},\r\n\t\t\tqrCode: {\r\n\t\t\t\tmessage: \"Read QrCode to start the session\",\r\n\t\t\t},\r\n\t\t\tcontacts: {\r\n\t\t\t\ttitle: \"Contacts\",\r\n\t\t\t\ttoasts: {\r\n\t\t\t\t\tdeleted: \"Contact deleted sucessfully!\",\r\n\t\t\t\t},\r\n\t\t\t\tsearchPlaceholder: \"Search ...\",\r\n\t\t\t\tconfirmationModal: {\r\n\t\t\t\t\tdeleteTitle: \"Delete\",\r\n\t\t\t\t\timportTitlte: \"Import contacts\",\r\n\t\t\t\t\tdeleteMessage:\r\n\t\t\t\t\t\t\"Are you sure you want to delete this contact? All related tickets will be lost.\",\r\n\t\t\t\t\timportMessage: \"Do you want to import all contacts from the phone?\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\timport: \"Import Contacts\",\r\n\t\t\t\t\tadd: \"Add Contact\",\r\n\t\t\t\t},\r\n\t\t\t\ttable: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\twhatsapp: \"WhatsApp\",\r\n\t\t\t\t\temail: \"Email\",\r\n\t\t\t\t\tactions: \"Actions\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tcontactModal: {\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tadd: \"Add contact\",\r\n\t\t\t\t\tedit: \"Edit contact\",\r\n\t\t\t\t},\r\n\t\t\t\tform: {\r\n\t\t\t\t\tmainInfo: \"Contact details\",\r\n\t\t\t\t\textraInfo: \"Additional information\",\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\tnumber: \"Whatsapp number\",\r\n\t\t\t\t\temail: \"Email\",\r\n\t\t\t\t\textraName: \"Field name\",\r\n\t\t\t\t\textraValue: \"Value\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\taddExtraInfo: \"Add information\",\r\n\t\t\t\t\tokAdd: \"Add\",\r\n\t\t\t\t\tokEdit: \"Save\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: \"Contact saved successfully.\",\r\n\t\t\t},\r\n\t\t\tqueueModal: {\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tadd: \"Add queue\",\r\n\t\t\t\t\tedit: \"Edit queue\",\r\n\t\t\t\t},\r\n\t\t\t\tform: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\tcolor: \"Color\",\r\n\t\t\t\t\tgreetingMessage: \"Greeting Message\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tokAdd: \"Add\",\r\n\t\t\t\t\tokEdit: \"Save\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tuserModal: {\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tadd: \"Add user\",\r\n\t\t\t\t\tedit: \"Edit user\",\r\n\t\t\t\t},\r\n\t\t\t\tform: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\temail: \"Email\",\r\n\t\t\t\t\tpassword: \"Password\",\r\n\t\t\t\t\tprofile: \"Profile\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tokAdd: \"Add\",\r\n\t\t\t\t\tokEdit: \"Save\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: \"User saved successfully.\",\r\n\t\t\t},\r\n\t\t\tchat: {\r\n\t\t\t\tnoTicketMessage: \"Select a ticket to start chatting.\",\r\n\t\t\t},\r\n\t\t\tticketsManager: {\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tnewTicket: \"New\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tticketsQueueSelect: {\r\n\t\t\t\tplaceholder: \"Queues\",\r\n\t\t\t},\r\n\t\t\ttickets: {\r\n\t\t\t\ttoasts: {\r\n\t\t\t\t\tdeleted: \"The ticket you were on has been deleted.\",\r\n\t\t\t\t},\r\n\t\t\t\tnotification: {\r\n\t\t\t\t\tmessage: \"Message from\",\r\n\t\t\t\t},\r\n\t\t\t\ttabs: {\r\n\t\t\t\t\topen: { title: \"Inbox\" },\r\n\t\t\t\t\tclosed: { title: \"Resolved\" },\r\n\t\t\t\t\tsearch: { title: \"Search\" },\r\n\t\t\t\t},\r\n\t\t\t\tsearch: {\r\n\t\t\t\t\tplaceholder: \"Search tickets and messages.\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tshowAll: \"All\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\ttransferTicketModal: {\r\n\t\t\t\ttitle: \"Transfer Ticket\",\r\n\t\t\t\tfieldLabel: \"Type to search for users\",\r\n\t\t\t\tnoOptions: \"No user found with this name\",\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tok: \"Transfer\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tticketsList: {\r\n\t\t\t\tpendingHeader: \"Queue\",\r\n\t\t\t\tassignedHeader: \"Working on\",\r\n\t\t\t\tnoTicketsTitle: \"Nothing here!\",\r\n\t\t\t\tnoTicketsMessage: \"No tickets found with this status or search term.\",\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\taccept: \"Accept\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tnewTicketModal: {\r\n\t\t\t\ttitle: \"Create Ticket\",\r\n\t\t\t\tfieldLabel: \"Type to search for a contact\",\r\n\t\t\t\tadd: \"Add\",\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tok: \"Save\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tmainDrawer: {\r\n\t\t\t\tlistItems: {\r\n\t\t\t\t\tdashboard: \"Dashboard\",\r\n\t\t\t\t\tconnections: \"Connections\",\r\n\t\t\t\t\ttickets: \"Tickets\",\r\n\t\t\t\t\tcontacts: \"Contacts\",\r\n\t\t\t\t\tqueues: \"Queues\",\r\n\t\t\t\t\tadministration: \"Administration\",\r\n\t\t\t\t\tusers: \"Users\",\r\n\t\t\t\t\tsettings: \"Settings\",\r\n\t\t\t\t},\r\n\t\t\t\tappBar: {\r\n\t\t\t\t\tuser: {\r\n\t\t\t\t\t\tprofile: \"Profile\",\r\n\t\t\t\t\t\tlogout: \"Logout\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tnotifications: {\r\n\t\t\t\tnoTickets: \"No notifications.\",\r\n\t\t\t},\r\n\t\t\tqueues: {\r\n\t\t\t\ttitle: \"Queues\",\r\n\t\t\t\ttable: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\tcolor: \"Color\",\r\n\t\t\t\t\tgreeting: \"Greeting message\",\r\n\t\t\t\t\tactions: \"Actions\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tadd: \"Add queue\",\r\n\t\t\t\t},\r\n\t\t\t\tconfirmationModal: {\r\n\t\t\t\t\tdeleteTitle: \"Delete\",\r\n\t\t\t\t\tdeleteMessage:\r\n\t\t\t\t\t\t\"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tqueueSelect: {\r\n\t\t\t\tinputLabel: \"Queues\",\r\n\t\t\t},\r\n\t\t\tusers: {\r\n\t\t\t\ttitle: \"Users\",\r\n\t\t\t\ttable: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\temail: \"Email\",\r\n\t\t\t\t\tprofile: \"Profile\",\r\n\t\t\t\t\tactions: \"Actions\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tadd: \"Add user\",\r\n\t\t\t\t},\r\n\t\t\t\ttoasts: {\r\n\t\t\t\t\tdeleted: \"User deleted sucessfully.\",\r\n\t\t\t\t},\r\n\t\t\t\tconfirmationModal: {\r\n\t\t\t\t\tdeleteTitle: \"Delete\",\r\n\t\t\t\t\tdeleteMessage:\r\n\t\t\t\t\t\t\"All user data will be lost. Users' open tickets will be moved to queue.\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tsettings: {\r\n\t\t\t\tsuccess: \"Settings saved successfully.\",\r\n\t\t\t\ttitle: \"Settings\",\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tuserCreation: {\r\n\t\t\t\t\t\tname: \"User creation\",\r\n\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\tenabled: \"Enabled\",\r\n\t\t\t\t\t\t\tdisabled: \"Disabled\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tmessagesList: {\r\n\t\t\t\theader: {\r\n\t\t\t\t\tassignedTo: \"Assigned to:\",\r\n\t\t\t\t\tbuttons: {\r\n\t\t\t\t\t\treturn: \"Return\",\r\n\t\t\t\t\t\tresolve: \"Resolve\",\r\n\t\t\t\t\t\treopen: \"Reopen\",\r\n\t\t\t\t\t\taccept: \"Accept\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tmessagesInput: {\r\n\t\t\t\tplaceholderOpen: \"Type a message\",\r\n\t\t\t\tplaceholderClosed: \"Reopen or accept this ticket to send a message.\",\r\n\t\t\t\tsignMessage: \"Sign\",\r\n\t\t\t},\r\n\t\t\tcontactDrawer: {\r\n\t\t\t\theader: \"Contact details\",\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tedit: \"Edit contact\",\r\n\t\t\t\t},\r\n\t\t\t\textraInfo: \"Other information\",\r\n\t\t\t},\r\n\t\t\tticketOptionsMenu: {\r\n\t\t\t\tdelete: \"Delete\",\r\n\t\t\t\ttransfer: \"Transfer\",\r\n\t\t\t\tconfirmationModal: {\r\n\t\t\t\t\ttitle: \"Delete ticket #\",\r\n\t\t\t\t\ttitleFrom: \"from contact \",\r\n\t\t\t\t\tmessage: \"Attention! All ticket's related messages will be lost.\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tdelete: \"Delete\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tconfirmationModal: {\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tconfirm: \"Ok\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tmessageOptionsMenu: {\r\n\t\t\t\tdelete: \"Delete\",\r\n\t\t\t\treply: \"Reply\",\r\n\t\t\t\tconfirmationModal: {\r\n\t\t\t\t\ttitle: \"Delete message?\",\r\n\t\t\t\t\tmessage: \"This action cannot be reverted.\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tbackendErrors: {\r\n\t\t\t\tERR_NO_OTHER_WHATSAPP:\r\n\t\t\t\t\t\"There must be at lest one default WhatsApp connection.\",\r\n\t\t\t\tERR_NO_DEF_WAPP_FOUND:\r\n\t\t\t\t\t\"No default WhatsApp found. Check connections page.\",\r\n\t\t\t\tERR_WAPP_NOT_INITIALIZED:\r\n\t\t\t\t\t\"This WhatsApp session is not initialized. Check connections page.\",\r\n\t\t\t\tERR_WAPP_CHECK_CONTACT:\r\n\t\t\t\t\t\"Could not check WhatsApp contact. Check connections page.\",\r\n\t\t\t\tERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\r\n\t\t\t\tERR_WAPP_DOWNLOAD_MEDIA:\r\n\t\t\t\t\t\"Could not download media from WhatsApp. Check connections page.\",\r\n\t\t\t\tERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\r\n\t\t\t\tERR_SENDING_WAPP_MSG:\r\n\t\t\t\t\t\"Error sending WhatsApp message. Check connections page.\",\r\n\t\t\t\tERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\r\n\t\t\t\tERR_OTHER_OPEN_TICKET:\r\n\t\t\t\t\t\"There's already an open ticket for this contact.\",\r\n\t\t\t\tERR_SESSION_EXPIRED: \"Session expired. Please login.\",\r\n\t\t\t\tERR_USER_CREATION_DISABLED:\r\n\t\t\t\t\t\"User creation was disabled by administrator.\",\r\n\t\t\t\tERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\r\n\t\t\t\tERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\r\n\t\t\t\tERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\r\n\t\t\t\tERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\r\n\t\t\t\tERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\r\n\t\t\t\tERR_NO_USER_FOUND: \"No user found with this ID.\",\r\n\t\t\t\tERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\r\n\t\t\t\tERR_CREATING_MESSAGE: \"Error while creating message on database.\",\r\n\t\t\t\tERR_CREATING_TICKET: \"Error while creating ticket on database.\",\r\n\t\t\t\tERR_FETCH_WAPP_MSG:\r\n\t\t\t\t\t\"Error fetching the message in WhtasApp, maybe it is too old.\",\r\n\t\t\t\tERR_QUEUE_COLOR_ALREADY_EXISTS:\r\n\t\t\t\t\t\"This color is already in use, pick another one.\",\r\n\t\t\t\tERR_WAPP_GREETING_REQUIRED:\r\n\t\t\t\t\t\"Greeting message is required if there is more than one queue.\",\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n};\r\n\r\nexport { messages };\r\n","const messages = {\r\n  es: {\r\n    translations: {\r\n      signup: {\r\n        title: \"Registro\",\r\n        toasts: {\r\n          success:\r\n            \"¡El usuario ha sido creado satisfactoriamente! ¡Ahora inicia sesión!\",\r\n          fail: \"Error creando el usuario. Verifica la data reportada.\",\r\n        },\r\n        form: {\r\n          name: \"Nombre\",\r\n          email: \"Correo Electrónico\",\r\n          password: \"Contraseña\",\r\n          company: \"Nombre de la Empresa\",\r\n          phone: \"Whatsapp (COD + NÚMERO)\",\r\n        },\r\n        buttons: {\r\n          submit: \"Regístrate\",\r\n          login: \"¿Ya tienes una cuenta? ¡Inicia sesión!\",\r\n        },\r\n      },\r\n      login: {\r\n        title: \"Inicio de Sesión\",\r\n        form: {\r\n          email: \"Correo Electrónico\",\r\n          password: \"Contraseña\",\r\n          button: \"Ingresar\",\r\n        },\r\n        buttons: {\r\n          submit: \"Ingresa\",\r\n          register: \"¿No tienes cuenta? ¡Regístrate!\",\r\n        },\r\n      },\r\n      companies: {\r\n        title: \"Registrar Empresa\",\r\n        form: {\r\n          name: \"Nombre de la Empresa\",\r\n          plan: \"Plan\",\r\n          token: \"Token\",\r\n          submit: \"Registrar\",\r\n          success: \"Empresa creada con éxito!\",\r\n        },\r\n      },\r\n      auth: {\r\n        toasts: {\r\n          success: \"¡Inicio de sesión exitoso!\",\r\n        },\r\n        dueDate: {\r\n          expiration: \"Suscripción caducará en\",\r\n          days: \"días!\",\r\n          day: \"día!\",\r\n          expirationToday: \"Su suscripción termina hoy!\",\r\n        },\r\n        token: \"Token\",\r\n      },\r\n      dashboard: {\r\n        tabs: {\r\n          indicators: \"Indicadores\",\r\n          assessments: \"Evaluaciones\",\r\n          attendants: \"Agentes\",\r\n        },\r\n        charts: {\r\n          perDay: {\r\n            title: \"Tickets hoy: \",\r\n          },\r\n        },\r\n        cards: {\r\n          inAttendance: \"Atención actual\",\r\n          waiting: \"Esperando\",\r\n          activeAttendants: \"Agentes Activos\",\r\n          finalized: \"Finalizados\",\r\n          newContacts: \"Nuevos Contactos\",\r\n          totalReceivedMessages: \"Total de Mensajes Recibidas\",\r\n          totalSentMessages: \"Total de Mensajes Enviadas\",\r\n          averageServiceTime: \"T.P. de Atención\",\r\n          averageWaitingTime: \"T.P. de Espera\",\r\n          status: \"Status (Actual)\",\r\n        },\r\n        users: {\r\n          name: \"Nombre\",\r\n          numberAppointments: \"Total de tickets\",\r\n          statusNow: \"Actual\",\r\n          totalCallsUser: \"Total de atención por usuario\",\r\n          totalAttendances: \"Total de atenciones\",\r\n        },\r\n        date: {\r\n          initialDate: \"Fecha Inicial\",\r\n          finalDate: \"Fecha Final\",\r\n        },\r\n        licence: {\r\n          available: \"Disponíble hasta\",\r\n        },\r\n        assessments: {\r\n          totalCalls: \"Total de Tickets\",\r\n          callsWaitRating: \"Tickets aguardando evaluación\",\r\n          callsWithoutRating: \"Ticket sin evaluación\",\r\n          ratedCalls: \"Tickets evaluados\",\r\n          evaluationIndex: \"Índice de evaluación\",\r\n          score: \"Puntaje\",\r\n          prosecutors: \"Promotores\",\r\n          neutral: \"Neutrales\",\r\n          detractors: \"Dectratores\",\r\n        },\r\n      },\r\n      reports: {\r\n        title: \"Reporte de Pesquisas Realizadas\",\r\n        operator: \"Agente\",\r\n        period: \"Período\",\r\n        until: \"Hasta\",\r\n        date: \"Fecha\",\r\n        reportTitle: \"Relatorios\",\r\n        calls: \"Atenciones\",\r\n        search: \"Pesquisas\",\r\n        durationCalls: \"Duración de la atención\",\r\n        grupoSessions: \"Atención en grupos grupos\",\r\n        groupTicketsReports: {\r\n          timezone: \"America/Monterrey\",\r\n          msgToast: \"Generando relatorio compactado, por favor espere.\",\r\n          errorToast: \"Erro ao generar relatorio\",\r\n          back: \"Volver\",\r\n          groupServiceReport: \"Relatorio de Atención en Grupos\",\r\n          loading: \"Cargando...\",\r\n          contact: \"Contacto\",\r\n          dateOpen: \"Fecha de Apertura\",\r\n          dateLastUpdated: \"Fecha Ultima Actualización\",\r\n          agent: \"Agente\",\r\n          agentClosed: \"Agente(cerró)\",\r\n          waitingAssistance: \"Esperando atención\",\r\n          process: \"En proceso\",\r\n        },\r\n        researchReports: {\r\n          response: \"respuesta\",\r\n          active: \"(Activa)\",\r\n          inactive: \"(Inactiva)\",\r\n          quantity: \"Cantidade\",\r\n          percentage: \"porcentaje\",\r\n          title: \"Relatorio de Pesquisas Realizadas\",\r\n          activeSearch: \"Pesquisa activa\",\r\n          inactiveSearch: \"Pesquisa inactiva\",\r\n        },\r\n        ticketDurationDetail: {\r\n          msgToast: \"Generando relatorio compactado, por favor espere.\",\r\n          title: \"Relatorio de Duración de la Atención\",\r\n          startService: \"Início de la Atención\",\r\n          lastUpdated: \"Última actualización\",\r\n          lastAgent: \"Último agente\",\r\n          durationFinished: \"Duración después de finalizado\",\r\n        },\r\n        ticketDuration: {\r\n          title: \"Relatorio de Duración de Atención\",\r\n          contact: \"Contacto\",\r\n          open: \"Abiertos\",\r\n          pending: \"Pendientes\",\r\n          finished: \"Finalizados\",\r\n          durationFinished: \"Duración de los finalizados\",\r\n          durationAfterFinished: \"Duración después de finalizado\",\r\n          actions: \"Acciones\",\r\n        },\r\n        ticketReports: {\r\n          msgToast: \"Generando relatorio compactado, por favor aguarde.\",\r\n          title: \"Relatrio de Atención\",\r\n        },\r\n        pdf: {\r\n          title: \"Relación de Atenciones Realizadas\",\r\n          exportTitle: \"Relación de Atenciones en Grupos Realizadas\",\r\n        },\r\n      },\r\n      todo: {\r\n        newTask: \"Nueva Tarea\",\r\n        add: \"Agregar\",\r\n        task: \"Tareas\",\r\n      },\r\n      contactImportWpModal: {\r\n        title: \"Exportar Contactos para Excel\",\r\n        buttons: {\r\n          downloadModel: \"Download - modelo de excel para importación\",\r\n          closed: \"Cerrar\",\r\n          import: \"Seleccione el archivo de excel para importar los Contactos\",\r\n        },\r\n      },\r\n      connections: {\r\n        title: \"Conexiones\",\r\n        waitConnection: \"Espere... Las conexiones serán reiniciadas!\",\r\n        newConnection: \"Nueva Conexión\",\r\n        restartConnections: \"Reiniciar Conexiones\",\r\n        callSupport: \"Soporte\",\r\n        newConnection: \"Nueva Conexión\",\r\n        toasts: {\r\n          deleted:\r\n            \"¡La conexión de WhatsApp ha sido borrada satisfactoriamente!\",\r\n          closedimported:\r\n            \"Estamos cerrando los tickets importados, por favor espere.\",\r\n        },\r\n        confirmationModal: {\r\n          closedImportedTitle: \"Cerrar tickets importados\",\r\n          closedImportedMessage:\r\n            \"¿Seguro? Todos los tickets importados seran cerrados.\",\r\n          deleteTitle: \"Borrar\",\r\n          deleteMessage: \"¿Estás seguro? Este proceso no puede ser revertido.\",\r\n          disconnectTitle: \"Desconectar\",\r\n          disconnectMessage: \"Estás seguro? Deberá volver a leer el código QR\",\r\n        },\r\n        buttons: {\r\n          add: \"Agrega WhatsApp\",\r\n          disconnect: \"Desconectar\",\r\n          tryAgain: \"Inténtalo de nuevo\",\r\n          qrcode: \"QR CODE\",\r\n          newQr: \"Nuevo QR CODE\",\r\n          closedImported: \"Cerrar todos los tickets Importados\",\r\n          preparing: \"Preparando mensajes para importación\",\r\n          importing: \"Importando Mensajes del WhatsApp\",\r\n          newQr: \"Nuevo QR CODE\",\r\n          processed: \"Processado\",\r\n          in: \"de\",\r\n          connecting: \"Conectando\",\r\n        },\r\n        typography: {\r\n          processed: \"Processado\",\r\n          in: \"de\",\r\n          date: \"Fecha del mensaje\",\r\n        },\r\n        toolTips: {\r\n          disconnected: {\r\n            title: \"No se pudo iniciar la sesión de WhatsApp\",\r\n            content:\r\n              \"Asegúrese de que su teléfono celular esté conectado a Internet y vuelva a intentarlo o solicite un nuevo código QR\",\r\n          },\r\n          qrcode: {\r\n            title: \"Esperando la lectura del código QR\",\r\n            content:\r\n              \"Haga clic en el botón 'CÓDIGO QR' y lea el Código QR con su teléfono celular para iniciar la sesión\",\r\n          },\r\n          connected: {\r\n            title: \"Conexión establecida\",\r\n          },\r\n          timeout: {\r\n            title: \"Se perdió la conexión con el teléfono celular\",\r\n            content:\r\n              \"Asegúrese de que su teléfono celular esté conectado a Internet y que WhatsApp esté abierto, o haga clic en el botón 'Desconectar' para obtener un nuevo código QR\",\r\n          },\r\n        },\r\n        table: {\r\n          name: \"Nombre\",\r\n          status: \"Estado\",\r\n          lastUpdate: \"Última Actualización\",\r\n          default: \"Por Defecto\",\r\n          actions: \"Acciones\",\r\n          session: \"Sesión\",\r\n          number: \"Número de Whatsapp\",\r\n        },\r\n      },\r\n      showTicketOpenModal: {\r\n        title: {\r\n          header: \"Servicio existente\",\r\n        },\r\n        form: {\r\n          message: \"Hay un ticket abierto para este contacto:\",\r\n          user: \"Agente\",\r\n          queue: \"Fila\",\r\n          messageWait: \"Este contacto ya está en espera.\",\r\n        },\r\n      },\r\n      showTicketLogModal: {\r\n        title: {\r\n          header: \"Historico\",\r\n        },\r\n        options: {\r\n          create: \"Ticket creado.\",\r\n          chatBot: \"ChatBot iniciado.\",\r\n          queue: \" - Fila definida.\",\r\n          open: \"iniciou la atención.\",\r\n          access: \"accesó el ticket.\",\r\n          transfered: \"transferió el ticket.\",\r\n          receivedTransfer: \"recibió el ticket transferido.\",\r\n          pending: \"regresó a la fila.\",\r\n          closed: \"cerró el ticket\",\r\n          reopen: \"abrió el ticket\",\r\n        },\r\n      },\r\n      whatsappModal: {\r\n        title: {\r\n          add: \"Agrega WhatsApp\",\r\n          edit: \"Edita WhatsApp\",\r\n        },\r\n        tabs: {\r\n          general: \"Geral\",\r\n          messages: \"Mensajes\",\r\n          assessments: \"Evaluaciones\",\r\n          integrations: \"Integraciones\",\r\n          schedules: \"Horario de trabajo\",\r\n        },\r\n        form: {\r\n          importOldMessagesEnable: \"Importar mensajes del celular\",\r\n          importOldMessages: \"Fecha de inicio\",\r\n          importRecentMessages: \"Fecha Final\",\r\n          importOldMessagesGroups: \"Importar mensajes de grupo\",\r\n          closedTicketsPostImported: \"Cerrar tickets después de la importación\",\r\n          name: \"Nombre\",\r\n          queueRedirection: \"Redirección de Fila\",\r\n          queueRedirectionDesc:\r\n            \"Seleccione una fila para los contactos que no tienen una fila para redirigir\",\r\n          default: \"Por Defecto\",\r\n          group: \"Permitir grupos\",\r\n          timeSendQueue: \"Tiempo en minutos para redireccionar a la fila\",\r\n          importAlert:\r\n            \"ATENCIÓN: Guardando, su conexión será cerrada, usted tendrá que volver a leer el QR Code para importar los mensajes\",\r\n          groupAsTicket: \"Grupos como Ticket\",\r\n          timeCreateNewTicket: \"Iniciar un nuevo ticket en *n* minutos\",\r\n          maxUseBotQueues:\r\n            \"Cantidad máxima de veces que el chatbot va a ser enviado\",\r\n          timeUseBotQueues: \"Tiempo en minutos para nuevo envío del chatbot\",\r\n          expiresTicket: \"Cerrar chats abiertos após *n* horas\",\r\n          expiresTicketNPS:\r\n            \"Cerrar chats aguardando la evaluacion luego de x minutos\",\r\n          maxUseBotQueuesNPS:\r\n            \"Cantidad máxima de veces que la evaluación será enviada\",\r\n          closeLastMessageOptions1: \"Del Agente/Cliente\",\r\n          closeLastMessageOptions2: \"Del Agente\",\r\n          outOfHoursMessage: \"Mensaje fuera de horario de atención\",\r\n          greetingMessage: \"Mensaje de saludo\",\r\n          complationMessage: \"Mensaje de conclusión\",\r\n          lgpdLinkPrivacy: \"Link para políticas de privacidad\",\r\n          lgpdMessage: \"Mensaje inicial de LPD\",\r\n          lgpdDeletedMessages: \"Ofuscar mensaje borrada por el contacto\",\r\n          lgpdSendMessage: \"Siempre solicitar confirmación del contacto\",\r\n          ratingMessage: \"Mensaje de evaluación - Rango de 0 a 10\",\r\n          token: \"Token para integración externa\",\r\n          sendIdQueue: \"Fila\",\r\n          inactiveMessage: \"Mensaje de inactividad\",\r\n          timeInactiveMessage:\r\n            \"Tiempo em minutos para el envío del aviso de inactividad\",\r\n          whenExpiresTicket:\r\n            \"Cerrar chats abiertos cuando el último mensaje sea\",\r\n          expiresInactiveMessage: \"Mensaje al cerrar por inactividade\",\r\n          prompt: \"Prompt\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        menuItem: {\r\n          enabled: \"Activado\",\r\n          disabled: \"Desactivado\",\r\n          minutes: \"minutos\",\r\n        },\r\n        success: \"WhatsApp guardado satisfactoriamente.\",\r\n        errorSendQueue:\r\n          \"Además del tiempo debes seleccinar una fila para redirecionar. Se necesitan los dos campos.\",\r\n        errorExpiresNPS:\r\n          \"Es necesario llenar el tiempo para la evaluación para el NPS.\",\r\n      },\r\n      qrCode: {\r\n        message: \"Lée el código QR para empezar la sesión.\",\r\n      },\r\n      contacts: {\r\n        title: \"Contactos\",\r\n        toasts: {\r\n          deleted: \"¡Contacto borrado satisfactoriamente!\",\r\n        },\r\n        searchPlaceholder: \"Buscar...\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Borrar\",\r\n          importTitlte: \"Importar contactos\",\r\n          exportContact: \"Exportar contactos\",\r\n          deleteMessage:\r\n            \"¿Estás seguro que deseas borrar este contacto? Todos los tickets relacionados se perderán.\",\r\n          blockContact: \"¿Estás seguro que quieres bloquear este contacto?\",\r\n          unblockContact:\r\n            \"¿Estás seguro que quieres desbloquear este contacto?\",\r\n          importMessage: \"¿Quieres importar todos los contactos del teléfono?\",\r\n          importChat: \"Importar Conversaciones\",\r\n          wantImport:\r\n            \"¿Quieres importar todas las conversaciones del teléfono?\",\r\n        },\r\n        buttons: {\r\n          import: \"Importar Contactos\",\r\n          add: \"Agregar Contacto\",\r\n          export: \"Exportar Contacto\",\r\n        },\r\n        table: {\r\n          name: \"Nombre\",\r\n          whatsapp: \"WhatsApp\",\r\n          email: \"Correo Electrónico\",\r\n          actions: \"Acciones\",\r\n          lastMessage: \"Ultimo Mensaje\",\r\n        },\r\n        menu: {\r\n          importYourPhone: \"Importar del celular por default\",\r\n          importToExcel: \"Importar / Exportar del Excel\",\r\n        },\r\n      },\r\n      forwardMessage: {\r\n        text: \"Reenviada\",\r\n      },\r\n      forwardMessageModal: {\r\n        title: \"Reenviar mensaje\",\r\n        buttons: {\r\n          ok: \"Reenviar\",\r\n        },\r\n      },\r\n      promptModal: {\r\n        form: {\r\n          name: \"Nombre\",\r\n          prompt: \"Prompt\",\r\n          voice: \"Voz\",\r\n          max_tokens: \"Máximo de Tokens en la respuesta\",\r\n          temperature: \"Temperatura\",\r\n          apikey: \"API Key\",\r\n          max_messages: \"Máximo de mensajes del Historico\",\r\n          voiceKey: \"Llave de la API de la Voz\",\r\n          voiceRegion: \"Región de la Voz\",\r\n        },\r\n        success: \"Prompt guardado\",\r\n        title: {\r\n          add: \"Agregar Prompt\",\r\n          edit: \"Editar Prompt\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      prompts: {\r\n        title: \"Prompts\",\r\n        table: {\r\n          name: \"Nombre\",\r\n          queue: \"Sector/Fila\",\r\n          max_tokens: \"Máximo Tokens Respuestas\",\r\n          actions: \"Acciones\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"¿Estás seguro? ¡Esta acción no se puede revertir!\",\r\n        },\r\n        buttons: {\r\n          add: \"Agregar Prompt\",\r\n        },\r\n      },\r\n      contactModal: {\r\n        title: {\r\n          add: \"Agregar contacto\",\r\n          edit: \"Editar contacto\",\r\n        },\r\n        form: {\r\n          mainInfo: \"Detalles del contacto\",\r\n          extraInfo: \"Información adicional\",\r\n          name: \"Nombre\",\r\n          number: \"Número de Whatsapp\",\r\n          email: \"Correo Electrónico\",\r\n          extraName: \"Nombre del Campo\",\r\n          extraValue: \"Valor\",\r\n          chatBotContact: \"Desactivar chatbot para este contacto\",\r\n          termsLGDP: \"Términos P.P. aceptados en:\",\r\n          allTicket: \"Visualizar tickets sin fila\",\r\n          allowGroup: \"Permitir grupos\",\r\n        },\r\n        buttons: {\r\n          addExtraInfo: \"Agregar información\",\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Contacto guardado satisfactoriamente.\",\r\n      },\r\n      queueModal: {\r\n        title: {\r\n          queueData: \"Datos de la fila\",\r\n          text: \"Horarios de atención\",\r\n          add: \"Agregar fila\",\r\n          edit: \"Editar fila\",\r\n          confirmationDelete:\r\n            \"¿Está seguro? Todas las opciones integradas también se eliminarán.\",\r\n        },\r\n        form: {\r\n          name: \"Nombre\",\r\n          color: \"Color\",\r\n          orderQueue: \"Orden de la fila (Bot)\",\r\n          rotate: \"Rotativo\",\r\n          timeRotate: \"Tiempo de Rotación\",\r\n          greetingMessage: \"Mensaje de saludo\",\r\n          complationMessage: \"Mensaje de cierre\",\r\n          outOfHoursMessage: \"Mensaje fuera de horario de atención\",\r\n          token: \"Token\",\r\n          integrationId: \"Integración\",\r\n          fileListId: \"Listado de archivos\",\r\n          closeTicket: \"Cerrar ticket\",\r\n          queueType: \"Tipo de menu\",\r\n          message: \"Mensaje de respuesta\",\r\n          queue: \"Fila para transferencia\",\r\n          integration: \"Integración\",\r\n          file: \"Listado de archivos\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        bot: {\r\n          title: \"Opciones\",\r\n          toolTipTitle: \"Agregue las opciones para construir un chatbot\",\r\n          toolTip:\r\n            \"Si solo hay una opción, se elegirá automáticamente, lo que hará que el bot responda con el mensaje de la opción y avance.\",\r\n          selectOption: \"Seleccione una opción\",\r\n          text: \"Texto\",\r\n          attendent: \"Agente\",\r\n          queue: \"Fila\",\r\n          integration: \"Integranción\",\r\n          file: \"Archivo\",\r\n          toolTipMessageTitle:\r\n            \"El mensaje es obligatorio para pasar al siguiente nivel\",\r\n          toolTipMessageContent:\r\n            \"El mensaje es obligatorio para pasar al siguiente nivel\",\r\n          selectUser: \"Seleccione un Usuario\",\r\n          selectQueue: \"Seleccione una Fila\",\r\n          selectIntegration: \"Seleccione um Integración\",\r\n          addOptions: \"Agregar opciones\",\r\n        },\r\n        serviceHours: {\r\n          dayWeek: \"Día\",\r\n          startTimeA: \"Hora de Inicio\",\r\n          endTimeA: \"Hora del término\",\r\n          startTimeB: \"Hora de Inicio\",\r\n          endTimeB: \"Hora del término\",\r\n          monday: \"Lunes\",\r\n          tuesday: \"Martes\",\r\n          wednesday: \"Miércoles\",\r\n          thursday: \"Jueves\",\r\n          friday: \"Viernes\",\r\n          saturday: \"Sabado\",\r\n          sunday: \"Domingo\",\r\n        },\r\n      },\r\n      queueIntegrationModal: {\r\n        title: {\r\n          add: \"Agregar proyecto\",\r\n          edit: \"Editar proyecto\",\r\n        },\r\n        form: {\r\n          id: \"ID\",\r\n          type: \"Tipo\",\r\n          name: \"Nombre\",\r\n          projectName: \"Nombre del Proyecto\",\r\n          language: \"Idioma\",\r\n          jsonContent: \"JsonContent\",\r\n          urlN8N: \"URL\",\r\n          typebotSlug: \"Typebot - Slug\",\r\n          typebotExpires: \"Tiempo en minutos para expirar una conversación\",\r\n          typebotKeywordFinish: \"Palabra para finalizar la conversación\",\r\n          typebotUnknownMessage: \"Mensaje de opción invalida\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n          test: \"Probar Bot\",\r\n        },\r\n        messages: {\r\n          testSuccess: \"¡Integración testada con éxito!\",\r\n          addSuccess: \"¡Integración agregada con éxito!\",\r\n          editSuccess: \"¡Integración editada con éxito!\",\r\n        },\r\n      },\r\n      userModal: {\r\n        warning:\r\n          \"Para importar los mensajes por favor vuelva a leer el QRCode.\",\r\n        title: {\r\n          add: \"Agregar usuario\",\r\n          edit: \"Editar usuario\",\r\n          updateImage: \"Actualizar Imagen\",\r\n          removeImage: \"Excluir Imagen\",\r\n        },\r\n        form: {\r\n          name: \"Nombre\",\r\n          email: \"Correo Electrónico\",\r\n          password: \"Contraseña\",\r\n          farewellMessage: \"Mensaje de despedida\",\r\n          profile: \"Perfil\",\r\n          startWork: \"Inicio del Horario\",\r\n          endWork: \"Final del Horario\",\r\n          whatsapp: \"Conexión Defautl\",\r\n          allTicketEnable: \"Activado\",\r\n          allTicketDisable: \"Desactivado\",\r\n          allTicket: \"Visualizar mensajes sin fila\",\r\n          allowGroup: \"Permitir Grupos\",\r\n          defaultMenuOpen: \"Abierto\",\r\n          defaultMenuClosed: \"Cerrado\",\r\n          defaultMenu: \"Menu Estándar\",\r\n          defaultTheme: \"Tema Estándar\",\r\n          defaultThemeDark: \"Oscuro\",\r\n          defaultThemeLight: \"Claro\",\r\n          allHistoric: \"Ver historicos\",\r\n          allHistoricEnabled: \"Activado\",\r\n          allHistoricDisabled: \"Desactivado\",\r\n          allUserChat: \"Ver conversación de otros usuarios\",\r\n          userClosePendingTicket: \"Permitir cerrar tickets pendientes\",\r\n          showDashboard: \"Ver Dashboard\",\r\n        },\r\n        tabs: {\r\n          general: \"General\",\r\n          permissions: \"Permissos\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n          addImage: \"Agregar Imagen\",\r\n          editImage: \"Editar Imagen\",\r\n        },\r\n        success: \"Usuario guardado satisfactoriamente.\",\r\n      },\r\n      companyModal: {\r\n        title: {\r\n          add: \"Agregar empresa\",\r\n          edit: \"Editar empresa\",\r\n        },\r\n        form: {\r\n          name: \"Nombre\",\r\n          email: \"Correo electrónico\",\r\n          passwordDefault: \"Contraseña\",\r\n          numberAttendants: \"Usuarios\",\r\n          numberConections: \"Conexiones\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"La Empresa fue guardada satisfactoriamente.\",\r\n      },\r\n      scheduleModal: {\r\n        title: {\r\n          add: \"Nuevo Programa\",\r\n          edit: \"Editar Programa\",\r\n        },\r\n        form: {\r\n          body: \"Mensaje\",\r\n          contact: \"Contacto\",\r\n          sendAt: \"Fecha del Programa\",\r\n          sentAt: \"Fecha de Envío\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Programa guardado satisfactoriamente.\",\r\n      },\r\n      tagModal: {\r\n        title: {\r\n          add: \"Nueva Tag\",\r\n          edit: \"Editar Tag\",\r\n          addKanban: \"Nueva Lane\",\r\n          editKanban: \"Editar Lane\",\r\n        },\r\n        form: {\r\n          name: \"Nombre\",\r\n          color: \"Color\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Tag guardada satisfactoriamente.\",\r\n        successKanban: \"Lane guardada satisfactoriamente.\",\r\n      },\r\n      fileModal: {\r\n        title: {\r\n          add: \"Agregar menú de evaluación\",\r\n          edit: \"Editar menú de evaluación\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Guardar\",\r\n          okEdit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n          fileOptions: \"Agregar archivo\",\r\n        },\r\n        form: {\r\n          name: \"Nombre\",\r\n          message: \"Mensaje de Evaluación\",\r\n          options: \"Opciones de Evaluación\",\r\n          extraName: \"Nombre de la opción\",\r\n          extraValue: \"Valor de la opción\",\r\n        },\r\n        success: \"Evaluación guardada satisfactoriamente.\",\r\n      },\r\n      chat: {\r\n        noTicketMessage: \"Selecciona un ticket para empezar a chatear.\",\r\n      },\r\n      uploads: {\r\n        titles: {\r\n          titleUploadMsgDragDrop:\r\n            \"⬇️ ARRASTRE Y SUELTE LOS ARCHIVOS EN EL CAMPO ⬇️\",\r\n          titleFileList: \"Listado de archivo(s)\",\r\n        },\r\n      },\r\n      chatInternal: {\r\n        new: \"Nuevo\",\r\n        modal: {\r\n          conversation: \"Inicio\",\r\n          title: \"Título\",\r\n          filterUsers: \"Filtro por Usuarios\",\r\n          cancel: \"Cerrar\",\r\n          save: \"Guardar\",\r\n        },\r\n        modalDelete: {\r\n          title: \"Excluir Chat\",\r\n          message: \"Esta acción no se puede revertir, ¿confirmar?\",\r\n        },\r\n      },\r\n      ticketsManager: {\r\n        questionCloseTicket: \"¿Quieres cerrar todos los tickets?\",\r\n        yes: \"SI\",\r\n        not: \"NO\",\r\n        buttons: {\r\n          newTicket: \"Nuevo\",\r\n          resolvAll: \"Resolver Todos\",\r\n          close: \"Cerrar\",\r\n          new: \"Nuevo\",\r\n        },\r\n      },\r\n      ticketsQueueSelect: {\r\n        placeholder: \"Filas\",\r\n      },\r\n      tickets: {\r\n        inbox: {\r\n          closedAllTickets: \"¿Cerrar todos los tickets?\",\r\n          closedAll: \"Cerrar Todos\",\r\n          newTicket: \"Nuevo Ticket\",\r\n          yes: \"SI\",\r\n          no: \"NO\",\r\n          open: \"Abiertos\",\r\n          resolverd: \"Resueltos\",\r\n        },\r\n        toasts: {\r\n          deleted: \"El ticket en el que estabas ha sido borrado.\",\r\n        },\r\n        notification: {\r\n          message: \"Mensaje de\",\r\n        },\r\n        tabs: {\r\n          open: { title: \"Bandeja\" },\r\n          closed: { title: \"Resueltos\" },\r\n          search: { title: \"Buscar\" },\r\n        },\r\n        search: {\r\n          placeholder: \"Buscar tickets y mensajes.\",\r\n          filterConections: \"Filtro por Conexión\",\r\n          filterConectionsOptions: {\r\n            open: \"Abierto\",\r\n            closed: \"Cerrado\",\r\n            pending: \"Pendiente\",\r\n          },\r\n          filterUsers: \"Filtro por usuarios\",\r\n        },\r\n        buttons: {\r\n          showAll: \"Todos\",\r\n          returnQueue: \"Regresar a la Fila\",\r\n          scredule: \"Programar\",\r\n          deleteTicket: \"Borrar Ticket\",\r\n        },\r\n        closedTicket: {\r\n          closedMessage: \"Cerrar CON un mensaje de despedida\",\r\n          closedNotMessage: \"Cerrar SIN un mensaje de despedida\",\r\n        },\r\n      },\r\n      transferTicketModal: {\r\n        title: \"Transferir Ticket\",\r\n        fieldLabel: \"Escriba para buscar usuarios\",\r\n        fieldQueueLabel: \"Transferir para fila\",\r\n        fieldQueuePlaceholder: \"Seleccione una fila\",\r\n        fieldWhatsapp: \"Seleccione un whatsapp\",\r\n        noOptions: \"No se encontraron usuarios con ese nombre\",\r\n        msgTransfer:\r\n          \"Observación - los mensajes internos, no serán visualizados por el cliente.\",\r\n        buttons: {\r\n          ok: \"Transferir\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      chatInternal: {\r\n        new: \"Nuevo\",\r\n        modal: {\r\n          conversation: \"Conversación\",\r\n          title: \"Título\",\r\n          filterUsers: \"Filtro por Usuarios\",\r\n          cancel: \"Cerrar\",\r\n          save: \"Guardar\",\r\n        },\r\n        modalDelete: {\r\n          title: \"Excluir Conversación\",\r\n          message: \"Esta acción no se puede revertir, ¿confirmar?\",\r\n        },\r\n      },\r\n      ticketsList: {\r\n        called: \"Entradas\",\r\n        today: \"Hoy\",\r\n        missedCall: \"Llamada de voz/vídeo perdida a las\",\r\n        pendingHeader: \"Esperando\",\r\n        assignedHeader: \"Trabajando en\",\r\n        groupingHeader: \"Grupos\",\r\n        noTicketsTitle: \"¡Nada acá!\",\r\n        noTicketsMessage:\r\n          \"No se encontraron tickets con este estado o término de búsqueda\",\r\n        noQueue: \"Sin Fila\",\r\n        buttons: {\r\n          accept: \"Aceptar\",\r\n          cancel: \"Cancelar\",\r\n          start: \"Iniciar\",\r\n          closed: \"Cerrar\",\r\n          reopen: \"Reabrir\",\r\n          transfer: \"Transferir\",\r\n          ignore: \"Ignorar\",\r\n          exportAsPDF: \"Exportar para PDF\",\r\n        },\r\n        acceptModal: {\r\n          title: \"Aceptar Chat\",\r\n          queue: \"Seleccionar tag\",\r\n        },\r\n      },\r\n      newTicketModal: {\r\n        title: \"Crear Ticket\",\r\n        fieldLabel: \"Escribe para buscar un contacto\",\r\n        add: \"Agregar\",\r\n        buttons: {\r\n          ok: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      SendContactModal: {\r\n        title: \"Enviar contacto\",\r\n        fieldLabel: \"Buscar contacto\",\r\n        add: \"Agregar\",\r\n        buttons: {\r\n          ok: \"Enviar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      mainDrawer: {\r\n        listItems: {\r\n          dashboard: \"Dashboard\",\r\n          connections: \"Conexiones\",\r\n          chatsTempoReal: \"Panel de Asistencia\",\r\n          tickets: \"Inbox\",\r\n          quickMessages: \"Respuestas Rápidas\",\r\n          contacts: \"Contactos\",\r\n          queues: \"Filas\",\r\n          tags: \"Tags\",\r\n          administration: \"Administración\",\r\n          companies: \"Empresas\",\r\n          users: \"Usuarios\",\r\n          settings: \"Configuración\",\r\n          ratings: \"Regist. Evaluaciones\",\r\n          helps: \"Ayuda\",\r\n          messagesAPI: \"API\",\r\n          schedules: \"Programa\",\r\n          campaigns: \"Campañas\",\r\n          annoucements: \"Informativos\",\r\n          chats: \"Chat Interno\",\r\n          financeiro: \"Financiero\",\r\n          queueIntegration: \"Integraciones\",\r\n          version: \"Versión\",\r\n          kanban: \"Kanban\",\r\n          prompts: \"Talk.Ai\",\r\n          allConnections: \"Admin conexiones\",\r\n        },\r\n        appBar: {\r\n          user: {\r\n            profile: \"Perfil\",\r\n            logout: \"Cerrar Sesión\",\r\n            message: \"Hola\",\r\n            messageEnd: \"bienvenido a\",\r\n            active: \"Activo hasta\",\r\n            goodMorning: \"Hola,\",\r\n            myName: \"mi nombre es\",\r\n            continuity: \"y te seguiré apoyando.\",\r\n            virtualAssistant: \"Asistente Virtual\",\r\n            token:\r\n              \"Token inválido, favor comunicarse con el administrador de la plataforma.\",\r\n          },\r\n          message: {\r\n            location: \"Localización\",\r\n            contact: \"Contacto\",\r\n          },\r\n          notRegister: \"No hay registros\",\r\n          refresh: \"Atuaclizar\",\r\n        },\r\n      },\r\n      languages: {\r\n        undefined: \"Idioma\",\r\n        \"es-Mx\": \"Español\",\r\n        es: \"Español\",\r\n        en: \"English\",\r\n        tr: \"Türkçe\",\r\n      },\r\n      messagesAPI: {\r\n        title: \"API\",\r\n        textMessage: {\r\n          number: \"Número\",\r\n          body: \"Mensaje\",\r\n          token: \"Token registrado\",\r\n          userId: \"ID usuario/agente\",\r\n          queueId: \"ID Fila\",\r\n        },\r\n        mediaMessage: {\r\n          number: \"Número\",\r\n          body: \"Nombre del archivo\",\r\n          media: \"Archivo\",\r\n          token: \"Token registrado\",\r\n        },\r\n        API: {\r\n          title: \"Documentación para envío de mensajes\",\r\n          methods: {\r\n            title: \"Métodos de Envío\",\r\n            messagesText: \"Mensajes de Texto\",\r\n            messagesMidia: \"Mensajes de Midia\",\r\n          },\r\n          instructions: {\r\n            title: \"Instrucciones\",\r\n            comments: \"Observaciones Importantes\",\r\n            comments1:\r\n              \"Antes de enviar mensajes, es necesario registrar el token vinculado a la conexión que enviará los mensajes. <br />Para registrarse, acceda al menú 'Conexiones', haga clic en el botón de edición de la conexión e inserte el token en el campo correspondiente.\",\r\n            comments2:\r\n              \"El número de envío no debe tener máscara ni caracteres especiales y debe constar de:\",\r\n            codeCountry: \"Código del País\",\r\n            code: \"Código del Estado\",\r\n            number: \"Numero\",\r\n          },\r\n          text: {\r\n            title: \"1. Mensajes de Texto\",\r\n            instructions:\r\n              \"A continuación se muestra la lista de información necesaria para enviar mensajes de texto:\",\r\n          },\r\n          media: {\r\n            title: \"2. Mensagens de Media\",\r\n            instructions:\r\n              \"A continuación se muestra la lista de información necesaria para enviar mensajes con archivos:\",\r\n          },\r\n        },\r\n      },\r\n      notifications: {\r\n        noTickets: \"Sin notificaciones.\",\r\n      },\r\n      quickMessages: {\r\n        title: \"Respuestas Rápidas\",\r\n        searchPlaceholder: \"Buscar...\",\r\n        noAttachment: \"No hay\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta acción no se puede revertir. ¿Continuar?\",\r\n        },\r\n        buttons: {\r\n          add: \"Agregar\",\r\n          attach: \"Adjuntar Archivo\",\r\n          cancel: \"Cancelar\",\r\n          edit: \"Editar\",\r\n        },\r\n        toasts: {\r\n          success: \"Atajo agregado satisfactoriamente.\",\r\n          deleted: \"Atajo excluido satisfactoriamente.\",\r\n        },\r\n        dialog: {\r\n          title: \"Mensaje Rápida\",\r\n          shortcode: \"Atajo\",\r\n          message: \"Respuesta\",\r\n          save: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n          geral: \"Global\",\r\n          add: \"Agregar\",\r\n          edit: \"Editar\",\r\n          visao: \"Permitir visión\",\r\n        },\r\n        table: {\r\n          shortcode: \"Atajo\",\r\n          message: \"Mensaje\",\r\n          actions: \"Acciones\",\r\n          mediaName: \"Nombre del Archivo\",\r\n          status: \"Status\",\r\n        },\r\n      },\r\n      contactLists: {\r\n        title: \"Listado de Contactos\",\r\n        table: {\r\n          name: \"Nombre\",\r\n          contacts: \"Contactos\",\r\n          actions: \"Acciones\",\r\n        },\r\n        buttons: {\r\n          add: \"Nuevo Listado\",\r\n        },\r\n        dialog: {\r\n          name: \"Nombre\",\r\n          company: \"Empresa\",\r\n          okEdit: \"Editar\",\r\n          okAdd: \"Agregar\",\r\n          add: \"Agregar\",\r\n          edit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta acción no se puede revertir.\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n      contactListItems: {\r\n        title: \"Contactos\",\r\n        searchPlaceholder: \"Búsqueda\",\r\n        buttons: {\r\n          add: \"Nuevo\",\r\n          lists: \"Listados\",\r\n          import: \"Importar\",\r\n        },\r\n        dialog: {\r\n          name: \"Nombre\",\r\n          number: \"Número\",\r\n          whatsapp: \"Whatsapp\",\r\n          email: \"Correo electrónico\",\r\n          okEdit: \"Editar\",\r\n          okAdd: \"Agregar\",\r\n          add: \"Agregar\",\r\n          edit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        table: {\r\n          name: \"Nombre\",\r\n          number: \"Número\",\r\n          whatsapp: \"Whatsapp\",\r\n          email: \"Correo electrónico\",\r\n          actions: \"Acciones\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta acción no se puede revertir.\",\r\n          importMessage: \"¿Quieres importar esta plantilla? \",\r\n          importTitlte: \"Importar\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n      kanban: {\r\n        title: \"Kanban\",\r\n        searchPlaceholder: \"Búsqueda\",\r\n        subMenus: {\r\n          list: \"Admin\",\r\n          tags: \"Lanes\",\r\n        },\r\n      },\r\n      campaigns: {\r\n        title: \"Campañas\",\r\n        searchPlaceholder: \"Búsqueda\",\r\n        subMenus: {\r\n          list: \"Listados\",\r\n          listContacts: \"Listados de contatos\",\r\n          settings: \"Configuraciones\",\r\n        },\r\n        settings: {\r\n          randomInterval: \"Intervalo de disparo aleatorio\",\r\n          noBreak: \"Sin Intervalo\",\r\n          intervalGapAfter: \"Intervalo mayor después de\",\r\n          undefined: \"No definido\",\r\n          messages: \"mensajes\",\r\n          laggerTriggerRange: \"Intervalo de envío más grande\",\r\n          addVar: \"Agregar variable\",\r\n          save: \"Guardar\",\r\n          close: \"Cerrar\",\r\n          add: \"Agregar\",\r\n          shortcut: \"Atajo\",\r\n          content: \"Contenido\",\r\n        },\r\n        buttons: {\r\n          add: \"Nueva Campaña\",\r\n          contactLists: \"Listado de Contactos\",\r\n        },\r\n        table: {\r\n          name: \"Nombre\",\r\n          whatsapp: \"Conexión\",\r\n          contactList: \"Listado de Contactos\",\r\n          option: \"Ninguna\",\r\n          disabled: \"Activada\",\r\n          enabled: \"Desactivada\",\r\n          status: \"Status\",\r\n          scheduledAt: \"Programa\",\r\n          completedAt: \"Finalizada\",\r\n          confirmation: \"Confirmación\",\r\n          actions: \"Acciones\",\r\n        },\r\n        dialog: {\r\n          new: \"Nueva Campaña\",\r\n          update: \"Editar Campaña\",\r\n          readonly: \"Solo Visualizar\",\r\n          help: \"Use variables como {nombre}, {numero}, {email} o defina variables personalizadas.\",\r\n          form: {\r\n            name: \"Nombre\",\r\n            message1: \"Mensaje 1\",\r\n            message2: \"Mensaje 2\",\r\n            message3: \"Mensaje 3\",\r\n            message4: \"Mensaje 4\",\r\n            message5: \"Mensaje 5\",\r\n            confirmationMessage1: \"Mensaje de Confirmación 1\",\r\n            confirmationMessage2: \"Mensaje de Confirmación 2\",\r\n            confirmationMessage3: \"Mensaje de Confirmación 3\",\r\n            confirmationMessage4: \"Mensaje de Confirmación 4\",\r\n            confirmationMessage5: \"Mensaje de Confirmación 5\",\r\n            messagePlaceholder: \"Contenido del Mensaje\",\r\n            whatsapp: \"Conexión\",\r\n            status: \"Status\",\r\n            scheduledAt: \"Programa\",\r\n            confirmation: \"Confirmación\",\r\n            contactList: \"Listado de Contacto\",\r\n            tagList: \"Tags\",\r\n            statusTicket: \"Status del Ticket\",\r\n            openTicketStatus: \"Abierto\",\r\n            closedTicketStatus: \"Cerrado\",\r\n            enabledOpenTicket: \"Activado\",\r\n            disabledOpenTicket: \"Desactivado\",\r\n            openTicket: \"Abrir ticket\",\r\n          },\r\n          buttons: {\r\n            add: \"Agregar\",\r\n            edit: \"Actualizar\",\r\n            okadd: \"Ok\",\r\n            cancel: \"Cancelar Envíos\",\r\n            restart: \"Reiniciar Envíos\",\r\n            close: \"Cerrar\",\r\n            attach: \"Anexar Archivo\",\r\n          },\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta acción no se puede revertir.\",\r\n        },\r\n        toasts: {\r\n          success: \"Acción realizada satisfactoriamente\",\r\n          cancel: \"Campaña cancelada\",\r\n          restart: \"Campaña reiniciada\",\r\n          deleted: \"Registro excluido\",\r\n        },\r\n      },\r\n      campaignReport: {\r\n        title: \"Reporte de\",\r\n        inactive: \"Inactiva\",\r\n        scheduled: \"Programada\",\r\n        process: \"En Proceso\",\r\n        cancelled: \"Cancelada\",\r\n        finished: \"Finalizada\",\r\n        campaign: \"Campaña\",\r\n        validContacts: \"Contactos Válidos\",\r\n        confirmationsRequested: \"Confirmaciones Solicitadas\",\r\n        confirmations: \"Confirmaciones\",\r\n        deliver: \"Entregadas\",\r\n        connection: \"Conexión\",\r\n        contactLists: \"Listado de Contactos\",\r\n        schedule: \"Programados\",\r\n        conclusion: \"Conclusión\",\r\n      },\r\n      announcements: {\r\n        title: \"Boletines\",\r\n        searchPlaceholder: \"Búsqueda\",\r\n        active: \"Activo\",\r\n        inactive: \"Inactivo\",\r\n        buttons: {\r\n          add: \"Nuevo Boletin\",\r\n          contactLists: \"Listados de Boletines\",\r\n        },\r\n        table: {\r\n          priority: \"Prioridad\",\r\n          title: \"Título\",\r\n          text: \"Texto\",\r\n          mediaName: \"Archivo\",\r\n          status: \"Status\",\r\n          actions: \"Acciones\",\r\n        },\r\n        dialog: {\r\n          edit: \"Editar Boletin\",\r\n          add: \"Nuevo Boletin\",\r\n          update: \"Editar Boletin\",\r\n          readonly: \"Solo visualizar\",\r\n          form: {\r\n            priority: \"Prioridad\",\r\n            title: \"Título\",\r\n            text: \"Texto\",\r\n            mediaPath: \"Archivo\",\r\n            status: \"Status\",\r\n            high: \"Alta\",\r\n            medium: \"Mediana\",\r\n            low: \"Baja\",\r\n            active: \"Activo\",\r\n            inactive: \"Inactivo\",\r\n          },\r\n          buttons: {\r\n            add: \"Agregar\",\r\n            edit: \"Actualizar\",\r\n            okadd: \"Ok\",\r\n            cancel: \"Cancelar\",\r\n            close: \"Cerrar\",\r\n            attach: \"Anexar Archivo\",\r\n          },\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta acción no se puede revertir.\",\r\n        },\r\n        toasts: {\r\n          success: \"Acción realizada satisfactoriamente\",\r\n          deleted: \"Registro excluido\",\r\n        },\r\n      },\r\n      campaignsConfig: {\r\n        title: \"Configuraciones de Campañas\",\r\n      },\r\n      queues: {\r\n        title: \"Filas\",\r\n        table: {\r\n          name: \"Nombre\",\r\n          color: \"Color\",\r\n          greeting: \"Mensaje de saludo\",\r\n          orderQueue: \"Orden de la fila (bot)\",\r\n          actions: \"Acciones\",\r\n          ID: \"ID\",\r\n        },\r\n        buttons: {\r\n          add: \"Agregar fila\",\r\n        },\r\n        toasts: {\r\n          success: \"Fila guardada\",\r\n          deleted: \"Fila excluida\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Eliminar\",\r\n          deleteMessage:\r\n            \"¿Estás seguro? ¡Esta acción no se puede revertir! Los tickets en esa fila seguirán existiendo, pero ya no tendrán ninguna fila asignada.\",\r\n        },\r\n      },\r\n      queue: {\r\n        queueData: \"Datos\",\r\n      },\r\n      queueSelect: {\r\n        inputLabel: \"Filas\",\r\n        inputLabelRO: \"Filas solo para lectura\",\r\n      },\r\n      queueIntegration: {\r\n        title: \"Integraciones\",\r\n        table: {\r\n          id: \"ID\",\r\n          type: \"Tipo\",\r\n          name: \"Nombre\",\r\n          projectName: \"Nombre del Proyecto\",\r\n          language: \"Idioma\",\r\n          lastUpdate: \"Ultima actualización\",\r\n          actions: \"Acciones\",\r\n        },\r\n        buttons: {\r\n          add: \"Agregar Proyecto\",\r\n        },\r\n        searchPlaceholder: \"Buscar...\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage:\r\n            \"¿Estás seguro? ¡Esta acción no se puede revertir! Se eliminarán las filas y conexiones enlazadas\",\r\n        },\r\n      },\r\n      users: {\r\n        title: \"Usuarios\",\r\n        table: {\r\n          status: \"Status\",\r\n          name: \"Nombre\",\r\n          email: \"Correo Electrónico\",\r\n          profile: \"Perfil\",\r\n          startWork: \"Inicio del trabajo\",\r\n          endWork: \"Final de trabajo\",\r\n          actions: \"Acciones\",\r\n          ID: \"ID\",\r\n        },\r\n        buttons: {\r\n          add: \"Agregar usuario\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Usuario borrado satisfactoriamente.\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Borrar\",\r\n          deleteMessage:\r\n            \"Toda la información del usuario se perderá. Los tickets abiertos de los usuarios se moverán a la fila.\",\r\n        },\r\n      },\r\n      compaies: {\r\n        title: \"Empresas\",\r\n        table: {\r\n          ID: \"ID\",\r\n          status: \"Activo\",\r\n          name: \"Nombre\",\r\n          email: \"Correo\",\r\n          password: \"Contraseña\",\r\n          phone: \"Teléfono\",\r\n          plan: \"Plan\",\r\n          active: \"Activo\",\r\n          numberAttendants: \"Agentes\",\r\n          numberConections: \"Conexiones\",\r\n          value: \"Valor\",\r\n          namePlan: \"Nombre del Plan\",\r\n          numberQueues: \"Filas\",\r\n          useCampaigns: \"Campañas\",\r\n          useExternalApi: \"Rest API\",\r\n          useFacebook: \"Facebook\",\r\n          useInstagram: \"Instagram\",\r\n          useWhatsapp: \"Whatsapp\",\r\n          useInternalChat: \"Chat Interno\",\r\n          useSchedules: \"Programa\",\r\n          createdAt: \"F.Creación\",\r\n          dueDate: \"Caducidad\",\r\n          lastLogin: \"Ult. Login\",\r\n          actions: \"Acciones\",\r\n          money: \"MXN\",\r\n          yes: \"Si\",\r\n          no: \"No\",\r\n          document: \"CURP/RFC\",\r\n          recurrence: \"Recurencia\",\r\n          monthly: \"Mensual\",\r\n          bimonthly: \"Bimestral\",\r\n          quarterly: \"Trimestral\",\r\n          semester: \"Semestral\",\r\n          yearly: \"Anual\",\r\n          clear: \"Limpiar\",\r\n          delete: \"Eliminar\",\r\n          user: \"Usuario\",\r\n          save: \"Guardar\",\r\n        },\r\n        buttons: {\r\n          add: \"Agregar empresa\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Empresa excluida satisfactoriamente.\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage:\r\n            \"Todas las informaciones de la empresa serán eliminadas. Los tickets abiertos de este usuário serán movidos a la fila.\",\r\n        },\r\n      },\r\n      plans: {\r\n        form: {\r\n          name: \"Nombre\",\r\n          users: \"Usuarios\",\r\n          connections: \"Conexiones\",\r\n          campaigns: \"Campañas\",\r\n          schedules: \"Programas\",\r\n          enabled: \"Activada\",\r\n          disabled: \"Desactivada\",\r\n          clear: \"Limpiar\",\r\n          delete: \"Eliminar\",\r\n          save: \"Guardar\",\r\n          yes: \"Si\",\r\n          no: \"No\",\r\n          money: \"MXN\",\r\n        },\r\n      },\r\n      helps: {\r\n        title: \"Ayuda\",\r\n        settings: {\r\n          codeVideo: \"Código del Video\",\r\n          description: \"Descripción\",\r\n          clear: \"Limpiar\",\r\n          delete: \"Eliminar\",\r\n          save: \"Guardar\",\r\n        },\r\n      },\r\n      schedules: {\r\n        title: \"Programas\",\r\n        confirmationModal: {\r\n          deleteTitle: \"¿Seguro que quieres excluir este Programa?\",\r\n          deleteMessage: \"Esta acción no se puede revertir.\",\r\n        },\r\n        table: {\r\n          contact: \"Contacto\",\r\n          body: \"Mensaje\",\r\n          sendAt: \"Fecha del Programa\",\r\n          sentAt: \"Fecha de Envío\",\r\n          status: \"Status\",\r\n          actions: \"Acciones\",\r\n        },\r\n        buttons: {\r\n          add: \"Nuevo Programa\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Programa eliminado satisfactoriamente.\",\r\n        },\r\n      },\r\n      tags: {\r\n        title: \"Tags\",\r\n        confirmationModal: {\r\n          deleteTitle: \"¿Seguro que quieres excluir esta Tag?\",\r\n          deleteMessage: \"Esta acción no se puede revertir.\",\r\n        },\r\n        table: {\r\n          name: \"Nombre\",\r\n          kanban: \"Kanban\",\r\n          color: \"Color\",\r\n          tickets: \"Registros Tags\",\r\n          contacts: \"Contactos\",\r\n          actions: \"Acciones\",\r\n        },\r\n        buttons: {\r\n          add: \"Nueva Tag\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Tag eliminada satisfactoriamente.\",\r\n        },\r\n      },\r\n      tagsKanban: {\r\n        title: \"Lanes\",\r\n        laneDefault: \"Abierto(s)\",\r\n        confirmationModal: {\r\n          deleteTitle: \"¿Seguro que quieres excluir esta Lane?\",\r\n          deleteMessage: \"Esta acción no se puede revertir.\",\r\n        },\r\n        table: {\r\n          name: \"Nombre\",\r\n          color: \"Color\",\r\n          tickets: \"Tickets\",\r\n          actions: \"Acciones\",\r\n        },\r\n        buttons: {\r\n          add: \"Nueva Lane\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Lane eliminada satisfactoriamente.\",\r\n        },\r\n      },\r\n      files: {\r\n        title: \"Listado de archivos\",\r\n        table: {\r\n          name: \"Nombre\",\r\n          contacts: \"Contactos\",\r\n          actions: \"Acción\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Listado borrado satisfactoriamente!\",\r\n          deletedAll: \"Todos los listados fueron borrados satisfactoriamente!\",\r\n        },\r\n        buttons: {\r\n          add: \"Agregar\",\r\n          deleteAll: \"Borrar Todos\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Borrar\",\r\n          deleteAllTitle: \"Borrar Todos\",\r\n          deleteMessage: \"Estás seguro de borrar este listado?\",\r\n          deleteAllMessage: \"Estás seguro de borrar todos los listado?\",\r\n        },\r\n      },\r\n      settings: {\r\n        success: \"Configuración guardada satisfactoriamente.\",\r\n        title: \"Configuración\",\r\n        tabs: {\r\n          options: \"Opciones\",\r\n          plans: \"Planes\",\r\n          helps: \"Ayuda\",\r\n        },\r\n        settings: {\r\n          userCreation: {\r\n            name: \"Creación de usuarios\",\r\n            options: {\r\n              enabled: \"Habilitado\",\r\n              disabled: \"Deshabilitado\",\r\n            },\r\n          },\r\n          tabs: {\r\n            options: \"Opciones\",\r\n            schedules: \"Horarios\",\r\n            plans: \"Planes\",\r\n            help: \"Ayuda\",\r\n          },\r\n          options: {\r\n            disabled: \"Desactivadas\",\r\n            enabled: \"Activadas\",\r\n            updating: \"Actualizando...\",\r\n            creationCompanyUser: \"Creación de Company/Usuário\",\r\n            evaluations: \"Evaluaciones\",\r\n            officeScheduling: \"Programar horarios\",\r\n            queueManagement: \"Gerenciar por Fila\",\r\n            companyManagement: \"Gerenciar por Empresa\",\r\n            connectionManagement: \"Gerenciar por Conexión\",\r\n            sendGreetingAccepted: \"Enviar saludos al aceptar ticket\",\r\n            sendMsgTransfTicket:\r\n              \"Enviar mensaje de transferencia (departamento/agente)\",\r\n            checkMsgIsGroup: \"Ignorar mensajes de Grupos\",\r\n            chatBotType: \"Tipo de Bot\",\r\n            userRandom: \"Escojer agente aleatorio\",\r\n            buttons: \"Botones\",\r\n            acceptCallWhatsapp: \"No aceptar llamada en el whatsapp\",\r\n            sendSignMessage: \"Permitir agente escoger ENVIAR Firma\",\r\n            sendGreetingMessageOneQueues:\r\n              \"Enviar saludos cuando hay solamente 1 fila\",\r\n            sendQueuePosition: \"Enviar mensaje con la posición de la fila\",\r\n            sendFarewellWaitingTicket:\r\n              \"Enviar mensaje de despedida(estado Esperando)\",\r\n            acceptAudioMessageContact: \"Aceptar audios de todos\",\r\n            enableLGPD: \"Habilitar opción P.P.\",\r\n            requiredTag: \"Tag obligatoria para cerrar ticket\",\r\n            closeTicketOnTransfer: \"Cerrar ticket al transferir para otra fila\",\r\n            DirectTicketsToWallets:\r\n              \"Mover automaticamente cliente para cartera\",\r\n          },\r\n          LGPD: {\r\n            title: \"Politica de Privacidad\",\r\n            welcome: \"Mensaje de bienvenida (PP)\",\r\n            linkLGPD: \"Link de la política de privacidad\",\r\n            obfuscateMessageDelete: \"Ofuscar mensaje borrada\",\r\n            alwaysConsent: \"Requerir siempre el consentimiento\",\r\n            obfuscatePhoneUser: \"Ofuscar número de telefono para usuarios\",\r\n            enabled: \"Activado\",\r\n            disabled: \"Desactivado\",\r\n          },\r\n        },\r\n      },\r\n      messagesList: {\r\n        header: {\r\n          assignedTo: \"Asignado a:\",\r\n          dialogRatingTitle:\r\n            \"¿Quieres dejar un mensaje de evaluación para el cliente?\",\r\n          dialogClosingTitle: \"Finalizando la atención al cliente!\",\r\n          dialogRatingCancel: \"Cerrar CON Mensaje de Despedida\",\r\n          dialogRatingSuccess: \"Cerrar y Enviar Evaluación\",\r\n          dialogRatingWithoutFarewellMsg: \"Cerrar SIN Mensaje de Despedida\",\r\n          ratingTitle: \"Elegir menú de evaluación\",\r\n          notMessage: \"No hay mensaje seleccionado\",\r\n          buttons: {\r\n            return: \"Devolver\",\r\n            resolve: \"Resolver\",\r\n            reopen: \"Reabrir\",\r\n            accept: \"Aceptar\",\r\n            rating: \"Enviar Evaluación\",\r\n            enableIntegration: \"Activar/Desactivar integración\",\r\n            logTicket: \"Logs del Ticket\",\r\n            requiredTag:\r\n              \"Opps! Debes asignar una tag antes de cerrar el ticket.\",\r\n          },\r\n        },\r\n      },\r\n      messagesInput: {\r\n        placeholderPrivateMessage:\r\n          \"Entre como un mensaje o con / para respuestas rápidas\",\r\n        placeholderOpen:\r\n          \"Entre como un mensaje o con / para respuestas rápidas\",\r\n        placeholderClosed:\r\n          \"Vuelva a abrir o acepte este ticket para enviar un mensaje.\",\r\n        signMessage: \"Firmar\",\r\n        privateMessage: \"Mensaje Privada\",\r\n      },\r\n      contactDrawer: {\r\n        header: \"Detalles del contacto\",\r\n        buttons: {\r\n          edit: \"Editar contacto\",\r\n          block: \"Bloquear\",\r\n          unblock: \"Desbloquear\",\r\n        },\r\n        extraInfo: \"Otras informaciones\",\r\n      },\r\n      messageVariablesPicker: {\r\n        label: \"Variables disponibles\",\r\n        vars: {\r\n          contactFirstName: \"Primer Nombre\",\r\n          contactName: \"Nombre\",\r\n          user: \"Agente\",\r\n          greeting: \"Saludos\",\r\n          protocolNumber: \"Protocolo\",\r\n          date: \"Fecha\",\r\n          hour: \"Hora\",\r\n          ticket_id: \"Nº del Ticket\",\r\n          queue: \"Sector\",\r\n          connection: \"Conexión\",\r\n        },\r\n      },\r\n      ticketOptionsMenu: {\r\n        schedule: \"Programa\",\r\n        delete: \"Borrar\",\r\n        transfer: \"Transferir\",\r\n        registerAppointment: \"Observaciones del Contacto\",\r\n        resolveWithNoFarewell: \"Cerrar sin despedida\",\r\n        acceptAudioMessage: \"¿Aceptar audios del contacto?\",\r\n        appointmentsModal: {\r\n          title: \"Observaciones del Contacto\",\r\n          textarea: \"Observación\",\r\n          placeholder: \"Agregue aqui la información\",\r\n        },\r\n        confirmationModal: {\r\n          title: \"¿Borrar ticket #\",\r\n          titleFrom: \"del contacto \",\r\n          message:\r\n            \"¡Atención! Todos los mensajes Todos los mensajes relacionados con el ticket se perderán.\",\r\n        },\r\n        buttons: {\r\n          delete: \"Borrar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      confirmationModal: {\r\n        buttons: {\r\n          confirm: \"Ok\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      messageInput: {\r\n        tooltip: {\r\n          signature: \"Activar/Desactivar firma\",\r\n          privateMessage: \"Activar/Desactivar mensaje privado\",\r\n          meet: \"Enviar link para videollamada\",\r\n        },\r\n        type: {\r\n          imageVideo: \"Fotos y videos\",\r\n          cam: \"Cámara\",\r\n          contact: \"Contacto\",\r\n          meet: \"Link Jitsi Meet\",\r\n        },\r\n      },\r\n      messageOptionsMenu: {\r\n        delete: \"Borrar\",\r\n        reply: \"Responder\",\r\n        edit: \"Editar\",\r\n        forward: \"Enviar\",\r\n        toForward: \"Enviar\",\r\n        talkTo: \"Platicar Con\",\r\n        confirmationModal: {\r\n          title: \"¿Borrar mensaje?\",\r\n          message: \"Esta acción no puede ser revertida.\",\r\n        },\r\n      },\r\n      invoices: {\r\n        table: {\r\n          invoices: \"Facturas\",\r\n          details: \"Detalles\",\r\n          users: \"Usuarios\",\r\n          connections: \"Conexiones\",\r\n          queue: \"Filas\",\r\n          value: \"Valor\",\r\n          expirationDate: \"Fecha Venc.\",\r\n          action: \"Acción\",\r\n        },\r\n      },\r\n      backendErrors: {\r\n        ERR_NO_OTHER_WHATSAPP:\r\n          \"Debe haber al menos una conexión de WhatsApp predeterminada.\",\r\n        ERR_NO_DEF_WAPP_FOUND:\r\n          \"No se encontró WhatsApp predeterminado. Verifique la página de conexiones.\",\r\n        ERR_WAPP_NOT_INITIALIZED:\r\n          \"Esta sesión de WhatsApp no ​​está inicializada. Verifique la página de conexiones.\",\r\n        ERR_WAPP_CHECK_CONTACT:\r\n          \"No se pudo verificar el contacto de WhatsApp. Verifique la página de conexiones.\",\r\n        ERR_WAPP_INVALID_CONTACT: \"Este no es un número de whatsapp válido.\",\r\n        ERR_WAPP_DOWNLOAD_MEDIA:\r\n          \"No se pudieron descargar los medios de WhatsApp. Verifique la página de conexiones.\",\r\n        ERR_INVALID_CREDENTIALS: \"Error de autenticación. Vuelva a intentarlo.\",\r\n        ERR_SENDING_WAPP_MSG:\r\n          \"Error al enviar el mensaje de WhatsApp. Verifique la página de conexiones.\",\r\n        ERR_DELETE_WAPP_MSG: \"No se pudo borrar el mensaje de WhatsApp.\",\r\n        ERR_OTHER_OPEN_TICKET: \"Ya hay un ticket abierto para este contacto.\",\r\n        ERR_SESSION_EXPIRED: \"Sesión caducada. Inicie sesión.\",\r\n        ERR_USER_CREATION_DISABLED:\r\n          \"La creación de usuarios fue deshabilitada por el administrador.\",\r\n        ERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso.\",\r\n        ERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este número.\",\r\n        ERR_NO_SETTING_FOUND:\r\n          \"No se encontró ninguna configuración con este ID.\",\r\n        ERR_NO_CONTACT_FOUND: \"No se encontró ningún contacto con este ID.\",\r\n        ERR_NO_TICKET_FOUND: \"No se encontró ningún ticket con este ID.\",\r\n        ERR_NO_USER_FOUND: \"No se encontró ningún usuario con este ID.\",\r\n        ERR_NO_WAPP_FOUND: \"No se encontró WhatsApp con este ID.\",\r\n        ERR_CREATING_MESSAGE: \"Error al crear el mensaje en la base de datos.\",\r\n        ERR_CREATING_TICKET: \"Error al crear el ticket en la base de datos.\",\r\n        ERR_FETCH_WAPP_MSG:\r\n          \"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.\",\r\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\r\n          \"Este color ya está en uso, elija otro.\",\r\n        ERR_WAPP_GREETING_REQUIRED:\r\n          \"El mensaje de saludo es obligatorio cuando hay más de una fila.\",\r\n        ERR_OUT_OF_HOURS: \"¡Fuera del horario de oficina!\",\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nexport { messages };\r\n","import i18n from \"i18next\";\r\nimport LanguageDetector from \"i18next-browser-languagedetector\";\r\n\r\nimport { messages } from \"./languages\";\r\n\r\ni18n.use(LanguageDetector).init({\r\n\tdebug: false,\r\n\tdefaultNS: [\"translations\"],\r\n\tfallbackLng: \"pt\",\r\n\tns: [\"translations\"],\r\n\tresources: messages,\r\n});\r\n\r\nexport { i18n };\r\n","import { toast } from \"react-toastify\";\r\nimport { i18n } from \"../translate/i18n\";\r\nimport { isString } from 'lodash';\r\n\r\nconst toastError = err => {\r\n\tconst errorMsg = err.response?.data?.error;\r\n\tif (errorMsg) {\r\n\t\tif (i18n.exists(`backendErrors.${errorMsg}`)) {\r\n\t\t\ttoast.error(i18n.t(`backendErrors.${errorMsg}`), {\r\n\t\t\t\ttoastId: errorMsg,\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t\thideProgressBar: false,\r\n\t\t\t\tcloseOnClick: true,\r\n\t\t\t\tpauseOnHover: false,\r\n\t\t\t\tdraggable: true,\r\n\t\t\t\tprogress: undefined,\r\n\t\t\t\ttheme: \"light\",\r\n\t\t\t});\r\n\t\t\treturn\r\n\t\t} else {\r\n\t\t\ttoast.error(errorMsg, {\r\n\t\t\t\ttoastId: errorMsg,\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t\thideProgressBar: false,\r\n\t\t\t\tcloseOnClick: true,\r\n\t\t\t\tpauseOnHover: false,\r\n\t\t\t\tdraggable: true,\r\n\t\t\t\tprogress: undefined,\r\n\t\t\t\ttheme: \"light\",\r\n\t\t\t});\r\n\t\t\treturn\r\n\t\t}\r\n\t} if (isString(err)) {\r\n\t\ttoast.error(err);\r\n\t\treturn\r\n\t} else {\r\n\t\ttoast.error(\"An error occurred!\");\r\n\t\treturn\r\n\t}\r\n};\r\n\r\nexport default toastError;\r\n","import io from \"socket.io-client\";\r\n\r\nclass SocketWorker {\r\n  constructor(companyId , userId) {\r\n    if (!SocketWorker.instance) {\r\n      this.companyId = companyId\r\n      this.userId = userId\r\n      this.socket = null;\r\n      this.configureSocket();\r\n      this.eventListeners = {}; // Armazena os ouvintes de eventos registrados\r\n      SocketWorker.instance = this;\r\n\r\n    } \r\n\r\n    return SocketWorker.instance;\r\n  }\r\n\r\n  configureSocket() {\r\n    this.socket = io(`${process.env.REACT_APP_BACKEND_URL}/${this?.companyId}` , {\r\n      autoConnect: true,\r\n      reconnection: true,\r\n      reconnectionDelay: 1000,\r\n      reconnectionAttempts: Infinity,\r\n      query: { userId: this.userId }\r\n    });\r\n\r\n    this.socket.on(\"connect\", () => {\r\n    });\r\n\r\n    this.socket.on(\"disconnect\", () => {\r\n      this.reconnectAfterDelay();\r\n    });\r\n  }\r\n\r\n  // Adiciona um ouvinte de eventos\r\n  on(event, callback) {\r\n    this.connect();\r\n    this.socket.on(event, callback);\r\n\r\n    // Armazena o ouvinte no objeto de ouvintes\r\n    if (!this.eventListeners[event]) {\r\n      this.eventListeners[event] = [];\r\n    }\r\n    this.eventListeners[event].push(callback);\r\n  }\r\n\r\n  // Emite um evento\r\n  emit(event, data) {\r\n    this.connect();\r\n    this.socket.emit(event, data);\r\n  }\r\n\r\n  // Desconecta um ou mais ouvintes de eventos\r\n  off(event, callback) {\r\n    this.connect();\r\n    if (this.eventListeners[event]) {\r\n      if (callback) {\r\n        // Desconecta um ouvinte específico\r\n        this.socket.off(event, callback);\r\n        this.eventListeners[event] = this.eventListeners[event].filter(cb => cb !== callback);\r\n      } else {\r\n\r\n        // Desconecta todos os ouvintes do evento\r\n        this.eventListeners[event].forEach(cb => this.socket.off(event, cb));\r\n        delete this.eventListeners[event];\r\n      }\r\n    }\r\n  }\r\n\r\n  disconnect() {\r\n    if (this.socket) {\r\n      this.socket.disconnect();\r\n      this.socket = null\r\n      this.instance = null\r\n    }\r\n  }\r\n\r\n  reconnectAfterDelay() {\r\n    setTimeout(() => {\r\n      if (!this.socket || !this.socket.connected) {\r\n        this.connect();\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  // Garante que o socket esteja conectado\r\n  connect() {\r\n    if (!this.socket) {\r\n      this.configureSocket();\r\n    }\r\n  }\r\n\r\n  forceReconnect() {\r\n\r\n  }\r\n}\r\n\r\n// const instance = (companyId, userId) => new SocketWorker(companyId,userId);\r\nconst instance = (companyId, userId) => new SocketWorker(companyId, userId);\r\n\r\nexport default instance;","import { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { has, isArray } from \"lodash\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n// import { useDate } from \"../../hooks/useDate\";\r\nimport moment from \"moment\";\r\n\r\nconst useAuth = () => {\r\n  const history = useHistory();\r\n  const [isAuth, setIsAuth] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [user, setUser] = useState({});\r\n  const [socket, setSocket] = useState({})\r\n \r\n\r\n  api.interceptors.request.use(\r\n    (config) => {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (token) {\r\n        config.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\r\n        setIsAuth(true);\r\n      }\r\n      return config;\r\n    },\r\n    (error) => {\r\n      Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  api.interceptors.response.use(\r\n    (response) => {\r\n      return response;\r\n    },\r\n    async (error) => {\r\n      const originalRequest = error.config;\r\n      if (error?.response?.status === 403 && !originalRequest._retry) {\r\n        originalRequest._retry = true;\r\n\r\n        const { data } = await api.post(\"/auth/refresh_token\");\r\n        if (data) {\r\n          localStorage.setItem(\"token\", JSON.stringify(data.token));\r\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\r\n        }\r\n        return api(originalRequest);\r\n      }\r\n      if (error?.response?.status === 401) {\r\n        localStorage.removeItem(\"token\");\r\n        api.defaults.headers.Authorization = undefined;\r\n        setIsAuth(false);\r\n      }\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    (async () => {\r\n      if (token) {\r\n        try {\r\n          const { data } = await api.post(\"/auth/refresh_token\");\r\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\r\n          setIsAuth(true);\r\n          setUser(data.user);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      }\r\n      setLoading(false);\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(user).length && user.id > 0) {\r\n      let io;\r\n      if (!Object.keys(socket).length) {\r\n        io = socketConnection({ user });\r\n        setSocket(io)\r\n      } else {\r\n        io = socket\r\n      }\r\n      io.on(`company-${user.companyId}-user`, (data) => {\r\n        if (data.action === \"update\" && data.user.id === user.id) {\r\n          setUser(data.user);\r\n        }\r\n      });\r\n\r\n      return () => {\r\n        io.off(`company-${user.companyId}-user`);\r\n        // io.disconnect();\r\n      };\r\n    }\r\n  }, [user]);\r\n\r\n  const handleLogin = async (userData) => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      const { data } = await api.post(\"/auth/login\", userData);\r\n      const {\r\n        user: { company },\r\n      } = data;\r\n\r\n      if (has(company, \"companieSettings\") && isArray(company.companieSettings[0])) {\r\n        const setting = company.companieSettings[0].find(\r\n          (s) => s.key === \"campaignsEnabled\"\r\n        );\r\n        if (setting && setting.value === \"true\") {\r\n          localStorage.setItem(\"cshow\", null); //regra pra exibir campanhas\r\n        }\r\n      }\r\n\r\n      if (has(company, \"companieSettings\") && isArray(company.companieSettings[0])) {\r\n        const setting = company.companieSettings[0].find(\r\n          (s) => s.key === \"sendSignMessage\"\r\n        );\r\n\r\n        const signEnable = setting.value === \"enable\";\r\n\r\n        if (setting && setting.value === \"enabled\") {\r\n          localStorage.setItem(\"sendSignMessage\", signEnable); //regra pra exibir campanhas\r\n        }\r\n      }\r\n      localStorage.setItem(\"profileImage\", data.user.profileImage); //regra pra exibir imagem contato\r\n\r\n      moment.locale('pt-br');\r\n      let dueDate;\r\n      if (data.user.company.id === 1) {\r\n        dueDate = '2999-12-31T00:00:00.000Z'\r\n      } else {\r\n        dueDate = data.user.company.dueDate;\r\n      }\r\n      const hoje = moment(moment()).format(\"DD/MM/yyyy\");\r\n      const vencimento = moment(dueDate).format(\"DD/MM/yyyy\");\r\n\r\n      var diff = moment(dueDate).diff(moment(moment()).format());\r\n\r\n      var before = moment(moment().format()).isBefore(dueDate);\r\n      var dias = moment.duration(diff).asDays();\r\n\r\n      if (before === true) {\r\n        localStorage.setItem(\"token\", JSON.stringify(data.token));\r\n        // localStorage.setItem(\"public-token\", JSON.stringify(data.user.token));\r\n        // localStorage.setItem(\"companyId\", companyId);\r\n        // localStorage.setItem(\"userId\", id);\r\n        localStorage.setItem(\"companyDueDate\", vencimento);\r\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\r\n        setUser(data.user);\r\n        setIsAuth(true);\r\n        toast.success(i18n.t(\"auth.toasts.success\"));\r\n        if (Math.round(dias) < 5) {\r\n          toast.warn(`Sua assinatura vence em ${Math.round(dias)} ${Math.round(dias) === 1 ? 'dia' : 'dias'} `);\r\n        }\r\n\r\n        // // Atraso para garantir que o cache foi limpo\r\n        // setTimeout(() => {\r\n        //   window.location.reload(true); // Recarregar a página\r\n        // }, 1000);\r\n\r\n        history.push(\"/tickets\");\r\n        setLoading(false);\r\n      } else {\r\n        // localStorage.setItem(\"companyId\", companyId);\r\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\r\n        setIsAuth(true);\r\n        toastError(`Opss! Sua assinatura venceu ${vencimento}.\r\nEntre em contato com o Suporte para mais informações! `);\r\n        history.push(\"/financeiro-aberto\");\r\n        setLoading(false);\r\n      }\r\n\r\n    } catch (err) {\r\n      toastError(err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      // socket.disconnect();\r\n      await api.delete(\"/auth/logout\");\r\n      setIsAuth(false);\r\n      setUser({});\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"cshow\");\r\n      // localStorage.removeItem(\"public-token\");\r\n      api.defaults.headers.Authorization = undefined;\r\n      setLoading(false);\r\n      history.push(\"/login\");\r\n    } catch (err) {\r\n      toastError(err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getCurrentUserInfo = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/auth/me\");\r\n      return data;\r\n    } catch (_) {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  return {\r\n    isAuth,\r\n    user,\r\n    loading,\r\n    handleLogin,\r\n    handleLogout,\r\n    getCurrentUserInfo,\r\n    socket\r\n  };\r\n};\r\n\r\nexport default useAuth;\r\n","import openSocket from \"socket.io-client\";\r\nimport { isObject } from \"lodash\";\r\nimport SocketWorker from \"./SocketWorker\"\r\n\r\nexport function socketConnection(params) {\r\n  let userId = \"\";\r\n  let companyId = \"\";\r\n  if (isObject(params)){\r\n    companyId = params?.user?.companyId\r\n    userId = params?.user?.id\r\n  }\r\n \r\n  return SocketWorker(companyId,userId)\r\n}","import React, { createContext } from \"react\";\r\n\r\nimport useAuth from \"../../hooks/useAuth.js/index.js\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nconst AuthProvider = ({ children }) => {\r\n\tconst { loading, user, isAuth, handleLogin, handleLogout, socket } = useAuth();\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider\r\n\t\t\tvalue={{ loading, user, isAuth, handleLogin, handleLogout, socket }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { AuthContext, AuthProvider };","import { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport api from \"../../services/api\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { isNill } from \"lodash\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_WHATSAPPS\") {\r\n    const whatsApps = action.payload;\r\n\r\n    return [...whatsApps];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_WHATSAPPS\") {\r\n    const whatsApp = action.payload;\r\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\r\n\r\n    if (whatsAppIndex !== -1) {\r\n      state[whatsAppIndex] = whatsApp;\r\n      return [...state];\r\n    } else {\r\n      return [whatsApp, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"UPDATE_SESSION\") {\r\n    const whatsApp = action.payload;\r\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\r\n\r\n    if (whatsAppIndex !== -1) {\r\n      state[whatsAppIndex].status = whatsApp.status;\r\n      state[whatsAppIndex].updatedAt = whatsApp.updatedAt;\r\n      state[whatsAppIndex].qrcode = whatsApp.qrcode;\r\n      state[whatsAppIndex].retries = whatsApp.retries;\r\n      return [...state];\r\n    } else {\r\n      return [...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_WHATSAPPS\") {\r\n    const whatsAppId = action.payload;\r\n\r\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsAppId);\r\n    if (whatsAppIndex !== -1) {\r\n      state.splice(whatsAppIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useWhatsApps = () => {\r\n  const [whatsApps, dispatch] = useReducer(reducer, []);\r\n  const [loading, setLoading] = useState(true);\r\n//   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const fetchSession = async () => {\r\n      try {\r\n        const { data } = await api.get(\"/whatsapp/?session=0\");\r\n        dispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\r\n        setLoading(false);\r\n      } catch (_) {\r\n        setLoading(false);\r\n        // toastError(err);\r\n      }\r\n    };\r\n    fetchSession();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (user.companyId) {\r\n\r\n      const companyId = user.companyId;\r\n//    const socket = socketManager.GetSocket();\r\n\r\n      const onCompanyWhatsapp = (data) => {\r\n        if (data.action === \"update\") {\r\n          dispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\r\n        }\r\n        if (data.action === \"delete\") {\r\n          dispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\r\n        }\r\n      }\r\n\r\n      const onCompanyWhatsappSession = (data) => {\r\n        if (data.action === \"update\") {\r\n          dispatch({ type: \"UPDATE_SESSION\", payload: data.session });\r\n        }\r\n      }\r\n\r\n      socket.on(`company-${companyId}-whatsapp`, onCompanyWhatsapp);\r\n      socket.on(`company-${companyId}-whatsappSession`, onCompanyWhatsappSession);\r\n\r\n      return () => {\r\n        socket.off(`company-${companyId}-whatsapp`, onCompanyWhatsapp);\r\n        socket.off(`company-${companyId}-whatsappSession`, onCompanyWhatsappSession);\r\n      };\r\n    }\r\n  }, [socket]);\r\n\r\n  return { whatsApps, loading };\r\n};\r\n\r\nexport default useWhatsApps;\r\n","import React, { createContext } from \"react\";\r\n\r\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\r\n\r\nconst WhatsAppsContext = createContext();\r\n\r\nconst WhatsAppsProvider = ({ children }) => {\r\n\tconst { loading, whatsApps } = useWhatsApps();\r\n\r\n\treturn (\r\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\r\n\t\t\t{children}\r\n\t\t</WhatsAppsContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { WhatsAppsContext, WhatsAppsProvider };\r\n","const rules = {\r\n\tuser: {\r\n\t\tstatic: [],\r\n\t},\r\n\r\n\tadmin: {\r\n\t\tstatic: [\r\n\t\t\t\"dashboard:view\",\r\n\t\t\t\"drawer-admin-items:view\",\r\n\t\t\t\"tickets-manager:showall\",\r\n\t\t\t\"user-modal:editProfile\",\r\n\t\t\t\"user-modal:editQueues\",\r\n\t\t\t\"ticket-options:deleteTicket\",\r\n\t\t\t\"contacts-page:deleteContact\",\r\n\t\t\t\"connections-page:actionButtons\",\r\n\t\t\t\"connections-page:addConnection\",\r\n\t\t\t\"connections-page:editOrDeleteConnection\",\r\n\t\t\t\"tickets-manager:closeAll\",\r\n\t\t],\r\n\t},\r\n};\r\n\r\nexport default rules;\r\n","import rules from \"../../rules\";\r\n\r\nconst check = (role, action, data) => {\r\n\tconst permissions = rules[role];\r\n\tif (!permissions) {\r\n\t\t// role is not present in the rules\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst staticPermissions = permissions.static;\r\n\r\n\tif (staticPermissions && staticPermissions.includes(action)) {\r\n\t\t// static rule not provided for action\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconst dynamicPermissions = permissions.dynamic;\r\n\r\n\tif (dynamicPermissions) {\r\n\t\tconst permissionCondition = dynamicPermissions[action];\r\n\t\tif (!permissionCondition) {\r\n\t\t\t// dynamic rule not provided for action\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn permissionCondition(data);\r\n\t}\r\n\treturn false;\r\n};\r\n\r\nconst Can = ({ role, perform, data, yes, no }) =>\r\n\tcheck(role, perform, data) ? yes() : no();\r\n\r\nCan.defaultProps = {\r\n\tyes: () => null,\r\n\tno: () => null,\r\n};\r\n\r\nexport { Can };\r\n","import api, { openApi } from \"../../services/api\";\r\n\r\nconst usePlans = () => {\r\n\r\n    const getPlanList = async (params) => {\r\n        const { data } = await openApi.request({\r\n            url: '/plans/list',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const list = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/plans/all',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const save = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/plans',\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const update = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/plans/${data.id}`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const remove = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/plans/${id}`,\r\n            method: 'DELETE'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const getPlanCompany = async (params, id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies/listPlan/${id}`,\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        getPlanList,\r\n        list,\r\n        save,\r\n        update,\r\n        remove,\r\n        getPlanCompany\r\n    }\r\n}\r\n\r\nexport default usePlans;","import api from \"../../services/api\";\r\n\r\nconst useVersion = () => {\r\n\r\n    const getVersion = async () => {\r\n        const { data } = await api.request({\r\n            url: '/version',\r\n            method: 'GET',\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        getVersion\r\n    }\r\n}\r\n\r\nexport default useVersion;\r\n\r\n\r\n\r\n","import React, { useContext, useEffect, useReducer, useState } from \"react\";\r\nimport { Link as RouterLink, useLocation } from \"react-router-dom\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport useHelps from \"../hooks/useHelps\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport DashboardOutlinedIcon from \"@material-ui/icons/DashboardOutlined\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport SyncAltIcon from \"@material-ui/icons/SyncAlt\";\r\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\r\nimport PeopleAltOutlinedIcon from \"@material-ui/icons/PeopleAltOutlined\";\r\nimport ContactPhoneOutlinedIcon from \"@material-ui/icons/ContactPhoneOutlined\";\r\nimport AccountTreeOutlinedIcon from \"@material-ui/icons/AccountTreeOutlined\";\r\nimport FlashOnIcon from \"@material-ui/icons/FlashOn\";\r\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\r\nimport CodeRoundedIcon from \"@material-ui/icons/CodeRounded\";\r\nimport ViewKanban from \"@mui/icons-material/ViewKanban\";\r\nimport Schedule from \"@material-ui/icons/Schedule\";\r\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\r\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\r\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\nimport ListIcon from \"@material-ui/icons/ListAlt\";\r\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\r\nimport ForumIcon from \"@material-ui/icons/Forum\";\r\nimport LocalAtmIcon from \"@material-ui/icons/LocalAtm\";\r\nimport BusinessIcon from \"@material-ui/icons/Business\";\r\nimport {\r\n  AllInclusive,\r\n  AttachFile,\r\n  Dashboard,\r\n  Description,\r\n  DeviceHubOutlined,\r\n  GridOn,\r\n  ListAlt,\r\n  PhonelinkSetup,\r\n} from \"@material-ui/icons\";\r\n\r\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\r\nimport { AuthContext } from \"../context/Auth/AuthContext\";\r\nimport { useActiveMenu } from \"../context/ActiveMenuContext\";\r\n\r\nimport { Can } from \"../components/Can\";\r\n\r\nimport { isArray } from \"lodash\";\r\nimport api from \"../services/api\";\r\nimport toastError from \"../errors/toastError\";\r\nimport usePlans from \"../hooks/usePlans\";\r\nimport useVersion from \"../hooks/useVersion\";\r\nimport { i18n } from \"../translate/i18n\";\r\nimport { Campaign, ShapeLine, Webhook } from \"@mui/icons-material\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  listItem: {\r\n    height: \"44px\",\r\n    width: \"auto\",\r\n    \"&:hover $iconHoverActive\": {\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: \"#fff\",\r\n    },\r\n  },\r\n\r\n  listItemText: {\r\n    fontSize: \"14px\",\r\n    color: theme.mode === \"light\" ? \"#666\" : \"#FFF\",\r\n  },\r\n  avatarActive: {\r\n    backgroundColor: \"transparent\",\r\n  },\r\n  avatarHover: {\r\n    backgroundColor: \"transparent\",\r\n  },\r\n  iconHoverActive: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: \"50%\",\r\n    height: 36,\r\n    width: 36,\r\n    backgroundColor: theme.mode === \"light\" ? \"rgba(120,120,120,0.1)\" : \"rgba(120,120,120,0.5)\",\r\n    color: theme.mode === \"light\" ? \"#666\" : \"#FFF\",\r\n    // color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\r\n    \"&:hover, &.active\": {\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: \"#fff\",\r\n    },\r\n    \"& .MuiSvgIcon-root\": {\r\n      fontSize: \"1.4rem\",\r\n    },\r\n  },\r\n}));\r\n\r\nfunction ListItemLink(props) {\r\n  const { icon, primary, to, tooltip, showBadge } = props;\r\n  const classes = useStyles();\r\n  const { activeMenu } = useActiveMenu();\r\n  const location = useLocation();\r\n  const isActive = activeMenu === to || location.pathname === to;\r\n\r\n  const renderLink = React.useMemo(\r\n    () => React.forwardRef((itemProps, ref) => <RouterLink to={to} ref={ref} {...itemProps} />),\r\n    [to]\r\n  );\r\n\r\n  const ConditionalTooltip = ({ children, tooltipEnabled }) =>\r\n    tooltipEnabled ? (\r\n      <Tooltip title={primary} placement=\"right\">\r\n        {children}\r\n      </Tooltip>\r\n    ) : (\r\n      children\r\n    );\r\n\r\n  return (\r\n    <ConditionalTooltip tooltipEnabled={!!tooltip}>\r\n      <li>\r\n        <ListItem button component={renderLink} className={classes.listItem}>\r\n          {icon ? (\r\n            <ListItemIcon>\r\n              {showBadge ? (\r\n                <Badge badgeContent=\"!\" color=\"error\" overlap=\"circular\" className={classes.badge}>\r\n                  <Avatar className={`${classes.iconHoverActive} ${isActive ? \"active\" : \"\"}`}>{icon}</Avatar>\r\n                </Badge>\r\n              ) : (\r\n                <Avatar className={`${classes.iconHoverActive} ${isActive ? \"active\" : \"\"}`}>{icon}</Avatar>\r\n              )}\r\n            </ListItemIcon>\r\n          ) : null}\r\n          <ListItemText primary={<Typography className={classes.listItemText}>{primary}</Typography>} />\r\n        </ListItem>\r\n      </li>\r\n    </ConditionalTooltip>\r\n  );\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CHATS\") {\r\n    const chats = action.payload;\r\n    const newChats = [];\r\n\r\n    if (isArray(chats)) {\r\n      chats.forEach((chat) => {\r\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\r\n        if (chatIndex !== -1) {\r\n          state[chatIndex] = chat;\r\n        } else {\r\n          newChats.push(chat);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newChats];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CHATS\") {\r\n    const chat = action.payload;\r\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\r\n\r\n    if (chatIndex !== -1) {\r\n      state[chatIndex] = chat;\r\n      return [...state];\r\n    } else {\r\n      return [chat, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CHAT\") {\r\n    const chatId = action.payload;\r\n\r\n    const chatIndex = state.findIndex((u) => u.id === chatId);\r\n    if (chatIndex !== -1) {\r\n      state.splice(chatIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n\r\n  if (action.type === \"CHANGE_CHAT\") {\r\n    const changedChats = state.map((chat) => {\r\n      if (chat.id === action.payload.chat.id) {\r\n        return action.payload.chat;\r\n      }\r\n      return chat;\r\n    });\r\n    return changedChats;\r\n  }\r\n};\r\n\r\nconst MainListItems = ({ collapsed, drawerClose }) => {\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const { whatsApps } = useContext(WhatsAppsContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { setActiveMenu } = useActiveMenu();\r\n  const location = useLocation();\r\n\r\n  const [connectionWarning, setConnectionWarning] = useState(false);\r\n  const [openCampaignSubmenu, setOpenCampaignSubmenu] = useState(false);\r\n  const [openFlowSubmenu, setOpenFlowSubmenu] = useState(false);\r\n  const [openDashboardSubmenu, setOpenDashboardSubmenu] = useState(false);\r\n  const [showCampaigns, setShowCampaigns] = useState(false);\r\n  const [showKanban, setShowKanban] = useState(false);\r\n  const [showOpenAi, setShowOpenAi] = useState(false);\r\n  const [showIntegrations, setShowIntegrations] = useState(false);\r\n\r\n  // novas features\r\n  const [showSchedules, setShowSchedules] = useState(false);\r\n  const [showInternalChat, setShowInternalChat] = useState(false);\r\n  const [showExternalApi, setShowExternalApi] = useState(false);\r\n\r\n  const [invisible, setInvisible] = useState(true);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [searchParam] = useState(\"\");\r\n  const [chats, dispatch] = useReducer(reducer, []);\r\n  const [version, setVersion] = useState(false);\r\n  const [managementHover, setManagementHover] = useState(false);\r\n  const [campaignHover, setCampaignHover] = useState(false);\r\n  const [flowHover, setFlowHover] = useState(false)\r\n  const { list } = useHelps();  // INSERIR\r\n  const [hasHelps, setHasHelps] = useState(false);\r\n\r\n\r\n  useEffect(() => {   // INSERIR ESSE EFFECT INTEIRO\r\n    async function checkHelps() {\r\n      const helps = await list();\r\n      setHasHelps(helps.length > 0);\r\n    }\r\n    checkHelps();\r\n  }, []);\r\n\r\n  const isManagementActive =\r\n    location.pathname === \"/\" || location.pathname.startsWith(\"/reports\") || location.pathname.startsWith(\"/moments\");\r\n\r\n  const isCampaignRouteActive =\r\n    location.pathname === \"/campaigns\" ||\r\n    location.pathname.startsWith(\"/contact-lists\") ||\r\n    location.pathname.startsWith(\"/campaigns-config\");\r\n\r\n  const isFlowbuilderRouteActive = \r\n    location.pathname.startsWith(\"/phrase-lists\")\r\n    location.pathname.startsWith(\"/flowbuilders\")\r\n\r\n  useEffect(() => {\r\n    if (location.pathname.startsWith(\"/tickets\")) {\r\n      setActiveMenu(\"/tickets\");\r\n    } else {\r\n      setActiveMenu(\"\");\r\n    }\r\n  }, [location, setActiveMenu]);\r\n\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  const { getVersion } = useVersion();\r\n\r\n  useEffect(() => {\r\n    async function fetchVersion() {\r\n      const _version = await getVersion();\r\n      setVersion(_version.version);\r\n    }\r\n    fetchVersion();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n\r\n      setShowCampaigns(planConfigs.plan.useCampaigns);\r\n      setShowKanban(planConfigs.plan.useKanban);\r\n      setShowOpenAi(planConfigs.plan.useOpenAi);\r\n      setShowIntegrations(planConfigs.plan.useIntegrations);\r\n      setShowSchedules(planConfigs.plan.useSchedules);\r\n      setShowInternalChat(planConfigs.plan.useInternalChat);\r\n      setShowExternalApi(planConfigs.plan.useExternalApi);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchChats();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    if (user.id) {\r\n      const companyId = user.companyId;\r\n      const onCompanyChatMainListItems = (data) => {\r\n        if (data.action === \"new-message\") {\r\n          dispatch({ type: \"CHANGE_CHAT\", payload: data });\r\n        }\r\n        if (data.action === \"update\") {\r\n          dispatch({ type: \"CHANGE_CHAT\", payload: data });\r\n        }\r\n      };\r\n\r\n      socket.on(`company-${companyId}-chat`, onCompanyChatMainListItems);\r\n      return () => {\r\n        socket.off(`company-${companyId}-chat`, onCompanyChatMainListItems);\r\n      };\r\n    }\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    let unreadsCount = 0;\r\n    if (chats.length > 0) {\r\n      for (let chat of chats) {\r\n        for (let chatUser of chat.users) {\r\n          if (chatUser.userId === user.id) {\r\n            unreadsCount += chatUser.unreads;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (unreadsCount > 0) {\r\n      setInvisible(false);\r\n    } else {\r\n      setInvisible(true);\r\n    }\r\n  }, [chats, user.id]);\r\n\r\n  // useEffect(() => {\r\n  //   if (localStorage.getItem(\"cshow\")) {\r\n  //     setShowCampaigns(true);\r\n  //   }\r\n  // }, []);\r\n\r\n  useEffect(() => {\r\n    const delayDebounceFn = setTimeout(() => {\r\n      if (whatsApps.length > 0) {\r\n        const offlineWhats = whatsApps.filter((whats) => {\r\n          return (\r\n            whats.status === \"qrcode\" ||\r\n            whats.status === \"PAIRING\" ||\r\n            whats.status === \"DISCONNECTED\" ||\r\n            whats.status === \"TIMEOUT\" ||\r\n            whats.status === \"OPENING\"\r\n          );\r\n        });\r\n        if (offlineWhats.length > 0) {\r\n          setConnectionWarning(true);\r\n        } else {\r\n          setConnectionWarning(false);\r\n        }\r\n      }\r\n    }, 2000);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [whatsApps]);\r\n\r\n  const fetchChats = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/chats/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div onClick={drawerClose}>\r\n      {/*Dashboard Gerencia*/}\r\n      <Can\r\n        role={\r\n          (user.profile === \"user\" && user.showDashboard === \"enabled\") || user.allowRealTime === \"enabled\"\r\n            ? \"admin\"\r\n            : user.profile\r\n        }\r\n        perform={\"drawer-admin-items:view\"}\r\n        yes={() => (\r\n          <>\r\n            <Tooltip title={collapsed ? i18n.t(\"mainDrawer.listItems.management\") : \"\"} placement=\"right\">\r\n              <ListItem\r\n                dense\r\n                button\r\n                onClick={() => setOpenDashboardSubmenu((prev) => !prev)}\r\n                onMouseEnter={() => setManagementHover(true)}\r\n                onMouseLeave={() => setManagementHover(false)}\r\n              >\r\n                <ListItemIcon>\r\n                  <Avatar\r\n                    className={`${classes.iconHoverActive} ${isManagementActive || managementHover ? \"active\" : \"\"}`}\r\n                  >\r\n                    <Dashboard />\r\n                  </Avatar>\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                  primary={\r\n                    <Typography className={classes.listItemText}>\r\n                      {i18n.t(\"mainDrawer.listItems.management\")}\r\n                    </Typography>\r\n                  }\r\n                />\r\n                {openDashboardSubmenu ? <ExpandLessIcon /> : <ExpandMoreIcon />}\r\n              </ListItem>\r\n            </Tooltip>\r\n            <Collapse\r\n              in={openDashboardSubmenu}\r\n              timeout=\"auto\"\r\n              unmountOnExit\r\n              style={{\r\n                backgroundColor: theme.mode === \"light\" ? \"rgba(120,120,120,0.1)\" : \"rgba(120,120,120,0.5)\",\r\n              }}\r\n            >\r\n              <Can\r\n                role={user.profile === \"user\" && user.showDashboard === \"enabled\" ? \"admin\" : user.profile}\r\n                perform={\"drawer-admin-items:view\"}\r\n                yes={() => (\r\n                  <>\r\n                    <ListItemLink\r\n                      small\r\n                      to=\"/\"\r\n                      primary=\"Dashboard\"\r\n                      icon={<DashboardOutlinedIcon />}\r\n                      tooltip={collapsed}\r\n                    />\r\n                    <ListItemLink\r\n                      small\r\n                      to=\"/reports\"\r\n                      primary={i18n.t(\"mainDrawer.listItems.reports\")}\r\n                      icon={<Description />}\r\n                      tooltip={collapsed}\r\n                    />\r\n                  </>\r\n                )}\r\n              />\r\n              <Can\r\n                role={user.profile === \"user\" && user.allowRealTime === \"enabled\" ? \"admin\" : user.profile}\r\n                perform={\"drawer-admin-items:view\"}\r\n                yes={() => (\r\n                  <ListItemLink\r\n                    to=\"/moments\"\r\n                    primary={i18n.t(\"mainDrawer.listItems.chatsTempoReal\")}\r\n                    icon={<GridOn />}\r\n                    tooltip={collapsed}\r\n                  />\r\n                )}\r\n              />\r\n            </Collapse>\r\n          </>\r\n        )}\r\n      />\r\n      {/*Atendimento */}\r\n      <ListItemLink\r\n        to=\"/tickets\"\r\n        primary={i18n.t(\"mainDrawer.listItems.tickets\")}\r\n        icon={<WhatsAppIcon />}\r\n        tooltip={collapsed}\r\n      />\r\n      {/*Repostas rapidas */}\r\n      <ListItemLink\r\n        to=\"/quick-messages\"\r\n        primary={i18n.t(\"mainDrawer.listItems.quickMessages\")}\r\n        icon={<FlashOnIcon />}\r\n        tooltip={collapsed}\r\n      />\r\n      {/*Kanban */}\r\n      {showKanban && (\r\n        <>\r\n          <ListItemLink\r\n            to=\"/kanban\"\r\n            primary={i18n.t(\"mainDrawer.listItems.kanban\")}\r\n            icon={<ViewKanban />}\r\n            tooltip={collapsed}\r\n          />\r\n        </>\r\n      )}\r\n      {/*Contatos */}\r\n      <ListItemLink\r\n        to=\"/contacts\"\r\n        primary={i18n.t(\"mainDrawer.listItems.contacts\")}\r\n        icon={<ContactPhoneOutlinedIcon />}\r\n        tooltip={collapsed}\r\n      />\r\n       {/*Agendamentos */}     \r\n      {showSchedules && (\r\n        <>\r\n          <ListItemLink\r\n            to=\"/schedules\"\r\n            primary={i18n.t(\"mainDrawer.listItems.schedules\")}\r\n            icon={<Schedule />}\r\n            tooltip={collapsed}\r\n          />\r\n        </>\r\n      )}\r\n\r\n      {/*Tags */}\r\n      <ListItemLink\r\n        to=\"/tags\"\r\n        primary={i18n.t(\"mainDrawer.listItems.tags\")}\r\n        icon={<LocalOfferIcon />}\r\n        tooltip={collapsed}\r\n      />\r\n\r\n      {/*Chat Interno */}\r\n      {showInternalChat && (\r\n        <>\r\n          <ListItemLink\r\n            to=\"/chats\"\r\n            primary={i18n.t(\"mainDrawer.listItems.chats\")}\r\n            icon={\r\n              <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\r\n                <ForumIcon />\r\n              </Badge>\r\n            }\r\n            tooltip={collapsed}\r\n          />\r\n        </>\r\n      )}\r\n\r\n      {/*Sistema de Lembrete */}\r\n      {/* <ListItemLink\r\n        to=\"/todolist\"\r\n        primary={i18n.t(\"ToDoList\")}\r\n        icon={<EventAvailableIcon />}\r\n      /> */}\r\n\r\n      {/*Video de Ajuda */}\r\n      {hasHelps && (\r\n        <ListItemLink\r\n          to=\"/helps\"\r\n          primary={i18n.t(\"mainDrawer.listItems.helps\")}\r\n          icon={<HelpOutlineIcon />}\r\n          tooltip={collapsed}\r\n        />\r\n      )}\r\n      {/*Campanhas */}\r\n      <Can\r\n        role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\r\n        perform=\"dashboard:view\"\r\n        yes={() => (\r\n          <>\r\n            <Divider />\r\n            <ListSubheader inset>{i18n.t(\"mainDrawer.listItems.administration\")}</ListSubheader>\r\n            {showCampaigns && (\r\n              <Can\r\n                role={user.profile}\r\n                perform=\"dashboard:view\"\r\n                yes={() => (\r\n                  <>\r\n                    <Tooltip title={collapsed ? i18n.t(\"mainDrawer.listItems.campaigns\") : \"\"} placement=\"right\">\r\n                      <ListItem\r\n                        dense\r\n                        button\r\n                        onClick={() => setOpenCampaignSubmenu((prev) => !prev)}\r\n                        onMouseEnter={() => setCampaignHover(true)}\r\n                        onMouseLeave={() => setCampaignHover(false)}\r\n                      >\r\n                        <ListItemIcon>\r\n                          <Avatar\r\n                            className={`${classes.iconHoverActive} ${isCampaignRouteActive || campaignHover ? \"active\" : \"\"\r\n                              }`}\r\n                          >\r\n                            <EventAvailableIcon />\r\n                          </Avatar>\r\n                        </ListItemIcon>\r\n                        <ListItemText\r\n                          primary={\r\n                            <Typography className={classes.listItemText}>\r\n                              {i18n.t(\"mainDrawer.listItems.campaigns\")}\r\n                            </Typography>\r\n                          }\r\n                        />\r\n                        {openCampaignSubmenu ? <ExpandLessIcon /> : <ExpandMoreIcon />}\r\n                      </ListItem>\r\n                    </Tooltip>\r\n                    <Collapse\r\n                      in={openCampaignSubmenu}\r\n                      timeout=\"auto\"\r\n                      unmountOnExit\r\n                      style={{\r\n                        backgroundColor: theme.mode === \"light\" ? \"rgba(120,120,120,0.1)\" : \"rgba(120,120,120,0.5)\",\r\n                      }}\r\n                    >\r\n                      <List dense component=\"div\" disablePadding>\r\n                        <ListItemLink\r\n                          to=\"/campaigns\"\r\n                          primary={i18n.t(\"campaigns.subMenus.list\")}\r\n                          icon={<ListIcon />}\r\n                          tooltip={collapsed}\r\n                        />\r\n                        <ListItemLink\r\n                          to=\"/contact-lists\"\r\n                          primary={i18n.t(\"campaigns.subMenus.listContacts\")}\r\n                          icon={<PeopleIcon />}\r\n                          tooltip={collapsed}\r\n                        />\r\n                        <ListItemLink\r\n                          to=\"/campaigns-config\"\r\n                          primary={i18n.t(\"campaigns.subMenus.settings\")}\r\n                          icon={<SettingsOutlinedIcon />}\r\n                          tooltip={collapsed}\r\n                        />\r\n                      </List>\r\n                    </Collapse>\r\n                  </>\r\n                )}\r\n              />\r\n            )}\r\n\r\n            {/* Flow */}\r\n            <Can\r\n              role={user.profile}\r\n              perform=\"dashboard:view\"\r\n              yes={() => (\r\n                <>\r\n                  <Tooltip title={collapsed ? i18n.t(\"mainDrawer.listItems.flow\") : \"\"} placement=\"right\">\r\n                    <ListItem\r\n                      dense\r\n                      button\r\n                      onClick={() => setOpenFlowSubmenu((prev) => !prev)}\r\n                      onMouseEnter={() => setFlowHover(true)}\r\n                      onMouseLeave={() => setFlowHover(false)}\r\n                    >\r\n                      <ListItemIcon>\r\n                        <Avatar\r\n                          className={`${classes.iconHoverActive} ${isFlowbuilderRouteActive || flowHover ? \"active\" : \"\"\r\n                            }`}\r\n                        >\r\n                          <Webhook />\r\n                        </Avatar>\r\n                      </ListItemIcon>\r\n                      <ListItemText\r\n                        primary={\r\n                          <Typography className={classes.listItemText}>\r\n                            {i18n.t(\"Flowbuilder\")}\r\n                          </Typography>\r\n                        }\r\n                      />\r\n                      {openFlowSubmenu ? <ExpandLessIcon /> : <ExpandMoreIcon />}\r\n                    </ListItem>\r\n                  </Tooltip>\r\n\r\n                  <Collapse\r\n                    in={openFlowSubmenu}\r\n                    timeout=\"auto\"\r\n                    unmountOnExit\r\n                    style={{\r\n                      backgroundColor: theme.mode === \"light\" ? \"rgba(120,120,120,0.1)\" : \"rgba(120,120,120,0.5)\",\r\n                    }}\r\n                  >\r\n                    <List dense component=\"div\" disablePadding>\r\n                      <ListItemLink\r\n                        to=\"/phrase-lists\"\r\n                        primary={\"Fluxo de Campanha\"}\r\n                        icon={<EventAvailableIcon />}\r\n                        tooltip={collapsed}\r\n                      />\r\n\r\n                      <ListItemLink\r\n                        to=\"/flowbuilders\"\r\n                        primary={'Fluxo de Conversa'}\r\n                        icon={<ShapeLine />}\r\n                        tooltip={collapsed}\r\n                      />\r\n                    </List>\r\n                  </Collapse>\r\n                </>\r\n              )}\r\n            />\r\n\r\n            {/*Informativo*/}\r\n            {user.super && (\r\n              <ListItemLink\r\n                to=\"/announcements\"\r\n                primary={i18n.t(\"mainDrawer.listItems.annoucements\")}\r\n                icon={<AnnouncementIcon />}\r\n                tooltip={collapsed}\r\n              />\r\n            )}\r\n\r\n            {/*Antigo API */}\r\n            {/*showExternalApi && (\r\n              <>\r\n                <Can\r\n                  role={user.profile}\r\n                  perform=\"dashboard:view\"\r\n                  yes={() => (\r\n                    <ListItemLink\r\n                      to=\"/messages-api\"\r\n                      primary={i18n.t(\"mainDrawer.listItems.messagesAPI\")}\r\n                      icon={<CodeRoundedIcon />}\r\n                      tooltip={collapsed}\r\n                    />\r\n                  )}\r\n                />\r\n              </>\r\n            )*/}\r\n            {/*Usuarios*/}\r\n            <Can\r\n              role={user.profile}\r\n              perform=\"dashboard:view\"\r\n              yes={() => (\r\n                <ListItemLink\r\n                  to=\"/users\"\r\n                  primary={i18n.t(\"mainDrawer.listItems.users\")}\r\n                  icon={<PeopleAltOutlinedIcon />}\r\n                  tooltip={collapsed}\r\n                />\r\n              )}\r\n            />\r\n            {/* Filas */}\r\n            <Can\r\n              role={user.profile}\r\n              perform=\"dashboard:view\"\r\n              yes={() => (\r\n                <ListItemLink\r\n                  to=\"/queues\"\r\n                  primary={i18n.t(\"mainDrawer.listItems.queues\")}\r\n                  icon={<AccountTreeOutlinedIcon />}\r\n                  tooltip={collapsed}\r\n                />\r\n              )}\r\n            />\r\n\r\n            {/*OpenAI/ChatGPT*/}\r\n            {showOpenAi && (\r\n              <Can\r\n                role={user.profile}\r\n                perform=\"dashboard:view\"\r\n                yes={() => (\r\n                  <ListItemLink\r\n                    to=\"/prompts\"\r\n                    primary={i18n.t(\"mainDrawer.listItems.prompts\")}\r\n                    icon={<AllInclusive />}\r\n                    tooltip={collapsed}\r\n                  />\r\n                )}\r\n              />\r\n            )}\r\n            {/*Integrações*/}\r\n            {showIntegrations && (\r\n              <Can\r\n                role={user.profile}\r\n                perform=\"dashboard:view\"\r\n                yes={() => (\r\n                  <ListItemLink\r\n                    to=\"/queue-integration\"\r\n                    primary={i18n.t(\"mainDrawer.listItems.queueIntegration\")}\r\n                    icon={<DeviceHubOutlined />}\r\n                    tooltip={collapsed}\r\n                  />\r\n                )}\r\n              />\r\n            )}\r\n            {/*Conexões */}\r\n            <Can\r\n              role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\r\n              perform={\"drawer-admin-items:view\"}\r\n              yes={() => (\r\n                <ListItemLink\r\n                  to=\"/connections\"\r\n                  primary={i18n.t(\"mainDrawer.listItems.connections\")}\r\n                  icon={<SyncAltIcon />}\r\n                  showBadge={connectionWarning}\r\n                  tooltip={collapsed}\r\n                />\r\n              )}\r\n            />\r\n            {/*Gerencia Conexões */}\r\n            {user.super && (\r\n              <ListItemLink\r\n                to=\"/allConnections\"\r\n                primary={i18n.t(\"mainDrawer.listItems.allConnections\")}\r\n                icon={<PhonelinkSetup />}\r\n                tooltip={collapsed}\r\n              />\r\n            )}\r\n            {/*Lista de Arquivos */}\r\n            <Can\r\n              role={user.profile}\r\n              perform=\"dashboard:view\"\r\n              yes={() => (\r\n                <ListItemLink\r\n                  to=\"/files\"\r\n                  primary={i18n.t(\"mainDrawer.listItems.files\")}\r\n                  icon={<AttachFile />}\r\n                  tooltip={collapsed}\r\n                />\r\n              )}\r\n            />\r\n            {/*Financeiro */}\r\n            <Can\r\n              role={user.profile}\r\n              perform=\"dashboard:view\"\r\n              yes={() => (\r\n                <ListItemLink\r\n                  to=\"/financeiro\"\r\n                  primary={i18n.t(\"mainDrawer.listItems.financeiro\")}\r\n                  icon={<LocalAtmIcon />}\r\n                  tooltip={collapsed}\r\n                />\r\n              )}\r\n            />\r\n            {/* Configurações */}\r\n            <Can\r\n              role={user.profile}\r\n              perform=\"dashboard:view\"\r\n              yes={() => (\r\n                <ListItemLink\r\n                  to=\"/settings\"\r\n                  primary={i18n.t(\"mainDrawer.listItems.settings\")}\r\n                  icon={<SettingsOutlinedIcon />}\r\n                  tooltip={collapsed}\r\n                />\r\n              )}\r\n            />\r\n            {/*Empresas*/}\r\n            {user.super && (\r\n              <ListItemLink\r\n                to=\"/companies\"\r\n                primary={i18n.t(\"mainDrawer.listItems.companies\")}\r\n                icon={<BusinessIcon />}\r\n                tooltip={collapsed}\r\n              />\r\n            )}\r\n\r\n          </>\r\n\r\n        )}\r\n      />\r\n      {!collapsed && (\r\n        <React.Fragment>\r\n          <Divider />\r\n          <Typography\r\n            style={{\r\n              fontSize: \"12px\",\r\n              padding: \"10px\",\r\n              textAlign: \"center\",\r\n              fontWeight: \"bold\",\r\n            }}\r\n          >\r\n            {`v.2.0.0`}\r\n          </Typography>\r\n        </React.Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainListItems;\r\n","import React from \"react\";\r\nimport Markdown from \"markdown-to-jsx\";\r\n\r\nconst elements = [\r\n\t\"a\",\r\n\t\"abbr\",\r\n\t\"address\",\r\n\t\"area\",\r\n\t\"article\",\r\n\t\"aside\",\r\n\t\"audio\",\r\n\t\"b\",\r\n\t\"base\",\r\n\t\"bdi\",\r\n\t\"bdo\",\r\n\t\"big\",\r\n\t\"blockquote\",\r\n\t\"body\",\r\n\t\"br\",\r\n\t\"button\",\r\n\t\"canvas\",\r\n\t\"caption\",\r\n\t\"cite\",\r\n\t\"code\",\r\n\t\"col\",\r\n\t\"colgroup\",\r\n\t\"data\",\r\n\t\"datalist\",\r\n\t\"dd\",\r\n\t\"del\",\r\n\t\"details\",\r\n\t\"dfn\",\r\n\t\"dialog\",\r\n\t\"div\",\r\n\t\"dl\",\r\n\t\"dt\",\r\n\t\"em\",\r\n\t\"embed\",\r\n\t\"fieldset\",\r\n\t\"figcaption\",\r\n\t\"figure\",\r\n\t\"footer\",\r\n\t\"form\",\r\n\t\"h1\",\r\n\t\"h2\",\r\n\t\"h3\",\r\n\t\"h4\",\r\n\t\"h5\",\r\n\t\"h6\",\r\n\t\"head\",\r\n\t\"header\",\r\n\t\"hgroup\",\r\n\t\"hr\",\r\n\t\"html\",\r\n\t\"i\",\r\n\t\"iframe\",\r\n\t\"img\",\r\n\t\"input\",\r\n\t\"ins\",\r\n\t\"kbd\",\r\n\t\"keygen\",\r\n\t\"label\",\r\n\t\"legend\",\r\n\t\"li\",\r\n\t\"link\",\r\n\t\"main\",\r\n\t\"map\",\r\n\t\"mark\",\r\n\t\"marquee\",\r\n\t\"menu\",\r\n\t\"menuitem\",\r\n\t\"meta\",\r\n\t\"meter\",\r\n\t\"nav\",\r\n\t\"noscript\",\r\n\t\"object\",\r\n\t\"ol\",\r\n\t\"optgroup\",\r\n\t\"option\",\r\n\t\"output\",\r\n\t\"p\",\r\n\t\"param\",\r\n\t\"picture\",\r\n\t\"pre\",\r\n\t\"progress\",\r\n\t\"q\",\r\n\t\"rp\",\r\n\t\"rt\",\r\n\t\"ruby\",\r\n\t\"s\",\r\n\t\"samp\",\r\n\t\"script\",\r\n\t\"section\",\r\n\t\"select\",\r\n\t\"small\",\r\n\t\"source\",\r\n\t\"span\",\r\n\t\"strong\",\r\n\t\"style\",\r\n\t\"sub\",\r\n\t\"summary\",\r\n\t\"sup\",\r\n\t\"table\",\r\n\t\"tbody\",\r\n\t\"td\",\r\n\t\"textarea\",\r\n\t\"tfoot\",\r\n\t\"th\",\r\n\t\"thead\",\r\n\t\"time\",\r\n\t\"title\",\r\n\t\"tr\",\r\n\t\"track\",\r\n\t\"u\",\r\n\t\"ul\",\r\n\t\"var\",\r\n\t\"video\",\r\n\t\"wbr\",\r\n\r\n\t// SVG\r\n\t\"circle\",\r\n\t\"clipPath\",\r\n\t\"defs\",\r\n\t\"ellipse\",\r\n\t\"foreignObject\",\r\n\t\"g\",\r\n\t\"image\",\r\n\t\"line\",\r\n\t\"linearGradient\",\r\n\t\"marker\",\r\n\t\"mask\",\r\n\t\"path\",\r\n\t\"pattern\",\r\n\t\"polygon\",\r\n\t\"polyline\",\r\n\t\"radialGradient\",\r\n\t\"rect\",\r\n\t\"stop\",\r\n\t\"svg\",\r\n\t\"text\",\r\n\t\"tspan\",\r\n];\r\n\r\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\r\n\r\nconst CustomLink = ({ children, ...props }) => (\r\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t{children}\r\n\t</a>\r\n);\r\n\r\nconst MarkdownWrapper = ({ children }) => {\r\n\tconst boldRegex = /\\*(.*?)\\*/g;\r\n\tconst tildaRegex = /~(.*?)~/g;\r\n\r\n\tconst pixMarker = '###PIX_MARKER###';\r\n\r\n\tif (children && children.includes('***')) {\r\n\t\tchildren = children.replace(/\\*\\*\\*/g, pixMarker);\r\n\t}\r\n\r\n\tif (children && boldRegex.test(children)) {\r\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\r\n\t}\r\n\r\n\tif (children && children.includes(pixMarker)) {\r\n\t\tchildren = children.replace(new RegExp(pixMarker, 'g'), '***');\r\n\t}\r\n\r\n\tif (children && tildaRegex.test(children)) {\r\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\r\n\t}\r\n\tconst options = React.useMemo(() => {\r\n\t\tconst markdownOptions = {\r\n\t\t\tdisableParsingRawHTML: true,\r\n\t\t\tforceInline: true,\r\n\t\t\toverrides: {\r\n\t\t\t\ta: { component: CustomLink },\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\telements.forEach(element => {\r\n\t\t\tif (!allowedElements.includes(element)) {\r\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn markdownOptions;\r\n\t}, []);\r\n\r\n\tif (!children) return null;\r\n\r\n\treturn <Markdown options={options}>{children}</Markdown>;\r\n};\r\n\r\nexport default MarkdownWrapper;\r\n","export default __webpack_public_path__ + \"static/media/instagram.79535458.png\";","export default __webpack_public_path__ + \"static/media/whatsapp.7f02d15e.png\";","import React, { useState, useEffect, createContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst TicketsContext = createContext();\r\n\r\nconst TicketsContextProvider = ({ children }) => {\r\n\tconst [currentTicket, setCurrentTicket] = useState({ id: null, code: null });\r\n\tconst [tabOpen, setTabOpen] = useState(\"open\");\r\n\tconst history = useHistory();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (currentTicket.id !== null) {\r\n\t\t\thistory.push(`/tickets/${currentTicket.uuid}`);\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [currentTicket])\r\n\r\n\treturn (\r\n\t\t<TicketsContext.Provider\r\n\t\t\tvalue={{ currentTicket, setCurrentTicket, tabOpen, setTabOpen }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</TicketsContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { TicketsContext, TicketsContextProvider };\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { parseISO, format, isSameDay } from \"date-fns\";\r\nimport clsx from \"clsx\";\r\nimport emojiRegex from \"emoji-regex\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport CheckIcon from \"@material-ui/icons/CheckCircle\";\r\nimport ReplayIcon from \"@material-ui/icons/Replay\";\r\nimport ClearOutlinedIcon from \"@material-ui/icons/ClearOutlined\";\r\nimport api from \"../../services/api\";\r\n\r\nimport MarkdownWrapper from \"../MarkdownWrapper\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport facebookIcon from \"../../assets/facebook.png\";\r\nimport insatagramIcon from \"../../assets/instagram.png\";\r\nimport whatsappIcon from \"../../assets/whatsapp.png\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    ticket: {\r\n        position: \"relative\",\r\n    },\r\n\r\n    pendingTicket: {\r\n        cursor: \"unset\",\r\n    },\r\n\r\n    noTicketsDiv: {\r\n        display: \"flex\",\r\n        height: \"100px\",\r\n        margin: 40,\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    noTicketsText: {\r\n        textAlign: \"center\",\r\n        color: \"rgb(104, 121, 146)\",\r\n        fontSize: \"14px\",\r\n        lineHeight: \"1.4\",\r\n    },\r\n\r\n    noTicketsTitle: {\r\n        textAlign: \"center\",\r\n        fontSize: \"16px\",\r\n        fontWeight: \"600\",\r\n        margin: \"0px\",\r\n    },\r\n\r\n    contactNameWrapper: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n    },\r\n\r\n    lastMessageTime: {\r\n        position: \"absolute\",\r\n        marginRight: 5,\r\n        right: 20,\r\n        bottom: 30,\r\n    },\r\n\r\n    closedBadge: {\r\n        alignSelf: \"center\",\r\n        justifySelf: \"flex-end\",\r\n        marginRight: 32,\r\n        marginLeft: \"auto\",\r\n    },\r\n\r\n    contactLastMessage: {\r\n        paddingRight: 20,\r\n    },\r\n\r\n    newMessagesCount: {\r\n        alignSelf: \"center\",\r\n        marginRight: 8,\r\n        marginLeft: \"auto\",\r\n    },\r\n\r\n    bottomButton: {\r\n        top: \"12px\",\r\n    },\r\n\r\n    badgeStyle: {\r\n        color: \"white\",\r\n        backgroundColor: green[500],\r\n    },\r\n\r\n    acceptButton: {\r\n        position: \"absolute\",\r\n        left: \"50%\",\r\n    },\r\n\r\n    ticketQueueColor: {\r\n        flex: \"none\",\r\n        width: \"8px\",\r\n        height: \"100%\",\r\n        position: \"absolute\",\r\n        top: \"0%\",\r\n        left: \"0%\",\r\n    },\r\n\r\n    userTag: {\r\n        position: \"absolute\",\r\n        marginRight: 110,\r\n        right: 20,\r\n        bottom: 30,\r\n        backgroundColor: theme.palette.background.default,\r\n        color: theme.palette.primary.main,\r\n        border: \"1px solid #CCC\",\r\n        padding: 1,\r\n        paddingLeft: 5,\r\n        paddingRight: 5,\r\n        borderRadius: 10,\r\n        fontSize: \"0.9em\",\r\n    },\r\n    divTags: {\r\n        position: \"absolute\",\r\n        marginRight: 0,\r\n        left: 0,\r\n        bottom: 0,\r\n        flexWrap: \"wrap\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    },\r\n    tags: {\r\n        color: \"#FFF\",\r\n        border: \"1px solid #CCC\",\r\n        padding: 0,\r\n        paddingLeft: 5,\r\n        paddingRight: 5,\r\n        borderRadius: 0,\r\n        fontSize: \"0.6em\",\r\n        textAlign: \"center\",\r\n    },\r\n    divUser: {\r\n        position: \"absolute\",\r\n        marginRight: 0,\r\n        left: 0,\r\n        top: 0,\r\n        flexWrap: \"wrap\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    },\r\n    user: {\r\n        color: \"#eee\",\r\n        border: \"1px solid #CCC\",\r\n        padding: 0,\r\n        paddingLeft: 5,\r\n        paddingRight: 5,\r\n        borderRadius: 0,\r\n        fontSize: \"0.6em\",\r\n        textAlign: \"center\",\r\n    },\r\n\r\n    tagsWrapper: {\r\n        zIndex: 500,\r\n    },\r\n\r\n    badge: {\r\n        backgroundColor: \"#44b700\",\r\n        color: \"#44b700\",\r\n        boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\r\n        \"&::after\": {\r\n            position: \"absolute\",\r\n            top: 0,\r\n            left: 0,\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            borderRadius: \"50%\",\r\n            animation: \"$ripple 1.2s infinite ease-in-out\",\r\n            border: \"1px solid currentColor\",\r\n            content: '\"\"',\r\n        },\r\n    },\r\n    \"@keyframes ripple\": {\r\n        \"0%\": {\r\n            transform: \"scale(.8)\",\r\n            opacity: 1,\r\n        },\r\n        \"100%\": {\r\n            transform: \"scale(2.4)\",\r\n            opacity: 0,\r\n        },\r\n    },\r\n}));\r\n\r\nconst SmallAvatar = withStyles((theme) => ({\r\n    root: {\r\n        width: 22,\r\n        height: 22,\r\n        border: `2px solid ${theme.palette.background.paper}`,\r\n    },\r\n}))(Avatar);\r\n\r\nconst getAvatarChannel = (channel) => {\r\n    if (channel === \"facebook\") {\r\n        return facebookIcon;\r\n    }\r\n\r\n    if (channel === \"whatsapp\") {\r\n        return whatsappIcon;\r\n    }\r\n\r\n    if (channel === \"whatsappapi\") {\r\n        return whatsappIcon;\r\n    }\r\n\r\n    if (channel === \"instagram\") {\r\n        return insatagramIcon;\r\n    }\r\n};\r\n\r\nconst TicketListItem = ({ ticket }) => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const [loading, setLoading] = useState(false);\r\n    const { ticketId } = useParams();\r\n    const isMounted = useRef(true);\r\n    const { user } = useContext(AuthContext);\r\n    const { setCurrentTicket, setTabOpen } = useContext(TicketsContext);\r\n\r\n    useEffect(() => {\r\n    }, [ticket])\r\n\r\n    \r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        };\r\n    }, []);\r\n\r\n    function getRatingIcon(rate) {\r\n        let icon = \"\";\r\n        if (rate === 1) {\r\n            icon = \"😡\";\r\n        } else if (rate === 2) {\r\n            icon = \"😠\";\r\n        } else if (rate === 3) {\r\n            icon = \"😐\";\r\n        } else if (rate === 4) {\r\n            icon = \"😃\";\r\n        } else if (rate === 5) {\r\n            icon = \"😍\";\r\n        }\r\n\r\n        return icon;\r\n    }\r\n\r\n\r\n    const handleAcepptTicket = async (ticket) => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                status: \"open\",\r\n                userId: user?.id,\r\n            });\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n        if (isMounted.current) {\r\n            setLoading(false);\r\n        }\r\n        history.push(`/tickets/${ticket.uuid}`);\r\n    };\r\n\r\n    const handleAcepptTicketBot = async (ticket) => {\r\n        // alert(\"Bot\");\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                status: \"open\",\r\n                userId: user?.id,\r\n            });\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n        if (isMounted.current) {\r\n            setLoading(false);\r\n        }\r\n        history.push(`/tickets/${ticket.uuid}`);\r\n    };\r\n\r\n    const handleReopenTicket = async (ticket) => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                status: \"open\",\r\n                userId: user?.id,\r\n            });\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n        if (isMounted.current) {\r\n            setLoading(false);\r\n        }\r\n        history.push(`/tickets/${ticket.uuid}`);\r\n    };\r\n\r\n    const handleViewTicket = async (ticket) => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                status: \"pending\",\r\n            });\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n        if (isMounted.current) {\r\n            setLoading(false);\r\n        }\r\n        history.push(`/tickets/${ticket.uuid}`);\r\n    };\r\n\r\n    const handleSelectTicket = (ticket) => {\r\n        const code = uuidv4();\r\n        const { id, uuid } = ticket;\r\n        setTabOpen(ticket.status)\r\n        setCurrentTicket({ id, uuid, code });\r\n    };\r\n\r\n    const handleClosedTicket = async (ticket) => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                status: \"closed\",\r\n            });\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n        if (isMounted.current) {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const renderUserName = (name) => {\r\n        let str = name.replace(emojiRegex(), \"\").trim();\r\n\r\n        const firstName = str.split(\" \")[0];\r\n\r\n        return firstName;\r\n    };\r\n\r\n    return (\r\n        <React.Fragment key={ticket.id}>\r\n            <ListItem\r\n                dense\r\n                button\r\n                onClick={(e) => {\r\n                    handleSelectTicket(ticket)\r\n                }}\r\n                selected={ticketId && +ticketId === ticket.id}\r\n                className={clsx(classes.ticket, {\r\n                    [classes.pendingTicket]: ticket.status === \"pending\",\r\n                })}\r\n            >\r\n                <Tooltip\r\n                    arrow\r\n                    placement=\"right\"\r\n                    title={ticket.queue?.name || \"Sem departamento\"}\r\n                >\r\n                    <span\r\n                        style={{\r\n                            backgroundColor: ticket.queue?.color || \"#7C7C7C\",\r\n                        }}\r\n                        className={classes.ticketQueueColor}\r\n                    ></span>\r\n                </Tooltip>\r\n                <ListItemAvatar>\r\n                    <Badge\r\n                        overlap=\"circular\"\r\n                        anchorOrigin={{\r\n                            vertical: \"bottom\",\r\n                            horizontal: \"right\",\r\n                        }}\r\n                        badgeContent={\r\n                            <SmallAvatar\r\n                                alt={ticket?.channel}\r\n                                src={getAvatarChannel(ticket?.channel)}\r\n                            />\r\n                        }\r\n                    >\r\n                        <Avatar\r\n                            alt={ticket?.contact?.name}\r\n                            src={ticket?.contact?.urlPicture}\r\n                        />\r\n                    </Badge>\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                    disableTypography\r\n                    primary={\r\n                        <span className={classes.contactNameWrapper}>\r\n                            <Typography\r\n                                noWrap\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                                color=\"textPrimary\"\r\n                            >\r\n                                {ticket.contact.name}\r\n                            </Typography>\r\n\r\n                            {ticket.lastMessage && (\r\n                                <Typography\r\n                                    className={classes.lastMessageTime}\r\n                                    component=\"span\"\r\n                                    variant=\"body2\"\r\n                                    color=\"textSecondary\"\r\n                                >\r\n                                    {isSameDay(\r\n                                        parseISO(ticket.updatedAt),\r\n                                        new Date()\r\n                                    ) ? (\r\n                                        <>\r\n                                            {format(\r\n                                                parseISO(ticket.updatedAt),\r\n                                                \"HH:mm\"\r\n                                            )}\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            {format(\r\n                                                parseISO(ticket.updatedAt),\r\n                                                \"dd/MM/yyyy\"\r\n                                            )}\r\n                                        </>\r\n                                    )}\r\n                                </Typography>\r\n                            )}\r\n                            {ticket.whatsappId && (\r\n                                <div\r\n                                    className={classes.userTag}\r\n                                    title={i18n.t(\r\n                                        \"ticketsList.connectionTitle\"\r\n                                    )}\r\n                                >\r\n                                    {ticket.whatsapp?.name}\r\n                                </div>\r\n                            )}\r\n                        </span>\r\n                    }\r\n                    secondary={\r\n                        <span className={classes.contactNameWrapper}>\r\n                            {ticket.status === \"closed\"\r\n                                ? ticket?.userRating\r\n                                    ? getRatingIcon(ticket?.userRating?.rate)\r\n                                    : null\r\n                                : null}\r\n                            <Typography\r\n                                className={classes.contactLastMessage}\r\n                                noWrap\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                                color=\"textSecondary\"\r\n                            >\r\n                                {ticket.lastMessage ? (\r\n                                    <MarkdownWrapper>\r\n                                        {ticket.lastMessage}\r\n                                    </MarkdownWrapper>\r\n                                ) : (\r\n                                    <br />\r\n                                )}\r\n                            </Typography>\r\n\r\n                            <Badge\r\n                                overlap=\"rectangular\"\r\n                                className={classes.newMessagesCount}\r\n                                badgeContent={ticket.unreadMessages}\r\n                                classes={{\r\n                                    badge: classes.badgeStyle,\r\n                                }}\r\n                            />\r\n                        </span>\r\n                    }\r\n                />\r\n                {ticket.status === \"pending\" && (\r\n                    <IconButton\r\n                        className={classes.bottomButton}\r\n                        color=\"primary\"\r\n                        loading={loading.toString()}\r\n                        onClick={(e) =>\r\n                            ticket.isBot\r\n                                ? handleAcepptTicketBot(ticket)\r\n                                : handleAcepptTicket(ticket)\r\n                        }\r\n                    >\r\n                        <CheckIcon />\r\n                    </IconButton>\r\n                )}\r\n                {/* {ticket.status === \"pending\" && (\r\n                    <IconButton\r\n                        className={classes.bottomButton}\r\n                        color=\"primary\"\r\n                        onClick={(e) => handleViewTicket(ticket)}\r\n                    >\r\n                        <VisibilityIcon />\r\n                    </IconButton>\r\n                )} */}\r\n                <div className={classes.divTags}>\r\n                    {ticket.isGroup && (\r\n                        <div className={classes.tagsWrapper}>\r\n                            <div\r\n                                key={ticket.id}\r\n                                className={classes.tags}\r\n                                // title={ticket.isGroup}\r\n                                style={{\r\n                                    backgroundColor: \"#7C7C7C\",\r\n                                }}\r\n                            >\r\n                                Grupo\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    {ticket.user?.id &&\r\n                        user.profile.toUpperCase() === \"ADMIN\" && (\r\n                            <div className={classes.tagsWrapper}>\r\n                                <div\r\n                                    key={ticket.user.id}\r\n                                    className={classes.tags}\r\n                                    title={renderUserName(ticket.user.name)}\r\n                                    style={{\r\n                                        backgroundColor:\r\n                                            ticket.user.color === \"\" ||\r\n                                                !ticket.user.color\r\n                                                ? \"#7C7C7C\"\r\n                                                : ticket.user.color,\r\n                                    }}\r\n                                >\r\n                                    {renderUserName(ticket.user.name)}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    {ticket.tags?.length > 0 && (\r\n                        <>\r\n                            <div className={classes.tagsWrapper}>\r\n                                <div\r\n                                    key={ticket.tags[0].id}\r\n                                    className={classes.tags}\r\n                                    title={ticket.tags[0].name}\r\n                                    style={{\r\n                                        backgroundColor: ticket.tags[0].color,\r\n                                    }}\r\n                                >\r\n                                    {ticket.tags[0].name}\r\n                                </div>\r\n                            </div>\r\n                            {ticket.tags.length > 1 && (\r\n                                <div\r\n                                    key={ticket.tags[1].id}\r\n                                    className={classes.tags}\r\n                                    title={ticket.tags[1].name}\r\n                                    style={{\r\n                                        backgroundColor: ticket.tags[1].color,\r\n                                    }}\r\n                                >\r\n                                    +{ticket.tags.length - 1}\r\n                                </div>\r\n                            )}\r\n                        </>\r\n                    )}\r\n                </div>\r\n\r\n                {(ticket.status === \"pending\" && (user.showDashboard === \"enabled\" || user.profile === \"admin\")) && (\r\n                    <IconButton\r\n                        className={classes.bottomButton}\r\n                        color=\"primary\"\r\n                        onClick={(e) => handleClosedTicket(ticket)}\r\n                    >\r\n                        <ClearOutlinedIcon />\r\n                    </IconButton>\r\n                )}\r\n                {ticket.status === \"open\" && (\r\n                    <IconButton\r\n                        className={classes.bottomButton}\r\n                        color=\"primary\"\r\n                        onClick={(e) => handleViewTicket(ticket)}\r\n                    >\r\n                        <ReplayIcon />\r\n                    </IconButton>\r\n                )}\r\n                {ticket.status === \"open\" && (\r\n                    <IconButton\r\n                        className={classes.bottomButton}\r\n                        color=\"primary\"\r\n                        onClick={(e) => handleClosedTicket(ticket)}\r\n                    >\r\n                        <ClearOutlinedIcon />\r\n                    </IconButton>\r\n                )}\r\n                {ticket.status === \"closed\" && (\r\n                    <IconButton\r\n                        className={classes.bottomButton}\r\n                        color=\"primary\"\r\n                        onClick={(e) => handleReopenTicket(ticket)}\r\n                    >\r\n                        <ReplayIcon />\r\n                    </IconButton>\r\n                )}\r\n                {ticket.status === \"closed\" && (\r\n                    <IconButton\r\n                        className={classes.bottomButton}\r\n                        color=\"primary\"\r\n                    ></IconButton>\r\n                )}\r\n            </ListItem>\r\n            <Divider variant=\"inset\" component=\"li\" />\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default TicketListItem;\r\n","import { useState, useEffect } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { format, sub } from 'date-fns'\r\nimport api from \"../../services/api\";\r\n\r\nconst useTickets = ({\r\n  searchParam,\r\n  tags,\r\n  users,\r\n  pageNumber,\r\n  status,\r\n  date,\r\n  updatedAt,\r\n  showAll,\r\n  queueIds,\r\n  withUnreadMessages,\r\n  whatsappIds,\r\n  statusFilter,\r\n  forceSearch,\r\n  userFilter,\r\n  sortTickets,\r\n  searchOnMessages\r\n}) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [tickets, setTickets] = useState([]);\r\n  const [count, setCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchTickets = async () => {\r\n        if (userFilter === undefined || userFilter === null) {\r\n          try {            \r\n            const { data } = await api.get(\"/tickets\", {\r\n              params: {\r\n                searchParam,\r\n                pageNumber,\r\n                tags,\r\n                users,\r\n                status,\r\n                date,\r\n                updatedAt,\r\n                showAll,\r\n                queueIds,\r\n                withUnreadMessages,\r\n                whatsapps: whatsappIds,\r\n                statusFilter,\r\n                sortTickets,\r\n                searchOnMessages\r\n              },\r\n            });\r\n            \r\n            let tickets = [];\r\n            \r\n            tickets = data.tickets;\r\n          \r\n            setTickets(tickets);\r\n            setHasMore(data.hasMore);\r\n            setCount(data.count)\r\n            setLoading(false);\r\n          } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n          }\r\n        } else {\r\n          try {\r\n            const {data} = await api.get(\"/dashboard/moments\", {\r\n              params: {\r\n                status,\r\n                showAll,\r\n                queueIds,\r\n                dateStart: format(sub(new Date(), { days: 30 }), 'yyyy-MM-dd'),\r\n                dateEnd: format(new Date(), 'yyyy-MM-dd'),\r\n                userId: userFilter\r\n              }\r\n            })\r\n            let tickets = [];\r\n            tickets = data.filter(item => item.userId == userFilter);            \r\n\r\n            setTickets(tickets);\r\n            setHasMore(null);\r\n            setLoading(false);\r\n          } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n          }\r\n        }\r\n      };\r\n    fetchTickets();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [\r\n    searchParam,\r\n    tags,\r\n    users,\r\n    pageNumber,\r\n    status,\r\n    date,\r\n    updatedAt,\r\n    showAll,\r\n    queueIds,\r\n    withUnreadMessages,\r\n    whatsappIds,\r\n    statusFilter,\r\n    forceSearch,\r\n    sortTickets,\r\n    searchOnMessages\r\n  ]);\r\n\r\n  return { tickets, loading, hasMore, count };\r\n};\r\n\r\nexport default useTickets;\r\n","/** \r\n * @TercioSantos-1 |\r\n * api/get/todas as configurações de 1 empresa |\r\n * api/get/1 configuração específica |\r\n * api/put/atualização de 1 configuração |\r\n */\r\nimport api from \"../../services/api\";\r\n\r\nconst useCompanySettings = () => {\r\n\r\n    const getAll = async (companyId) => {\r\n        const { data } = await api.request({\r\n            url: `/companySettings/${companyId}`,\r\n            method: 'GET'\r\n        });\r\n\r\n        return data;\r\n    }\r\n\r\n   const get = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/companySettingOne',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    } \r\n\r\n    const update = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/companySettings',\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    return {\r\n        getAll,\r\n        get,\r\n        update\r\n    }\r\n}\r\n\r\nexport default useCompanySettings;","import React, { useState, useRef, useEffect, useContext } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { format } from \"date-fns\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\nimport useSound from \"use-sound\";\r\n\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport ChatIcon from \"@material-ui/icons/Chat\";\r\n\r\nimport TicketListItem from \"../TicketListItem\";\r\nimport useTickets from \"../../hooks/useTickets\";\r\nimport alertSound from \"../../assets/sound.mp3\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport Favicon from \"react-favicon\";\r\nimport { getBackendUrl } from \"../../config\";\r\nimport defaultLogoFavicon from \"../../assets/favicon.ico\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\ttabContainer: {\r\n\t\toverflowY: \"auto\",\r\n\t\tmaxHeight: 350,\r\n\t\t...theme.scrollbarStyles,\r\n\t},\r\n\tpopoverPaper: {\r\n\t\twidth: \"100%\",\r\n\t\tmaxWidth: 350,\r\n\t\tmarginLeft: theme.spacing(2),\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\t[theme.breakpoints.down(\"sm\")]: {\r\n\t\t\tmaxWidth: 270,\r\n\t\t},\r\n\t},\r\n\tnoShadow: {\r\n\t\tboxShadow: \"none !important\",\r\n\t},\r\n}));\r\n\r\nconst NotificationsPopOver = (volume) => {\r\n\tconst classes = useStyles();\r\n\tconst theme = useTheme();\r\n\r\n\tconst history = useHistory();\r\n\t// const socketManager = useContext(SocketContext);\r\n\tconst { user, socket } = useContext(AuthContext);\r\n\tconst { profile, queues } = user;\r\n\r\n\tconst ticketIdUrl = +history.location.pathname.split(\"/\")[2];\r\n\tconst ticketIdRef = useRef(ticketIdUrl);\r\n\tconst anchorEl = useRef();\r\n\tconst [isOpen, setIsOpen] = useState(false);\r\n\tconst [notifications, setNotifications] = useState([]);\r\n\tconst queueIds = queues.map((q) => q.id);\r\n\tconst { get: getSetting } = useCompanySettings();\r\n    const { setCurrentTicket, setTabOpen } = useContext(TicketsContext);\r\n\r\n\tconst [showTicketWithoutQueue, setShowTicketWithoutQueue] = useState(false);\r\n\tconst [showNotificationPending, setShowNotificationPending] = useState(false);\r\n\tconst [showGroupNotification, setShowGroupNotification] = useState(false);\r\n\r\n\tconst [, setDesktopNotifications] = useState([]);\r\n\r\n\tconst { tickets } = useTickets({\r\n\t\twithUnreadMessages: \"true\"\r\n\t\t// showAll: showTicketWithoutQueue ? \"true\" : \"false\"\r\n\t});\r\n\r\n\tconst [play] = useSound(alertSound, volume);\r\n\tconst soundAlertRef = useRef();\r\n\r\n\tconst historyRef = useRef(history);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchSettings = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst setting = await getSetting(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"column\": \"showNotificationPending\"\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\r\n\r\n\t\t\t\tif (setting.showNotificationPending === true) {\r\n\t\t\t\t\tsetShowNotificationPending(true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (user.allTicket === \"enable\") {\r\n\t\t\t\t\tsetShowTicketWithoutQueue(true);\r\n\t\t\t\t}\r\n\t\t\t\tif (user.allowGroup === true) {\r\n\t\t\t\t\tsetShowGroupNotification(true);\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfetchSettings();\r\n\t}, [setShowTicketWithoutQueue, setShowNotificationPending]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsoundAlertRef.current = play;\r\n\r\n\t\tif (!(\"Notification\" in window)) {\r\n\t\t} else {\r\n\t\t\tNotification.requestPermission();\r\n\t\t}\r\n\t}, [play]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst processNotifications = () => {\r\n\t\t\t// if (showTicketWithoutQueue) {\r\n\t\t\tsetNotifications(tickets);\r\n\t\t\t// } else {\r\n\t\t\t// \tconst newNotifications = tickets.filter(ticket => ticket.status !== \"pending\");\r\n\r\n\t\t\t// \tsetNotifications(newNotifications);\r\n\t\t\t// }\r\n\t\t}\r\n\r\n\t\tprocessNotifications();\r\n\t}, [tickets]);\r\n\r\n\tuseEffect(() => {\r\n\t\tticketIdRef.current = ticketIdUrl;\r\n\t}, [ticketIdUrl]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst companyId = user.companyId;\r\n\t\t// const socket = socketManager.GetSocket();\r\n\t\tif (user.id) {\r\n\t\t\tconst queueIds = queues.map((q) => q.id);\r\n\r\n\t\t\tconst onConnectNotificationsPopover = () => {\r\n\t\t\t\tsocket.emit(\"joinNotification\");\r\n\t\t\t}\r\n\r\n\t\t\tconst onCompanyTicketNotificationsPopover = (data) => {\r\n\t\t\t\tif (data.action === \"updateUnread\" || data.action === \"delete\") {\r\n\t\t\t\t\tsetNotifications(prevState => {\r\n\t\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticketId);\r\n\t\t\t\t\t\tif (ticketIndex !== -1) {\r\n\t\t\t\t\t\t\tprevState.splice(ticketIndex, 1);\r\n\t\t\t\t\t\t\treturn [...prevState];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn prevState;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tsetDesktopNotifications(prevState => {\r\n\t\t\t\t\t\tconst notfiticationIndex = prevState.findIndex(\r\n\t\t\t\t\t\t\tn => n.tag === String(data.ticketId)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tif (notfiticationIndex !== -1) {\r\n\t\t\t\t\t\t\tprevState[notfiticationIndex].close();\r\n\t\t\t\t\t\t\tprevState.splice(notfiticationIndex, 1);\r\n\t\t\t\t\t\t\treturn [...prevState];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn prevState;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tconst onCompanyAppMessageNotificationsPopover = (data) => {\r\n\t\t\t\t// if (\r\n\t\t\t\t// \tdata.action === \"create\" && !data.message.fromMe &&\r\n\t\t\t\t// \t(\r\n\t\t\t\t// \t\tdata.ticket.status !== 'pending' &&\r\n\t\t\t\t// \t\tdata.ticket.status !== \"lgpd\" &&\r\n\t\t\t\t// \t\tdata.ticket.status !== \"nps\"\t\t\t\t\t\t\r\n\t\t\t\t// \t) &&\r\n\t\t\t\t// \t(!data.message.read || (data.ticket.status === \"pending\" && showTicketWithoutQueue && data.ticket.queueId === null) || (data.ticket.status === \"pending\" && !showTicketWithoutQueue && user?.queues?.some(queue => (queue.id === data.ticket.queueId)))) &&\r\n\t\t\t\t// \t(data.ticket.userId === user?.id || !data.ticket.userId)\r\n\t\t\t\t// ) {\r\n\t\t\t\t// \r\n\t\t\t\t\r\n\t\t\t\tif (\r\n\t\t\t\t\tdata.action === \"create\" && !data.message.fromMe &&\r\n\t\t\t\t\t!data.message.read &&\r\n\t\t\t\t\t(data.ticket?.userId === user?.id || !data.ticket?.userId) &&\r\n\t\t\t\t\t(user?.queues?.some(queue => (queue.id === data.ticket.queueId)) ||\r\n\t\t\t\t\t\t!data.ticket.queueId && showTicketWithoutQueue === true) &&\r\n\t\t\t\t\t(![\"pending\", \"lgpd\", \"nps\", \"group\"].includes(data.ticket?.status) ||\r\n\t\t\t\t\t\t(data.ticket?.status === \"pending\" && showNotificationPending === true) ||\r\n\t\t\t\t\t\t(data.ticket?.status === \"group\" && data.ticket?.whatsapp?.groupAsTicket === \"enabled\" && showGroupNotification === true))\r\n\t\t\t\t) {\r\n\t\t\t\t\tsetNotifications(prevState => {\r\n\t\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticket.id);\r\n\t\t\t\t\t\tif (ticketIndex !== -1) {\r\n\t\t\t\t\t\t\tprevState[ticketIndex] = data.ticket;\r\n\t\t\t\t\t\t\treturn [...prevState];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn [data.ticket, ...prevState];\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tconst shouldNotNotificate =\r\n\t\t\t\t\t\t(data.message.ticketId === ticketIdRef.current &&\r\n\t\t\t\t\t\t\tdocument.visibilityState === \"visible\") ||\r\n\t\t\t\t\t\t(data.ticket.userId && data.ticket.userId !== user?.id) ||\r\n\t\t\t\t\t\t(data.ticket.isGroup && data.ticket?.whatsapp?.groupAsTicket === \"disabled\" && showGroupNotification === false);\r\n\r\n\r\n\t\t\t\t\tif (shouldNotNotificate === true) return;\r\n\r\n\t\t\t\t\thandleNotifications(data);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tsocket.on(\"connect\", onConnectNotificationsPopover);\r\n\t\t\tsocket.on(`company-${companyId}-ticket`, onCompanyTicketNotificationsPopover);\r\n\t\t\tsocket.on(`company-${companyId}-appMessage`, onCompanyAppMessageNotificationsPopover);\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\tsocket.off(\"connect\", onConnectNotificationsPopover);\r\n\t\t\t\tsocket.off(`company-${companyId}-ticket`, onCompanyTicketNotificationsPopover);\r\n\t\t\t\tsocket.off(`company-${companyId}-appMessage`, onCompanyAppMessageNotificationsPopover);\r\n\t\t\t};\r\n\t\t}\r\n\t}, [user, profile, queues, showTicketWithoutQueue, socket, showNotificationPending, showGroupNotification]);\r\n\r\n\tconst handleNotifications = data => {\r\n\t\tconst { message, contact, ticket } = data;\r\n\r\n\t\tconst options = {\r\n\t\t\tbody: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\r\n\t\t\ticon: contact.urlPicture,\r\n\t\t\ttag: ticket.id,\r\n\t\t\trenotify: true,\r\n\t\t};\r\n\t\tconst notification = new Notification(\r\n\t\t\t`${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\r\n\t\t\toptions\r\n\t\t);\r\n\r\n\t\tnotification.onclick = e => {\r\n\t\t\te.preventDefault();\r\n\t\t\twindow.focus();\r\n\t\t\tsetTabOpen(ticket.status)\r\n\t\t\thistoryRef.current.push(`/tickets/${ticket.uuid}`);\r\n\t\t\t// handleChangeTab(null, ticket.isGroup? \"group\" : \"open\");\r\n\t\t};\r\n\r\n\t\tsetDesktopNotifications(prevState => {\r\n\t\t\tconst notfiticationIndex = prevState.findIndex(\r\n\t\t\t\tn => n.tag === notification.tag\r\n\t\t\t);\r\n\t\t\tif (notfiticationIndex !== -1) {\r\n\t\t\t\tprevState[notfiticationIndex] = notification;\r\n\t\t\t\treturn [...prevState];\r\n\t\t\t}\r\n\t\t\treturn [notification, ...prevState];\r\n\t\t});\r\n\t\tsoundAlertRef.current();\r\n\t};\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetIsOpen(prevState => !prevState);\r\n\t};\r\n\r\n\tconst handleClickAway = () => {\r\n\t\tsetIsOpen(false);\r\n\t};\r\n\r\n\tconst NotificationTicket = ({ children }) => {\r\n\t\treturn <div onClick={handleClickAway}>{children}</div>;\r\n\t};\r\n\r\n\tconst browserNotification = () => {\r\n\t\tconst numbers = \"⓿➊➋➌➍➎➏➐➑➒➓⓫⓬⓭⓮⓯⓰⓱⓲⓳⓴\";\r\n\t\tif (notifications.length > 0) {\r\n\t\t\tif (notifications.length < 21) {\r\n\t\t\t\tdocument.title = numbers.substring(notifications.length, notifications.length + 1) + \" - \" + (theme.appName || \"...\");\r\n\t\t\t} else {\r\n\t\t\t\tdocument.title = \"(\" + notifications.length + \")\" + (theme.appName || \"...\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdocument.title = theme.appName || \"...\";\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Favicon\r\n\t\t\t\t\tanimated={true}\r\n\t\t\t\t\turl={(theme?.appLogoFavicon) ? theme.appLogoFavicon : defaultLogoFavicon}\r\n\t\t\t\t\talertCount={notifications.length}\r\n\t\t\t\t\ticonSize={195}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{browserNotification()}\r\n\r\n\t\t\t<IconButton\r\n\t\t\t\tonClick={handleClick}\r\n\t\t\t\tref={anchorEl}\r\n\t\t\t\taria-label=\"Open Notifications\"\r\n\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\tstyle={{ color: \"white\" }}\r\n\t\t\t>\r\n\t\t\t\t<Badge overlap=\"rectangular\" badgeContent={notifications.length} color=\"secondary\">\r\n\t\t\t\t\t<ChatIcon />\r\n\t\t\t\t</Badge>\r\n\t\t\t</IconButton>\r\n\t\t\t<Popover\r\n\t\t\t\tdisableScrollLock\r\n\t\t\t\topen={isOpen}\r\n\t\t\t\tanchorEl={anchorEl.current}\r\n\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\t\thorizontal: \"right\",\r\n\t\t\t\t}}\r\n\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\tvertical: \"top\",\r\n\t\t\t\t\thorizontal: \"right\",\r\n\t\t\t\t}}\r\n\t\t\t\tclasses={{ paper: classes.popoverPaper }}\r\n\t\t\t\tonClose={handleClickAway}\r\n\t\t\t>\r\n\t\t\t\t<List dense className={classes.tabContainer}>\r\n\t\t\t\t\t{notifications.length === 0 ? (\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tnotifications.map(ticket => (\r\n\t\t\t\t\t\t\t<NotificationTicket key={ticket.id}>\r\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} />\r\n\t\t\t\t\t\t\t</NotificationTicket>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t)}\r\n\t\t\t\t</List>\r\n\t\t\t</Popover>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default NotificationsPopOver;","import React, { useState, useRef } from \"react\";\r\n\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport List from \"@material-ui/core/List\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport VolumeUpIcon from \"@material-ui/icons/VolumeUp\";\r\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\";\r\n\r\nimport { Grid, Slider } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    tabContainer: {\r\n        padding: theme.spacing(2),\r\n    },\r\n    popoverPaper: {\r\n        width: \"100%\",\r\n        maxWidth: 350,\r\n        marginLeft: theme.spacing(2),\r\n        marginRight: theme.spacing(1),\r\n        [theme.breakpoints.down(\"sm\")]: {\r\n            maxWidth: 270,\r\n        },\r\n    },\r\n    noShadow: {\r\n        boxShadow: \"none !important\",\r\n    },\r\n    icons: {\r\n        color: \"#fff\",\r\n    },\r\n    customBadge: {\r\n        backgroundColor: \"#f44336\",\r\n        color: \"#fff\",\r\n    },\r\n}));\r\n\r\nconst NotificationsVolume = ({ volume, setVolume }) => {\r\n    const classes = useStyles();\r\n\r\n    const anchorEl = useRef();\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const handleClick = () => {\r\n        setIsOpen((prevState) => !prevState);\r\n    };\r\n\r\n    const handleClickAway = () => {\r\n        setIsOpen(false);\r\n    };\r\n\r\n    const handleVolumeChange = (value) => {\r\n        setVolume(value);\r\n        localStorage.setItem(\"volume\", value);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <IconButton\r\n                className={classes.icons}\r\n                onClick={handleClick}\r\n                ref={anchorEl}\r\n                aria-label=\"Open Notifications\"\r\n                // color=\"inherit\"\r\n                // color=\"secondary\"\r\n            >\r\n                <VolumeUpIcon color=\"inherit\" />\r\n            </IconButton>\r\n            <Popover\r\n                disableScrollLock\r\n                open={isOpen}\r\n                anchorEl={anchorEl.current}\r\n                anchorOrigin={{\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"right\",\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: \"top\",\r\n                    horizontal: \"right\",\r\n                }}\r\n                classes={{ paper: classes.popoverPaper }}\r\n                onClose={handleClickAway}\r\n            >\r\n                <List dense className={classes.tabContainer}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item>\r\n                            <VolumeDownIcon />\r\n                        </Grid>\r\n                        <Grid item xs>\r\n                            <Slider\r\n                                value={Number(volume)}\r\n                                aria-labelledby=\"continuous-slider\"\r\n                                step={0.1}\r\n                                min={0}\r\n                                max={1}\r\n                                onChange={(e, value) =>\r\n                                    handleVolumeChange(value)\r\n                                }\r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <VolumeUpIcon />\r\n                        </Grid>\r\n                    </Grid>\r\n                </List>\r\n            </Popover>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default NotificationsVolume;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tchips: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\tchip: {\r\n\t\tmargin: 2,\r\n\t},\r\n})); \r\n\r\nconst QueueSelect = ({ selectedQueueIds, onChange }) => {\r\n\tconst classes = useStyles();\r\n\tconst [queues, setQueues] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(\"/queue\");\r\n\t\t\t\tsetQueues(data);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t})();\r\n\t}, []);\r\n\r\n\tconst handleChange = e => {\r\n\t\tonChange(e.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div style={{ marginTop: 6 }}>\r\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tmultiple\r\n\t\t\t\t\tlabelWidth={60}\r\n\t\t\t\t\tvalue={selectedQueueIds}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tMenuProps={{\r\n\t\t\t\t\t\tanchorOrigin: {\r\n\t\t\t\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttransformOrigin: {\r\n\t\t\t\t\t\t\tvertical: \"top\",\r\n\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tgetContentAnchorEl: null,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trenderValue={selected => (\r\n\t\t\t\t\t\t<div className={classes.chips}>\r\n\t\t\t\t\t\t\t{selected?.length > 0 &&\r\n\t\t\t\t\t\t\t\tselected.map(id => {\r\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\r\n\t\t\t\t\t\t\t\t\treturn queue ? (\r\n\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : null;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\t\t\t\t\t\r\n\t\t\t\t\t{queues.map(queue => (\r\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\r\n\t\t\t\t\t\t\t{queue.name}\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Select>\r\n\t\t\t</FormControl>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default QueueSelect;\r\n","import React from \"react\";\r\n\r\nconst TabPanel = ({ children, value, name, ...rest }) => {\r\n\tif (value === name) {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\trole=\"tabpanel\"\r\n\t\t\t\tid={`simple-tabpanel-${name}`}\r\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\r\n\t\t\t\t{...rest}\r\n\t\t\t>\r\n\t\t\t\t<>{children}</>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else return null;\r\n};\r\n\r\nexport default TabPanel;\r\n","import React, { useContext, useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport Button from '@material-ui/core/Button';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport Box from '@material-ui/core/Box';\r\nimport { AuthContext } from '../../context/Auth/AuthContext';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  avatar: {\r\n    width: theme.spacing(12),\r\n    height: theme.spacing(12),\r\n    margin: theme.spacing(2),\r\n    cursor: 'pointer',\r\n    borderRadius: '50%',\r\n    border: '2px solid #ccc',\r\n  },\r\n}));\r\n\r\nconst AvatarUploader = ({ setAvatar, avatar, companyId }) => {\r\n  const classes = useStyles();\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [previewImage, setPreviewImage] = useState(null);\r\n  const user = useContext(AuthContext);\r\n\r\n  const handleFileChange = (event) => {\r\n    const file = event.target.files[0];\r\n    setSelectedFile(file);\r\n    setAvatar(file);\r\n\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        setPreviewImage(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\r\n      {!previewImage && avatar ?\r\n        <><Avatar\r\n          src={`${process.env.REACT_APP_BACKEND_URL}/public/company${companyId}/user/${avatar}`}\r\n          style={{ width: 120, height: 120 }}\r\n        /></>\r\n        : !avatar && !previewImage ? <><Avatar\r\n          src={`${process.env.REACT_APP_BACKEND_URL}/public/app/noimage.png`}\r\n          style={{ width: 120, height: 120 }}\r\n        /></> :\r\n          <Avatar\r\n            alt=\"Preview Avatar\"\r\n            src={previewImage ? previewImage : user.avatar}\r\n            style={{ width: 120, height: 120 }}\r\n          />\r\n      }\r\n\r\n\r\n      <input\r\n        accept=\"image/*\"\r\n        type=\"file\"\r\n        id=\"avatar-upload\"\r\n        style={{ display: 'none' }}\r\n        onChange={handleFileChange}\r\n      />\r\n      <label htmlFor=\"avatar-upload\" style={{ marginTop: 10 }}>\r\n        <Button\r\n          variant=\"contained\"\r\n          component=\"span\"\r\n          startIcon={<CloudUploadIcon />}\r\n        >\r\n          Upload Avatar\r\n        </Button>\r\n      </label>\r\n      {/**   <p>{selectedFile ? `Selected: ${selectedFile.name}` : 'No file selected'}</p>*/}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AvatarUploader;","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport whatsappIcon from '../../assets/nopicture.png'\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport QueueSelect from \"../QueueSelect\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\r\n\r\nimport { Can } from \"../Can\";\r\nimport { Avatar, Grid, Input, Paper, Tab, Tabs } from \"@material-ui/core\";\r\nimport { getBackendUrl } from \"../../config\";\r\nimport TabPanel from \"../TabPanel\";\r\nimport AvatarUploader from \"../AvatarUpload\";\r\n\r\nconst backendUrl = getBackendUrl();\r\nconst path = require('path');\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\tmultFieldLine: {\r\n\t\tdisplay: \"flex\",\r\n\t\t\"& > *:not(:last-child)\": {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n\ttextField: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tflex: 1,\r\n\t},\r\n\tcontainer: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexWrap: 'wrap',\r\n\t},\r\n\tavatar: {\r\n\t\twidth: theme.spacing(12),\r\n\t\theight: theme.spacing(12),\r\n\t\tmargin: theme.spacing(2),\r\n\t\tcursor: 'pointer',\r\n\t\tborderRadius: '50%',\r\n\t\tborder: '2px solid #ccc',\r\n\t},\r\n\tupdateDiv: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t},\r\n\tupdateInput: {\r\n\t\tdisplay: 'none',\r\n\t},\r\n\tupdateLabel: {\r\n\t\tpadding: theme.spacing(1),\r\n\t\tmargin: theme.spacing(1),\r\n\t\ttextTransform: 'uppercase',\r\n\t\ttextAlign: 'center',\r\n\t\tcursor: 'pointer',\r\n\t\tborder: '2px solid #ccc',\r\n\t\tborderRadius: '5px',\r\n\t\tminWidth: 160,\r\n\t\tfontWeight: 'bold',\r\n\t\tcolor: '#555',\r\n\t},\r\n\terrorUpdate: {\r\n\t\tborder: '2px solid red',\r\n\t},\r\n\terrorText: {\r\n\t\tcolor: 'red',\r\n\t\tfontSize: '0.8rem',\r\n\t\tfontWeight: 'bold',\r\n\t}\r\n}));\r\n\r\nconst UserSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Too Short!\")\r\n\t\t.max(50, \"Too Long!\")\r\n\t\t.required(\"Required\"),\r\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\r\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\r\n\tallHistoric: Yup.string().nullable(),\r\n});\r\n\r\nconst UserModal = ({ open, onClose, userId }) => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst initialState = {\r\n\t\tname: \"\",\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t\tprofile: \"user\",\r\n\t\tstartWork: \"00:00\",\r\n\t\tendWork: \"23:59\",\r\n\t\tfarewellMessage: \"\",\r\n\t\tallTicket: \"disable\",\r\n\t\tallowGroup: false,\r\n\t\tdefaultTheme: \"light\",\r\n\t\tdefaultMenu: \"open\",\r\n\t\tallHistoric: \"disabled\",\r\n\t\tallUserChat: \"disabled\",\r\n\t\tuserClosePendingTicket: \"enabled\",\r\n\t\tshowDashboard: \"disabled\",\r\n\t\tallowRealTime: \"disabled\",\r\n\t\tallowConnections: \"disabled\",\r\n\t};\r\n\r\n\tconst { user: loggedInUser } = useContext(AuthContext);\r\n\r\n\tconst [user, setUser] = useState(initialState);\r\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\r\n\tconst [whatsappId, setWhatsappId] = useState(false);\r\n\t// const [allTicket, setAllTicket] = useState(\"disable\");\r\n\tconst { loading, whatsApps } = useWhatsApps();\r\n\tconst [profileUrl, setProfileUrl] = useState(null)\r\n\tconst [tab, setTab] = useState(\"general\");\r\n\tconst [avatar, setAvatar] = useState(null);\r\n\tconst startWorkRef = useRef();\r\n\tconst endWorkRef = useRef();\r\n\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchUser = async () => {\r\n\r\n\t\t\tif (!userId) return;\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(`/users/${userId}`);\r\n\t\t\t\tsetUser(prevState => {\r\n\t\t\t\t\treturn { ...prevState, ...data };\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconst { profileImage } = data;\r\n\t\t\t\tsetProfileUrl(`${backendUrl}/public/company${data.companyId}/user/${profileImage}`);\r\n\r\n\t\t\t\tconst userQueueIds = data.queues?.map(queue => queue.id);\r\n\t\t\t\tsetSelectedQueueIds(userQueueIds);\r\n\t\t\t\tsetWhatsappId(data.whatsappId ? data.whatsappId : '');\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchUser();\r\n\t}, [userId, open]);\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetUser(initialState);\r\n\t};\r\n\r\n\tconst handleTabChange = (event, newValue) => {\r\n\t\tsetTab(newValue);\r\n\t};\r\n\r\n\tconst handleSaveUser = async (values) => {\r\n\r\n\t\tconst uploadAvatar = async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('userId', file.id);\r\n\t\t\tformData.append('typeArch', \"user\");\r\n\t\t\tformData.append('profileImage', avatar);\r\n\r\n\t\t\tconst { data } = await api.post(`/users/${file.id}/media-upload`, formData);\r\n\r\n\t\t\tlocalStorage.setItem(\"profileImage\", data.user.profileImage);\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t\tconst userData = {\r\n\t\t\t...values,\r\n\t\t\twhatsappId,\r\n\t\t\tqueueIds: selectedQueueIds\r\n\t\t};\r\n\t\ttry {\r\n\t\t\tif (userId) {\r\n\t\t\t\tconst { data } = await api.put(`/users/${userId}`, userData);\r\n\t\t\t\tif (avatar && (!user?.profileImage || !user?.profileImage !== avatar.name))// getBasename(avatar)))\r\n\t\t\t\t\tuploadAvatar(data)\r\n\t\t\t} else {\r\n\t\t\t\tawait api.post(\"/users\", userData);\r\n\r\n\t\t\t\tif (!user?.profileImage && avatar)\r\n\t\t\t\t\tuploadAvatar(user)\r\n\t\t\t}\r\n\t\t\tif (userId === loggedInUser.id) {\r\n\t\t\t\thandleClose();\r\n\t\t\t\ttoast.success(i18n.t(\"userModal.success\"));\r\n\t\t\t\twindow.location.reload(\t);\r\n\t\t\t} else {\r\n\t\t\t\thandleClose();\r\n\t\t\t\ttoast.success(i18n.t(\"userModal.success\"));\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tmaxWidth=\"sm\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tscroll=\"paper\"\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{userId\r\n\t\t\t\t\t\t? `${i18n.t(\"userModal.title.edit\")}`\r\n\t\t\t\t\t\t: `${i18n.t(\"userModal.title.add\")}`}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={user}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={UserSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveUser(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ touched, errors, isSubmitting, setFieldValue }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Paper className={classes.mainPaper} elevation={1}>\r\n\t\t\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\t\t\tvalue={tab}\r\n\t\t\t\t\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tscrollButtons=\"on\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"scrollable\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleTabChange}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.tab}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Tab label={i18n.t(\"userModal.tabs.general\")} value={\"general\"} />\r\n\t\t\t\t\t\t\t\t\t<Tab label={i18n.t(\"userModal.tabs.permissions\")} value={\"permissions\"} />\r\n\t\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t\t<TabPanel\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.container}\r\n\t\t\t\t\t\t\t\t\t\tvalue={tab}\r\n\t\t\t\t\t\t\t\t\t\tname={\"general\"}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\t\t\tspacing={1}\r\n\t\t\t\t\t\t\t\t\t\t\talignContent=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl className={classes.updateDiv}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<AvatarUploader\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAvatar={setAvatar}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tavatar={user.profileImage}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcompanyId={user.companyId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{user.profileImage &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser.profileImage = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"profileImage\", null);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAvatar(null);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.title.removeImage\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.name\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.password\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={8} xl={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.email\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={4} xl={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t//className={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Can\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.profile\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.profile\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"profile\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"profile-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"profile-selection\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"admin\">Admin</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"user\">User</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Can\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<QueueSelect\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={values => setSelectedQueueIds(values)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Can\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" margin=\"dense\" className={classes.maxWidth} fullWidth>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.whatsapp\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={whatsappId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setWhatsappId(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.whatsapp\")}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{whatsApps.map((whatsapp) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={whatsapp.id} value={whatsapp.id}>{whatsapp.name}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Can\r\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\r\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\r\n\t\t\t\t\t\t\t\t\t\t\tyes={() => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.startWork\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"time\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tampm={\"false\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputRef={startWorkRef}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstep: 600, // 5 min\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"startWork\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.startWork && Boolean(errors.startWork)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.startWork && errors.startWork\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.endWork\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"time\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tampm={\"false\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputRef={endWorkRef}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstep: 600, // 5 min\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"endWork\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.endWork && Boolean(errors.endWork)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.endWork && errors.endWork\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.farewellMessage\")}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"farewellMessage\"\r\n\t\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"farewellMessage\"\r\n\t\t\t\t\t\t\t\t\t\t\terror={touched.farewellMessage && Boolean(errors.farewellMessage)}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.farewellMessage && errors.farewellMessage}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.defaultTheme\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.defaultTheme\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"defaultTheme\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"defaultTheme\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"light\">{i18n.t(\"userModal.form.defaultThemeLight\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"dark\">{i18n.t(\"userModal.form.defaultThemeDark\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.defaultMenu\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.defaultMenu\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"defaultMenu\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"defaultMenu\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"open\"}>{i18n.t(\"userModal.form.defaultMenuOpen\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"closed\"}>{i18n.t(\"userModal.form.defaultMenuClosed\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t\t\t\t<TabPanel\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.container}\r\n\t\t\t\t\t\t\t\t\t\tvalue={tab}\r\n\t\t\t\t\t\t\t\t\t\tname={\"permissions\"}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Can\r\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\r\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\r\n\t\t\t\t\t\t\t\t\t\t\tyes={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.allTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.allTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"allTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"allTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enable\">{i18n.t(\"userModal.form.allTicketEnable\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"disable\">{i18n.t(\"userModal.form.allTicketDisable\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.allowGroup\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.allowGroup\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"allowGroup\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"allowGroup\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={true}>{i18n.t(\"userModal.form.allTicketEnable\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={false}>{i18n.t(\"userModal.form.allTicketDisable\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.allHistoric\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.allHistoric\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"allHistoric\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"allHistoric\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"disabled\">{i18n.t(\"userModal.form.allHistoricDisabled\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enabled\">{i18n.t(\"userModal.form.allHistoricEnabled\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.allUserChat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.allUserChat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"allUserChat\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"allUserChat\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"disabled\">{i18n.t(\"userModal.form.allHistoricDisabled\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enabled\">{i18n.t(\"userModal.form.allHistoricEnabled\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.userClosePendingTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.userClosePendingTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"userClosePendingTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"userClosePendingTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"disabled\">{i18n.t(\"userModal.form.allHistoricDisabled\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enabled\">{i18n.t(\"userModal.form.allHistoricEnabled\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.allowConnections\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.allowConnections\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"allowConnections\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"allowConnections\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"disabled\">{i18n.t(\"userModal.form.allHistoricDisabled\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enabled\">{i18n.t(\"userModal.form.allHistoricEnabled\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.showDashboard\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.showDashboard\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"showDashboard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"showDashboard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"disabled\">{i18n.t(\"userModal.form.allHistoricDisabled\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enabled\">{i18n.t(\"userModal.form.allHistoricEnabled\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.allowRealTime\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.allowRealTime\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"allowRealTime\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"allowRealTime\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"disabled\">{i18n.t(\"userModal.form.allHistoricDisabled\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enabled\">{i18n.t(\"userModal.form.allHistoricEnabled\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{userId\r\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"userModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"userModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div >\r\n\t);\r\n};\r\n\r\nexport default UserModal;\r\n","import React from \"react\";\r\n\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbackdrop: {\r\n\t\tzIndex: theme.zIndex.drawer + 1,\r\n\t\tcolor: \"#fff\",\r\n\t},\r\n}));\r\n\r\nconst BackdropLoading = () => {\r\n\tconst classes = useStyles();\r\n\treturn (\r\n\t\t<Backdrop className={classes.backdrop} open={true}>\r\n\t\t\t<CircularProgress color=\"inherit\" />\r\n\t\t</Backdrop>\r\n\t);\r\n};\r\n\r\nexport default BackdropLoading;\r\n","import React, { useEffect, useReducer, useState, useContext } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nimport {\r\n  Avatar,\r\n  Badge,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Dialog,\r\n  Paper,\r\n  Typography,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  DialogContentText,\r\n} from \"@material-ui/core\";\r\nimport api from \"../../services/api\";\r\nimport { isArray } from \"lodash\";\r\nimport moment from \"moment\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    maxHeight: 300,\r\n    maxWidth: 500,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nfunction AnnouncementDialog({ announcement, open, handleClose }) {\r\n  // const getMediaPath = (filename) => {\r\n  //   return path.join(`${process.env.REACT_APP_BACKEND_URL}`,\"public\", \"announcements\",`${filename}`);\r\n  // };\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={() => handleClose()}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">{announcement.title}</DialogTitle>\r\n      <DialogContent>\r\n        {announcement.mediaPath && (\r\n          <div\r\n            style={{\r\n              border: \"1px solid #f1f1f1\",\r\n              margin: \"0 auto 20px\",\r\n              textAlign: \"center\",\r\n              width: \"95%\",\r\n              height: 300,\r\n              backgroundRepeat: \"no-repeat\",\r\n              backgroundSize: \"cover\",\r\n              backgroundPosition: \"center\",\r\n            }}\r\n          >\r\n            <img\r\n              alt={`announcement image`}\r\n              src={announcement.mediaPath}\r\n              style={{\r\n                width: \"95%\",\r\n                height: \"100%\",\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n        <DialogContentText id=\"alert-dialog-description\" style={{ whiteSpace: \"pre-line\" }}>\r\n          {announcement.text}\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => handleClose()} color=\"primary\" autoFocus>\r\n          Fechar\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\r\n    const announcements = action.payload;\r\n    const newAnnouncements = [];\r\n\r\n    if (isArray(announcements)) {\r\n      announcements.forEach((announcement) => {\r\n        const announcementIndex = state.findIndex(\r\n          (u) => u.id === announcement.id\r\n        );\r\n        if (announcementIndex !== -1) {\r\n          state[announcementIndex] = announcement;\r\n        } else {\r\n          newAnnouncements.push(announcement);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newAnnouncements];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\r\n    const announcement = action.payload;\r\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\r\n\r\n    if (announcementIndex !== -1) {\r\n      state[announcementIndex] = announcement;\r\n      return [...state];\r\n    } else {\r\n      return [announcement, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\r\n    const announcementId = action.payload;\r\n\r\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\r\n    if (announcementIndex !== -1) {\r\n      state.splice(announcementIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport default function AnnouncementsPopover() {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [searchParam] = useState(\"\");\r\n  const [announcements, dispatch] = useReducer(reducer, []);\r\n  const [invisible, setInvisible] = useState(false);\r\n  const [announcement, setAnnouncement] = useState({});\r\n  const [showAnnouncementDialog, setShowAnnouncementDialog] = useState(false);\r\n//   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchAnnouncements();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    if (user.companyId) {\r\n      const companyId = user.companyId;\r\n//    const socket = socketManager.GetSocket();\r\n\r\n      const onCompanyAnnouncement = (data) => {\r\n        if (data.action === \"update\" || data.action === \"create\") {\r\n          dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\r\n          setInvisible(false);\r\n        }\r\n        if (data.action === \"delete\") {\r\n          dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\r\n        }\r\n      };\r\n      socket.on(`company-announcement`, onCompanyAnnouncement);\r\n\r\n      return () => {\r\n        socket.off(`company-announcement`, onCompanyAnnouncement);\r\n      };\r\n    }\r\n  }, [user]);\r\n\r\n  const fetchAnnouncements = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/announcements/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setInvisible(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const borderPriority = (priority) => {\r\n    if (priority === 1) {\r\n      return \"4px solid #b81111\";\r\n    }\r\n    if (priority === 2) {\r\n      return \"4px solid orange\";\r\n    }\r\n    if (priority === 3) {\r\n      return \"4px solid grey\";\r\n    }\r\n  };\r\n\r\n\r\n  const handleShowAnnouncementDialog = (record) => {\r\n    setAnnouncement(record);\r\n    setShowAnnouncementDialog(true);\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n\r\n  return (\r\n    <div>\r\n      <AnnouncementDialog\r\n        announcement={announcement}\r\n        open={showAnnouncementDialog}\r\n        handleClose={() => setShowAnnouncementDialog(false)}\r\n      />\r\n      <IconButton\r\n        variant=\"contained\"\r\n        aria-describedby={id}\r\n        onClick={handleClick}\r\n        style={{ color: \"white\" }}\r\n      >\r\n        <Badge\r\n          color=\"secondary\"\r\n          variant=\"dot\"\r\n          invisible={invisible || announcements.length < 1}\r\n        >\r\n          <AnnouncementIcon />\r\n        </Badge>\r\n      </IconButton>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"center\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        }}\r\n      >\r\n        <Paper\r\n          variant=\"outlined\"\r\n          onScroll={handleScroll}\r\n          className={classes.mainPaper}\r\n        >\r\n          <List\r\n            component=\"nav\"\r\n            aria-label=\"main mailbox folders\"\r\n            style={{ minWidth: 300 }}\r\n          >\r\n            {isArray(announcements) &&\r\n              announcements.map((item, key) => (\r\n                <ListItem\r\n                  key={key}\r\n                  style={{\r\n                    background: key % 2 === 0 ? \"primary\" : \"secondary\",\r\n                    border: \"1px solid #eee\",\r\n                    borderLeft: borderPriority(item.priority),\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                  onClick={() => handleShowAnnouncementDialog(item)}\r\n                >\r\n                  {item.mediaPath && (\r\n                    <ListItemAvatar>\r\n                      <Avatar\r\n                        src={item.mediaPath}\r\n                      />\r\n                    </ListItemAvatar>\r\n                  )}\r\n                  <ListItemText\r\n                    primary={item.title}\r\n                    secondary={\r\n                      <>\r\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\r\n                          {moment(item.createdAt).format(\"DD/MM/YYYY\")}\r\n                        </Typography>\r\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\r\n                        <Typography component=\"span\" variant=\"body2\">\r\n                          {item.text}\r\n                        </Typography>\r\n                      </>\r\n                    }\r\n                  />\r\n                </ListItem>\r\n              ))}\r\n            {isArray(announcements) && announcements.length === 0 && (\r\n              <ListItemText primary={i18n.t(\"mainDrawer.appBar.notRegister\")} />\r\n            )}\r\n          </List>\r\n        </Paper>\r\n      </Popover>\r\n    </div>\r\n  );\r\n}","import moment from \"moment\";\r\n\r\nexport function useDate() {\r\n  function dateToClient(strDate) {\r\n    if (moment(strDate).isValid()) {\r\n      return moment(strDate).format(\"DD/MM/YYYY\");\r\n    }\r\n    return strDate;\r\n  }\r\n\r\n  function datetimeToClient(strDate) {\r\n    if (moment(strDate).isValid()) {\r\n      return moment(strDate).format(\"DD/MM/YYYY HH:mm\");\r\n    }\r\n    return strDate;\r\n  }\r\n\r\n  function dateToDatabase(strDate) {\r\n    if (moment(strDate, \"DD/MM/YYYY\").isValid()) {\r\n      return moment(strDate).format(\"YYYY-MM-DD HH:mm:ss\");\r\n    }\r\n    return strDate;\r\n  }\r\n\r\n  function returnDays(date) {\r\n    let data1 = new Date()\r\n    let data2 = new Date(date)\r\n    let result = data2.getTime() - data1.getTime();\r\n    let days = Math.ceil(result / (1000 * 60 * 60 * 24));\r\n\r\n    if (days === -0) {\r\n      days = 0\r\n    }\r\n    return days;\r\n  }\r\n\r\n  return {\r\n    dateToClient,\r\n    datetimeToClient,\r\n    dateToDatabase,\r\n    returnDays\r\n  };\r\n}\r\n","import React, {\r\n  useContext,\r\n  useEffect,\r\n  useReducer,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport ForumIcon from \"@material-ui/icons/Forum\";\r\nimport {\r\n  Badge,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Paper,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport api from \"../../services/api\";\r\nimport { isArray } from \"lodash\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nimport notifySound from \"../../assets/chat_notify.mp3\";\r\nimport useSound from \"use-sound\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    maxHeight: 300,\r\n    maxWidth: 500,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CHATS\") {\r\n    const chats = action.payload;\r\n    const newChats = [];\r\n\r\n    if (isArray(chats)) {\r\n      chats.forEach((chat) => {\r\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\r\n        if (chatIndex !== -1) {\r\n          state[chatIndex] = chat;\r\n        } else {\r\n          newChats.push(chat);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newChats];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CHATS\") {\r\n    const chat = action.payload;\r\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\r\n\r\n    if (chatIndex !== -1) {\r\n      state[chatIndex] = chat;\r\n      return [...state];\r\n    } else {\r\n      return [chat, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CHAT\") {\r\n    const chatId = action.payload;\r\n\r\n    const chatIndex = state.findIndex((u) => u.id === chatId);\r\n    if (chatIndex !== -1) {\r\n      state.splice(chatIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n\r\n  if (action.type === \"CHANGE_CHAT\") {\r\n    const changedChats = state.map((chat) => {\r\n      if (chat.id === action.payload.chat.id) {\r\n        return action.payload.chat;\r\n      }\r\n      return chat;\r\n    });\r\n    return changedChats;\r\n  }\r\n};\r\n\r\nexport default function ChatPopover() {\r\n  const classes = useStyles();\r\n\r\n//   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [searchParam] = useState(\"\");\r\n  const [chats, dispatch] = useReducer(reducer, []);\r\n  const [invisible, setInvisible] = useState(true);\r\n  const { datetimeToClient } = useDate();\r\n  const [play] = useSound(notifySound);\r\n  const soundAlertRef = useRef();\r\n\r\n  useEffect(() => {\r\n    soundAlertRef.current = play;\r\n\r\n    if (!(\"Notification\" in window)) {\r\n      console.log(\"This browser doesn't support notifications\");\r\n    } else {\r\n      Notification.requestPermission();\r\n    }\r\n  }, [play]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchChats();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    if (user.companyId) {\r\n\r\n      const companyId = user.companyId;\r\n//    const socket = socketManager.GetSocket();\r\n\r\n      const onCompanyChatPopover = (data) => {\r\n        if (data.action === \"new-message\") {\r\n          dispatch({ type: \"CHANGE_CHAT\", payload: data });\r\n          if (data.newMessage.senderId !== user.id) {\r\n\r\n            soundAlertRef.current();\r\n          }\r\n        }\r\n        if (data.action === \"update\") {\r\n          dispatch({ type: \"CHANGE_CHAT\", payload: data });\r\n        }\r\n      }\r\n\r\n      socket.on(`company-${companyId}-chat`, onCompanyChatPopover);\r\n\r\n      return () => {\r\n        socket.off(`company-${companyId}-chat`, onCompanyChatPopover);\r\n      };\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user]);\r\n\r\n\r\n  useEffect(() => {\r\n    let unreadsCount = 0;\r\n    if (chats.length > 0) {\r\n      for (let chat of chats) {\r\n        for (let chatUser of chat.users) {\r\n          if (chatUser.userId === user.id) {\r\n            unreadsCount += chatUser.unreads;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (unreadsCount > 0) {\r\n      setInvisible(false);\r\n    } else {\r\n      setInvisible(true);\r\n    }\r\n  }, [chats, user.id]);\r\n\r\n  const fetchChats = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/chats/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setInvisible(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const goToMessages = (chat) => {\r\n    window.location.href = `/chats/${chat.uuid}`;\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-describedby={id}\r\n        variant=\"contained\"\r\n        color={invisible ? \"default\" : \"inherit\"}\r\n        onClick={handleClick}\r\n        style={{ color: \"white\" }}\r\n      >\r\n        <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\r\n          <ForumIcon />\r\n        </Badge>\r\n      </IconButton>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"center\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        }}\r\n      >\r\n        <Paper\r\n          variant=\"outlined\"\r\n          onScroll={handleScroll}\r\n          className={classes.mainPaper}\r\n        >\r\n          <List\r\n            component=\"nav\"\r\n            aria-label=\"main mailbox folders\"\r\n            style={{ minWidth: 300 }}\r\n          >\r\n            {isArray(chats) &&\r\n              chats.map((item, key) => (\r\n                <ListItem\r\n                  key={key}\r\n                  style={{\r\n                    background: key % 2 === 0 ? \"#ededed\" : \"white\",\r\n                    border: \"1px solid #eee\",\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                  onClick={() => goToMessages(item)}\r\n                  button\r\n                >\r\n                  <ListItemText\r\n                    primary={item.lastMessage}\r\n                    secondary={\r\n                      <>\r\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\r\n                          {datetimeToClient(item.updatedAt)}\r\n                        </Typography>\r\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\r\n                      </>\r\n                    }\r\n                  />\r\n                </ListItem>\r\n              ))}\r\n            {isArray(chats) && chats.length === 0 && (\r\n              <ListItemText primary={i18n.t(\"mainDrawer.appBar.notRegister\")} />\r\n            )}\r\n          </List>\r\n        </Paper>\r\n      </Popover>\r\n    </div>\r\n  );\r\n}","import api, { openApi } from \"../../services/api\";\r\n\r\nconst useSettings = () => {\r\n  const getAll = async (params) => {\r\n    const { data } = await api.request({\r\n      url: \"/settings\",\r\n      method: \"GET\",\r\n      params,\r\n    });\r\n    return data;\r\n  };\r\n\r\n  const update = async (data) => {\r\n    const { data: responseData } = await api.request({\r\n      url: `/settings/${data.key}`,\r\n      method: \"PUT\",\r\n      data,\r\n    });\r\n    return responseData;\r\n  };\r\n\r\n  const get = async (param) => {\r\n    const { data } = await api.request({\r\n      url: `/setting/${param}`,\r\n      method: \"GET\",\r\n    });\r\n    return data;\r\n  };\r\n\r\n  const getPublicSetting = async (key) => {\r\n    const params = {\r\n      token: \"wtV\"\r\n    }\r\n\r\n    const { data } = await openApi.request({\r\n        url: `/public-settings/${key}`,\r\n        method: 'GET',\r\n        params\r\n    });\r\n    return data;\r\n  };\r\n\r\n  return {\r\n    getAll,\r\n    update,\r\n    get,\r\n    getPublicSetting,\r\n  };\r\n};\r\n\r\nexport default useSettings;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport api from \"../../services/api\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst packageVersion = require(\"../../../package.json\").version;\r\n\r\nconst VersionControl = () => {\r\n  const [storedVersion] = useState(window.localStorage.getItem(\"version\") || \"0.0.0\");\r\n\r\n  const handleUpdateVersion = async () => {\r\n    window.localStorage.setItem(\"version\", packageVersion);\r\n\r\n    // Mantive apenas para salvar no banco a versao atual\r\n    const { data } = await api.post(\"/version\", {\r\n      version: packageVersion,\r\n    });\r\n\r\n    // Limpar o cache do navegador\r\n    caches.keys().then(function (names) {\r\n      for (let name of names) caches.delete(name);\r\n    });\r\n\r\n    // Atraso para garantir que o cache foi limpo\r\n    setTimeout(() => {\r\n      window.location.reload(true); // Recarregar a página\r\n    }, 1000);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {storedVersion !== packageVersion && (\r\n        <Button\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          style={{\r\n            backgroundColor: \"red\",\r\n            color: \"white\",\r\n            fontWeight: \"bold\",\r\n            right: \"15px\",\r\n          }}\r\n          onClick={handleUpdateVersion}\r\n        >\r\n          Nova versão disponível! Clique aqui para atualizar\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VersionControl;\r\n","import React, { useState, useContext, useEffect, useMemo } from \"react\";\r\nimport clsx from \"clsx\";\r\n// import moment from \"moment\";\r\n\r\n// import { isNill } from \"lodash\";\r\n// import SoftPhone from \"react-softphone\";\r\n// import { WebSocketInterface } from \"jssip\";\r\n\r\nimport {\r\n  makeStyles,\r\n  Drawer,\r\n  AppBar,\r\n  Toolbar,\r\n  List,\r\n  Typography,\r\n  Divider,\r\n  MenuItem,\r\n  IconButton,\r\n  Menu,\r\n  useTheme,\r\n  useMediaQuery,\r\n  Avatar,\r\n  // FormControl,\r\n  Badge,\r\n  withStyles,\r\n  Chip,\r\n} from \"@material-ui/core\";\r\n\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\n// import AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport CachedIcon from \"@material-ui/icons/Cached\";\r\n// import whatsappIcon from \"../assets/nopicture.png\";\r\n\r\nimport MainListItems from \"./MainListItems\";\r\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\r\nimport NotificationsVolume from \"../components/NotificationsVolume\";\r\nimport UserModal from \"../components/UserModal\";\r\nimport { AuthContext } from \"../context/Auth/AuthContext\";\r\nimport BackdropLoading from \"../components/BackdropLoading\";\r\n// import DarkMode from \"../components/DarkMode\";\r\nimport { i18n } from \"../translate/i18n\";\r\nimport toastError from \"../errors/toastError\";\r\nimport AnnouncementsPopover from \"../components/AnnouncementsPopover\";\r\n\r\nimport logo from \"../assets/logo.png\";\r\nimport logoDark from \"../assets/logo-black.png\";\r\nimport ChatPopover from \"../pages/Chat/ChatPopover\";\r\n\r\nimport { useDate } from \"../hooks/useDate\";\r\n// import UserLanguageSelector from \"../components/UserLanguageSelector\";\r\n\r\nimport ColorModeContext from \"./themeContext\";\r\nimport Brightness4Icon from \"@material-ui/icons/Brightness4\";\r\nimport Brightness7Icon from \"@material-ui/icons/Brightness7\";\r\nimport { getBackendUrl } from \"../config\";\r\nimport useSettings from \"../hooks/useSettings\";\r\nimport VersionControl from \"../components/VersionControl\";\r\n\r\n// import { SocketContext } from \"../context/Socket/SocketContext\";\r\n\r\nconst backendUrl = getBackendUrl();\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    height: \"100vh\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      height: \"calc(100vh - 56px)\",\r\n    },\r\n    backgroundColor: theme.palette.fancyBackground,\r\n    \"& .MuiButton-outlinedPrimary\": {\r\n      color: theme.palette.primary,\r\n      border:\r\n        theme.mode === \"light\"\r\n          ? \"1px solid rgba(0 124 102)\"\r\n          : \"1px solid rgba(255, 255, 255, 0.5)\",\r\n    },\r\n    \"& .MuiTab-textColorPrimary.Mui-selected\": {\r\n      color: theme.palette.primary,\r\n    },\r\n  },\r\n  chip: {\r\n    background: \"red\",\r\n    color: \"white\",\r\n  },\r\n  avatar: {\r\n    width: \"100%\",\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n    color: theme.palette.dark.main,\r\n    background: theme.palette.barraSuperior,\r\n  },\r\n  toolbarIcon: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    // backgroundColor: \"#FFF\",\r\n    backgroundSize: \"cover\",\r\n    padding: \"0 8px\",\r\n    minHeight: \"48px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      height: \"48px\",\r\n    },\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  // menuButton: {\r\n  //   marginRight: 36,\r\n  // },\r\n  menuButtonHidden: {\r\n    display: \"none\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    fontSize: 14,\r\n    color: \"white\",\r\n  },\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    // overflowX: \"hidden\",\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    overflowX: \"hidden\",\r\n    overflowY: \"hidden\",\r\n  },\r\n\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    overflowY: \"hidden\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n\r\n  appBarSpacer: {\r\n    minHeight: \"48px\",\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    overflow: \"auto\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  // paper: {\r\n  //     padding: theme.spacing(2),\r\n  //     display: \"flex\",\r\n  //     overflow: \"auto\",\r\n  //     flexDirection: \"column\",\r\n  //   },\r\n  containerWithScroll: {\r\n    flex: 1,\r\n    // padding: theme.spacing(1),\r\n    overflowY: \"scroll\", // Use \"auto\" para mostrar a barra de rolagem apenas quando necessário\r\n    overflowX: \"hidden\", // Oculta a barra de rolagem horizontal\r\n    ...theme.scrollbarStyles,\r\n    borderRadius: \"8px\",\r\n    border: \"2px solid transparent\",\r\n    \"&::-webkit-scrollbar\": {\r\n      display: \"none\",\r\n    },\r\n    \"-ms-overflow-style\": \"none\",\r\n    \"scrollbar-width\": \"none\",\r\n  },\r\n  NotificationsPopOver: {\r\n    // color: theme.barraSuperior.secondary.main,\r\n  },\r\n  logo: {\r\n    width: \"100%\",\r\n    height: \"45px\",\r\n    maxWidth: 180,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"auto\",\r\n      height: \"100%\",\r\n      maxWidth: 180,\r\n    },\r\n    logo: theme.logo,\r\n    content: \"url(\" + (theme.mode === \"light\" ? theme.calculatedLogoLight() : theme.calculatedLogoDark()) + \")\"\r\n  },\r\n  hideLogo: {\r\n    display: \"none\",\r\n  },\r\n  avatar2: {\r\n    width: theme.spacing(4),\r\n    height: theme.spacing(4),\r\n    cursor: \"pointer\",\r\n    borderRadius: \"50%\",\r\n    border: \"2px solid #ccc\",\r\n  },\r\n  updateDiv: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n}));\r\n\r\nconst StyledBadge = withStyles((theme) => ({\r\n  badge: {\r\n    backgroundColor: \"#44b700\",\r\n    color: \"#44b700\",\r\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\r\n    \"&::after\": {\r\n      position: \"absolute\",\r\n      top: 0,\r\n      left: 0,\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      borderRadius: \"50%\",\r\n      animation: \"$ripple 1.2s infinite ease-in-out\",\r\n      border: \"1px solid currentColor\",\r\n      content: '\"\"',\r\n    },\r\n  },\r\n  \"@keyframes ripple\": {\r\n    \"0%\": {\r\n      transform: \"scale(.8)\",\r\n      opacity: 1,\r\n    },\r\n    \"100%\": {\r\n      transform: \"scale(2.4)\",\r\n      opacity: 0,\r\n    },\r\n  },\r\n}))(Badge);\r\n\r\nconst SmallAvatar = withStyles((theme) => ({\r\n  root: {\r\n    width: 22,\r\n    height: 22,\r\n    border: `2px solid ${theme.palette.background.paper}`,\r\n  },\r\n}))(Avatar);\r\n\r\nconst LoggedInLayout = ({ children, themeToggle }) => {\r\n  const classes = useStyles();\r\n  const [userToken, setUserToken] = useState(\"disabled\");\r\n  const [loadingUserToken, setLoadingUserToken] = useState(false);\r\n  const [userModalOpen, setUserModalOpen] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const { handleLogout, loading } = useContext(AuthContext);\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\r\n  // const [dueDate, setDueDate] = useState(\"\");\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const theme = useTheme();\r\n  const { colorMode } = useContext(ColorModeContext);\r\n  const greaterThenSm = useMediaQuery(theme.breakpoints.up(\"sm\"));\r\n\r\n  const [volume, setVolume] = useState(localStorage.getItem(\"volume\") || 1);\r\n\r\n  const { dateToClient } = useDate();\r\n  const [profileUrl, setProfileUrl] = useState(null);\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  const mainListItems = useMemo(\r\n    () => <MainListItems drawerOpen={drawerOpen} collapsed={!drawerOpen} />,\r\n    [user, drawerOpen]\r\n  );\r\n\r\n  const settings = useSettings();\r\n\r\n  useEffect(() => {\r\n    const getSetting = async () => {\r\n      const response = await settings.get(\"wtV\");\r\n\r\n\r\n      if (response) {\r\n\r\n        setUserToken(\"disabled\");\r\n\r\n      } else {\r\n        setUserToken(\"disabled\");\r\n      }\r\n    };\r\n\r\n    getSetting();\r\n  });\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    // if (localStorage.getItem(\"public-token\") === null) {\r\n    //   handleLogout()\r\n    // }\r\n\r\n    if (document.body.offsetWidth > 600) {\r\n      if (user.defaultMenu === \"closed\") {\r\n        setDrawerOpen(false);\r\n      } else {\r\n        setDrawerOpen(true);\r\n      }\r\n    }\r\n    if (user.defaultTheme === \"dark\" && theme.mode === \"light\") {\r\n      colorMode.toggleColorMode();\r\n    }\r\n  }, [user.defaultMenu, document.body.offsetWidth]);\r\n\r\n  useEffect(() => {\r\n    if (document.body.offsetWidth < 600) {\r\n      setDrawerVariant(\"temporary\");\r\n    } else {\r\n      setDrawerVariant(\"permanent\");\r\n    }\r\n  }, [drawerOpen]);\r\n\r\n  useEffect(() => {\r\n\r\n    const companyId = user.companyId;\r\n    const userId = user.id;\r\n    if (companyId) {\r\n      //    const socket = socketManager.GetSocket();\r\n\r\n      const ImageUrl = user.profileImage;\r\n      if (ImageUrl !== undefined && ImageUrl !== null)\r\n        setProfileUrl(\r\n          `${backendUrl}/public/company${companyId}/user/${ImageUrl}`\r\n        );\r\n      else setProfileUrl(`${process.env.FRONTEND_URL}/nopicture.png`);\r\n\r\n      const onCompanyAuthLayout = (data) => {\r\n        if (data.user.id === +userId) {\r\n          toastError(\"Sua conta foi acessada em outro computador.\");\r\n          setTimeout(() => {\r\n            localStorage.clear();\r\n            window.location.reload();\r\n          }, 1000);\r\n        }\r\n      }\r\n\r\n      socket.on(`company-${companyId}-auth`, onCompanyAuthLayout);\r\n\r\n      socket.emit(\"userStatus\");\r\n      const interval = setInterval(() => {\r\n        socket.emit(\"userStatus\");\r\n      }, 1000 * 60 * 5);\r\n\r\n      return () => {\r\n        socket.off(`company-${companyId}-auth`, onCompanyAuthLayout);\r\n        clearInterval(interval);\r\n      };\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [socket]);\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setMenuOpen(true);\r\n  };\r\n\r\n  const handleCloseMenu = () => {\r\n    setAnchorEl(null);\r\n    setMenuOpen(false);\r\n  };\r\n\r\n  const handleOpenUserModal = () => {\r\n    setUserModalOpen(true);\r\n    handleCloseMenu();\r\n  };\r\n\r\n  const handleClickLogout = () => {\r\n    handleCloseMenu();\r\n    handleLogout();\r\n  };\r\n\r\n  const drawerClose = () => {\r\n    if (document.body.offsetWidth < 600 || user.defaultMenu === \"closed\") {\r\n      setDrawerOpen(false);\r\n    }\r\n  };\r\n\r\n  const handleRefreshPage = () => {\r\n    window.location.reload(false);\r\n  };\r\n\r\n  const handleMenuItemClick = () => {\r\n    const { innerWidth: width } = window;\r\n    if (width <= 600) {\r\n      setDrawerOpen(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <BackdropLoading />;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Drawer\r\n        variant={drawerVariant}\r\n        className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\r\n        classes={{\r\n          paper: clsx(\r\n            classes.drawerPaper,\r\n            !drawerOpen && classes.drawerPaperClose\r\n          ),\r\n        }}\r\n        open={drawerOpen}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <img className={drawerOpen ? classes.logo : classes.hideLogo}\r\n            style={{\r\n              display: \"block\",\r\n              margin: \"0 auto\",\r\n              height: \"50px\",\r\n              width: \"100%\",\r\n            }}\r\n            alt=\"logo\" />\r\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <List className={classes.containerWithScroll}>\r\n          {/* {mainListItems} */}\r\n          <MainListItems collapsed={!drawerOpen} />\r\n        </List>\r\n        <Divider />\r\n      </Drawer>\r\n\r\n      <AppBar\r\n        position=\"absolute\"\r\n        className={clsx(classes.appBar, drawerOpen && classes.appBarShift)}\r\n        color=\"primary\"\r\n      >\r\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            variant=\"contained\"\r\n            aria-label=\"open drawer\"\r\n            style={{ color: \"white\" }}\r\n            onClick={() => setDrawerOpen(!drawerOpen)}\r\n            className={clsx(drawerOpen && classes.menuButtonHidden)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n\r\n          <Typography\r\n            component=\"h2\"\r\n            variant=\"h6\"\r\n            color=\"inherit\"\r\n            noWrap\r\n            className={classes.title}\r\n          >\r\n            {/* {greaterThenSm && user?.profile === \"admin\" && getDateAndDifDays(user?.company?.dueDate).difData < 7 ? ( */}\r\n            {greaterThenSm &&\r\n              user?.profile === \"admin\" &&\r\n              user?.company?.dueDate ? (\r\n              <>\r\n                {i18n.t(\"mainDrawer.appBar.user.message\")} <b>{user.name}</b>,{\" \"}\r\n                {i18n.t(\"mainDrawer.appBar.user.messageEnd\")}{\" \"}\r\n                <b>{user?.company?.name}</b>! (\r\n                {i18n.t(\"mainDrawer.appBar.user.active\")}{\" \"}\r\n                {dateToClient(user?.company?.dueDate)})\r\n              </>\r\n            ) : (\r\n              <>\r\n                {i18n.t(\"mainDrawer.appBar.user.message\")} <b>{user.name}</b>,{\" \"}\r\n                {i18n.t(\"mainDrawer.appBar.user.messageEnd\")}{\" \"}\r\n                <b>{user?.company?.name}</b>!\r\n              </>\r\n            )}\r\n          </Typography>\r\n\r\n          {userToken === \"enabled\" && user?.companyId === 1 && (\r\n            <Chip\r\n              className={classes.chip}\r\n              label={i18n.t(\"mainDrawer.appBar.user.token\")}\r\n            />\r\n          )}\r\n         \r\n\r\n          {/* DESABILITADO POIS TEM BUGS */}\r\n          {/* <UserLanguageSelector /> */}\r\n          {/* <SoftPhone\r\n            callVolume={33} //Set Default callVolume\r\n            ringVolume={44} //Set Default ringVolume\r\n            connectOnStart={false} //Auto connect to sip\r\n            notifications={false} //Show Browser Notification of an incoming call\r\n            config={config} //Voip config\r\n            setConnectOnStartToLocalStorage={setConnectOnStartToLocalStorage} // Callback function\r\n            setNotifications={setNotifications} // Callback function\r\n            setCallVolume={setCallVolume} // Callback function\r\n            setRingVolume={setRingVolume} // Callback function\r\n            timelocale={'UTC-3'} //Set time local for call history\r\n          /> */}\r\n          <IconButton edge=\"start\" onClick={colorMode.toggleColorMode}>\r\n            {theme.mode === \"dark\" ? (\r\n              <Brightness7Icon style={{ color: \"white\" }} />\r\n            ) : (\r\n              <Brightness4Icon style={{ color: \"white\" }} />\r\n            )}\r\n          </IconButton>\r\n\r\n          <NotificationsVolume setVolume={setVolume} volume={volume} />\r\n\r\n          <IconButton\r\n            onClick={handleRefreshPage}\r\n            aria-label={i18n.t(\"mainDrawer.appBar.refresh\")}\r\n            color=\"inherit\"\r\n          >\r\n            <CachedIcon style={{ color: \"white\" }} />\r\n          </IconButton>\r\n\r\n          {/* <DarkMode themeToggle={themeToggle} /> */}\r\n\r\n          {user.id && <NotificationsPopOver volume={volume} />}\r\n\r\n          <AnnouncementsPopover />\r\n\r\n          <ChatPopover />\r\n\r\n          <div>\r\n            <StyledBadge\r\n              overlap=\"circular\"\r\n              anchorOrigin={{\r\n                vertical: \"bottom\",\r\n                horizontal: \"right\",\r\n              }}\r\n              variant=\"dot\"\r\n              onClick={handleMenu}\r\n            >\r\n              <Avatar\r\n                alt=\"GBSOFICIAL\"\r\n                className={classes.avatar2}\r\n                src={profileUrl}\r\n              />\r\n            </StyledBadge>\r\n\r\n            <UserModal\r\n              open={userModalOpen}\r\n              onClose={() => setUserModalOpen(false)}\r\n              onImageUpdate={(newProfileUrl) => setProfileUrl(newProfileUrl)}\r\n              userId={user?.id}\r\n            />\r\n\r\n            <Menu\r\n              id=\"menu-appbar\"\r\n              anchorEl={anchorEl}\r\n              getContentAnchorEl={null}\r\n              anchorOrigin={{\r\n                vertical: \"bottom\",\r\n                horizontal: \"right\",\r\n              }}\r\n              transformOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"right\",\r\n              }}\r\n              open={menuOpen}\r\n              onClose={handleCloseMenu}\r\n            >\r\n              <MenuItem onClick={handleOpenUserModal}>\r\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\r\n              </MenuItem>\r\n              <MenuItem onClick={handleClickLogout}>\r\n                {i18n.t(\"mainDrawer.appBar.user.logout\")}\r\n              </MenuItem>\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n\r\n        {children ? children : null}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoggedInLayout;\r\n","import React from \"react\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green, grey } from '@material-ui/core/colors';\r\n\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport moment from 'moment';\r\n\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    on: {\r\n        color: green[600],\r\n        fontSize: '20px'\r\n    },\r\n    off: {\r\n        color: grey[600],\r\n        fontSize: '20px'\r\n    },\r\n    pointer: {\r\n        cursor: \"pointer\"\r\n    }\r\n}));\r\n\r\nexport function RatingBox({ rating }) {\r\n    const ratingTrunc = rating === null ? 0 : Math.trunc(rating);\r\n    return <Rating\r\n        defaultValue={ratingTrunc}\r\n        max={3}\r\n        readOnly\r\n    />\r\n}\r\n\r\nexport default function TableAttendantsStatus(props) {\r\n    const { loading, attendants } = props\r\n    const classes = useStyles();\r\n\r\n    function renderList() {\r\n        return attendants.map((a, k) => (\r\n            <TableRow key={k}>\r\n                <TableCell>{a.name}</TableCell>\r\n                {/* <TableCell align=\"center\" title=\"1 - Insatisfeito, 2 - Satisfeito, 3 - Muito Satisfeito\" className={classes.pointer}>\r\n                    <RatingBox rating={a.rating} />\r\n                </TableCell> */}\r\n                <TableCell align=\"center\">{a.rating}</TableCell>\r\n                <TableCell align=\"center\">{a.countRating}</TableCell>\r\n                <TableCell align=\"center\">{a.tickets}</TableCell>\r\n                <TableCell align=\"center\">{formatTime(a.avgWaitTime, 2)}</TableCell>\r\n                <TableCell align=\"center\">{formatTime(a.avgSupportTime, 2)}</TableCell>\r\n                <TableCell align=\"center\">\r\n                    {a.online ?\r\n                        <Tooltip title=\"Online\">\r\n                            <CheckCircleIcon className={classes.on} />\r\n                        </Tooltip>\r\n                        :\r\n                        <Tooltip title=\"Offline\">\r\n                            <ErrorIcon className={classes.off} />\r\n                        </Tooltip>\r\n                    }\r\n                </TableCell>\r\n            </TableRow>\r\n        ))\r\n    }\r\n\r\n    function formatTime(minutes) {\r\n        return moment().startOf('day').add(minutes, 'minutes').format('HH[h] mm[m]');\r\n    }\r\n\r\n    return (!loading ?\r\n        <TableContainer component={Paper}>\r\n            <Table>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>{i18n.t(\"dashboard.users.name\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.assessments.score\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.assessments.ratedCalls\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.assessments.totalCalls\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.cards.averageWaitingTime\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.cards.averageServiceTime\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.cards.status\")}</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {renderList()}\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n        : <Skeleton variant=\"rect\" height={150} />\r\n    )\r\n}","import api from \"../../services/api\";\r\n\r\nconst useDashboard = () => {\r\n\r\n    const find = async (params) => {\r\n        const { data } = await api.request({\r\n            url: `/dashboard`,\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const getReport = async (params) => {\r\n        const { data } = await api.request({\r\n            url: `/ticketreport/reports`,\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        find,\r\n        getReport\r\n    }\r\n}\r\n\r\nexport default useDashboard;","import { useState, useEffect } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport api from \"../../services/api\";\r\n\r\nconst useMessages = ({ fromMe, dateStart, dateEnd }) => {\r\n    const [loading, setLoading] = useState(true);\r\n    const [count, setCount] = useState(0);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        const delayDebounceFn = setTimeout(() => {\r\n            const fetchMessages = async () => {\r\n                try {\r\n                    const { data } = await api.get(\"/messages-allMe\", {\r\n                        params: {\r\n                            fromMe,\r\n                            dateStart,\r\n                            dateEnd,\r\n                        },\r\n                    });\r\n                    setCount(data.count[0].count);\r\n                    setLoading(false);\r\n                } catch (err) {\r\n                    setLoading(false);\r\n                    toastError(err);\r\n                }\r\n            };\r\n\r\n            fetchMessages();\r\n        }, 500);\r\n        return () => clearTimeout(delayDebounceFn);\r\n    }, [dateStart, dateEnd]);\r\n\r\n    return { count };\r\n};\r\n\r\nexport default useMessages;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n} from 'chart.js';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\r\nimport brLocale from 'date-fns/locale/pt-BR';\r\nimport { DatePicker, LocalizationProvider } from '@mui/x-date-pickers';\r\nimport { Button, Grid, TextField } from '@material-ui/core';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport api from '../../services/api';\r\nimport { format } from 'date-fns';\r\nimport { toast } from 'react-toastify';\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport './button.css';\r\nimport { i18n } from '../../translate/i18n';\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        paddingTop: theme.spacing(1),\r\n        paddingBottom: theme.padding,\r\n        paddingLeft: theme.spacing(1),\r\n        paddingRight: theme.spacing(2),\r\n    }\r\n}));\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n    ChartDataLabels\r\n);\r\n\r\nexport const options = {\r\n    responsive: true,\r\n    plugins: {\r\n        legend: {\r\n            position: 'top',\r\n            display: false,\r\n        },\r\n        title: {\r\n            display: true,\r\n            text: 'Tickets',\r\n            position: 'left',\r\n        },\r\n        datalabels: {\r\n            display: true,\r\n            anchor: 'start',\r\n            offset: -30,\r\n            align: \"start\",\r\n            color: \"#fff\",\r\n            textStrokeColor: \"#000\",\r\n            textStrokeWidth: 2,\r\n            font: {\r\n                size: 20,\r\n                weight: \"bold\"\r\n\r\n            },\r\n        }\r\n    },\r\n};\r\n\r\nexport const ChatsUser = () => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [initialDate, setInitialDate] = useState(new Date());\r\n    const [finalDate, setFinalDate] = useState(new Date());\r\n    const [ticketsData, setTicketsData] = useState({ data: [] });\r\n    const { user } = useContext(AuthContext);\r\n\r\n    const companyId = user.companyId;\r\n\r\n    useEffect(() => {\r\n        if (companyId) {\r\n            handleGetTicketsInformation();\r\n        }\r\n    }, [companyId]);\r\n\r\n    const dataCharts = {\r\n\r\n        labels: ticketsData && ticketsData?.data.length > 0 && ticketsData?.data.map((item) => item.nome),\r\n        datasets: [\r\n            {\r\n                data: ticketsData?.data.length > 0 && ticketsData?.data.map((item, index) => {\r\n                    return item.quantidade\r\n                }),\r\n                backgroundColor: theme.palette.primary.main,\r\n            },\r\n\r\n        ],\r\n    };\r\n\r\n    const handleGetTicketsInformation = async () => {\r\n        try {\r\n\r\n            const { data } = await api.get(`/dashboard/ticketsUsers?initialDate=${format(initialDate, 'yyyy-MM-dd')}&finalDate=${format(finalDate, 'yyyy-MM-dd')}&companyId=${companyId}`);\r\n            setTicketsData(data);\r\n        } catch (error) {\r\n            toast.error('Erro ao buscar informações dos tickets');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                {i18n.t(\"dashboard.users.totalCallsUser\")}\r\n            </Typography>\r\n\r\n            <Grid container spacing={2}>\r\n                <Grid item>\r\n                    <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\r\n                        <DatePicker\r\n                            value={initialDate}\r\n                            onChange={(newValue) => { setInitialDate(newValue) }}\r\n                            label={i18n.t(\"dashboard.date.initialDate\")}\r\n                            renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\r\n\r\n                        />\r\n                    </LocalizationProvider>\r\n                </Grid>\r\n                <Grid item>\r\n                    <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\r\n                        <DatePicker\r\n                            value={finalDate}\r\n                            onChange={(newValue) => { setFinalDate(newValue) }}\r\n                            label={i18n.t(\"dashboard.date.finalDate\")}\r\n                            renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\r\n                        />\r\n                    </LocalizationProvider>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Button style={{ backgroundColor: theme.palette.primary.main, top: '10px' }} onClick={handleGetTicketsInformation} variant='contained'>Filtrar</Button>\r\n                </Grid>\r\n            </Grid>\r\n            <Bar options={options} data={dataCharts} style={{ maxWidth: '100%', maxHeight: '280px', }} />\r\n        </>\r\n    );\r\n}","import React from 'react';\r\nimport { PieChart, Pie, Cell, ResponsiveContainer, Customized } from 'recharts';\r\n\r\n\r\nconst DonutChart = (props) => {\r\n  const {title, value, data , color} = props;\r\n  \r\n  const data1 = JSON.parse(`[${String(data).replace(/'/g, '\"')}]`);\r\n  \r\n  const COLORS = [color].length === 1 ? color : [JSON.stringify(color)];\r\n  \r\n  const renderCustomLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\r\n    const RADIAN = Math.PI / 120;\r\n    const radius = -100 + innerRadius + (outerRadius - innerRadius);\r\n    const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n    const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n  \r\n    return (\r\n      <text x={x} y={y} fill=\"#000\" textAnchor='middle'  dominantBaseline=\"middle\" fontWeight=\"bold\">\r\n        <tspan fontWeight=\"bold\">{`${title}`}</tspan> \r\n        <tspan x={x +1} y={y} dy=\"1.2em\" fontWeight=\"bold\">{`${value}%`}</tspan>\r\n      </text>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n       <ResponsiveContainer width={300} height={300}>\r\n        <PieChart>\r\n          <Pie\r\n            data={data1}\r\n            dataKey=\"value\"\r\n            nameKey=\"name\"\r\n            cx=\"50%\"\r\n            cy=\"50%\"\r\n            outerRadius={100}\r\n            innerRadius={50}\r\n            labelLine={false}\r\n            strokeWidth={0}\r\n            label={renderCustomLabel}\r\n          >\r\n            {data1.map((entry, index) => (\r\n              <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n            ))}            \r\n          </Pie>          \r\n        </PieChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n};\r\nexport default DonutChart;\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst Title = props => {\r\n\treturn (\r\n\t\t<Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n\t\t\t{props.children}\r\n\t\t</Typography>\r\n\t);\r\n};\r\n\r\nexport default Title;\r\n","import React from \"react\"; // { useContext }\r\n// import { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nimport {\r\n    Button,\r\n    // FormControl,\r\n    Grid,\r\n    // InputLabel,\r\n    // MenuItem,\r\n    Paper,\r\n    // Select,\r\n    TextField,\r\n} from \"@material-ui/core\";\r\n\r\nimport Title from \"./Title\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst Filters = ({\r\n    classes,\r\n    setDateStartTicket,\r\n    setDateEndTicket,\r\n    dateStartTicket,\r\n    dateEndTicket,\r\n    setQueueTicket,\r\n    queueTicket,\r\n    fetchData\r\n}) => {\r\n    // const { user } = useContext(AuthContext);\r\n\r\n    const [\r\n        queues,\r\n        // setQueues\r\n    ] = React.useState(queueTicket);\r\n    const [dateStart, setDateStart] = React.useState(dateStartTicket);\r\n    const [dateEnd, setDateEnd] = React.useState(dateEndTicket);\r\n    const [fetchDataFilter, setFetchDataFilter] = React.useState(false)\r\n\r\n    return (\r\n        <Grid item xs={12}>\r\n            <Paper className={classes.customFixedHeightPaperLg} elevation={6}>\r\n                <Title>Filtros</Title>\r\n                <Grid container spacing={3}>\r\n                    {/* <Grid item xs={12} sm={6} md={3}>\r\n                        <FormControl fullWidth>\r\n                            <InputLabel id=\"queue-label\">\r\n                                Departamentos\r\n                            </InputLabel>\r\n                            <Select\r\n                                labelId=\"queue-label\"\r\n                                id=\"queue-select\"\r\n                                defaultValue={queueTicket}\r\n                                label=\"Departamentos\"\r\n                                onChange={(e) => setQueues(e.target.value)}\r\n                            >\r\n                                <MenuItem value={false}>\r\n                                    Todos os Departamentos\r\n                                </MenuItem>\r\n                                {user.queues.map((queue) => (\r\n                                    <MenuItem key={queue.id} value={queue.id}>\r\n                                        {queue.name}\r\n                                    </MenuItem>\r\n                                ))}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid> */}\r\n\r\n                    <Grid item xs={12} sm={6} md={5}>\r\n                        <TextField\r\n                            fullWidth\r\n                            name=\"dateStart\"\r\n                            label={i18n.t(\"dashboard.date.initialDate\")}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                            type=\"date\"\r\n                            defaultValue={dateStart}\r\n                            onChange={(e) => setDateStart(e.target.value)}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6} md={5}>\r\n                        <TextField\r\n                            fullWidth\r\n                            name=\"dateEnd\"\r\n                            label={i18n.t(\"dashboard.date.finalDate\")}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                            type=\"date\"\r\n                            defaultValue={dateEnd}\r\n                            onChange={(e) => setDateEnd(e.target.value)}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6} md={2}>\r\n                        <Button\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                                setQueueTicket(queues);\r\n                                setDateStartTicket(dateStart);\r\n                                setDateEndTicket(dateEnd);\r\n                                setFetchDataFilter(!fetchDataFilter)\r\n                                fetchData(!fetchDataFilter);\r\n                            }}\r\n                        >\r\n                            Filtrar\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Paper>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default Filters;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n} from 'chart.js';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\r\nimport brLocale from 'date-fns/locale/pt-BR';\r\nimport { DatePicker, LocalizationProvider } from '@mui/x-date-pickers';\r\nimport { Button, Grid, TextField } from '@material-ui/core';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport api from '../../services/api';\r\nimport { format } from 'date-fns';\r\nimport { toast } from 'react-toastify';\r\nimport './button.css';\r\nimport { i18n } from '../../translate/i18n';\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport {  useTheme } from '@material-ui/core';\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend\r\n);\r\n\r\nexport const options = {\r\n    responsive: true,\r\n    plugins: {\r\n        legend: {\r\n            position: 'top',\r\n            display: false,\r\n        },\r\n        title: {\r\n            display: true,\r\n            text: 'Tickets',\r\n            position: 'left',\r\n        },\r\n        datalabels: {\r\n            display: true,\r\n            anchor: 'start',\r\n            offset: -30,\r\n            align: \"start\",\r\n            color: \"#fff\",\r\n            textStrokeColor: \"#000\",\r\n            textStrokeWidth: 2,\r\n            font: {\r\n                size: 20,\r\n                weight: \"bold\"\r\n\r\n            },\r\n        }\r\n    },\r\n};\r\n\r\nexport const ChartsDate = () => {\r\n    const theme = useTheme();\r\n    const [initialDate, setInitialDate] = useState(new Date());\r\n    const [finalDate, setFinalDate] = useState(new Date());\r\n    const [ticketsData, setTicketsData] = useState({ data: [], count: 0 });\r\n    const { user } = useContext(AuthContext);\r\n\r\n    const companyId = user.companyId;\r\n\r\n    useEffect(() => {\r\n        if (companyId) {\r\n            handleGetTicketsInformation();\r\n        }\r\n    }, [companyId]);\r\n\r\n    const dataCharts = {\r\n\r\n        labels: ticketsData && ticketsData?.data.length > 0 && ticketsData?.data.map((item) => (item.hasOwnProperty('horario') ? `Das ${item.horario}:00 as ${item.horario}:59` : item.data)),\r\n        datasets: [\r\n            {\r\n                // label: 'Dataset 1',\r\n                data: ticketsData?.data.length > 0 && ticketsData?.data.map((item, index) => {\r\n                    return item.total\r\n                }),\r\n                backgroundColor: theme.palette.primary.main,\r\n            },\r\n        ],\r\n    };\r\n\r\n    const handleGetTicketsInformation = async () => {\r\n        try {\r\n            const { data } = await api.get(`/dashboard/ticketsDay?initialDate=${format(initialDate, 'yyyy-MM-dd')}&finalDate=${format(finalDate, 'yyyy-MM-dd')}&companyId=${companyId}`);\r\n            setTicketsData(data);\r\n        } catch (error) {\r\n            toast.error('Erro ao buscar informações dos tickets');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                {i18n.t(\"dashboard.users.totalAttendances\")} ({ticketsData?.count})\r\n            </Typography>\r\n\r\n            <Grid container spacing={2}>\r\n                <Grid item>\r\n                    <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\r\n                        <DatePicker\r\n                            value={initialDate}\r\n                            onChange={(newValue) => { setInitialDate(newValue) }}\r\n                            label={i18n.t(\"dashboard.date.initialDate\")}\r\n                            renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\r\n\r\n                        />\r\n                    </LocalizationProvider>\r\n                </Grid>\r\n                <Grid item>\r\n                    <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\r\n                        <DatePicker\r\n                            value={finalDate}\r\n                            onChange={(newValue) => { setFinalDate(newValue) }}\r\n                            label={i18n.t(\"dashboard.date.finalDate\")}\r\n                            renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\r\n                        />\r\n                    </LocalizationProvider>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Button style={{ backgroundColor: theme.palette.primary.main, top: '10px' }} onClick={handleGetTicketsInformation} variant='contained'>Filtrar</Button>\r\n                </Grid>\r\n            </Grid>\r\n            <Bar options={options} data={dataCharts} style={{ maxWidth: '100%', maxHeight: '280px', }} />\r\n        </>\r\n    );\r\n}","import React from 'react';\r\nimport { Container, Typography, Button, Box } from '@material-ui/core';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    textAlign: 'center',\r\n    marginTop: theme.spacing(8),    \r\n    flex: 1,\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(4),\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(2),\r\n    color: '#fff !important',\r\n    boxShadow: 'none',\r\n    borderRadius: 20\r\n  },\r\n  boxContainer: {\r\n    background: theme.palette.tabHeaderBackground, \r\n    borderRadius: 20,\r\n    display: 'flex',\r\n    padding: 20,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    width: '80%',\r\n    justifyContent: 'center',\r\n    margin: 'auto',\r\n  }\r\n}));\r\n\r\nconst ForbiddenPage = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container className={classes.container}>\r\n      <Box className={classes.boxContainer}>\r\n        <Box>\r\n          <Typography variant=\"h1\" className={classes.title} color=\"error\">\r\n            403\r\n          </Typography>\r\n          <Typography variant=\"h5\" color=\"textSecondary\">\r\n            Oops! Acesso Negado!\r\n          </Typography>\r\n          <Button\r\n            className={classes.button}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            href=\"/tickets\"\r\n          >\r\n            Voltar\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ForbiddenPage;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n// import {  Button, Grid } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport { Groups, SaveAlt } from \"@mui/icons-material\";\r\n\r\nimport CallIcon from \"@material-ui/icons/Call\";\r\nimport RecordVoiceOverIcon from \"@material-ui/icons/RecordVoiceOver\";\r\nimport GroupAddIcon from \"@material-ui/icons/GroupAdd\";\r\nimport HourglassEmptyIcon from \"@material-ui/icons/HourglassEmpty\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport MessageIcon from '@material-ui/icons/Message';\r\nimport AccessAlarmIcon from '@material-ui/icons/AccessAlarm';\r\nimport TimerIcon from '@material-ui/icons/Timer';\r\nimport * as XLSX from 'xlsx';\r\n\r\nimport { grey, blue } from \"@material-ui/core/colors\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport TabPanel from \"../../components/TabPanel\"\r\nimport TableAttendantsStatus from \"../../components/Dashboard/TableAttendantsStatus\";\r\nimport { isArray } from \"lodash\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nimport useDashboard from \"../../hooks/useDashboard\";\r\nimport useContacts from \"../../hooks/useContacts\";\r\nimport useMessages from \"../../hooks/useMessages\";\r\nimport { ChatsUser } from \"./ChartsUser\";\r\nimport ChartDonut from \"./ChartDonut\";\r\n\r\nimport Filters from \"./Filters\";\r\nimport { isEmpty } from \"lodash\";\r\nimport moment from \"moment\";\r\nimport { ChartsDate } from \"./ChartsDate\";\r\nimport { Avatar, Button, Card, CardContent, Container, Stack, SvgIcon, Tab, Tabs } from \"@mui/material\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport Grid2 from \"@mui/material/Unstable_Grid2/Grid2\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\nimport { ArrowDownward, ArrowUpward } from \"@material-ui/icons\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  overline: {\r\n    fontSize: '0.9rem',\r\n    fontWeight: 700,\r\n    color: \"grey\",\r\n    letterSpacing: '0.5px',\r\n    lineHeight: 2.5,\r\n    textTransform: 'uppercase',\r\n    fontFamily: \"'Plus Jakarta Sans', sans-serif'\",\r\n  },\r\n  h4: {\r\n    fontFamily: \"'Plus Jakarta Sans', sans-serif'\",\r\n    fontWeight: 500,\r\n    fontSize: '2rem',\r\n    lineHeight: 1,\r\n    color: \"grey\",\r\n  },\r\n  tab: {\r\n    minWidth: \"auto\",\r\n    width: \"auto\",\r\n    padding: theme.spacing(0.5, 1),\r\n    borderRadius: 8,\r\n    transition: \"0.3s\",\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    marginRight: theme.spacing(0.5),\r\n    marginLeft: theme.spacing(0.5),\r\n\r\n    [theme.breakpoints.down(\"lg\")]: {\r\n      fontSize: \"0.9rem\",\r\n      padding: theme.spacing(0.4, 0.8),\r\n      marginRight: theme.spacing(0.4),\r\n      marginLeft: theme.spacing(0.4),\r\n    },\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      fontSize: \"0.8rem\",\r\n      padding: theme.spacing(0.3, 0.6),\r\n      marginRight: theme.spacing(0.3),\r\n      marginLeft: theme.spacing(0.3),\r\n    },\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(6, 81, 131, 0.3)\",\r\n    },\r\n    \"&$selected\": {\r\n      color: \"#FFF\",\r\n      backgroundColor: theme.palette.primary.main,\r\n    },\r\n  },\r\n  tabIndicator: {\r\n    borderWidth: \"2px\",\r\n    borderStyle: \"solid\",\r\n    height: 6,\r\n    bottom: 0,\r\n    color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.padding,\r\n    maxWidth: \"1150px\",\r\n    minWidth: \"xs\",\r\n  },\r\n  nps: {\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.padding,\r\n  },\r\n  fixedHeightPaper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: 240,\r\n    overflowY: \"auto\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  cardAvatar: {\r\n    fontSize: \"55px\",\r\n    color: grey[500],\r\n    backgroundColor: \"#ffffff\",\r\n    width: theme.spacing(7),\r\n    height: theme.spacing(7),\r\n  },\r\n  cardTitle: {\r\n    fontSize: \"18px\",\r\n    color: blue[700],\r\n  },\r\n  cardSubtitle: {\r\n    color: grey[600],\r\n    fontSize: \"14px\",\r\n  },\r\n  alignRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n  },\r\n  selectContainer: {\r\n    width: \"100%\",\r\n    textAlign: \"left\",\r\n  },\r\n  iframeDashboard: {\r\n    width: \"100%\",\r\n    height: \"calc(100vh - 64px)\",\r\n    border: \"none\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  fixedHeightPaper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: 240,\r\n  },\r\n  customFixedHeightPaper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: 120,\r\n  },\r\n  customFixedHeightPaperLg: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: \"100%\",\r\n  },\r\n  fixedHeightPaper2: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n  },\r\n}));\r\n\r\nconst Dashboard = () => {\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const [counters, setCounters] = useState({});\r\n  const [attendants, setAttendants] = useState([]);\r\n  const [filterType, setFilterType] = useState(1);\r\n  const [period, setPeriod] = useState(0);\r\n  const [dateFrom, setDateFrom] = useState(moment(\"1\", \"D\").format(\"YYYY-MM-DD\"));\r\n  const [dateTo, setDateTo] = useState(moment().format(\"YYYY-MM-DD\"));\r\n  const [loading, setLoading] = useState(false);\r\n  const { find } = useDashboard();\r\n\r\n  //FILTROS NPS\r\n  const [tab, setTab] = useState(\"Indicadores\");\r\n  const [selectedUsers, setSelectedUsers] = useState([]);\r\n  const [selectedQueues, setSelectedQueues] = useState([]);\r\n\r\n\r\n\r\n  let newDate = new Date();\r\n  let date = newDate.getDate();\r\n  let month = newDate.getMonth() + 1;\r\n  let year = newDate.getFullYear();\r\n  let nowIni = `${year}-${month < 10 ? `0${month}` : `${month}`}-01`;\r\n\r\n  let now = `${year}-${month < 10 ? `0${month}` : `${month}`}-${date < 10 ? `0${date}` : `${date}`}`;\r\n\r\n  const [showFilter, setShowFilter] = useState(false);\r\n  const [dateStartTicket, setDateStartTicket] = useState(nowIni);\r\n  const [dateEndTicket, setDateEndTicket] = useState(now);\r\n  const [queueTicket, setQueueTicket] = useState(false);\r\n  const [fetchDataFilter, setFetchDataFilter] = useState(false);\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n\r\n  const exportarGridParaExcel = () => {\r\n    const ws = XLSX.utils.table_to_sheet(document.getElementById('grid-attendants'));\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, ws, 'RelatorioDeAtendentes');\r\n    XLSX.writeFile(wb, 'relatorio-de-atendentes.xlsx');\r\n  };\r\n\r\n  var userQueueIds = [];\r\n\r\n  if (user.queues && user.queues.length > 0) {\r\n    userQueueIds = user.queues.map((q) => q.id);\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function firstLoad() {\r\n      await fetchData();\r\n    }\r\n    setTimeout(() => {\r\n      firstLoad();\r\n    }, 1000);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [fetchDataFilter]);\r\n\r\n  async function fetchData() {\r\n    setLoading(true);\r\n\r\n    let params = {};\r\n\r\n    if (period > 0) {\r\n      params = {\r\n        days: period,\r\n      };\r\n    }\r\n\r\n    if (!isEmpty(dateStartTicket) && moment(dateStartTicket).isValid()) {\r\n      params = {\r\n        ...params,\r\n        date_from: moment(dateStartTicket).format(\"YYYY-MM-DD\"),\r\n      };\r\n    }\r\n\r\n    if (!isEmpty(dateEndTicket) && moment(dateEndTicket).isValid()) {\r\n      params = {\r\n        ...params,\r\n        date_to: moment(dateEndTicket).format(\"YYYY-MM-DD\"),\r\n      };\r\n    }\r\n\r\n    if (Object.keys(params).length === 0) {\r\n      toast.error(\"Parametrize o filtro\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const data = await find(params);\r\n\r\n\r\n    setCounters(data.counters);\r\n    if (isArray(data.attendants)) {\r\n      setAttendants(data.attendants);\r\n    } else {\r\n      setAttendants([]);\r\n    }\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  const handleSelectedUsers = (selecteds) => {\r\n    const users = selecteds.map((t) => t.id);\r\n    setSelectedUsers(users);\r\n  };\r\n\r\n\r\n  const handleChangeTab = (e, newValue) => {\r\n    setTab(newValue);\r\n  };\r\n\r\n  function formatTime(minutes) {\r\n    return moment()\r\n      .startOf(\"day\")\r\n      .add(minutes, \"minutes\")\r\n      .format(\"HH[h] mm[m]\");\r\n  }\r\n\r\n  const GetUsers = () => {\r\n    let count;\r\n    let userOnline = 0;\r\n    attendants.forEach(user => {\r\n      if (user.online === true) {\r\n        userOnline = userOnline + 1\r\n      }\r\n    })\r\n    count = userOnline === 0 ? 0 : userOnline;\r\n    return count;\r\n  };\r\n\r\n  const GetContacts = (all) => {\r\n    let props = {};\r\n    if (all) {\r\n      props = {};\r\n    } else {\r\n      props = {\r\n        dateStart: dateStartTicket,\r\n        dateEnd: dateEndTicket,\r\n      };\r\n    }\r\n    const { count } = useContacts(props);\r\n    return count;\r\n  };\r\n\r\n  const GetMessages = (all, fromMe) => {\r\n    let props = {};\r\n    if (all) {\r\n      if (fromMe) {\r\n        props = {\r\n          fromMe: true\r\n        };\r\n      } else {\r\n        props = {\r\n          fromMe: false\r\n        };\r\n      }\r\n    } else {\r\n      if (fromMe) {\r\n        props = {\r\n          fromMe: true,\r\n          dateStart: dateStartTicket,\r\n          dateEnd: dateEndTicket,\r\n        };\r\n      } else {\r\n        props = {\r\n          fromMe: false,\r\n          dateStart: dateStartTicket,\r\n          dateEnd: dateEndTicket,\r\n        };\r\n      }\r\n    }\r\n    const { count } = useMessages(props);\r\n    return count;\r\n  };\r\n\r\n  function toggleShowFilter() {\r\n    setShowFilter(!showFilter);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {\r\n        user.profile === \"user\" && user.showDashboard === \"disabled\" ?\r\n          <ForbiddenPage />\r\n          :\r\n          <>\r\n            <div>\r\n              <Container maxWidth=\"lg\" className={classes.container}>\r\n                <Grid2 container spacing={3} className={classes.container}>\r\n\r\n                  {/* FILTROS */}\r\n                  <Grid2 xs={12}>\r\n                    <Button\r\n                      onClick={toggleShowFilter}\r\n                      style={{ float: \"right\" }}\r\n                      color=\"primary\"\r\n                    >\r\n                      {!showFilter ? (\r\n                        <FilterListIcon />\r\n                      ) : (\r\n                        <ClearIcon />\r\n                      )}\r\n                    </Button>\r\n                  </Grid2>\r\n\r\n                  {showFilter && (\r\n                    <Filters\r\n                      classes={classes}\r\n                      setDateStartTicket={setDateStartTicket}\r\n                      setDateEndTicket={setDateEndTicket}\r\n                      dateStartTicket={dateStartTicket}\r\n                      dateEndTicket={dateEndTicket}\r\n                      setQueueTicket={setQueueTicket}\r\n                      queueTicket={queueTicket}\r\n                      fetchData={setFetchDataFilter}\r\n                    />\r\n                  )}\r\n\r\n                  <Grid2 container width=\"100%\" justifyContent=\"center\">\r\n                    <Tabs\r\n                      value={tab}\r\n                      onChange={handleChangeTab}\r\n                      variant=\"fullWidth\"\r\n                      indicatorColor=\"primary\"\r\n                      textColor=\"primary\"\r\n                      aria-label=\"icon label tabs example\"\r\n                      classes={{ indicator: classes.tabIndicator }}\r\n                      sx={{\r\n                        borderRadius: \"5px\",\r\n                        borderColor: \"#aaa\",\r\n                        borderWidth: \"1px\",\r\n                        borderStyle: \"solid\",\r\n                        fontFamily: '\"Plus Jakarta Sans\", sans-serif',\r\n                      }}\r\n                    >\r\n                      <Tab classes={{ root: classes.tab }}\r\n                        style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\" }}\r\n                        value=\"Indicadores\"\r\n                        label={i18n.t(\"dashboard.tabs.indicators\")}\r\n                      />\r\n                      <Tab classes={{ root: classes.tab }}\r\n                        style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\" }}\r\n                        value=\"NPS\"\r\n                        label={i18n.t(\"dashboard.tabs.assessments\")}\r\n                      />\r\n                      <Tab classes={{ root: classes.tab }}\r\n                        style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\" }}\r\n                        value=\"Atendentes\"\r\n                        label={i18n.t(\"dashboard.tabs.attendants\")}\r\n                      />\r\n                    </Tabs>\r\n                  </Grid2>\r\n                  <TabPanel\r\n                    className={classes.container}\r\n                    value={tab}\r\n                    name={\"Indicadores\"}\r\n                  >\r\n                    <Container maxWidth=\"xl\" >\r\n                      <Grid2\r\n                        container\r\n                        spacing={3}\r\n                      >\r\n                        {/* EM ATENDIMENTO */}\r\n                        <Grid2 xs={12}\r\n                          sm={6}\r\n                          lg={4}\r\n                        >\r\n                          <Card sx={{\r\n                            height: \"100%\",\r\n                            backgroundColor: \"#e8ab31\",\r\n                            borderRadius: 0,\r\n                            boxShadow: \"none\", \r\n                            color: 'white',\r\n                          }}>\r\n                            <CardContent>\r\n                              <Stack\r\n                                alignItems=\"flex-start\"\r\n                                direction=\"row\"\r\n                                justifyContent=\"space-between\"\r\n                                spacing={3}\r\n                              >\r\n                                <Stack spacing={1}>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"overline\"\r\n                                    className={classes.overline}\r\n                                  >\r\n                                    {i18n.t(\"dashboard.cards.inAttendance\")}\r\n                                  </Typography>\r\n                                  <Typography\r\n                                     style={{ color: 'white' }}\r\n                                     variant=\"h4\"\r\n                                     className={classes.h4}>\r\n                                    {counters.supportHappening}\r\n                                  </Typography>\r\n                                </Stack>\r\n                                <Avatar\r\n                                  sx={{\r\n                                    backgroundColor: '#e8ab31',\r\n                                    height: 60,\r\n                                    width: 60\r\n                                  }}\r\n                                >\r\n                                  <SvgIcon>\r\n                                    <CallIcon />\r\n                                  </SvgIcon>\r\n                                </Avatar>\r\n                              </Stack>\r\n                            </CardContent>\r\n                          </Card>\r\n                        </Grid2>\r\n\r\n                        {/* AGUARDANDO */}\r\n                        <Grid2 xs={12}\r\n                          sm={6}\r\n                          lg={4}\r\n                        >\r\n                          <Card sx={{\r\n                            height: \"100%\",\r\n                            backgroundColor:\"#1a95b8\",\r\n                            borderRadius: 0,\r\n                            boxShadow: \"none\", \r\n                            color: 'white',\r\n                          }}>\r\n                            <CardContent>\r\n                              <Stack\r\n                                alignItems=\"flex-start\"\r\n                                direction=\"row\"\r\n                                justifyContent=\"space-between\"\r\n                                spacing={3}\r\n                              >\r\n                                <Stack spacing={1}>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"overline\"\r\n                                    className={classes.overline}\r\n                                  >\r\n                                    {i18n.t(\"dashboard.cards.waiting\")}\r\n                                  </Typography>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"h4\"\r\n                                    className={classes.h4}\r\n                                  >\r\n                                    {counters.supportPending}\r\n                                  </Typography>\r\n                                </Stack>\r\n                                <Avatar\r\n                                  sx={{\r\n                                    backgroundColor: '#1a95b8',\r\n                                    height: 60,\r\n                                    width: 60\r\n                                  }}\r\n                                >\r\n                                  <SvgIcon>\r\n                                    <HourglassEmptyIcon />\r\n                                  </SvgIcon>\r\n                                </Avatar>\r\n                              </Stack>\r\n                            </CardContent>\r\n                          </Card>\r\n                        </Grid2>\r\n\r\n                        {/* FINALIZADOS */}\r\n                        <Grid2 xs={12}\r\n                          sm={6}\r\n                          lg={4}\r\n                        >\r\n                          <Card sx={{\r\n                            height: \"100%\",\r\n                            backgroundColor:\"#499e31\",\r\n                            borderRadius: 0,\r\n                            boxShadow: \"none\", \r\n                            color: 'white',\r\n                          }}>\r\n                            <CardContent>\r\n                              <Stack\r\n                                alignItems=\"flex-start\"\r\n                                direction=\"row\"\r\n                                justifyContent=\"space-between\"\r\n                                spacing={3}\r\n                              >\r\n                                <Stack spacing={1}>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"overline\"\r\n                                    className={classes.overline}\r\n                                  >\r\n                                    {i18n.t(\"dashboard.cards.finalized\")}\r\n                                  </Typography>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"h4\"\r\n                                    className={classes.h4}\r\n                                  >\r\n                                    {counters.supportFinished}\r\n                                  </Typography>\r\n                                </Stack>\r\n                                <Avatar\r\n                                  sx={{\r\n                                    backgroundColor: '#499e31',\r\n                                    height: 60,\r\n                                    width: 60\r\n                                  }}\r\n                                >\r\n                                  <SvgIcon>\r\n                                    <CheckCircleIcon />\r\n                                  </SvgIcon>\r\n                                </Avatar>\r\n                              </Stack>\r\n                            </CardContent>\r\n                          </Card>\r\n                        </Grid2>\r\n\r\n                        {/* GRUPOS */}\r\n                        <Grid2 xs={12}\r\n                          sm={6}\r\n                          lg={4}\r\n                        >\r\n                          <Card sx={{\r\n                            height: \"100%\",\r\n                            backgroundColor:\"#b24ced\",\r\n                            borderRadius: 0,\r\n                            boxShadow: \"none\", \r\n                            color: 'white',\r\n                          }}>\r\n                            <CardContent>\r\n                              <Stack\r\n                                alignItems=\"flex-start\"\r\n                                direction=\"row\"\r\n                                justifyContent=\"space-between\"\r\n                                spacing={3}\r\n                              >\r\n                                <Stack spacing={1}>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"overline\"\r\n                                    className={classes.overline}\r\n                                  >\r\n                                    {i18n.t(\"dashboard.cards.groups\")}\r\n                                  </Typography>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"h4\"\r\n                                    className={classes.h4}\r\n                                  >\r\n                                    {counters.supportGroups}\r\n                                  </Typography>\r\n                                </Stack>\r\n\r\n                                <Avatar\r\n                                  sx={{\r\n                                    backgroundColor: '#b24ced',\r\n                                    height: 60,\r\n                                    width: 60\r\n                                  }}\r\n                                >\r\n                                  <SvgIcon>\r\n                                    <Groups />\r\n                                  </SvgIcon>\r\n                                </Avatar>\r\n                              </Stack>\r\n                            </CardContent>\r\n                          </Card>\r\n                        </Grid2>\r\n\r\n                        {/* ATENDENTES ATIVOS */}\r\n                        <Grid2 xs={12}\r\n                          sm={6}\r\n                          lg={4}\r\n                        >\r\n                          <Card sx={{\r\n                            height: \"100%\",\r\n                            backgroundColor:\"#f57b5f\",\r\n                            borderRadius: 0,\r\n                            boxShadow: \"none\", \r\n                            color: 'white',\r\n                          }}>\r\n                            <CardContent>\r\n                              <Stack\r\n                                alignItems=\"flex-start\"\r\n                                direction=\"row\"\r\n                                justifyContent=\"space-between\"\r\n                                spacing={3}\r\n                              >\r\n                                <Stack spacing={1}>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"overline\"\r\n                                    className={classes.overline}\r\n                                  >\r\n                                    {i18n.t(\"dashboard.cards.activeAttendants\")}\r\n                                  </Typography>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"h4\"\r\n                                    className={classes.h4}\r\n                                  >\r\n                                    {GetUsers()}/{attendants.length}\r\n                                  </Typography>\r\n                                </Stack>\r\n                                <Avatar\r\n                                  sx={{\r\n                                    backgroundColor: '#f57b5f',\r\n                                    height: 60,\r\n                                    width: 60\r\n                                  }}\r\n                                >\r\n                                  <SvgIcon>\r\n                                    <RecordVoiceOverIcon />\r\n                                  </SvgIcon>\r\n                                </Avatar>\r\n                              </Stack>\r\n                            </CardContent>\r\n                          </Card>\r\n                        </Grid2>\r\n\r\n                        {/* NOVOS CONTATOS */}\r\n                        <Grid2 xs={12}\r\n                          sm={6}\r\n                          lg={4}\r\n                        >\r\n                          <Card sx={{\r\n                            height: \"100%\",\r\n                            backgroundColor:\"#8c6b19\",\r\n                            borderRadius: 0,\r\n                            boxShadow: \"none\", \r\n                            color: 'white',\r\n                          }}>\r\n                            <CardContent>\r\n                              <Stack\r\n                                alignItems=\"flex-start\"\r\n                                direction=\"row\"\r\n                                justifyContent=\"space-between\"\r\n                                spacing={3}\r\n                              >\r\n                                <Stack spacing={1}>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"overline\"\r\n                                    className={classes.overline}\r\n                                  >\r\n                                    {i18n.t(\"dashboard.cards.newContacts\")}\r\n                                  </Typography>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"h4\"\r\n                                    className={classes.h4}\r\n                                  >\r\n                                    {counters.leads}\r\n                                  </Typography>\r\n                                </Stack>\r\n                                <Avatar\r\n                                  sx={{\r\n                                    backgroundColor: '#8c6b19',\r\n                                    height: 60,\r\n                                    width: 60\r\n                                  }}\r\n                                >\r\n                                  <SvgIcon>\r\n                                    <GroupAddIcon />\r\n                                  </SvgIcon>\r\n                                </Avatar>\r\n                              </Stack>\r\n                            </CardContent>\r\n                          </Card>\r\n                        </Grid2>\r\n\r\n                        {/* MINHAS MENSAGEM RECEBIDAS */}\r\n                        <Grid2 xs={12}\r\n                          sm={6}\r\n                          lg={4}\r\n                        >\r\n                          <Card sx={{\r\n                            height: \"100%\",\r\n                            backgroundColor:\"#615c61\",\r\n                            borderRadius: 0,\r\n                            boxShadow: \"none\", \r\n                            color: 'white',\r\n                          }}>\r\n                            <CardContent>\r\n                              <Stack\r\n                                alignItems=\"flex-start\"\r\n                                direction=\"row\"\r\n                                justifyContent=\"space-between\"\r\n                                spacing={3}\r\n                              >\r\n                                <Stack spacing={1}>\r\n                                  <Typography\r\nstyle={{ color: 'white' }}\r\n                                    variant=\"overline\"\r\n                                    className={classes.overline}\r\n                                  >\r\n                                    {i18n.t(\"dashboard.cards.totalReceivedMessages\")}\r\n                                  </Typography>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"h4\"\r\n                                    className={classes.h4}\r\n                                  >\r\n                                    {GetMessages(false, false)}/{GetMessages(true, false)}\r\n                                  </Typography>\r\n                                </Stack>\r\n                                <Avatar\r\n                                  sx={{\r\n                                    backgroundColor: '#615c61',\r\n                                    height: 60,\r\n                                    width: 60\r\n                                  }}\r\n                                >\r\n                                  <SvgIcon>\r\n                                    <MessageIcon />\r\n                                  </SvgIcon>\r\n                                </Avatar>\r\n                              </Stack>\r\n                            </CardContent>\r\n                          </Card>\r\n                        </Grid2>\r\n\r\n                        {/* MINHAS MENSAGEM ENVIADAS */}\r\n                        <Grid2 xs={12}\r\n                          sm={6}\r\n                          lg={4}\r\n                        >\r\n                          <Card sx={{\r\n                            height: \"100%\",\r\n                            backgroundColor:\"#00a99d\",\r\n                            borderRadius: 0,\r\n                            boxShadow: \"none\", \r\n                            color: 'white',\r\n                          }}>\r\n                            <CardContent>\r\n                              <Stack\r\n                                alignItems=\"flex-start\"\r\n                                direction=\"row\"\r\n                                justifyContent=\"space-between\"\r\n                                spacing={3}\r\n                              >\r\n                                <Stack spacing={1}>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"overline\"\r\n                                    className={classes.overline}\r\n                                  >\r\n                                    {i18n.t(\"dashboard.cards.totalSentMessages\")}\r\n                                  </Typography>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"h4\"\r\n                                    className={classes.h4}\r\n                                  >\r\n                                    {GetMessages(false, true)}/{GetMessages(true, true)}\r\n                                  </Typography>\r\n                                </Stack>\r\n                                <Avatar\r\n                                  sx={{\r\n                                    backgroundColor: '#00a99d',\r\n                                    height: 60,\r\n                                    width: 60\r\n                                  }}\r\n                                >\r\n                                  <SvgIcon>\r\n                                    <SendIcon />\r\n                                  </SvgIcon>\r\n                                </Avatar>\r\n                              </Stack>\r\n                            </CardContent>\r\n                          </Card>\r\n                        </Grid2>\r\n\r\n                        {/* T.M. DE ATENDIMENTO */}\r\n                        <Grid2 xs={12}\r\n                          sm={6}\r\n                          lg={4}\r\n                        >\r\n                          <Card sx={{\r\n                            height: \"100%\",\r\n                            backgroundColor:\"#642141\",\r\n                            borderRadius: 0,\r\n                            boxShadow: \"none\", \r\n                            color: 'white',\r\n                          }}>\r\n                            <CardContent>\r\n                              <Stack\r\n                                alignItems=\"flex-start\"\r\n                                direction=\"row\"\r\n                                justifyContent=\"space-between\"\r\n                                spacing={3}\r\n                              >\r\n                                <Stack spacing={1}>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"overline\"\r\n                                    className={classes.overline}\r\n                                  >\r\n                                    {i18n.t(\"dashboard.cards.averageServiceTime\")}\r\n                                  </Typography>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"h4\"\r\n                                    className={classes.h4}\r\n                                  >\r\n                                    {formatTime(counters.avgSupportTime)}\r\n                                  </Typography>\r\n                                </Stack>\r\n                                <Avatar\r\n                                  sx={{\r\n                                    backgroundColor: '#642141',\r\n                                    height: 60,\r\n                                    width: 60\r\n                                  }}\r\n                                >\r\n                                  <SvgIcon>\r\n                                    <AccessAlarmIcon />\r\n                                  </SvgIcon>\r\n                                </Avatar>\r\n                              </Stack>\r\n                            </CardContent>\r\n                          </Card>\r\n                        </Grid2>\r\n\r\n                        {/* T.M. DE ESPERA */}\r\n                        <Grid2 xs={12}\r\n                          sm={6}\r\n                          lg={4}\r\n                        >\r\n                          <Card sx={{\r\n                            height: \"100%\",\r\n                            backgroundColor:\"#f9bda7\",\r\n                            borderRadius: 0,\r\n                            boxShadow: \"none\", \r\n                            color: 'white',\r\n                          }}>\r\n                            <CardContent>\r\n                              <Stack\r\n                                alignItems=\"flex-start\"\r\n                                direction=\"row\"\r\n                                justifyContent=\"space-between\"\r\n                                spacing={3}\r\n                              >\r\n                                <Stack spacing={1}>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"overline\"\r\n                                    className={classes.overline}\r\n                                  >\r\n                                    {i18n.t(\"dashboard.cards.averageWaitingTime\")}\r\n                                  </Typography>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"h4\"\r\n                                    className={classes.h4}\r\n                                  >\r\n                                    {formatTime(counters.avgWaitTime)}\r\n                                  </Typography>\r\n                                </Stack>\r\n                                <Avatar\r\n                                  sx={{\r\n                                    backgroundColor: '#f9bda7',\r\n                                    height: 60,\r\n                                    width: 60\r\n                                  }}\r\n                                >\r\n                                  <SvgIcon>\r\n                                    <TimerIcon />\r\n                                  </SvgIcon>\r\n                                </Avatar>\r\n                              </Stack>\r\n                            </CardContent>\r\n                          </Card>\r\n                        </Grid2>\r\n\r\n                        {/* TICKETS ATIVOS */}\r\n                        <Grid2 xs={12}\r\n                          sm={6}\r\n                          lg={4}\r\n                        >\r\n                          <Card sx={{\r\n                            height: \"100%\",\r\n                            backgroundColor:\"#b4ba1a\",\r\n                            borderRadius: 0,\r\n                            boxShadow: \"none\", \r\n                            color: 'white',\r\n                          }}>\r\n                            <CardContent>\r\n                              <Stack\r\n                                alignItems=\"flex-start\"\r\n                                direction=\"row\"\r\n                                justifyContent=\"space-between\"\r\n                                spacing={3}\r\n                              >\r\n                                <Stack spacing={1}>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"overline\"\r\n                                    className={classes.overline}\r\n                                  >\r\n                                    {i18n.t(\"dashboard.cards.activeTickets\")}\r\n                                  </Typography>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"h4\"\r\n                                    className={classes.h4}\r\n                                  >\r\n                                    {counters.activeTickets}\r\n                                  </Typography>\r\n                                </Stack>\r\n\r\n                                <Avatar\r\n                                  sx={{\r\n                                    backgroundColor: '#b4ba1a',\r\n                                    height: 60,\r\n                                    width: 60\r\n                                  }}\r\n                                >\r\n                                  <SvgIcon>\r\n                                    <ArrowUpward />\r\n                                  </SvgIcon>\r\n                                </Avatar>\r\n                              </Stack>\r\n                            </CardContent>\r\n                          </Card>\r\n                        </Grid2>\r\n\r\n                        {/* TICKETS PASSIVOS */}\r\n                        <Grid2 xs={12}\r\n                          sm={6}\r\n                          lg={4}\r\n                        >\r\n                          <Card sx={{\r\n                            height: \"100%\",\r\n                            backgroundColor:\"#9496be\",\r\n                            borderRadius: 0,\r\n                            boxShadow: \"none\", \r\n                            color: 'white',\r\n\r\n                          }}>\r\n                            <CardContent>\r\n                              <Stack\r\n                                alignItems=\"flex-start\"\r\n                                direction=\"row\"\r\n                                justifyContent=\"space-between\"\r\n                                spacing={3}\r\n                              >\r\n                                <Stack spacing={1}>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"overline\"\r\n                                    className={classes.overline}\r\n                                  >\r\n                                    {i18n.t(\"dashboard.cards.passiveTickets\")}\r\n                                  </Typography>\r\n                                  <Typography\r\n                                    style={{ color: 'white' }}\r\n                                    variant=\"h4\"\r\n                                    className={classes.h4}\r\n                                  >\r\n                                    {counters.passiveTickets}\r\n                                  </Typography>\r\n                                </Stack>\r\n\r\n\r\n                                <Avatar\r\n                                  sx={{\r\n                                    backgroundColor: '#9496be',\r\n                                    height: 60,\r\n                                    width: 60\r\n                                  }}\r\n                                >\r\n                                  <SvgIcon>\r\n                                    <ArrowDownward />\r\n                                  </SvgIcon>\r\n                                </Avatar>\r\n                              </Stack>\r\n                            </CardContent>\r\n                          </Card>\r\n                        </Grid2>\r\n                      </Grid2>\r\n                    </Container>\r\n                  </TabPanel>\r\n\r\n                  <TabPanel\r\n                    className={classes.container}\r\n                    value={tab}\r\n                    name={\"NPS\"}\r\n                  >\r\n                    <Grid2 className={classes.container}>\r\n                      <Grid2 container width=\"100%\" spacing={2}>\r\n\r\n                        <Grid2 xs={12} sm={6} md={3}>\r\n                          <Paper elevation={3} >\r\n                            <ChartDonut\r\n                              data={[`{'name': 'Promotores', 'value': ${counters.npsPromotersPerc | 100}}`,\r\n                              `{'name': 'Detratores', 'value': ${counters.npsDetractorsPerc | 0}}`,\r\n                              `{'name': 'Neutros', 'value': ${counters.npsPassivePerc | 0}}`\r\n                              ]}\r\n                              value={counters.npsScore | 0}\r\n                              title=\"Score\"\r\n                              color={(parseInt(counters.npsPromotersPerc | 0) + parseInt(counters.npsDetractorsPerc | 0) + parseInt(counters.npsPassivePerc | 0)) === 0 ? [\"#918F94\"] : [\"#2EA85A\", \"#F73A2C\", \"#F7EC2C\"]}\r\n                            />\r\n                          </Paper>\r\n                        </Grid2>\r\n\r\n                        <Grid2 xs={12} sm={6} md={3}>\r\n                          <Paper elevation={3}>\r\n                            <ChartDonut\r\n                              title={i18n.t(\"dashboard.assessments.prosecutors\")}\r\n                              value={counters.npsPromotersPerc | 0}\r\n                              data={[`{'name': 'Promotores', 'value': 100}`]}\r\n                              color={[\"#2EA85A\"]}\r\n                            />\r\n                          </Paper>\r\n                        </Grid2>\r\n\r\n                        <Grid2 xs={12} sm={6} md={3}>\r\n                          <Paper elevation={3} >\r\n                            <ChartDonut\r\n                              data={[`{'name': 'Neutros', 'value': 100}`]}\r\n                              title={i18n.t(\"dashboard.assessments.neutral\")}\r\n                              value={counters.npsPassivePerc | 0}\r\n                              color={[\"#F7EC2C\"]}\r\n                            />\r\n                          </Paper>\r\n                        </Grid2>\r\n\r\n                        <Grid2 xs={12} sm={6} md={3}>\r\n                          <Paper elevation={3}>\r\n                            <ChartDonut\r\n                              data={[`{'name': 'Detratores', 'value': 100}`]}\r\n                              title={i18n.t(\"dashboard.assessments.detractors\")}\r\n                              value={counters.npsDetractorsPerc | 0}\r\n                              color={[\"#F73A2C\"]}\r\n                            />\r\n                          </Paper>\r\n                        </Grid2>\r\n\r\n                        <Grid2 xs={12} sm={6} md={12}>\r\n                          <Paper elevation={3}>\r\n                            <Typography\r\n                              component=\"h3\"\r\n                              variant=\"h6\"\r\n                              paragraph\r\n                              style={{ marginLeft: \"10px\" }}\r\n                            >\r\n                              {i18n.t(\"dashboard.assessments.totalCalls\")}: {counters.tickets} <br></br>\r\n                              {i18n.t(\"dashboard.assessments.callsWaitRating\")}: {counters.waitRating} <br></br>\r\n                              {i18n.t(\"dashboard.assessments.callsWithoutRating\")}: {counters.withoutRating} <br></br>\r\n                              {i18n.t(\"dashboard.assessments.ratedCalls\")}: {counters.withRating} <br></br>\r\n                              {i18n.t(\"dashboard.assessments.evaluationIndex\")}: {Number(counters.percRating / 100).toLocaleString(undefined, { style: 'percent' })} <br></br>\r\n                            </Typography>\r\n                          </Paper>\r\n                        </Grid2>\r\n\r\n                      </Grid2>\r\n                    </Grid2>\r\n\r\n                  </TabPanel>\r\n\r\n                  <TabPanel\r\n                    className={classes.container}\r\n                    value={tab}\r\n                    name={\"Atendentes\"}\r\n                  >\r\n                    <Container width=\"100%\" className={classes.container}>\r\n\r\n                      <IconButton onClick={exportarGridParaExcel} aria-label=\"Exportar para Excel\">\r\n                        <SaveAlt />\r\n                      </IconButton>\r\n\r\n                      <Grid2 container width=\"100%\">\r\n                        {/* CARD DE GRAFICO */}\r\n                        {/* <Grid2 item xs={12}>\r\n                  <Paper\r\n                    elevation={6}\r\n                    className={classes.fixedHeightPaper}\r\n                  >\r\n                    <Chart\r\n                      dateStartTicket={dateStartTicket}\r\n                      dateEndTicket={dateEndTicket}\r\n                      queueTicket={queueTicket}\r\n                    />\r\n                  </Paper>\r\n                </Grid2>  */}\r\n\r\n                        {/* INFO DOS USUARIOS */}\r\n                        <Grid2 xs={12} id=\"grid-attendants\">\r\n                          {attendants.length ? (\r\n                            <TableAttendantsStatus\r\n                              attendants={attendants}\r\n                              loading={loading}\r\n                            />\r\n                          ) : null}\r\n                        </Grid2>\r\n\r\n                        {/* TOTAL DE ATENDIMENTOS POR USUARIO */}\r\n                        <Grid2 xs={12} id=\"grid-attendants\">\r\n                          <Paper className={classes.fixedHeightPaper2}>\r\n                            <ChatsUser />\r\n                          </Paper>\r\n                        </Grid2>\r\n\r\n                        {/* TOTAL DE ATENDIMENTOS */}\r\n                        <Grid2 xs={12} id=\"grid-attendants\">\r\n                          <Paper className={classes.fixedHeightPaper2}>\r\n                            <ChartsDate />\r\n                          </Paper>\r\n                        </Grid2>\r\n                      </Grid2>\r\n                    </Container>\r\n                  </TabPanel>\r\n                </Grid2>\r\n              </Container >\r\n            </div >\r\n          </>\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport { CircularProgress, Button } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbutton: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}));\r\n\r\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\r\n\t\t\t{children}\r\n\t\t\t{loading && (\r\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t)}\r\n\t\t</Button>\r\n\t);\r\n};\r\n\r\nexport default ButtonWithSpinner;\r\n","import { Chip, Paper, TextField } from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { isArray, isString } from \"lodash\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\n\r\nexport function TagsContainer({ contact }) {\r\n\r\n    const [tags, setTags] = useState([]);\r\n    const [selecteds, setSelecteds] = useState([]);\r\n    const isMounted = useRef(true);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            loadTags().then(() => {\r\n                if (Array.isArray(contact.tags)) {\r\n                    setSelecteds(contact.tags);\r\n                } else {\r\n                    setSelecteds([]);\r\n                }\r\n            });\r\n        }\r\n    }, [contact]);\r\n\r\n    const createTag = async (data) => {\r\n        try {\r\n            const { data: responseData } = await api.post(`/tags`, data);\r\n            return responseData;\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }\r\n\r\n    const loadTags = async () => {\r\n        try {\r\n            const { data } = await api.get(`/tags/list`, \r\n            {params: { kanban: 0}\r\n        });\r\n            setTags(data);\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }\r\n\r\n    const syncTags = async (data) => {\r\n        try {\r\n            const { data: responseData } = await api.post(`/tags/sync`, data);\r\n            return responseData;\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }\r\n\r\n    const onChange = async (value, reason) => {\r\n        let optionsChanged = []\r\n        if (reason === 'create-option') {\r\n            if (isArray(value)) {\r\n                for (let item of value) {\r\n                    if (item.length < 3) {\r\n                        toastError(\"Tag muito curta!\");\r\n                        return;\r\n                    }\r\n                    if (isString(item)) {\r\n                        const newTag = await createTag({ name: item, kanban: 0, color: getRandomHexColor() })\r\n                        optionsChanged.push(newTag);\r\n                    } else {\r\n                        optionsChanged.push(item);\r\n                    }\r\n                }\r\n            }\r\n            await loadTags();\r\n        } else {\r\n            optionsChanged = value;\r\n        }\r\n        setSelecteds(optionsChanged);\r\n        await syncTags({ contactId: contact.id, tags: optionsChanged });\r\n    }\r\n\r\n    function getRandomHexColor() {\r\n        // Gerar valores aleatórios para os componentes de cor\r\n        const red = Math.floor(Math.random() * 256); // Valor entre 0 e 255\r\n        const green = Math.floor(Math.random() * 256); // Valor entre 0 e 255\r\n        const blue = Math.floor(Math.random() * 256); // Valor entre 0 e 255\r\n      \r\n        // Converter os componentes de cor em uma cor hexadecimal\r\n        const hexColor = `#${red.toString(16).padStart(2, '0')}${green.toString(16).padStart(2, '0')}${blue.toString(16).padStart(2, '0')}`;\r\n      \r\n        return hexColor;\r\n    }\r\n\r\n    return (\r\n        <Paper style={{ padding: 2 }}>\r\n            <Autocomplete\r\n                multiple\r\n                size=\"small\"\r\n                options={tags}\r\n                value={selecteds}\r\n                freeSolo\r\n                onChange={(e, v, r) => onChange(v, r)}\r\n                getOptionLabel={(option) => option.name}\r\n                renderTags={(value, getTagProps) =>\r\n                    value.map((option, index) => (\r\n                        <Chip\r\n                            variant=\"outlined\"\r\n                            style={{\r\n                                backgroundColor: option.color || '#eee',\r\n                                color: \"#FFF\",\r\n                                marginRight: 1,\r\n                                padding: 1,\r\n                                fontWeight: 'bold',\r\n                                paddingLeft: 5,\r\n                                paddingRight: 5,\r\n                                borderRadius: 3,\r\n                                fontSize: \"0.8em\",\r\n                                whiteSpace: \"nowrap\"\r\n                            }}\r\n                            label={option.name}\r\n                            {...getTagProps({ index })}\r\n                            size=\"small\"\r\n                        />\r\n                    ))\r\n                }\r\n                renderInput={(params) => (\r\n                    <TextField {...params} variant=\"outlined\" placeholder=\"Tags\" />\r\n                )}\r\n                PaperComponent={({ children }) => (\r\n                    <Paper\r\n                        style={{ width: 400, marginLeft: 6 }}\r\n                    >\r\n                        {children}\r\n                    </Paper>\r\n                )}\r\n            />\r\n        </Paper>\r\n    )\r\n}","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { parseISO, format } from \"date-fns\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { TagsContainer } from \"../TagsContainer\";\r\n// import AsyncSelect from \"../AsyncSelect\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\ttextField: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tflex: 1,\r\n\t},\r\n\r\n\textraAttr: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}));\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Too Short!\")\r\n\t\t.max(250, \"Too Long!\")\r\n\t\t.required(\"Required\"),\r\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\r\n\temail: Yup.string().email(\"Invalid email\"),\r\n});\r\n\r\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\r\n\tconst classes = useStyles();\r\n\tconst isMounted = useRef(true);\r\n\r\n\tconst initialState = {\r\n\t\tname: \"\",\r\n\t\tnumber: \"\",\r\n\t\temail: \"\",\r\n\t\tdisableBot: false,\r\n\t\tlgpdAcceptedAt: \"\"\r\n\t};\r\n\r\n\tconst [contact, setContact] = useState(initialState);\r\n\tconst [disableBot, setDisableBot] = useState(false);\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tisMounted.current = false;\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchContact = async () => {\r\n\t\t\tif (initialValues) {\r\n\t\t\t\tsetContact(prevState => {\r\n\t\t\t\t\treturn { ...prevState, ...initialValues };\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (!contactId) return;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\r\n\t\t\t\tif (isMounted.current) {\r\n\t\t\t\t\tsetContact(data);\r\n\t\t\t\t\tsetDisableBot(data.disableBot)\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchContact();\r\n\t}, [contactId, open, initialValues]);\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetContact(initialState);\r\n\t};\r\n\r\n\tconst handleSaveContact = async values => {\r\n\t\ttry {\r\n\t\t\tif (contactId) {\r\n\t\t\t\tawait api.put(`/contacts/${contactId}`, { ...values, disableBot: disableBot });\r\n\t\t\t\thandleClose();\r\n\t\t\t} else {\r\n\t\t\t\tconst { data } = await api.post(\"/contacts\", { ...values, disableBot: disableBot });\r\n\t\t\t\tif (onSave) {\r\n\t\t\t\t\tonSave(data);\r\n\t\t\t\t}\r\n\t\t\t\thandleClose();\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{contactId\r\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\r\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={contact}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={ContactSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveContact(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ values, errors, touched, isSubmitting, setFieldValue }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\r\n\t\t\t\t\t\t\t\t\tname=\"number\"\r\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\r\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"5513912344321\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<TagsContainer contact={contact} className={classes.textField} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\r\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={disableBot}\r\n\t\t\t\t\t\t\t\t\t\tonChange={() =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetDisableBot(!disableBot)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tname=\"disableBot\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.chatBotContact\")}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\r\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.whatsapp\")} {contact?.whatsapp ? contact?.whatsapp.name : \"\"}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\r\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.termsLGDP\")} {contact?.lgpdAcceptedAt ? format(new Date(contact?.lgpdAcceptedAt), \"dd/MM/yyyy 'às' HH:mm\") : \"\"}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t\t{/* <Typography variant=\"subtitle1\" gutterBottom>{i18n.t(\"contactModal.form.customer_portfolio\")}</Typography> */}\r\n\t\t\t\t\t\t\t\t{/* <div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t\t\t\t<AsyncSelect url=\"/users\" dictKey={\"users\"}\r\n\t\t\t\t\t\t\t\t\t\tinitialValue={values.user} width=\"100%\" label={i18n.t(\"contactModal.form.attendant\")}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(event, value) => setFieldValue(\"userId\", value ? value.id : null)} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t\t\t\t<AsyncSelect url=\"/queue\" dictKey={null}\r\n\t\t\t\t\t\t\t\t\t\tinitialValue={values.queue} width=\"100%\" label={i18n.t(\"contactModal.form.queue\")}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(event, value) => setFieldValue(\"queueId\", value ? value.id : null)} />\r\n\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\r\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\r\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</FieldArray>\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{contactId\r\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ContactModal;\r\n","import React from 'react';\r\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button } from '@mui/material';\r\nimport { i18n } from '../../translate/i18n';\r\n\r\nconst ShowTicketOpen = ({ isOpen, handleClose, user, queue }) => {\r\n  return (\r\n    <Dialog open={isOpen} onClose={handleClose}>\r\n      <DialogTitle>{i18n.t(\"showTicketOpenModal.title.header\")}</DialogTitle>\r\n      <DialogContent>\r\n        {user !== undefined && queue !== undefined && (\r\n          <DialogContentText>\r\n            {i18n.t(\"showTicketOpenModal.form.message\")} <br></br>\r\n            { `${i18n.t(\"showTicketOpenModal.form.user\")}: ${user}`}<br></br>\r\n            {`${i18n.t(\"showTicketOpenModal.form.queue\")}: ${queue}`}<br></br>\r\n          </DialogContentText>\r\n        )}\r\n        {!user && (\r\n          <DialogContentText>\r\n            {i18n.t(\"showTicketOpenModal.form.messageWait\")} <br></br>\r\n            {queue && (`${i18n.t(\"showTicketOpenModal.form.queue\")}: ${queue}`)}<br></br>\r\n          </DialogContentText>\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Fechar\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog >\r\n  );\r\n};\r\n\r\nexport default ShowTicketOpen;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ContactModal from \"../ContactModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Grid, ListItemText, MenuItem, Select } from \"@material-ui/core\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\r\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  online: {\r\n    fontSize: 11,\r\n    color: \"#25d366\"\r\n  },\r\n  offline: {\r\n    fontSize: 11,\r\n    color: \"#e1306c\"\r\n  }\r\n}));\r\n\r\nconst filter = createFilterOptions({\r\n  trim: true,\r\n});\r\n\r\nconst NewTicketModal = ({ modalOpen, onClose, initialContact }) => {\r\n  const classes = useStyles();\r\n  const [options, setOptions] = useState([]);\r\n  const [channelFilter, setChannelFilter] = useState(null);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [selectedContact, setSelectedContact] = useState(null);\r\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\r\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\");\r\n  const [newContact, setNewContact] = useState({});\r\n  const [whatsapps, setWhatsapps] = useState([]);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const { user } = useContext(AuthContext);\r\n  const { companyId, whatsappId } = user;\r\n\r\n  const [openAlert, setOpenAlert] = useState(false);\r\n  const [userTicketOpen, setUserTicketOpen] = useState(\"\");\r\n  const [queueTicketOpen, setQueueTicketOpen] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (initialContact?.id !== undefined) {\r\n      setOptions([initialContact]);\r\n      setSelectedContact(initialContact);\r\n    }\r\n  }, [initialContact]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        api\r\n          // .get(`/whatsapp/filter`, { params: { companyId, session: 0, channel: channelFilter } })\r\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\r\n          .then(({ data }) => setWhatsapps(data));\r\n\r\n          // .then(({ data }) => {\r\n          //   const mappedWhatsapps = data.map((whatsapp) => ({\r\n          //     ...whatsapp,\r\n          //     selected: false,\r\n          //   }));\r\n          //   setWhatsapps(mappedWhatsapps);\r\n          //   if (channelFilter && mappedWhatsapps.length && mappedWhatsapps?.length === 1 && (user.whatsappId === null || user?.whatsapp?.channel !== channelFilter)) {\r\n          //     setSelectedWhatsapp(mappedWhatsapps[0].id)\r\n          //   }\r\n          // });\r\n      };\r\n\r\n      if (whatsappId !== null && whatsappId !== undefined) {\r\n        setSelectedWhatsapp(whatsappId)\r\n      }\r\n\r\n      if (user.queues.length === 1) {\r\n        setSelectedQueue(user.queues[0].id)\r\n      }\r\n      fetchContacts();\r\n      setLoading(false);\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [selectedContact, channelFilter])\r\n\r\n  useEffect(() => {\r\n    if (!modalOpen || searchParam.length < 3) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(\"contacts\", {\r\n            params: { searchParam },\r\n          });\r\n          setOptions(data.contacts);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, modalOpen]);\r\n\r\n  const IconChannel = (channel) => {\r\n    switch (channel) {\r\n      case \"facebook\":\r\n        return <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\r\n      case \"instagram\":\r\n        return <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\r\n      case \"whatsapp\":\r\n        return <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\r\n      default:\r\n        return \"error\";\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setSearchParam(\"\");\r\n    setOpenAlert(false);\r\n    setUserTicketOpen(\"\");\r\n    setQueueTicketOpen(\"\");\r\n    setSelectedContact(null);\r\n  };\r\n\r\n  const handleCloseAlert = () => {\r\n    setOpenAlert(false);\r\n    setLoading(false);\r\n    setOpenAlert(false);\r\n    setUserTicketOpen(\"\");\r\n    setQueueTicketOpen(\"\");\r\n  };\r\n\r\n  const handleSaveTicket = async contactId => {\r\n    if (!contactId) return;\r\n    // if (selectedQueue === \"\" && user.profile !== 'admin') {\r\n    if (selectedQueue === \"\") {\r\n      toast.error(\"Selecione uma fila\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const queueId = selectedQueue !== \"\" ? selectedQueue : null;\r\n      const whatsappId = selectedWhatsapp !== \"\" ? selectedWhatsapp : null;\r\n      const { data: ticket } = await api.post(\"/tickets\", {\r\n        contactId: contactId,\r\n        queueId,\r\n        whatsappId,\r\n        userId: user.id,\r\n        status: \"open\",\r\n      });\r\n\r\n      onClose(ticket);\r\n    } catch (err) {\r\n\r\n      const ticket = JSON.parse(err.response.data.error);\r\n\r\n      if (ticket.userId !== user?.id) {\r\n        setOpenAlert(true);\r\n        setUserTicketOpen(ticket?.user?.name);\r\n        setQueueTicketOpen(ticket?.queue?.name);\r\n      } else {\r\n        setOpenAlert(false);\r\n        setUserTicketOpen(\"\");\r\n        setQueueTicketOpen(\"\");\r\n        setLoading(false);\r\n        onClose(ticket);\r\n      }\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleSelectOption = (e, newValue) => {\r\n    if (newValue?.number) {\r\n      setSelectedContact(newValue);\r\n    } else if (newValue?.name) {\r\n      setNewContact({ name: newValue.name });\r\n      setContactModalOpen(true);\r\n    }\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setContactModalOpen(false);\r\n  };\r\n\r\n  const handleAddNewContactTicket = contact => {\r\n    setSelectedContact(contact);\r\n  };\r\n\r\n  const createAddContactOption = (filterOptions, params) => {\r\n    const filtered = filter(filterOptions, params);\r\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\r\n      filtered.push({\r\n        name: `${params.inputValue}`,\r\n      });\r\n    }\r\n    return filtered;\r\n  };\r\n\r\n  const renderOption = option => {\r\n    if (option.number) {\r\n      return <>\r\n        {IconChannel(option.channel)}\r\n        <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\r\n          {option.name} - {option.number}\r\n        </Typography>\r\n      </>\r\n    } else {\r\n      return `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\r\n    }\r\n  };\r\n\r\n  const renderOptionLabel = option => {\r\n    if (option.number) {\r\n      return `${option.name} - ${option.number}`;\r\n    } else {\r\n      return `${option.name}`;\r\n    }\r\n  };\r\n\r\n  const renderContactAutocomplete = () => {\r\n    if (initialContact === undefined || initialContact.id === undefined) {\r\n      return (\r\n        <Grid xs={12} item>\r\n          <Autocomplete\r\n            fullWidth\r\n            options={options}\r\n            loading={loading}\r\n            clearOnBlur\r\n            autoHighlight\r\n            freeSolo\r\n            clearOnEscape\r\n            getOptionLabel={renderOptionLabel}\r\n            renderOption={renderOption}\r\n            filterOptions={createAddContactOption}\r\n            onChange={(e, newValue) => {                     \r\n              setChannelFilter(newValue ? newValue.channel : \"whatsapp\");\r\n              handleSelectOption(e, newValue)\r\n            }}\r\n            renderInput={params => (\r\n              <TextField\r\n                {...params}\r\n                label={i18n.t(\"newTicketModal.fieldLabel\")}\r\n                variant=\"outlined\"\r\n                autoFocus\r\n                onChange={e => setSearchParam(e.target.value)}\r\n                onKeyPress={e => {\r\n                  if (loading || !selectedContact) return;\r\n                  else if (e.key === \"Enter\") {\r\n                    handleSaveTicket(selectedContact.id);\r\n                  }\r\n                }}\r\n                InputProps={{\r\n                  ...params.InputProps,\r\n                  endAdornment: (\r\n                    <React.Fragment>\r\n                      {loading ? (\r\n                        <CircularProgress color=\"inherit\" size={20} />\r\n                      ) : null}\r\n                      {params.InputProps.endAdornment}\r\n                    </React.Fragment>\r\n                  ),\r\n                }}\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n      )\r\n    }\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n\r\n      <Dialog open={modalOpen} onClose={handleClose}>\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {i18n.t(\"newTicketModal.title\")}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <Grid style={{ width: 300 }} container spacing={2}>\r\n            {/* CONTATO */}\r\n            {renderContactAutocomplete()}\r\n            {/* FILA */}\r\n            <Grid xs={12} item>\r\n              <Select\r\n                required\r\n                fullWidth\r\n                displayEmpty\r\n                variant=\"outlined\"\r\n                value={selectedQueue}\r\n                onChange={(e) => {\r\n                  setSelectedQueue(e.target.value)\r\n                }}\r\n                MenuProps={{\r\n                  anchorOrigin: {\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  transformOrigin: {\r\n                    vertical: \"top\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  getContentAnchorEl: null,\r\n                }}\r\n                renderValue={() => {\r\n                  if (selectedQueue === \"\") {\r\n                    return \"Selecione uma fila\"\r\n                  }\r\n                  const queue = user.queues.find(q => q.id === selectedQueue)\r\n                  return queue.name\r\n                }}\r\n              >\r\n                {user.queues?.length > 0 &&\r\n                  user.queues.map((queue, key) => (\r\n                    <MenuItem dense key={key} value={queue.id}>\r\n                      <ListItemText primary={queue.name} />\r\n                    </MenuItem>\r\n                  ))\r\n                }\r\n              </Select>\r\n            </Grid>\r\n            {/* CONEXAO */}\r\n            <Grid xs={12} item>\r\n              <Select\r\n                required\r\n                fullWidth\r\n                displayEmpty\r\n                variant=\"outlined\"\r\n                value={selectedWhatsapp}\r\n                onChange={(e) => {\r\n                  setSelectedWhatsapp(e.target.value)\r\n                }}\r\n                MenuProps={{\r\n                  anchorOrigin: {\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  transformOrigin: {\r\n                    vertical: \"top\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  getContentAnchorEl: null,\r\n                }}\r\n                renderValue={() => {\r\n                  if (selectedWhatsapp === \"\") {\r\n                    return \"Selecione uma Conexão\"\r\n                  }\r\n                  const whatsapp = whatsapps.find(w => w.id === selectedWhatsapp)\r\n                  return whatsapp?.name\r\n                }}\r\n              >\r\n                {whatsapps?.length > 0 &&\r\n                  whatsapps.map((whatsapp, key) => (\r\n                    <MenuItem dense key={key} value={whatsapp.id}>\r\n                      <ListItemText\r\n                        primary={\r\n                          <>\r\n                            {IconChannel(whatsapp.channel)}\r\n                            <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\r\n                              {whatsapp.name} &nbsp; <p className={(whatsapp.status) === 'CONNECTED' ? classes.online : classes.offline} >({whatsapp.status})</p>\r\n                            </Typography>\r\n                          </>\r\n                        }\r\n                      />\r\n                    </MenuItem>\r\n                  ))}\r\n              </Select>\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={handleClose}\r\n            color=\"secondary\"\r\n            disabled={loading}\r\n            variant=\"outlined\"\r\n          >\r\n            {i18n.t(\"newTicketModal.buttons.cancel\")}\r\n          </Button>\r\n          <ButtonWithSpinner\r\n            variant=\"contained\"\r\n            type=\"button\"\r\n            disabled={!selectedContact}\r\n            onClick={() => handleSaveTicket(selectedContact.id)}\r\n            color=\"primary\"\r\n            loading={loading}\r\n          >\r\n            {i18n.t(\"newTicketModal.buttons.ok\")}\r\n          </ButtonWithSpinner>\r\n        </DialogActions>\r\n        {contactModalOpen && (\r\n          <ContactModal\r\n            open={contactModalOpen}\r\n            initialValues={newContact}\r\n            onClose={handleCloseContactModal}\r\n            onSave={handleAddNewContactTicket}\r\n          ></ContactModal>\r\n        )}\r\n        {openAlert && (\r\n          <ShowTicketOpen\r\n            isOpen={openAlert}\r\n            handleClose={handleCloseAlert}\r\n            user={userTicketOpen}\r\n            queue={queueTicketOpen}\r\n          />\r\n        )}\r\n      </Dialog >\r\n    </>\r\n  );\r\n};\r\nexport default NewTicketModal;","import { makeStyles } from \"@material-ui/styles\";\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    tag: {\r\n        padding: \"1px 5px\",\r\n        borderRadius: \"3px\",\r\n        fontSize: \"0.8em\",\r\n        fontWeight: \"bold\",\r\n        color: \"#FFF\",\r\n        marginRight: \"5px\",\r\n        whiteSpace: \"nowrap\"\r\n    }\r\n}));\r\n\r\nconst ContactTag = ({ tag }) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.tag} style={{ backgroundColor: tag.color, marginTop: '2px' }}>\r\n           {tag.name.toUpperCase()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContactTag;","import React from \"react\";\r\n\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport InstagramIcon from \"@material-ui/icons/Instagram\";\r\nimport FacebookIcon from \"@material-ui/icons/Facebook\";\r\n\r\nconst ConnectionIcon = ({ connectionType }) => {\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {connectionType === 'whatsapp' && <WhatsAppIcon fontSize=\"small\" style={{ marginBottom: '-5px', color: \"#25D366\" }} />}\r\n            {connectionType === 'instagram' && <InstagramIcon fontSize=\"small\" style={{ marginBottom: '-5px', color: \"#e1306c\" }} />}\r\n            {connectionType === 'facebook' && <FacebookIcon fontSize=\"small\" style={{ marginBottom: '-5px', color: \"#3b5998\" }} />}\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default ConnectionIcon;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    FormControl,\r\n    InputLabel,\r\n    makeStyles,\r\n    MenuItem,\r\n    Select\r\n } from \"@material-ui/core\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Form, Formik } from \"formik\";\r\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\n\r\n// const filter = createFilterOptions({\r\n// \ttrim: true,\r\n// });\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tautoComplete: { \r\n\t\twidth: 300,\r\n\t\t// marginBottom: 20 \r\n\t},\r\n\tmaxWidth: {\r\n\t\twidth: \"100%\",\r\n\t},\r\n\tbuttonColorError: {\r\n\t\tcolor: theme.palette.error.main,\r\n\t\tborderColor: theme.palette.error.main,\r\n\t},\r\n}));\r\n\r\nconst AcceptTicketWithouSelectQueue = ({ modalOpen, onClose, ticketId, ticket }) => {\r\n\tconst history = useHistory();\r\n\tconst classes = useStyles();\r\n\tconst [selectedQueue, setSelectedQueue] = useState('');\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst [ openAlert, setOpenAlert ] = useState(false);\r\n\tconst [ userTicketOpen, setUserTicketOpen] = useState(\"\");\r\n\tconst [ queueTicketOpen, setQueueTicketOpen] = useState(\"\");\r\n\tconst { tabOpen, setTabOpen } = useContext(TicketsContext);\r\n\r\n\tconst {get:getSetting} = useCompanySettings();\r\n\r\nuseEffect(() => {\r\n\ttry {\r\n\tif (user.queues.length === 1) {\r\n        setSelectedQueue(user.queues[0].id)\r\n      }\r\n\t} catch (err) {\r\n\t\tsetLoading(false);\r\n\t\ttoastError(err);\r\n\t}\r\n},[selectedQueue])\r\n\r\nconst handleClose = () => {\r\n\tonClose();\r\n\tsetSelectedQueue(\"\");\r\n};\r\n\r\nconst handleCloseAlert = () => {\r\n\tsetOpenAlert(false);\r\n\tsetLoading(false)\r\n};\r\n\r\nconst handleSendMessage = async (id) => {\r\n\r\n\tlet isGreetingMessage = false;\r\n\r\n\ttry {\r\n\t\tconst  setting  = await getSetting({\r\n\t\t\t\"column\":\"sendGreetingAccepted\"\r\n\t\t});\r\n\t\tif (setting.sendGreetingAccepted === \"enabled\") isGreetingMessage = true;\r\n\t} catch (err) {\r\n\t\ttoastError(err);\r\n\t}\r\n\t\r\n\tlet settingMessage\r\n\ttry {\r\n\t\tsettingMessage = await getSetting({\r\n\t\t\t\"column\": \"greetingAcceptedMessage\"\r\n\t\t})\r\n\t} catch (err) {\r\n\t\ttoastError(err);\r\n\t}\r\n\tif (isGreetingMessage && (!ticket.isGroup || ticket.whatsapp?.groupAsTicket === \"enabled\") && ticket.status === \"pending\") {\r\n\t\tconst msg = `${settingMessage.greetingAcceptedMessage}`;\r\n\t\t// const msg = `{{ms}} *{{name}}*, ${i18n.t(\"mainDrawer.appBar.user.myName\")} *${user?.name}* ${i18n.t(\"mainDrawer.appBar.user.continuity\")}.`;\r\n\t\tconst message = {\r\n\t\t\tread: 1,\r\n\t\t\tfromMe: true,\r\n\t\t\tmediaUrl: \"\",\r\n\t\t\tbody: `${msg.trim()}`,\r\n\t\t};\r\n\t\ttry {\r\n\t\t\tawait api.post(`/messages/${id}`, message);\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst handleUpdateTicketStatus = async (queueId) => {\r\n\tsetLoading(true);\r\n\ttry {\r\n\t\tconst otherTicket = await api.put(`/tickets/${ticketId}`, {\r\n\t\t\tstatus: ticket.isGroup && ticket.channel === 'whatsapp' ? \"group\" : \"open\",\r\n\t\t\tuserId: user?.id || null,\r\n\t\t\tqueueId: queueId\r\n\t\t});\r\n\r\n\t\tif (otherTicket.data.id !== ticket.id) {\r\n\t\t\tif (otherTicket.data.userId !== user?.id) {\r\n\t\t\t\tsetOpenAlert(true)\r\n\t\t\t\tsetUserTicketOpen(otherTicket.data.user.name)\r\n\t\t\t\tsetQueueTicketOpen(otherTicket.data.queue.name)\r\n\t\t\t} else {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTabOpen(otherTicket.isGroup ? \"group\" : \"open\");\r\n\t\t\t\thistory.push(`/tickets/${otherTicket.data.uuid}`);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\thandleSendMessage(ticket.id)\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetTabOpen(ticket.isGroup ? \"group\" : \"open\");\r\n\t\t\thistory.push(`/tickets/${ticket.uuid}`);\r\n\t\t\thandleClose();\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tsetLoading(false);\r\n\t\ttoastError(err);\r\n\t}\r\n};\r\n\r\nreturn (\r\n\t<>\r\n\t\t<Dialog open={modalOpen} onClose={handleClose}>\r\n\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t{i18n.t(\"ticketsList.acceptModal.title\")}\r\n\t\t\t</DialogTitle>\r\n\t\t\t<DialogContent dividers>\r\n\t\t\t\t<FormControl variant=\"outlined\" className={classes.maxWidth}>\r\n\t\t\t\t\t<InputLabel>{i18n.t(\"ticketsList.acceptModal.queue\")}</InputLabel>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tvalue={selectedQueue}\r\n\t\t\t\t\t\tclassName={classes.autoComplete}\r\n\t\t\t\t\t\tonChange={(e) => setSelectedQueue(e.target.value)}\r\n\t\t\t\t\t\tlabel={i18n.t(\"ticketsList.acceptModal.queue\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\r\n\t\t\t\t\t\t{user.queues.map((queue) => (\r\n\t\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>{queue.name}</MenuItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormControl>\r\n\t\t\t</DialogContent>\r\n\t\t\t<DialogActions>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\tclassName={classes.buttonColorError}\r\n\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{i18n.t(\"ticketsList.buttons.cancel\")}\r\n\t\t\t\t</Button>\r\n\t\t\t\t<ButtonWithSpinner\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tdisabled={(selectedQueue === \"\")}\r\n\t\t\t\t\tonClick={() => handleUpdateTicketStatus(selectedQueue)}\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tloading={loading}\r\n\t\t\t\t>\r\n\t\t\t\t\t{i18n.t(\"ticketsList.buttons.start\")}\r\n\t\t\t\t</ButtonWithSpinner>\r\n\t\t\t</DialogActions>\r\n\t\t\t<ShowTicketOpen\r\n\t\t\t\tisOpen={openAlert}\r\n\t\t\t\thandleClose={handleCloseAlert}\r\n\t\t\t\tuser={userTicketOpen}\r\n\t\t\t\tqueue={queueTicketOpen}\r\n\t\t\t/>\r\n\t\t</Dialog>\r\n\t</>\r\n);\r\n};\r\n\r\nexport default AcceptTicketWithouSelectQueue;","import api from \"../../services/api\";\r\n\r\nconst useQueues = () => {\r\n\tconst findAll = async () => {\r\n        const { data } = await api.get(\"/queue\");\r\n        return data;\r\n    }\r\n\r\n\treturn { findAll };\r\n};\r\n\r\nexport default useQueues;\r\n","import React from \"react\";\r\nimport { Tooltip, makeStyles } from \"@material-ui/core\";\r\nimport { green, grey } from '@material-ui/core/colors';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    on: {\r\n        color: green[600],\r\n        fontSize: '20px'\r\n    },\r\n    off: {\r\n        color: grey[600],\r\n        fontSize: '20px'\r\n    }\r\n}));\r\n\r\nconst UserStatusIcon = ({ user }) => {\r\n    const classes = useStyles();\r\n    return user.online ?\r\n        <Tooltip title=\"Online\">\r\n            <CheckCircleIcon className={classes.on} />\r\n        </Tooltip>\r\n        :\r\n        <Tooltip title=\"Offline\">\r\n            <ErrorIcon className={classes.off} />\r\n        </Tooltip>\r\n}\r\n\r\nexport default UserStatusIcon;","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport { Grid, makeStyles } from \"@material-ui/core\";\r\n\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Autocomplete, {\r\n  createFilterOptions,\r\n} from \"@material-ui/lab/Autocomplete\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport useQueues from \"../../hooks/useQueues\";\r\nimport UserStatusIcon from \"../UserModal/statusIcon\";\r\nimport { isNil } from \"lodash\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  maxWidth: {\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nconst filterOptions = createFilterOptions({\r\n  trim: true,\r\n});\r\n\r\nconst TransferTicketModalCustom = ({ modalOpen, onClose, ticketid, ticket }) => {\r\n  const history = useHistory();\r\n  const [options, setOptions] = useState([]);\r\n  const [queues, setQueues] = useState([]);\r\n  const [allQueues, setAllQueues] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\r\n  const classes = useStyles();\r\n  const { findAll: findAllQueues } = useQueues();\r\n  const isMounted = useRef(true);\r\n  const [msgTransfer, setMsgTransfer] = useState('');\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      const loadQueues = async () => {\r\n        const list = await findAllQueues();\r\n        setAllQueues(list);\r\n        setQueues(list);\r\n\r\n      };\r\n      loadQueues();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    if (!modalOpen || searchParam.length < 3) {\r\n      setLoading(false);\r\n      setSelectedQueue(\"\");\r\n      return;\r\n    }\r\n    const delayDebounceFn = setTimeout(() => {\r\n      setLoading(true);\r\n      const fetchUsers = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/users/\", {\r\n            params: { searchParam },\r\n          });\r\n          setOptions(data.users);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n\r\n      fetchUsers();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, modalOpen]);\r\n\r\n  const handleMsgTransferChange = (event) => {\r\n    setMsgTransfer(event.target.value);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setSearchParam(\"\");\r\n    setSelectedUser(null);\r\n  };\r\n\r\n  const handleSaveTicket = async (e) => {\r\n    // e.preventDefault();\r\n    if (!ticketid) return;\r\n    if (!selectedQueue || selectedQueue === \"\") return;\r\n    setLoading(true);\r\n    try {\r\n      let data = {};\r\n\r\n        data.userId = !selectedUser ? null : selectedUser.id;\r\n        data.status = !selectedUser ? \"pending\" : ticket.isGroup ? \"group\" : \"open\";\r\n        data.queueId = selectedQueue;\r\n        data.msgTransfer = msgTransfer ? msgTransfer : null;\r\n        data.isTransfered = true;\r\n\r\n      await api.put(`/tickets/${ticketid}`, data);\r\n      setLoading(false);\r\n      history.push(`/tickets/`);\r\n      handleClose();\r\n    } catch (err) {\r\n      setLoading(false);\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <Dialog open={modalOpen} onClose={handleClose} maxWidth=\"md\" fullWidth scroll=\"paper\">\r\n      {/* <form onSubmit={handleSaveTicket}> */}\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        {i18n.t(\"transferTicketModal.title\")}\r\n      </DialogTitle>\r\n      <DialogContent dividers>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12} sm={6} xl={6}>\r\n            <Autocomplete\r\n              fullWidth\r\n              getOptionLabel={(option) => `${option.name}`}\r\n              onChange={(e, newValue) => {\r\n                setSelectedUser(newValue);\r\n                if (newValue != null && Array.isArray(newValue.queues)) {\r\n                  if (newValue.queues.length === 1) {\r\n                    setSelectedQueue(newValue.queues[0].id);\r\n                  }\r\n                  setQueues(newValue.queues);\r\n\r\n                } else {\r\n                  setQueues(allQueues);\r\n                  setSelectedQueue(\"\");\r\n                }\r\n              }}\r\n              options={options}\r\n              filterOptions={filterOptions}\r\n              freeSolo\r\n              autoHighlight\r\n              noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\r\n              loading={loading}\r\n              renderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\r\n              renderInput={(params) => (\r\n                <TextField\r\n                  {...params}\r\n                  label={i18n.t(\"transferTicketModal.fieldLabel\")}\r\n                  variant=\"outlined\"\r\n                  autoFocus\r\n                  onChange={(e) => setSearchParam(e.target.value)}\r\n                  InputProps={{\r\n                    ...params.InputProps,\r\n                    endAdornment: (\r\n                      <React.Fragment>\r\n                        {loading ? (\r\n                          <CircularProgress color=\"inherit\" size={20} />\r\n                        ) : null}\r\n                        {params.InputProps.endAdornment}\r\n                      </React.Fragment>\r\n                    ),\r\n                  }}\r\n                />\r\n              )}\r\n            />\r\n          </Grid>\r\n          <Grid xs={12} sm={6} xl={6} item >\r\n            <FormControl variant=\"outlined\" fullWidth>\r\n              <InputLabel>\r\n                {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\r\n              </InputLabel>\r\n              <Select\r\n                value={selectedQueue}\r\n                onChange={(e) => setSelectedQueue(e.target.value)}\r\n                label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\r\n              >\r\n                {queues.map((queue) => (\r\n                  <MenuItem key={queue.id} value={queue.id}>\r\n                    {queue.name}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12} sm={12} xl={12} >\r\n            <TextField\r\n              label={i18n.t(\"transferTicketModal.msgTransfer\")}\r\n              value={msgTransfer}\r\n              onChange={handleMsgTransferChange}\r\n              variant=\"outlined\"\r\n              multiline\r\n              maxRows={5}\r\n              minRows={5}\r\n              fullWidth\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          onClick={handleClose}\r\n          color=\"secondary\"\r\n          disabled={loading}\r\n          variant=\"outlined\"\r\n        >\r\n          {i18n.t(\"transferTicketModal.buttons.cancel\")}\r\n        </Button>\r\n        <ButtonWithSpinner\r\n          variant=\"contained\"\r\n          type=\"submit\"\r\n          color=\"primary\"\r\n          loading={loading}\r\n          disabled={selectedQueue === \"\"}\r\n          onClick={() => handleSaveTicket(selectedQueue)}\r\n\r\n        >\r\n          {i18n.t(\"transferTicketModal.buttons.ok\")}\r\n        </ButtonWithSpinner>\r\n      </DialogActions>\r\n      {/* </form> */}\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default TransferTicketModalCustom;\r\n","import React, { useState, useEffect, useRef, useContext, useCallback } from \"react\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { parseISO, format, isSameDay } from \"date-fns\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport { green, grey } from \"@material-ui/core/colors\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport MarkdownWrapper from \"../MarkdownWrapper\";\r\nimport { List, Tooltip } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport GroupIcon from '@material-ui/icons/Group';\r\nimport ContactTag from \"../ContactTag\";\r\nimport ConnectionIcon from \"../ConnectionIcon\";\r\nimport AcceptTicketWithouSelectQueue from \"../AcceptTicketWithoutQueueModal\";\r\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\r\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\r\nimport { isNil } from \"lodash\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Done, HighlightOff, Replay, SwapHoriz } from \"@material-ui/icons\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport { Avatar, Badge, ListItemAvatar, ListItem, ListItemSecondaryAction, ListItemText, Typography } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    ticket: {\r\n        position: \"relative\"\r\n    },\r\n\r\n    pendingTicket: {\r\n        cursor: \"unset\",\r\n    },\r\n    queueTag: {\r\n        background: \"#FCFCFC\",\r\n        color: \"#000\",\r\n        marginRight: 1,\r\n        padding: 1,\r\n        fontWeight: 'bold',\r\n        // paddingLeft: 5,\r\n        // paddingRight: 5,\r\n        borderRadius: 3,\r\n        fontSize: \"0.5em\",\r\n        whiteSpace: \"nowrap\"\r\n    },\r\n    noTicketsDiv: {\r\n        display: \"flex\",\r\n        height: \"100px\",\r\n        margin: 40,\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n    newMessagesCount: {\r\n        justifySelf: \"flex-end\",\r\n        textAlign: \"right\",\r\n        position: \"relative\",\r\n        top: 0,\r\n        color: \"green\",\r\n        fontWeight: \"bold\",\r\n        marginRight: \"10px\",\r\n        borderRadius: 0,\r\n    },\r\n    noTicketsText: {\r\n        textAlign: \"center\",\r\n        color: \"rgb(104, 121, 146)\",\r\n        fontSize: \"14px\",\r\n        lineHeight: \"1.4\",\r\n    },\r\n    connectionTag: {\r\n        background: \"green\",\r\n        color: \"#FFF\",\r\n        marginRight: 1,\r\n        padding: 1,\r\n        fontWeight: 'bold',\r\n        // paddingLeft: 5,\r\n        // paddingRight: 5,\r\n        borderRadius: 3,\r\n        fontSize: \"0.6em\",\r\n        // whiteSpace: \"nowrap\"\r\n    },\r\n    noTicketsTitle: {\r\n        textAlign: \"center\",\r\n        fontSize: \"16px\",\r\n        fontWeight: \"600\",\r\n        margin: \"0px\",\r\n    },\r\n\r\n    contactNameWrapper: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        marginLeft: \"5px\",\r\n        fontWeight: \"bold\",\r\n        color: theme.mode === 'light' ? \"black\" : \"white\",\r\n    },\r\n\r\n    lastMessageTime: {\r\n        justifySelf: \"flex-end\",\r\n        textAlign: \"right\",\r\n        position: \"relative\",\r\n        top: -30,\r\n        marginRight: \"1px\",\r\n        color: theme.mode === 'light' ? \"black\" : grey[400],\r\n    },\r\n\r\n    lastMessageTimeUnread: {\r\n        justifySelf: \"flex-end\",\r\n        textAlign: \"right\",\r\n        position: \"relative\",\r\n        top: -30,\r\n        color: \"green\",\r\n        fontWeight: \"bold\",\r\n        marginRight: \"1px\",\r\n    },\r\n\r\n    closedBadge: {\r\n        alignSelf: \"center\",\r\n        justifySelf: \"flex-end\",\r\n        marginRight: 32,\r\n        marginLeft: \"auto\",\r\n    },\r\n\r\n    contactLastMessage: {\r\n        paddingRight: \"0%\",\r\n        marginLeft: \"5px\",\r\n        color: theme.mode === 'light' ? \"black\" : grey[400],\r\n    },\r\n\r\n    contactLastMessageUnread: {\r\n        paddingRight: 20,\r\n        fontWeight: \"bold\",\r\n        color: theme.mode === 'light' ? \"black\" : grey[400],\r\n        width: \"50%\"\r\n    },\r\n\r\n    badgeStyle: {\r\n        color: \"white\",\r\n        backgroundColor: green[500],\r\n    },\r\n\r\n    acceptButton: {\r\n        position: \"absolute\",\r\n        right: \"1px\",\r\n    },\r\n\r\n    ticketQueueColor: {\r\n        flex: \"none\",\r\n        // width: \"8px\",\r\n        height: \"100%\",\r\n        position: \"absolute\",\r\n        top: \"0%\",\r\n        left: \"0%\",\r\n    },\r\n\r\n    ticketInfo: {\r\n        position: \"relative\",\r\n        top: -13\r\n    },\r\n    secondaryContentSecond: {\r\n        display: 'flex',\r\n        // marginBottom: 2,\r\n        // marginLeft: \"5px\",\r\n        alignItems: \"flex-start\",\r\n        flexWrap: \"nowrap\",\r\n        flexDirection: \"row\",\r\n        alignContent: \"flex-start\",\r\n        // height: \"10px\"\r\n    },\r\n    ticketInfo1: {\r\n        position: \"relative\",\r\n        top: 13,\r\n        right: 0\r\n    },\r\n    Radiusdot: {\r\n        \"& .MuiBadge-badge\": {\r\n            borderRadius: 2,\r\n            position: \"inherit\",\r\n            height: 16,\r\n            margin: 2,\r\n            padding: 3\r\n        },\r\n        \"& .MuiBadge-anchorOriginTopRightRectangle\": {\r\n            transform: \"scale(1) translate(0%, -40%)\",\r\n        },\r\n    },\r\n    connectionIcon: {\r\n        marginRight: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nconst TicketListItemCustom = ({ setTabOpen, ticket }) => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const history = useHistory();\r\n    const [loading, setLoading] = useState(false);\r\n    const [acceptTicketWithouSelectQueueOpen, setAcceptTicketWithouSelectQueueOpen] = useState(false);\r\n    const [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\r\n\r\n    const [openAlert, setOpenAlert] = useState(false);\r\n    const [userTicketOpen, setUserTicketOpen] = useState(\"\");\r\n    const [queueTicketOpen, setQueueTicketOpen] = useState(\"\");\r\n\r\n    const { ticketId } = useParams();\r\n    const isMounted = useRef(true);\r\n    const { setCurrentTicket } = useContext(TicketsContext);\r\n    const { user } = useContext(AuthContext);\r\n\r\n    const { get: getSetting } = useCompanySettings();\r\n\r\n    useEffect(() => {\r\n    }, [ticket])\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        };\r\n    }, []);\r\n\r\n    const handleOpenAcceptTicketWithouSelectQueue = useCallback(() => {\r\n        setAcceptTicketWithouSelectQueueOpen(true);\r\n    }, []);\r\n\r\n    const handleCloseTicket = async (id) => {\r\n        const setting = await getSetting(\r\n            {\r\n                \"column\": \"requiredTag\"\r\n            }\r\n        );\r\n\r\n        if (setting.requiredTag === \"enabled\") {\r\n            //verificar se tem uma tag   \r\n            try {\r\n                const contactTags = await api.get(`/contactTags/${ticket.contact.id}`);\r\n                if (!contactTags.data.tags) {\r\n                    toast.warning(i18n.t(\"messagesList.header.buttons.requiredTag\"))\r\n                } else {\r\n                    await api.put(`/tickets/${id}`, {\r\n                        status: \"closed\",\r\n                        userId: user?.id || null,\r\n                    });\r\n\r\n                    if (isMounted.current) {\r\n                        setLoading(false);\r\n                    }\r\n\r\n                    history.push(`/tickets/`);\r\n                }\r\n            } catch (err) {\r\n                setLoading(false);\r\n                toastError(err);\r\n            }\r\n        } else {\r\n            setLoading(true);\r\n            try {\r\n                await api.put(`/tickets/${id}`, {\r\n                    status: \"closed\",\r\n                    userId: user?.id || null,\r\n                });\r\n\r\n            } catch (err) {\r\n                setLoading(false);\r\n                toastError(err);\r\n            }\r\n            if (isMounted.current) {\r\n                setLoading(false);\r\n            }\r\n\r\n            history.push(`/tickets/`);\r\n        }\r\n\r\n    };\r\n\r\n    const handleCloseIgnoreTicket = async (id) => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${id}`, {\r\n                status: \"closed\",\r\n                userId: user?.id || null,\r\n                sendFarewellMessage: false,\r\n                amountUsedBotQueues: 0\r\n            });\r\n\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n        if (isMounted.current) {\r\n            setLoading(false);\r\n        }\r\n\r\n        history.push(`/tickets/`);\r\n    };\r\n\r\n    const truncate = (str, len) => {\r\n        if (!isNil(str)) {\r\n            if (str.length > len) {\r\n                return str.substring(0, len) + \"...\";\r\n            }\r\n            return str;\r\n        }\r\n    };\r\n\r\n    const handleCloseTransferTicketModal = useCallback(() => {\r\n        if (isMounted.current) {\r\n            setTransferTicketModalOpen(false);\r\n        }\r\n    }, []);\r\n\r\n    const handleOpenTransferModal = () => {\r\n        setLoading(true)\r\n        setTransferTicketModalOpen(true);\r\n        if (isMounted.current) {\r\n            setLoading(false);\r\n        }\r\n        handleSelectTicket(ticket);\r\n        // history.push('/tickets');\r\n        // setTimeout(() => {\r\n        history.push(`/tickets/${ticket.uuid}`);\r\n        // }, 0);\r\n    }\r\n\r\n    const handleAcepptTicket = async (id) => {\r\n        setLoading(true);\r\n        try {\r\n            const otherTicket = await api.put(`/tickets/${id}`, ({\r\n                status: ticket.isGroup && ticket.channel === 'whatsapp' ? \"group\" : \"open\",\r\n                userId: user?.id,\r\n            }));\r\n\r\n            if (otherTicket.data.id !== ticket.id) {\r\n                if (otherTicket.data.userId !== user?.id) {\r\n                    setOpenAlert(true);\r\n                    setUserTicketOpen(otherTicket.data.user.name);\r\n                    setQueueTicketOpen(otherTicket.data.queue.name);\r\n                } else {\r\n                    setLoading(false);\r\n                    setTabOpen(ticket.isGroup ? \"group\" : \"open\");\r\n                    handleSelectTicket(otherTicket.data);\r\n                    // history.push('/tickets');\r\n                    // setTimeout(() => {\r\n                    history.push(`/tickets/${otherTicket.uuid}`);\r\n                    // }, 0);\r\n                }\r\n            } else {\r\n                let setting;\r\n\r\n                try {\r\n                    setting = await getSetting({\r\n                        \"column\": \"sendGreetingAccepted\"\r\n                    });\r\n                } catch (err) {\r\n                    toastError(err);\r\n                }\r\n\r\n                if (setting.sendGreetingAccepted === \"enabled\" && (!ticket.isGroup || ticket.whatsapp?.groupAsTicket === \"enabled\")) {\r\n                    handleSendMessage(ticket.id);\r\n                }\r\n                if (isMounted.current) {\r\n                    setLoading(false);\r\n                }\r\n\r\n                setTabOpen(ticket.isGroup ? \"group\" : \"open\");\r\n                handleSelectTicket(ticket);\r\n                // history.push('/tickets');\r\n                // setTimeout(() => {\r\n                history.push(`/tickets/${ticket.uuid}`);\r\n                // }, 0);\r\n            }\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n\r\n    const handleSendMessage = async (id) => {\r\n\r\n        let setting;\r\n\r\n        try {\r\n            setting = await getSetting({\r\n                \"column\": \"greetingAcceptedMessage\"\r\n            })\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n\r\n        const msg = `${setting.greetingAcceptedMessage}`; //`{{ms}} *{{name}}*, ${i18n.t(\"mainDrawer.appBar.user.myName\")} *${user?.name}* ${i18n.t(\"mainDrawer.appBar.user.continuity\")}.`;\r\n        const message = {\r\n            read: 1,\r\n            fromMe: true,\r\n            mediaUrl: \"\",\r\n            body: `${msg.trim()}`,\r\n        };\r\n        try {\r\n            await api.post(`/messages/${id}`, message);\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    const handleCloseAlert = useCallback(() => {\r\n        setOpenAlert(false);\r\n        setLoading(false);\r\n    }, []);\r\n\r\n    const handleSelectTicket = (ticket) => {\r\n        const code = uuidv4();\r\n        const { id, uuid } = ticket;\r\n        setCurrentTicket({ id, uuid, code });\r\n    };\r\n\r\n    return (\r\n        <React.Fragment key={ticket.id}>\r\n            {openAlert && (\r\n                <ShowTicketOpen\r\n                    isOpen={openAlert}\r\n                    handleClose={handleCloseAlert}\r\n                    user={userTicketOpen}\r\n                    queue={queueTicketOpen}\r\n                />\r\n            )}\r\n            {acceptTicketWithouSelectQueueOpen && (\r\n                <AcceptTicketWithouSelectQueue\r\n                    modalOpen={acceptTicketWithouSelectQueueOpen}\r\n                    onClose={(e) => setAcceptTicketWithouSelectQueueOpen(false)}\r\n                    ticketId={ticket.id}\r\n                    ticket={ticket}\r\n                />\r\n            )}\r\n            {transferTicketModalOpen && (\r\n                <TransferTicketModalCustom\r\n                    modalOpen={transferTicketModalOpen}\r\n                    onClose={handleCloseTransferTicketModal}\r\n                    ticketid={ticket.id}\r\n                    ticket={ticket}\r\n                />\r\n            )}\r\n            {/* <TicketMessagesDialog\r\n                open={openTicketMessageDialog}\r\n                handleClose={() => setOpenTicketMessageDialog(false)}\r\n                ticketId={ticket.id}\r\n            /> */}\r\n            <ListItem\r\n                button\r\n                dense\r\n                onClick={(e) => {\r\n                    const isCheckboxClicked = (e.target.tagName.toLowerCase() === 'input' && e.target.type === 'checkbox')\r\n                        || (e.target.tagName.toLowerCase() === 'svg' && e.target.type === undefined)\r\n                        || (e.target.tagName.toLowerCase() === 'path' && e.target.type === undefined);\r\n                    // Se o clique foi no Checkbox, não execute handleSelectTicket\r\n\r\n                    if (isCheckboxClicked) return;\r\n\r\n                    handleSelectTicket(ticket);\r\n                }}\r\n                selected={ticketId && ticketId === ticket.uuid}\r\n                className={clsx(classes.ticket, {\r\n                    [classes.pendingTicket]: ticket.status === \"pending\",\r\n                })}\r\n            >\r\n                <ListItemAvatar\r\n                    style={{ marginLeft: \"-15px\" }}\r\n                >\r\n                    <Avatar\r\n                        style={{\r\n                            width: \"50px\",\r\n                            height: \"50px\",\r\n                            borderRadius: \"50%\",\r\n                        }}\r\n                        src={`${ticket?.contact?.urlPicture}`}\r\n\r\n                    />\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                    disableTypography\r\n                    primary={\r\n                        <span className={classes.contactNameWrapper}>\r\n                            <Typography\r\n                                noWrap\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                            // color=\"textPrimary\"\r\n                            >\r\n                                {ticket.isGroup && ticket.channel === \"whatsapp\" && <GroupIcon fontSize=\"small\" style={{ color: grey[700], marginBottom: '-1px', marginLeft: '5px' }} />} &nbsp;\r\n                                {ticket.channel && <ConnectionIcon width=\"20\" height=\"20\" className={classes.connectionIcon} connectionType={ticket.channel} />} &nbsp;\r\n                                {truncate(ticket.contact?.name, 60)}\r\n                                {/* {profile === \"admin\"  && ( */}\r\n                                {/* <Tooltip title=\"Espiar Conversa\">\r\n                                        <VisibilityIcon\r\n                                            onClick={() => setOpenTicketMessageDialog(true)}\r\n                                            fontSize=\"small\"\r\n                                            style={{\r\n                                                color: blue[700],\r\n                                                cursor: \"pointer\",\r\n                                                marginLeft: 10,\r\n                                                verticalAlign: \"middle\"\r\n                                            }}\r\n                                        />\r\n                                    </Tooltip> */}\r\n                                {/* )} */}\r\n                            </Typography>\r\n                            {/* <ListItemSecondaryAction>\r\n                                <Box className={classes.ticketInfo1}>{renderTicketInfo()}</Box>\r\n                            </ListItemSecondaryAction> */}\r\n                        </span>\r\n                    }\r\n                    secondary={\r\n                        <span className={classes.contactNameWrapper}>\r\n\r\n                            <Typography\r\n                                className={Number(ticket.unreadMessages) > 0 ? classes.contactLastMessageUnread : classes.contactLastMessage}\r\n                                noWrap\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                            >\r\n                                {ticket.lastMessage ? (\r\n                                    <>\r\n                                        {ticket.lastMessage.includes('data:image/png;base64') ?\r\n                                            <MarkdownWrapper>Localização</MarkdownWrapper> :\r\n                                            <> {ticket.lastMessage.includes('BEGIN:VCARD') ?\r\n                                                <MarkdownWrapper>Contato</MarkdownWrapper> :\r\n                                                <MarkdownWrapper>{truncate(ticket.lastMessage, 40)}</MarkdownWrapper>}\r\n                                            </>\r\n                                        }\r\n                                    </>\r\n                                ) : (\r\n                                    <br />\r\n                                )}\r\n                                <span className={classes.secondaryContentSecond} >\r\n                                    {ticket?.whatsapp ? <Badge className={classes.connectionTag} style={{ backgroundColor: ticket.channel === \"whatsapp\" ? \"#25D366\" : ticket.channel === \"facebook\" ? \"#4267B2\" : \"#E1306C\" }}>{ticket.whatsapp?.name.toUpperCase()}</Badge> : <br></br>}\r\n                                    {<Badge style={{ backgroundColor: ticket.queue?.color || \"#7c7c7c\" }} className={classes.connectionTag}>{ticket.queueId ? ticket.queue?.name.toUpperCase() : ticket.status === \"lgpd\" ? \"LGPD\" : \"SEM FILA\"}</Badge>}\r\n                                    {ticket?.user && (<Badge style={{ backgroundColor: \"#000000\" }} className={classes.connectionTag}>{ticket.user?.name.toUpperCase()}</Badge>)}\r\n                                </span>\r\n                                <span className={classes.secondaryContentSecond} >\r\n                                    {\r\n                                        ticket.tags?.map((tag) => {\r\n                                            return (\r\n                                                <ContactTag tag={tag} key={`ticket-contact-tag-${ticket.id}-${tag.id}`} />\r\n                                            );\r\n                                        })\r\n                                    }\r\n                                </span>\r\n                            </Typography>\r\n\r\n                            <Badge\r\n                                className={classes.newMessagesCount}\r\n                                badgeContent={ticket.unreadMessages}\r\n                                classes={{\r\n                                    badge: classes.badgeStyle,\r\n                                }}\r\n                            />\r\n                        </span>\r\n                    }\r\n\r\n                />\r\n                <ListItemSecondaryAction>\r\n                    {ticket.lastMessage && (\r\n                        <>\r\n\r\n                            <Typography\r\n                                className={Number(ticket.unreadMessages) > 0 ? classes.lastMessageTimeUnread : classes.lastMessageTime}\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                            // color=\"textSecondary\"\r\n                            >\r\n\r\n                                {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\r\n                                    <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\r\n                                ) : (\r\n                                    <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\r\n                                )}\r\n                            </Typography>\r\n\r\n                            <br />\r\n\r\n                        </>\r\n                    )}\r\n\r\n                </ListItemSecondaryAction>\r\n                <ListItemSecondaryAction>\r\n                    <span className={classes.secondaryContentSecond}>\r\n                        {(ticket.status === \"pending\" && (ticket.queueId === null || ticket.queueId === undefined)) && (\r\n                            <ButtonWithSpinner\r\n                                //color=\"primary\"\r\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#FF7606\" : \"#FFF\", padding: '0px', borderRadius: \"50%\", right: '51px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\r\n                                variant=\"contained\"\r\n                                className={classes.acceptButton}\r\n                                size=\"small\"\r\n                                loading={loading}\r\n                                onClick={e => handleOpenAcceptTicketWithouSelectQueue()}\r\n                            >\r\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.accept\")}`}>\r\n                                    <Done />\r\n                                </Tooltip>\r\n                            </ButtonWithSpinner>\r\n                        )}\r\n                    </span>\r\n                    <span className={classes.secondaryContentSecond} >\r\n                        {(ticket.status === \"pending\" && ticket.queueId !== null) && (\r\n                            <ButtonWithSpinner\r\n                                //color=\"primary\"\r\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#FF7606\" : \"#FFF\", padding: '0px', borderRadius: \"50%\", right: '51px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\r\n                                variant=\"contained\"\r\n                                className={classes.acceptButton}\r\n                                size=\"small\"\r\n                                loading={loading}\r\n                                onClick={e => handleAcepptTicket(ticket.id)}\r\n                            >\r\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.accept\")}`}>\r\n                                    <Done />\r\n                                </Tooltip>\r\n                            </ButtonWithSpinner>\r\n                        )}\r\n                    </span>\r\n                    <span className={classes.secondaryContentSecond1} >\r\n                        {(ticket.status === \"pending\" || ticket.status === \"open\" || ticket.status === \"group\") && (\r\n                            <ButtonWithSpinner\r\n                                //color=\"primary\"\r\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#FF7606\" : \"#FFF\", padding: '0px', borderRadius: \"50%\", right: '26px', position: 'absolute', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\r\n                                variant=\"contained\"\r\n                                className={classes.acceptButton}\r\n                                size=\"small\"\r\n                                loading={loading}\r\n                                onClick={handleOpenTransferModal}\r\n                            >\r\n                                {/* {i18n.t(\"ticketsList.buttons.transfer\")} */}\r\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.transfer\")}`}>\r\n                                    <SwapHoriz />\r\n                                </Tooltip>\r\n                            </ButtonWithSpinner>\r\n                        )}\r\n                    </span>\r\n                    <span className={classes.secondaryContentSecond} >\r\n                        {(ticket.status === \"open\" || ticket.status === \"group\") && (\r\n                            <ButtonWithSpinner\r\n                                //color=\"primary\"\r\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#FF7606\" : \"#FFF\", padding: '0px', bottom: '0px', borderRadius: \"50%\", right: '1px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\r\n                                variant=\"contained\"\r\n                                className={classes.acceptButton}\r\n                                size=\"small\"\r\n                                loading={loading}\r\n                                onClick={e => handleCloseTicket(ticket.id)}\r\n                            >\r\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.closed\")}`}>\r\n                                    <HighlightOff />\r\n                                    {/*  */}\r\n                                </Tooltip>\r\n                            </ButtonWithSpinner>\r\n                        )}\r\n                    </span>\r\n                    <span className={classes.secondaryContentSecond} >\r\n                        {((ticket.status === \"pending\" || ticket.status === \"lgpd\") && (user.userClosePendingTicket === \"enabled\" || user.profile === \"admin\")) && (\r\n                            <ButtonWithSpinner\r\n                                //color=\"primary\"\r\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#FF7606\" : \"#FFF\", padding: '0px', bottom: '0px', borderRadius: \"50%\", right: '1px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\r\n                                variant=\"contained\"\r\n                                className={classes.acceptButton}\r\n                                size=\"small\"\r\n                                loading={loading}\r\n                                onClick={e => handleCloseIgnoreTicket(ticket.id)}\r\n                            >\r\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.ignore\")}`}>\r\n                                    <HighlightOff />\r\n                                </Tooltip>\r\n                            </ButtonWithSpinner>\r\n                        )}\r\n                    </span>\r\n                    <span className={classes.secondaryContentSecond} >\r\n                        {(ticket.status === \"closed\" && (ticket.queueId === null || ticket.queueId === undefined)) && (\r\n                            <ButtonWithSpinner\r\n                                //color=\"primary\"\r\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#FF7606\" : \"#FFF\", padding: '0px', bottom: '0px', borderRadius: \"50%\", right: '1px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\r\n                                variant=\"contained\"\r\n                                className={classes.acceptButton}\r\n                                size=\"small\"\r\n                                loading={loading}\r\n                                onClick={e => handleOpenAcceptTicketWithouSelectQueue()}\r\n                            >\r\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.reopen\")}`}>\r\n                                    <Replay />\r\n                                </Tooltip>\r\n                            </ButtonWithSpinner>\r\n\r\n                        )}\r\n                    </span>\r\n                    <span className={classes.secondaryContentSecond} >\r\n                        {(ticket.status === \"closed\" && ticket.queueId !== null) && (\r\n                            <ButtonWithSpinner\r\n                                //color=\"primary\"\r\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#FF7606\" : \"#FFF\", padding: '0px', bottom: '0px', borderRadius: \"50%\", right: '1px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\r\n                                variant=\"contained\"\r\n                                className={classes.acceptButton}\r\n                                size=\"small\"\r\n                                loading={loading}\r\n                                onClick={e => handleAcepptTicket(ticket.id)}\r\n                            >\r\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.reopen\")}`}>\r\n                                    <Replay />\r\n                                </Tooltip>\r\n                            </ButtonWithSpinner>\r\n\r\n                        )}\r\n                    </span>\r\n                </ListItemSecondaryAction>\r\n            </ListItem>\r\n            {/* <Divider variant=\"inset\" component=\"li\" /> */}\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default TicketListItemCustom;","import React from \"react\";\r\n\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nconst TicketsSkeleton = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ListItem dense>\r\n\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\r\n\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\r\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\r\n\t\t\t\t/>\r\n\t\t\t</ListItem>\r\n\t\t\t<Divider variant=\"inset\" />\r\n\t\t\t<ListItem dense>\r\n\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\r\n\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\r\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\r\n\t\t\t\t/>\r\n\t\t\t</ListItem>\r\n\t\t\t<Divider variant=\"inset\" />\r\n\t\t\t<ListItem dense>\r\n\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\r\n\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\r\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\r\n\t\t\t\t/>\r\n\t\t\t</ListItem>\r\n\t\t\t<Divider variant=\"inset\" />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default TicketsSkeleton;\r\n","import React, { useState, useEffect, useReducer, useContext, useMemo } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport TicketListItem from \"../TicketListItemCustom\";\r\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\r\n\r\nimport useTickets from \"../../hooks/useTickets\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    ticketsListWrapper: {\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        height: \"100%\",\r\n        flexDirection: \"column\",\r\n        overflow: \"hidden\",\r\n        borderTopRightRadius: 0,\r\n        borderBottomRightRadius: 0,\r\n    },\r\n\r\n    ticketsList: {\r\n        flex: 1,\r\n        maxHeight: \"100%\",\r\n        overflowY: \"scroll\",\r\n        ...theme.scrollbarStyles,\r\n        borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\r\n    },\r\n\r\n    ticketsListHeader: {\r\n        color: \"rgb(67, 83, 105)\",\r\n        zIndex: 2,\r\n        backgroundColor: \"white\",\r\n        borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-between\",\r\n    },\r\n\r\n    ticketsCount: {\r\n        fontWeight: \"normal\",\r\n        color: \"rgb(104, 121, 146)\",\r\n        marginLeft: \"8px\",\r\n        fontSize: \"14px\",\r\n    },\r\n\r\n    noTicketsText: {\r\n        textAlign: \"center\",\r\n        color: \"rgb(104, 121, 146)\",\r\n        fontSize: \"14px\",\r\n        lineHeight: \"1.4\",\r\n    },\r\n\r\n    noTicketsTitle: {\r\n        textAlign: \"center\",\r\n        fontSize: \"16px\",\r\n        fontWeight: \"600\",\r\n        margin: \"0px\",\r\n    },\r\n\r\n    noTicketsDiv: {\r\n        display: \"flex\",\r\n        // height: \"190px\",\r\n        margin: 40,\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n}));\r\n\r\nconst ticketSortAsc = (a, b) => {\r\n    \r\n    if (a.updatedAt < b.updatedAt) {\r\n        return -1;\r\n    }\r\n    if (a.updatedAt > b.updatedAt) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nconst ticketSortDesc = (a, b) => {\r\n   \r\n    if (a.updatedAt > b.updatedAt) {\r\n        return -1;\r\n    }\r\n    if (a.updatedAt < b.updatedAt) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n    const sortDir = action.sortDir;\r\n    \r\n    if (action.type === \"LOAD_TICKETS\") {\r\n        const newTickets = action.payload;\r\n\r\n        newTickets.forEach((ticket) => {\r\n            const ticketIndex = state.findIndex((t) => t.id === ticket.id);\r\n            if (ticketIndex !== -1) {\r\n                state[ticketIndex] = ticket;\r\n                if (ticket.unreadMessages > 0) {\r\n                    state.unshift(state.splice(ticketIndex, 1)[0]);\r\n                }\r\n            } else {\r\n                state.push(ticket);\r\n            }\r\n        });\r\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\r\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\r\n        }\r\n\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"RESET_UNREAD\") {\r\n        const ticketId = action.payload;\r\n\r\n        const ticketIndex = state.findIndex((t) => t.id === ticketId);\r\n        if (ticketIndex !== -1) {\r\n            state[ticketIndex].unreadMessages = 0;\r\n        }\r\n\r\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\r\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\r\n        }\r\n\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"UPDATE_TICKET\") {\r\n        const ticket = action.payload;\r\n\r\n        const ticketIndex = state.findIndex((t) => t.id === ticket.id);\r\n        if (ticketIndex !== -1) {\r\n            state[ticketIndex] = ticket;\r\n        } else {\r\n            state.unshift(ticket);\r\n        }\r\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\r\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\r\n        }\r\n\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\r\n        const ticket = action.payload;\r\n\r\n        const ticketIndex = state.findIndex((t) => t.id === ticket.id);\r\n        if (ticketIndex !== -1) {\r\n            state[ticketIndex] = ticket;\r\n            state.unshift(state.splice(ticketIndex, 1)[0]);\r\n        } else {\r\n            if (action.status === action.payload.status) {\r\n                state.unshift(ticket);\r\n            }\r\n        }\r\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\r\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\r\n        }\r\n\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"UPDATE_TICKET_CONTACT\") {\r\n        const contact = action.payload;\r\n        const ticketIndex = state.findIndex((t) => t.contactId === contact.id);\r\n        if (ticketIndex !== -1) {\r\n            state[ticketIndex].contact = contact;\r\n        }\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"DELETE_TICKET\") {\r\n        const ticketId = action.payload;\r\n        const ticketIndex = state.findIndex((t) => t.id === ticketId);\r\n        if (ticketIndex !== -1) {\r\n            state.splice(ticketIndex, 1);\r\n        }\r\n\r\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\r\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\r\n        }\r\n\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"RESET\") {\r\n        return [];\r\n    }\r\n};\r\n\r\nconst TicketsListCustom = (props) => {\r\n    const {\r\n        setTabOpen,\r\n        status,\r\n        searchParam,\r\n        searchOnMessages,\r\n        tags,\r\n        users,\r\n        showAll,\r\n        selectedQueueIds,\r\n        updateCount,\r\n        style,\r\n        whatsappIds,\r\n        forceSearch,\r\n        statusFilter,\r\n        userFilter,\r\n        sortTickets\r\n    } = props;\r\n\r\n    const classes = useStyles();\r\n    const [pageNumber, setPageNumber] = useState(1);\r\n    let [ticketsList, dispatch] = useReducer(reducer, []);\r\n    //   const socketManager = useContext(SocketContext);\r\n    const { user, socket } = useContext(AuthContext);\r\n\r\n    const { profile, queues } = user;\r\n    const showTicketWithoutQueue = user.allTicket === 'enable';\r\n    const companyId = user.companyId;\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: \"RESET\" });\r\n        setPageNumber(1);\r\n    }, [status, searchParam, dispatch, showAll, tags, users, forceSearch, selectedQueueIds, whatsappIds, statusFilter, sortTickets, searchOnMessages]);\r\n\r\n    const { tickets, hasMore, loading } = useTickets({\r\n        pageNumber,\r\n        searchParam,\r\n        status,\r\n        showAll,\r\n        searchOnMessages: searchOnMessages ? \"true\" : \"false\",\r\n        tags: JSON.stringify(tags),\r\n        users: JSON.stringify(users),\r\n        queueIds: JSON.stringify(selectedQueueIds),\r\n        whatsappIds: JSON.stringify(whatsappIds),\r\n        statusFilter: JSON.stringify(statusFilter),\r\n        userFilter,\r\n        sortTickets\r\n    });\r\n\r\n\r\n    useEffect(() => {\r\n        // const queueIds = queues.map((q) => q.id);\r\n        // const filteredTickets = tickets.filter(\r\n        //     (t) => queueIds.indexOf(t.queueId) > -1\r\n        // );\r\n        // const allticket = user.allTicket === 'enabled';\r\n        // if (profile === \"admin\" || allTicket || allowGroup || allHistoric) {\r\n        if (companyId) {\r\n            dispatch({\r\n                type: \"LOAD_TICKETS\",\r\n                payload: tickets,\r\n                status,\r\n                sortDir: sortTickets\r\n            });\r\n        }\r\n        // } else {\r\n        //  dispatch({ type: \"LOAD_TICKETS\", payload: filteredTickets });\r\n        // }\r\n\r\n    }, [tickets]);\r\n\r\n    useEffect(() => {\r\n        const shouldUpdateTicket = ticket => {\r\n            return (!ticket?.userId || ticket?.userId === user?.id || showAll) &&\r\n                ((!ticket?.queueId && showTicketWithoutQueue) || selectedQueueIds.indexOf(ticket?.queueId) > -1)\r\n            // (!blockNonDefaultConnections || (ticket.status == 'group' && ignoreUserConnectionForGroups) || !user?.whatsappId || ticket.whatsappId == user?.whatsappId);\r\n        }\r\n        // const shouldUpdateTicketUser = (ticket) =>\r\n        //     selectedQueueIds.indexOf(ticket?.queueId) > -1 && (ticket?.userId === user?.id || !ticket?.userId);\r\n\r\n        const notBelongsToUserQueues = (ticket) =>\r\n            ticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\r\n\r\n        const onCompanyTicketTicketsList = (data) => {\r\n            if (data.action === \"updateUnread\") {\r\n                dispatch({\r\n                    type: \"RESET_UNREAD\",\r\n                    payload: data.ticketId,\r\n                    status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n            }\r\n            if (data.action === \"update\" &&\r\n                shouldUpdateTicket(data.ticket) && data.ticket.status === status) {\r\n                dispatch({\r\n                    type: \"UPDATE_TICKET\",\r\n                    payload: data.ticket,\r\n                    status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n            }\r\n\r\n            // else if (data.action === \"update\" && shouldUpdateTicketUser(data.ticket) && data.ticket.status === status) {\r\n            //     dispatch({\r\n            //         type: \"UPDATE_TICKET\",\r\n            //         payload: data.ticket,\r\n            //     });\r\n            // }\r\n            if (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\r\n                dispatch({\r\n                    type: \"DELETE_TICKET\", payload: data.ticket?.id, status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n            }\r\n\r\n            if (data.action === \"delete\") {\r\n                dispatch({\r\n                    type: \"DELETE_TICKET\", payload: data?.ticketId, status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n\r\n            }\r\n        };\r\n\r\n        const onCompanyAppMessageTicketsList = (data) => {\r\n            if (data.action === \"create\" &&\r\n                shouldUpdateTicket(data.ticket) && data.ticket.status === status) {\r\n                dispatch({\r\n                    type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\r\n                    payload: data.ticket,\r\n                    status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n            }\r\n            // else if (data.action === \"create\" && shouldUpdateTicketUser(data.ticket) && data.ticket.status === status) {\r\n            //     dispatch({\r\n            //         type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\r\n            //         payload: data.ticket,\r\n            //     });\r\n            // }\r\n        };\r\n\r\n        const onCompanyContactTicketsList = (data) => {\r\n            if (data.action === \"update\" && data.contact) {\r\n                dispatch({\r\n                    type: \"UPDATE_TICKET_CONTACT\",\r\n                    payload: data.contact,\r\n                    status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n            }\r\n        };\r\n\r\n        const onConnectTicketsList = () => {\r\n            if (status) {\r\n                socket.emit(\"joinTickets\", status);\r\n            } else {\r\n                socket.emit(\"joinNotification\");\r\n            }\r\n        }\r\n\r\n        socket.on(\"connect\", onConnectTicketsList)\r\n        socket.on(`company-${companyId}-ticket`, onCompanyTicketTicketsList);\r\n        socket.on(`company-${companyId}-appMessage`, onCompanyAppMessageTicketsList);\r\n        socket.on(`company-${companyId}-contact`, onCompanyContactTicketsList);\r\n\r\n        return () => {\r\n            if (status) {\r\n                socket.emit(\"leaveTickets\", status);\r\n            } else {\r\n                socket.emit(\"leaveNotification\");\r\n            }\r\n            socket.off(\"connect\", onConnectTicketsList);\r\n            socket.off(`company-${companyId}-ticket`, onCompanyTicketTicketsList);\r\n            socket.off(`company-${companyId}-appMessage`, onCompanyAppMessageTicketsList);\r\n            socket.off(`company-${companyId}-contact`, onCompanyContactTicketsList);\r\n        };\r\n\r\n    }, [status, showAll, user, selectedQueueIds, tags, users, profile, queues, sortTickets, showTicketWithoutQueue]);\r\n\r\n    useEffect(() => {\r\n        if (typeof updateCount === \"function\") {\r\n            updateCount(ticketsList.length);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [ticketsList]);\r\n\r\n    const loadMore = () => {\r\n        setPageNumber((prevState) => prevState + 1);\r\n    };\r\n\r\n    const handleScroll = (e) => {\r\n        if (!hasMore || loading) return;\r\n\r\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n\r\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n            loadMore();\r\n        }\r\n    };\r\n\r\n    if (status && status !== \"search\") {\r\n        ticketsList = ticketsList.filter(ticket => ticket.status === status)\r\n    }\r\n\r\n    return (\r\n        <Paper className={classes.ticketsListWrapper} style={style}>\r\n            <Paper\r\n                square\r\n                name=\"closed\"\r\n                elevation={0}\r\n                className={classes.ticketsList}\r\n                onScroll={handleScroll}\r\n            >\r\n                <List style={{ paddingTop: 0 }} >\r\n                    {ticketsList.length === 0 && !loading ? (\r\n                        <div className={classes.noTicketsDiv}>\r\n                            <span className={classes.noTicketsTitle}>\r\n                                {i18n.t(\"ticketsList.noTicketsTitle\")}\r\n                            </span>\r\n                            <p className={classes.noTicketsText}>\r\n                                {i18n.t(\"ticketsList.noTicketsMessage\")}\r\n                            </p>\r\n                        </div>\r\n                    ) : (\r\n                        <>\r\n                            {ticketsList.map((ticket) => (\r\n                                <TicketListItem\r\n                                    ticket={ticket}\r\n                                    key={ticket.id}\r\n                                    setTabOpen={setTabOpen}\r\n                                />\r\n                                // </List>\r\n                            ))}\r\n                        </>\r\n                    )}\r\n                    {loading && <TicketsListSkeleton />}\r\n                </List>\r\n            </Paper>\r\n        </Paper>\r\n    );\r\n};\r\n\r\nexport default TicketsListCustom;\r\n","import React from \"react\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  menuListItem: {\r\n    paddingTop: 0,\r\n    paddingBottom: 0,\r\n  },\r\n  menuItem: {\r\n    maxHeight: 30,\r\n  },\r\n}));\r\n\r\nconst TicketsQueueSelect = ({\r\n  userQueues,\r\n  selectedQueueIds = [],\r\n  onChange,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const handleChange = (e) => {\r\n    onChange(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: 120, marginTop: -4 }}>\r\n      <FormControl fullWidth margin=\"dense\">\r\n        <Select\r\n          multiple\r\n          displayEmpty\r\n          variant=\"outlined\"\r\n          value={selectedQueueIds}\r\n          onChange={handleChange}\r\n          style={{\r\n            borderRadius: 8,\r\n            height: 30,\r\n          }}\r\n          MenuProps={{\r\n            anchorOrigin: {\r\n              vertical: \"bottom\",\r\n              horizontal: \"center\",\r\n            },\r\n            transformOrigin: {\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            },\r\n            getContentAnchorEl: null,\r\n            PaperProps: {\r\n              style: {\r\n                borderRadius: \"0 0 8px 8px\",\r\n              },\r\n            },\r\n            MenuListProps: {\r\n              className: classes.menuListItem,\r\n            },\r\n          }}\r\n          renderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\r\n        >\r\n          {userQueues?.length > 0 &&\r\n            userQueues.map((queue) => (\r\n              <MenuItem\r\n                dense\r\n                key={queue.id}\r\n                value={queue.id}\r\n                className={classes.menuItem}\r\n              >\r\n                <Checkbox\r\n                  style={{\r\n                    color: queue.color,\r\n                  }}\r\n                  size=\"small\"\r\n                  color=\"primary\"\r\n                  checked={selectedQueueIds.indexOf(queue.id) > -1}\r\n                />\r\n                <ListItemText\r\n                  primary={queue.name}\r\n                  classes={{ primary: classes.listItemText }}\r\n                />\r\n              </MenuItem>\r\n            ))}\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketsQueueSelect;","import { Box, Chip, TextField } from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\n\r\nexport function TagsFilter({ onFiltered }) {\r\n  const [tags, setTags] = useState([]);\r\n  const [selecteds, setSelecteds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      await loadTags();\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const loadTags = async () => {\r\n    try {\r\n      const { data } = await api.get(`/tags/list`);\r\n      setTags(data);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const onChange = async (value) => {\r\n    setSelecteds(value);\r\n    onFiltered(value);\r\n  };\r\n\r\n  return (\r\n    <Box style={{ padding: 10 }}>\r\n      <Autocomplete\r\n        multiple\r\n        size=\"small\"\r\n        options={tags}\r\n        value={selecteds}\r\n        onChange={(e, v, r) => onChange(v)}\r\n        getOptionLabel={(option) => option.name}\r\n        renderTags={(value, getTagProps) =>\r\n          value.map((option, index) => (\r\n            <Chip\r\n              variant=\"outlined\"\r\n              style={{\r\n                backgroundColor: option.color || \"#eee\",\r\n                textShadow: \"1px 1px 1px #000\",\r\n                color: \"white\",\r\n              }}\r\n              label={option.name}\r\n              {...getTagProps({ index })}\r\n              size=\"small\"\r\n            />\r\n          ))\r\n        }\r\n        renderInput={(params) => (\r\n          <TextField\r\n            {...params}\r\n            variant=\"outlined\"\r\n            placeholder=\"Filtro por Tags\"\r\n          />\r\n        )}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Chip, TextField } from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nexport function UsersFilter({ onFiltered, initialUsers }) {\r\n  const [users, setUsers] = useState([]);\r\n  const [selecteds, setSelecteds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      await loadUsers();\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setSelecteds([]);\r\n    if (\r\n      Array.isArray(initialUsers) &&\r\n      Array.isArray(users) &&\r\n      users.length > 0\r\n    ) {\r\n      onChange(initialUsers);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [initialUsers, users]);\r\n\r\n  const loadUsers = async () => {\r\n    try {\r\n      const { data } = await api.get(`/users/list`);\r\n      const userList = data.map((u) => ({ id: u.id, name: u.name }));\r\n      setUsers(userList);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const onChange = async (value) => {\r\n    setSelecteds(value);\r\n    onFiltered(value);\r\n  };\r\n\r\n  return (\r\n    <Box style={{ padding: \"0px 10px 10px\" }}>\r\n      <Autocomplete\r\n        multiple\r\n        size=\"small\"\r\n        options={users}\r\n        value={selecteds}\r\n        onChange={(e, v, r) => onChange(v)}\r\n        getOptionLabel={(option) => option.name}\r\n        getOptionSelected={(option, value) => {\r\n          return (\r\n            option?.id === value?.id ||\r\n            option?.name.toLowerCase() === value?.name.toLowerCase()\r\n          );\r\n        }}\r\n        renderTags={(value, getUserProps) =>\r\n          value.map((option, index) => (\r\n            <Chip\r\n              variant=\"outlined\"\r\n              style={{\r\n                backgroundColor: \"#bfbfbf\",\r\n                textShadow: \"1px 1px 1px #000\",\r\n                color: \"white\",\r\n              }}\r\n              label={option.name}\r\n              {...getUserProps({ index })}\r\n              size=\"small\"\r\n            />\r\n          ))\r\n        }\r\n        renderInput={(params) => (\r\n          <TextField\r\n            {...params}\r\n            variant=\"outlined\"\r\n            placeholder={i18n.t(\"tickets.search.filterUsers\")}\r\n          />\r\n        )}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Chip, TextField } from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\n\r\nexport function StatusFilter({ onFiltered }) {\r\n  const [selecteds, setSelecteds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      \r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const onChange = async (value) => {\r\n    setSelecteds(value);\r\n    onFiltered(value);\r\n  };\r\n\r\n  const status = [\r\n    { status: 'open', name: `${i18n.t(\"tickets.search.filterConectionsOptions.open\")}` },\r\n    { status: 'closed', name: `${i18n.t(\"tickets.search.filterConectionsOptions.closed\")}` },\r\n    { status: 'pending', name: `${i18n.t(\"tickets.search.filterConectionsOptions.pending\")}` },\r\n    { status: 'group', name: 'Grupos' },\r\n\r\n  ]\r\n\r\n  return (\r\n    <Box style={{ padding: \"0px 10px 10px\" }}>\r\n      <Autocomplete \r\n       multiple      \r\n       size=\"small\"\r\n       options={status}\r\n       value={selecteds}\r\n       onChange={(e, v, r) => onChange(v)}\r\n       getOptionLabel={(option) => option.name}\r\n       renderTags={(value, getTagProps) =>\r\n         value.map((option, index) => (\r\n           <Chip\r\n             variant=\"outlined\"\r\n             style={{\r\n               backgroundColor: option.color || \"#eee\",\r\n               textShadow: \"1px 1px 1px #000\",\r\n               color: \"white\",\r\n             }}\r\n             label={option.name}\r\n             {...getTagProps({ index })}\r\n             size=\"small\"\r\n           />\r\n         ))\r\n       }\r\n       renderInput={(params) => (\r\n         <TextField\r\n           {...params}\r\n           variant=\"outlined\"\r\n           placeholder=\"Filtro por Status\"\r\n         />\r\n       )}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Chip, TextField } from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nexport function WhatsappsFilter({ onFiltered, initialWhatsapps }) {\r\n  const [whatsapps, setWhatsapps] = useState([]);\r\n  const [selecteds, setSelecteds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      await loadWhatsapps();\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setSelecteds([]);\r\n    if (\r\n      Array.isArray(initialWhatsapps) &&\r\n      Array.isArray(whatsapps) &&\r\n      whatsapps.length > 0\r\n    ) {\r\n      onChange(initialWhatsapps);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [initialWhatsapps, whatsapps]);\r\n\r\n  const loadWhatsapps = async () => {\r\n    try {\r\n      const { data } = await api.get(`/whatsapp`);\r\n      const whatsappList = data.map((w) => ({ id: w.id, name: w.name, channel: w.channel }));\r\n      setWhatsapps(whatsappList);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const onChange = async (value) => {\r\n    setSelecteds(value);\r\n    onFiltered(value);\r\n  };\r\n\r\n  return (\r\n    <Box style={{ padding: \"0px 10px 10px\" }}>\r\n      <Autocomplete\r\n        multiple\r\n        size=\"small\"\r\n        options={whatsapps}\r\n        value={selecteds}\r\n        onChange={(e, v, r) => onChange(v)}\r\n        getOptionLabel={(option) => option.name}\r\n        getOptionSelected={(option, value) => {\r\n          return (\r\n            option?.id === value?.id ||\r\n            option?.name.toLowerCase() === value?.name.toLowerCase()\r\n          );\r\n        }}\r\n        renderTags={(value, getWhatsappProps) =>\r\n          value.map((option, index) => (\r\n            <Chip\r\n              variant=\"outlined\"\r\n              style={{\r\n                backgroundColor: \"#bfbfbf\",\r\n                textShadow: \"1px 1px 1px #000\",\r\n                color: \"white\",\r\n              }}\r\n              label={option.name}\r\n              {...getWhatsappProps({ index })}\r\n              size=\"small\"\r\n            />\r\n          ))\r\n        }\r\n        renderInput={(params) => (\r\n          <TextField\r\n            {...params}\r\n            variant=\"outlined\"\r\n            placeholder={i18n.t(\"tickets.search.filterConections\")}\r\n          />\r\n        )}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n","import React, { useState, createContext } from \"react\";\r\n\r\nconst QueueSelectedContext = createContext();\r\n\r\nconst QueueSelectedProvider = ({ children }) => {\r\n\tconst [selectedQueuesMessage, setSelectedQueuesMessage] = useState([]);\r\n\treturn (\r\n\t\t<QueueSelectedContext.Provider\r\n\t\t\tvalue={{ selectedQueuesMessage, setSelectedQueuesMessage }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</QueueSelectedContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { QueueSelectedContext, QueueSelectedProvider };\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  makeStyles,\r\n  Paper,\r\n  InputBase,\r\n  Tabs,\r\n  Tab,\r\n  Badge,\r\n  IconButton,\r\n  Typography,\r\n  Grid,\r\n  Tooltip,\r\n  Switch,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Group,\r\n  MoveToInbox as MoveToInboxIcon,\r\n  CheckBox as CheckBoxIcon,\r\n  MessageSharp as MessageSharpIcon,\r\n  AccessTime as ClockIcon,\r\n  Search as SearchIcon,\r\n  Add as AddIcon,\r\n  TextRotateUp,\r\n  TextRotationDown,\r\n} from \"@material-ui/icons\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\r\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\r\n\r\nimport { FilterAltOff, FilterAlt, PlaylistAddCheckOutlined } from \"@mui/icons-material\";\r\n\r\nimport NewTicketModal from \"../NewTicketModal\";\r\nimport TicketsList from \"../TicketsListCustom\";\r\nimport TabPanel from \"../TabPanel\";\r\nimport { Can } from \"../Can\";\r\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\r\nimport { TagsFilter } from \"../TagsFilter\";\r\nimport { UsersFilter } from \"../UsersFilter\";\r\nimport { StatusFilter } from \"../StatusFilter\";\r\nimport { WhatsappsFilter } from \"../WhatsappsFilter\";\r\nimport { Button, Snackbar } from \"@material-ui/core\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { QueueSelectedContext } from \"../../context/QueuesSelected/QueuesSelectedContext\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  ticketsWrapper: {\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    flexDirection: \"column\",\r\n    overflow: \"hidden\",\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n  },\r\n\r\n  tabsHeader: {\r\n    minWidth: \"auto\",\r\n    width: \"auto\",\r\n    borderRadius: 8,\r\n    marginTop: theme.spacing(0.5),\r\n    marginBottom: theme.spacing(0.5),\r\n    marginLeft: theme.spacing(0.5),\r\n    marginRight: theme.spacing(0.5),\r\n    // backgroundColor: \"#eee\",\r\n    // backgroundColor: theme.palette.tabHeaderBackground,\r\n  },\r\n\r\n  settingsIcon: {\r\n    alignSelf: \"center\",\r\n    marginLeft: \"auto\",\r\n    padding: theme.spacing(1),\r\n  },\r\n\r\n  tab: {\r\n    minWidth: \"auto\",\r\n    width: \"auto\",\r\n    padding: theme.spacing(0.5, 1),\r\n    borderRadius: 8,\r\n    transition: \"0.3s\",\r\n    borderColor: \"#aaa\",\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    marginRight: theme.spacing(0.5),\r\n    marginLeft: theme.spacing(0.5),\r\n\r\n    [theme.breakpoints.down(\"lg\")]: {\r\n      fontSize: \"0.9rem\",\r\n      padding: theme.spacing(0.4, 0.8),\r\n      marginRight: theme.spacing(0.4),\r\n      marginLeft: theme.spacing(0.4),\r\n    },\r\n\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      fontSize: \"0.8rem\",\r\n      padding: theme.spacing(0.3, 0.6),\r\n      marginRight: theme.spacing(0.3),\r\n      marginLeft: theme.spacing(0.3),\r\n    },\r\n\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(0, 0, 0, 0.1)\",\r\n    },\r\n\r\n    // \"&$selected\": {\r\n    //   color: \"#FFF\",\r\n    //   backgroundColor: theme.palette.primary.main,\r\n    // },\r\n  },\r\n\r\n  tabPanelItem: {\r\n    minWidth: \"33%\",\r\n    fontSize: 11,\r\n    marginLeft: 0,\r\n  },\r\n\r\n  tabIndicator: {\r\n    height: 6,\r\n    bottom: 0,\r\n    borderRadius: \"0 0 8px 8px\",\r\n    backgroundColor: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\r\n  },\r\n  tabsBadge: {\r\n    top: \"105%\",\r\n    right: \"55%\",\r\n    transform: \"translate(45%, 0)\",\r\n    whiteSpace: \"nowrap\",\r\n    borderRadius: \"12px\",\r\n    padding: \"0 8px\",\r\n    backgroundColor: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\r\n    color: theme.mode === \"light\" ? \"#FFF\" : theme.palette.primary.main,\r\n  },\r\n  ticketOptionsBox: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    // background: \"#fafafa\",\r\n    background: theme.palette.optionsBackground,\r\n    borderRadius: 8,\r\n    borderColor: \"#aaa\",\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    marginTop: theme.spacing(0.5),\r\n    marginBottom: theme.spacing(1),\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    padding: theme.spacing(0.5),\r\n  },\r\n\r\n  serachInputWrapper: {\r\n    flex: 1,\r\n    // background: \"#fff\",\r\n    height: 40,\r\n    background: theme.palette.total,\r\n    display: \"flex\",\r\n    borderRadius: 40,\r\n    padding: 4,\r\n    borderColor: \"#aaa\",\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    marginTop: theme.spacing(0.5),\r\n    marginBottom: theme.spacing(0.5),\r\n    marginLeft: theme.spacing(0.5),\r\n    marginRight: theme.spacing(0.5),\r\n  },\r\n\r\n  searchIcon: {\r\n    color: \"grey\",\r\n    marginLeft: 6,\r\n    marginRight: 6,\r\n    alignSelf: \"center\",\r\n  },\r\n\r\n  searchInput: {\r\n    flex: 1,\r\n    border: \"none\",\r\n    borderRadius: 30,\r\n  },\r\n\r\n  badge: {\r\n    // right: \"-10px\",\r\n  },\r\n\r\n  customBadge: {\r\n    right: \"-10px\",\r\n    backgroundColor: \"#f44336\",\r\n    color: \"#fff\",\r\n  },\r\n\r\n  show: {\r\n    display: \"block\",\r\n  },\r\n\r\n  hide: {\r\n    display: \"none !important\",\r\n  },\r\n\r\n  closeAllFab: {\r\n    backgroundColor: \"red\",\r\n    marginBottom: \"4px\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"darkred\",\r\n    },\r\n  },\r\n\r\n  speedDial: {\r\n    position: \"absolute\",\r\n    bottom: theme.spacing(1),\r\n    right: theme.spacing(1),\r\n    \"& .MuiFab-root\": {\r\n      width: \"40px\",\r\n      height: \"40px\",\r\n      marginTop: \"4px\",\r\n    },\r\n    \"& .MuiFab-label\": {\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n    },\r\n  },\r\n\r\n  snackbar: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: \"white\",\r\n    borderRadius: 30,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      fontSize: \"0.8em\",\r\n    },\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      fontSize: \"1em\",\r\n    },\r\n  },\r\n\r\n  yesButton: {\r\n    backgroundColor: \"#FFF\",\r\n    color: \"rgba(0, 100, 0, 1)\",\r\n    padding: \"4px 4px\",\r\n    fontSize: \"1em\",\r\n    fontWeight: \"bold\",\r\n    textTransform: \"uppercase\",\r\n    marginRight: theme.spacing(1),\r\n    \"&:hover\": {\r\n      backgroundColor: \"darkGreen\",\r\n      color: \"#FFF\",\r\n    },\r\n    borderRadius: 30,\r\n  },\r\n  noButton: {\r\n    backgroundColor: \"#FFF\",\r\n    color: \"rgba(139, 0, 0, 1)\",\r\n    padding: \"4px 4px\",\r\n    fontSize: \"1em\",\r\n    fontWeight: \"bold\",\r\n    textTransform: \"uppercase\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"darkRed\",\r\n      color: \"#FFF\",\r\n    },\r\n    borderRadius: 30,\r\n  },\r\n  filterIcon: {\r\n    marginRight: 6,\r\n    alignSelf: \"center\",\r\n    color: theme.mode === \"light\" ? \"#FF7606\" : \"#FFF\",\r\n    cursor: \"pointer\",\r\n  },\r\n  button: {\r\n    height: 30,\r\n    width: 30,\r\n    border: \"2px solid\",\r\n    borderColor: \"#aaa\",\r\n    borderRadius: 8,\r\n    marginRight: 8,\r\n    \"&:hover\": {\r\n      borderColor: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\r\n    },\r\n  },\r\n  icon: {\r\n    color: \"#aaa\",\r\n    \"&:hover\": {\r\n      color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\r\n    },\r\n  },\r\n  buttonOpen: {\r\n    \"& $icon\": {\r\n      color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst TicketsManagerTabs = () => {\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [tab, setTab] = useState(\"open\");\r\n  // const [tabOpen, setTabOpen] = useState(\"open\");\r\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\r\n  const [showAllTickets, setShowAllTickets] = useState(false);\r\n  const [sortTickets, setSortTickets] = useState(false);\r\n\r\n  const searchInputRef = useRef();\r\n  const [searchOnMessages, setSearchOnMessages] = useState(false);\r\n\r\n  const { user } = useContext(AuthContext);\r\n  const { profile } = user;\r\n  const { setSelectedQueuesMessage } = useContext(QueueSelectedContext);\r\n  const { tabOpen, setTabOpen } = useContext(TicketsContext);\r\n\r\n  const [openCount, setOpenCount] = useState(0);\r\n  const [pendingCount, setPendingCount] = useState(0);\r\n  const [groupingCount, setGroupingCount] = useState(0);\r\n\r\n  const userQueueIds = user.queues.map((q) => q.id);\r\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\r\n  const [selectedTags, setSelectedTags] = useState([]);\r\n  const [selectedUsers, setSelectedUsers] = useState([]);\r\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState([]);\r\n  const [forceSearch, setForceSearch] = useState(false);\r\n  const [selectedStatus, setSelectedStatus] = useState([]);\r\n  const [filter, setFilter] = useState(false);\r\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\r\n  const [hoveredButton, setHoveredButton] = useState(null);\r\n  const [isHoveredAll, setIsHoveredAll] = useState(false);\r\n  const [isHoveredNew, setIsHoveredNew] = useState(false);\r\n  const [isHoveredResolve, setIsHoveredResolve] = useState(false);\r\n  const [isHoveredOpen, setIsHoveredOpen] = useState(false);\r\n  const [isHoveredClosed, setIsHoveredClosed] = useState(false);\r\n  const [isHoveredSort, setIsHoveredSort] = useState(false);\r\n\r\n  const [isFilterActive, setIsFilterActive] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setSelectedQueuesMessage(selectedQueueIds);\r\n  }, [selectedQueueIds]);\r\n\r\n  useEffect(() => {\r\n    if (user.profile.toUpperCase() === \"ADMIN\" || user.allUserChat.toUpperCase() === \"ENABLED\") {\r\n      setShowAllTickets(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (tab === \"search\") {\r\n      searchInputRef.current.focus();\r\n    }\r\n    setForceSearch(!forceSearch);\r\n  }, [tab]);\r\n\r\n  let searchTimeout;\r\n\r\n  const handleSearch = (e) => {\r\n    const searchedTerm = e.target.value.toLowerCase();\r\n\r\n    clearTimeout(searchTimeout);\r\n\r\n    if (searchedTerm === \"\") {\r\n      setSearchParam(searchedTerm);\r\n      setForceSearch(!forceSearch);\r\n      // setFilter(false);\r\n      setTab(\"open\");\r\n      return;\r\n    } else if (tab !== \"search\") {\r\n      handleFilter();\r\n      setTab(\"search\");\r\n    }\r\n\r\n    searchTimeout = setTimeout(() => {\r\n      setSearchParam(searchedTerm);\r\n      setForceSearch(!forceSearch);\r\n    }, 500);\r\n  };\r\n\r\n  const handleBack = () => {\r\n\r\n    history.push(\"/tickets\");\r\n  };\r\n\r\n  const handleChangeTab = (e, newValue) => {\r\n    setTab(newValue);\r\n  };\r\n\r\n  const handleChangeTabOpen = (e, newValue) => {\r\n    // if (newValue === \"pending\" || newValue === \"group\") {\r\n    handleBack();\r\n    // }\r\n\r\n    setTabOpen(newValue);\r\n  };\r\n\r\n  const applyPanelStyle = (status) => {\r\n    if (tabOpen !== status) {\r\n      return { width: 0, height: 0 };\r\n    }\r\n  };\r\n\r\n  const handleSnackbarOpen = () => {\r\n    setSnackbarOpen(true);\r\n  };\r\n\r\n  const handleSnackbarClose = () => {\r\n    setSnackbarOpen(false);\r\n  };\r\n\r\n  const CloseAllTicket = async () => {\r\n    try {\r\n      const { data } = await api.post(\"/tickets/closeAll\", {\r\n        status: tabOpen,\r\n        selectedQueueIds,\r\n      });\r\n      handleSnackbarClose();\r\n    } catch (err) {\r\n      console.log(\"Error: \", err);\r\n    }\r\n  };\r\n\r\n  const handleCloseOrOpenTicket = (ticket) => {\r\n    setNewTicketModalOpen(false);\r\n    if (ticket !== undefined && ticket.uuid !== undefined) {\r\n      history.push(`/tickets/${ticket.uuid}`);\r\n    }\r\n  };\r\n\r\n  const handleSelectedTags = (selecteds) => {\r\n    const tags = selecteds.map((t) => t.id);\r\n\r\n    clearTimeout(searchTimeout);\r\n\r\n    if (tags.length === 0) {\r\n      setForceSearch(!forceSearch);\r\n    } else if (tab !== \"search\") {\r\n      setTab(\"search\");\r\n    }\r\n\r\n    searchTimeout = setTimeout(() => {\r\n      setSelectedTags(tags);\r\n      setForceSearch(!forceSearch);\r\n    }, 500);\r\n  };\r\n\r\n  const handleSelectedUsers = (selecteds) => {\r\n    const users = selecteds.map((t) => t.id);\r\n\r\n    clearTimeout(searchTimeout);\r\n\r\n    if (users.length === 0) {\r\n      setForceSearch(!forceSearch);\r\n    } else if (tab !== \"search\") {\r\n      setTab(\"search\");\r\n    }\r\n    searchTimeout = setTimeout(() => {\r\n      setSelectedUsers(users);\r\n      setForceSearch(!forceSearch);\r\n    }, 500);\r\n  };\r\n\r\n  const handleSelectedWhatsapps = (selecteds) => {\r\n    const whatsapp = selecteds.map((t) => t.id);\r\n\r\n    clearTimeout(searchTimeout);\r\n\r\n    if (whatsapp.length === 0) {\r\n      setForceSearch(!forceSearch);\r\n    } else if (tab !== \"search\") {\r\n      setTab(\"search\");\r\n    }\r\n    searchTimeout = setTimeout(() => {\r\n      setSelectedWhatsapp(whatsapp);\r\n      setForceSearch(!forceSearch);\r\n    }, 500);\r\n  };\r\n\r\n  const handleSelectedStatus = (selecteds) => {\r\n    const statusFilter = selecteds.map((t) => t.status);\r\n\r\n    clearTimeout(searchTimeout);\r\n\r\n    if (statusFilter.length === 0) {\r\n      setForceSearch(!forceSearch);\r\n    } else if (tab !== \"search\") {\r\n      setTab(\"search\");\r\n    }\r\n\r\n    searchTimeout = setTimeout(() => {\r\n      setSelectedStatus(statusFilter);\r\n      setForceSearch(!forceSearch);\r\n    }, 500);\r\n  };\r\n\r\n  const handleFilter = () => {\r\n    if (filter) {\r\n      setFilter(false);\r\n      setTab(\"open\");\r\n    } else setFilter(true);\r\n    setTab(\"search\");\r\n  };\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [hidden, setHidden] = React.useState(false);\r\n\r\n  const handleVisibility = () => {\r\n    setHidden((prevHidden) => !prevHidden);\r\n  };\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClosed = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const tooltipTitleStyle = {\r\n    fontSize: \"10px\",\r\n  };\r\n\r\n  return (\r\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\r\n      <NewTicketModal\r\n        modalOpen={newTicketModalOpen}\r\n        onClose={(ticket) => {\r\n          handleCloseOrOpenTicket(ticket);\r\n        }}\r\n      />\r\n      <div className={classes.serachInputWrapper}>\r\n        <SearchIcon className={classes.searchIcon} />\r\n        <InputBase\r\n          className={classes.searchInput}\r\n          inputRef={searchInputRef}\r\n          placeholder={i18n.t(\"tickets.search.placeholder\")}\r\n          type=\"search\"\r\n          onChange={handleSearch}\r\n        />\r\n        <Tooltip placement=\"top\" title=\"Marque para pesquisar também nos conteúdos das mensagens (mais lento)\">\r\n          <div>\r\n            <Switch\r\n              size=\"small\"\r\n              checked={searchOnMessages}\r\n              onChange={(e) => { setSearchOnMessages(e.target.checked) }}\r\n            />\r\n          </div>\r\n        </Tooltip>\r\n        {/* <IconButton\r\n          className={classes.filterIcon}\r\n          color=\"primary\"\r\n          aria-label=\"upload picture\"\r\n          component=\"span\"\r\n          onClick={handleFilter}\r\n        >\r\n          <FilterListIcon />\r\n        </IconButton> */}\r\n        {/* <FilterListIcon\r\n          className={classes.filterIcon}\r\n          color=\"primary\"\r\n          aria-label=\"upload picture\"\r\n          component=\"span\"\r\n          onClick={handleFilter}\r\n        /> */}\r\n        <IconButton\r\n          style={{\r\n            backgroundColor: \"transparent\",\r\n            boxShadow: \"none\",\r\n            border: \"none\",\r\n            borderRadius: \"50%\",\r\n            justifyContent: \"flex-end\",\r\n            alignItems: \"center\",\r\n          }}\r\n          variant=\"contained\"\r\n          aria-label=\"filter\"\r\n          className={classes.filterIcon}\r\n          onClick={() => {\r\n            setIsFilterActive((prevState) => !prevState);\r\n            handleFilter();\r\n          }}\r\n        >\r\n          {isFilterActive ? (\r\n            <FilterAlt className={classes.icon} />\r\n          ) : (\r\n            <FilterAltOff className={classes.icon} />\r\n          )}\r\n        </IconButton>\r\n      </div>\r\n\r\n      {filter === true && (\r\n        <>\r\n          <TagsFilter onFiltered={handleSelectedTags} />\r\n          <WhatsappsFilter onFiltered={handleSelectedWhatsapps} />\r\n          <StatusFilter onFiltered={handleSelectedStatus} />\r\n          {profile === \"admin\" && (\r\n            <>\r\n              <UsersFilter onFiltered={handleSelectedUsers} />\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* <Paper elevation={0} square className={classes.tabsHeader}>\r\n        <Tabs\r\n          value={tab}\r\n          onChange={handleChangeTab}\r\n          variant=\"fullWidth\"\r\n          textColor=\"primary\"\r\n          aria-label=\"icon label tabs example\"\r\n          classes={{ indicator: classes.tabIndicator }}\r\n        >\r\n          <Tab\r\n            value={\"open\"}\r\n            icon={<MoveToInboxIcon />}\r\n            label={i18n.t(\"tickets.tabs.open.title\")}\r\n            classes={{ root: classes.tab }}\r\n          />\r\n          <Tab\r\n            value={\"closed\"}\r\n            icon={<CheckBoxIcon />}\r\n            label={i18n.t(\"tickets.tabs.closed.title\")}\r\n            classes={{ root: classes.tab }}\r\n          />\r\n          <Tab\r\n            value={\"search\"}\r\n            icon={<SearchIcon />}\r\n            label={i18n.t(\"tickets.tabs.search.title\")}\r\n            classes={{ root: classes.tab }}\r\n          />\r\n        </Tabs>\r\n      </Paper> */}\r\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\r\n        <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n          <Grid item>\r\n            <Can\r\n              role={user.allUserChat === 'enabled' && user.profile === 'user' ? 'admin' : user.profile}\r\n              perform=\"tickets-manager:showall\"\r\n              yes={() => (\r\n                <Badge\r\n                  color=\"primary\"\r\n                  invisible={\r\n                    !isHoveredAll ||\r\n                    isHoveredNew ||\r\n                    isHoveredResolve ||\r\n                    isHoveredOpen ||\r\n                    isHoveredClosed\r\n                  }\r\n                  badgeContent={\"Todos\"}\r\n                  classes={{ badge: classes.tabsBadge }}\r\n                >\r\n                  <ToggleButton\r\n                    onMouseEnter={() => setIsHoveredAll(true)}\r\n                    onMouseLeave={() => setIsHoveredAll(false)}\r\n                    className={classes.button}\r\n                    value=\"uncheck\"\r\n                    selected={showAllTickets}\r\n                    onChange={() =>\r\n                      setShowAllTickets((prevState) => !prevState)\r\n                    }\r\n                  >\r\n                    {showAllTickets ? (\r\n                      <VisibilityIcon className={classes.icon} />\r\n                    ) : (\r\n                      <VisibilityOffIcon className={classes.icon} />\r\n                    )}\r\n                  </ToggleButton>\r\n                </Badge>\r\n              )}\r\n            />\r\n            <Snackbar\r\n              open={snackbarOpen}\r\n              onClose={handleSnackbarClose}\r\n              message={i18n.t(\"tickets.inbox.closedAllTickets\")}\r\n              ContentProps={{\r\n                className: classes.snackbar,\r\n              }}\r\n              action={\r\n                <>\r\n                  <Button\r\n                    className={classes.yesButton}\r\n                    size=\"small\"\r\n                    onClick={CloseAllTicket}\r\n                  >\r\n                    {i18n.t(\"tickets.inbox.yes\")}\r\n                  </Button>\r\n                  <Button\r\n                    className={classes.noButton}\r\n                    size=\"small\"\r\n                    onClick={handleSnackbarClose}\r\n                  >\r\n                    {i18n.t(\"tickets.inbox.no\")}\r\n                  </Button>\r\n                </>\r\n              }\r\n            />\r\n            <Badge\r\n              color=\"primary\"\r\n              invisible={\r\n                isHoveredAll ||\r\n                !isHoveredNew ||\r\n                isHoveredResolve ||\r\n                isHoveredOpen ||\r\n                isHoveredClosed\r\n              }\r\n              badgeContent={i18n.t(\"tickets.inbox.newTicket\")}\r\n              classes={{ badge: classes.tabsBadge }}\r\n            >\r\n              <IconButton\r\n                onMouseEnter={() => setIsHoveredNew(true)}\r\n                onMouseLeave={() => setIsHoveredNew(false)}\r\n                className={classes.button}\r\n                onClick={() => {\r\n                  setNewTicketModalOpen(true);\r\n                }}\r\n              >\r\n                <AddIcon className={classes.icon} />\r\n              </IconButton>\r\n            </Badge>\r\n            {user.profile === \"admin\" && (\r\n              <Badge\r\n                color=\"primary\"\r\n                invisible={\r\n                  isHoveredAll ||\r\n                  isHoveredNew ||\r\n                  !isHoveredResolve ||\r\n                  isHoveredOpen ||\r\n                  isHoveredClosed\r\n                }\r\n                badgeContent={i18n.t(\"tickets.inbox.closedAll\")}\r\n                classes={{ badge: classes.tabsBadge }}\r\n              >\r\n                <IconButton\r\n                  onMouseEnter={() => setIsHoveredResolve(true)}\r\n                  onMouseLeave={() => setIsHoveredResolve(false)}\r\n                  className={classes.button}\r\n                  onClick={handleSnackbarOpen}\r\n                >\r\n                  <PlaylistAddCheckOutlined style={{ color: theme.mode === \"light\" ? \"green\" : \"#FFF\" }} />\r\n                </IconButton>\r\n              </Badge>\r\n            )}\r\n            <Badge\r\n              // color=\"primary\"\r\n              invisible={\r\n                !(\r\n                  tab === \"open\" &&\r\n                  !isHoveredAll &&\r\n                  !isHoveredNew &&\r\n                  !isHoveredResolve &&\r\n                  !isHoveredClosed &&\r\n                  !isHoveredSort\r\n                ) && !isHoveredOpen\r\n              }\r\n              badgeContent={i18n.t(\"tickets.inbox.open\")}\r\n              classes={{ badge: classes.tabsBadge }}\r\n            >\r\n              <IconButton\r\n                onMouseEnter={() => {\r\n                  setIsHoveredOpen(true);\r\n                  setHoveredButton(\"open\");\r\n                }}\r\n                onMouseLeave={() => {\r\n                  setIsHoveredOpen(false);\r\n                  setHoveredButton(null);\r\n                }}\r\n                style={{\r\n                  height: 30,\r\n                  width: 30,\r\n                  border: isHoveredOpen\r\n                    ? theme.mode === \"light\"\r\n                      ? \"3px solid \" + theme.palette.primary.main\r\n                      : \"3px solid #FFF\"\r\n                    : tab === \"open\"\r\n                      ? theme.mode === \"light\"\r\n                        ? \"3px solid \" + theme.palette.primary.main\r\n                        : \"3px solid #FFF\"\r\n                      : theme.mode === \"light\"\r\n                        ? \"2px solid #aaa\"\r\n                        : \"2px solid #aaa\",\r\n                  borderRadius: 8,\r\n                  marginRight: 8,\r\n                }}\r\n                onClick={() => handleChangeTab(null, \"open\")}\r\n              >\r\n                <MoveToInboxIcon\r\n                  style={{\r\n                    color: isHoveredOpen\r\n                      ? theme.mode === \"light\"\r\n                        ? theme.palette.primary.main\r\n                        : \"#FFF\"\r\n                      : tab === \"open\"\r\n                        ? theme.mode === \"light\"\r\n                          ? theme.palette.primary.main\r\n                          : \"#FFF\"\r\n                        : \"#aaa\",\r\n                  }}\r\n                />\r\n              </IconButton>\r\n            </Badge>\r\n\r\n            <Badge\r\n              color=\"primary\"\r\n              invisible={\r\n                !(\r\n                  tab === \"closed\" &&\r\n                  !isHoveredAll &&\r\n                  !isHoveredNew &&\r\n                  !isHoveredResolve &&\r\n                  !isHoveredOpen &&\r\n                  !isHoveredSort\r\n                ) && !isHoveredClosed\r\n              }\r\n              badgeContent={i18n.t(\"tickets.inbox.resolverd\")}\r\n              classes={{ badge: classes.tabsBadge }}\r\n            >\r\n              <IconButton\r\n                onMouseEnter={() => {\r\n                  setIsHoveredClosed(true);\r\n                  setHoveredButton(\"closed\");\r\n                }}\r\n                onMouseLeave={() => {\r\n                  setIsHoveredClosed(false);\r\n                  setHoveredButton(null);\r\n                }}\r\n                style={{\r\n                  height: 30,\r\n                  width: 30,\r\n                  border: isHoveredClosed\r\n                    ? theme.mode === \"light\"\r\n                      ? \"3px solid \" + theme.palette.primary.main\r\n                      : \"3px solid #FFF\"\r\n                    : tab === \"closed\"\r\n                      ? theme.mode === \"light\"\r\n                        ? \"3px solid \" + theme.palette.primary.main\r\n                        : \"3px solid #FFF\"\r\n                      : theme.mode === \"light\"\r\n                        ? \"2px solid #aaa\"\r\n                        : \"2px solid #aaa\",\r\n                  borderRadius: 8,\r\n                  marginRight: 8,\r\n                }}\r\n                onClick={() => handleChangeTab(null, \"closed\")}\r\n              >\r\n                <CheckBoxIcon\r\n                  style={{\r\n                    color: isHoveredClosed\r\n                      ? theme.mode === \"light\"\r\n                        ? theme.palette.primary.main\r\n                        : \"#FFF\"\r\n                      : tab === \"closed\"\r\n                        ? theme.mode === \"light\"\r\n                          ? theme.palette.primary.main\r\n                          : \"#FFF\"\r\n                        : \"#aaa\",\r\n                  }}\r\n                />\r\n              </IconButton>\r\n            </Badge>\r\n            {tab !== \"closed\" && tab !== \"search\" && (\r\n              <Badge\r\n                color=\"primary\"\r\n                invisible={\r\n                  !isHoveredSort ||\r\n                  isHoveredAll ||\r\n                  isHoveredNew ||\r\n                  isHoveredResolve ||\r\n                  isHoveredOpen ||\r\n                  isHoveredClosed\r\n                }\r\n                badgeContent={!sortTickets ? \"Crescente\" : \"Decrescente\"}\r\n                classes={{ badge: classes.tabsBadge }}\r\n              >\r\n                <ToggleButton\r\n                  onMouseEnter={() => setIsHoveredSort(true)}\r\n                  onMouseLeave={() => setIsHoveredSort(false)}\r\n                  className={classes.button}\r\n                  value=\"uncheck\"\r\n                  selected={sortTickets}\r\n                  onChange={() =>\r\n                    setSortTickets((prevState) => !prevState)\r\n                  }\r\n                >\r\n                  {!sortTickets ? (\r\n                    <TextRotateUp style={{\r\n                      color: sortTickets\r\n                        ? theme.mode === \"light\"\r\n                          ? theme.palette.primary.main\r\n                          : \"#FFF\"\r\n                        : \"#aaa\",\r\n                    }} />\r\n                  ) : (\r\n                    <TextRotationDown style={{\r\n                      color: sortTickets\r\n                        ? theme.mode === \"light\"\r\n                          ? theme.palette.primary.main\r\n                          : \"#FFF\"\r\n                        : \"#aaa\",\r\n                    }} />\r\n                  )}\r\n                </ToggleButton>\r\n              </Badge>\r\n            )}\r\n          </Grid>\r\n          <Grid item>\r\n            <TicketsQueueSelect\r\n              selectedQueueIds={selectedQueueIds}\r\n              userQueues={user?.queues}\r\n              onChange={(values) => setSelectedQueueIds(values)}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\r\n        <Tabs\r\n          value={tabOpen}\r\n          onChange={handleChangeTabOpen}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"fullWidth\"\r\n        >\r\n          {/* ATENDENDO */}\r\n          <Tab\r\n            label={\r\n              <Grid container alignItems=\"center\" justifyContent=\"center\">\r\n                <Grid item>\r\n                  <Badge\r\n                    overlap=\"rectangular\"\r\n                    classes={{ badge: classes.customBadge }}\r\n                    badgeContent={openCount}\r\n                    color=\"primary\"\r\n                  >\r\n                    <MessageSharpIcon\r\n                      style={{\r\n                        fontSize: 18,\r\n                      }}\r\n                    />\r\n                  </Badge>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Typography\r\n                    style={{\r\n                      marginLeft: 8,\r\n                      fontSize: 10,\r\n                      fontWeight: 600,\r\n                    }}\r\n                  >\r\n                    {i18n.t(\"ticketsList.assignedHeader\")}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n            }\r\n            value={\"open\"}\r\n            name=\"open\"\r\n            classes={{ root: classes.tabPanelItem }}\r\n          />\r\n\r\n          {/* AGUARDANDO */}\r\n          <Tab\r\n            label={\r\n              <Grid container alignItems=\"center\" justifyContent=\"center\">\r\n                <Grid item>\r\n                  <Badge\r\n                    overlap=\"rectangular\"\r\n                    classes={{ badge: classes.customBadge }}\r\n                    badgeContent={pendingCount}\r\n                    color=\"primary\"\r\n                  >\r\n                    <ClockIcon\r\n                      style={{\r\n                        fontSize: 18,\r\n                      }}\r\n                    />\r\n                  </Badge>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Typography\r\n                    style={{\r\n                      marginLeft: 8,\r\n                      fontSize: 10,\r\n                      fontWeight: 600,\r\n                    }}\r\n                  >\r\n                    {i18n.t(\"ticketsList.pendingHeader\")}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n            }\r\n            value={\"pending\"}\r\n            name=\"pending\"\r\n            classes={{ root: classes.tabPanelItem }}\r\n          />\r\n\r\n          {/* GRUPOS */}\r\n          {user.allowGroup && (\r\n            <Tab\r\n              label={\r\n                <Grid container alignItems=\"center\" justifyContent=\"center\">\r\n                  <Grid item>\r\n                    <Badge\r\n                      overlap=\"rectangular\"\r\n                      classes={{ badge: classes.customBadge }}\r\n                      badgeContent={groupingCount}\r\n                      color=\"primary\"\r\n                    >\r\n                      <Group\r\n                        style={{\r\n                          fontSize: 18,\r\n                        }}\r\n                      />\r\n                    </Badge>\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <Typography\r\n                      style={{\r\n                        marginLeft: 8,\r\n                        fontSize: 10,\r\n                        fontWeight: 600,\r\n                      }}\r\n                    >\r\n                      {i18n.t(\"ticketsList.groupingHeader\")}\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n              }\r\n              value={\"group\"}\r\n              name=\"group\"\r\n              classes={{ root: classes.tabPanelItem }}\r\n            />\r\n          )}\r\n        </Tabs>\r\n\r\n        <Paper className={classes.ticketsWrapper}>\r\n          <TicketsList\r\n            status=\"open\"\r\n            showAll={showAllTickets}\r\n            sortTickets={sortTickets ? \"ASC\" : \"DESC\"}\r\n            selectedQueueIds={selectedQueueIds}\r\n            updateCount={(val) => setOpenCount(val)}\r\n            style={applyPanelStyle(\"open\")}\r\n            setTabOpen={setTabOpen}\r\n          />\r\n          <TicketsList\r\n            status=\"pending\"\r\n            selectedQueueIds={selectedQueueIds}\r\n            sortTickets={sortTickets ? \"ASC\" : \"DESC\"}\r\n            showAll={user.profile === \"admin\" || user.allUserChat === 'enabled' ? showAllTickets : false}\r\n            updateCount={(val) => setPendingCount(val)}\r\n            style={applyPanelStyle(\"pending\")}\r\n            setTabOpen={setTabOpen}\r\n          />\r\n          {user.allowGroup && (\r\n            <TicketsList\r\n              status=\"group\"\r\n              showAll={showAllTickets}\r\n              sortTickets={sortTickets ? \"ASC\" : \"DESC\"}\r\n              selectedQueueIds={selectedQueueIds}\r\n              updateCount={(val) => setGroupingCount(val)}\r\n              style={applyPanelStyle(\"group\")}\r\n              setTabOpen={setTabOpen}\r\n            />\r\n          )}\r\n        </Paper>\r\n      </TabPanel>\r\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\r\n        <TicketsList\r\n          status=\"closed\"\r\n          showAll={showAllTickets}\r\n          selectedQueueIds={selectedQueueIds}\r\n          setTabOpen={setTabOpen}\r\n        />\r\n      </TabPanel>\r\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\r\n        {profile === \"admin\" && (\r\n          <>\r\n            <TicketsList\r\n              statusFilter={selectedStatus}\r\n              searchParam={searchParam}\r\n              showAll={showAllTickets}\r\n              tags={selectedTags}\r\n              users={selectedUsers}\r\n              selectedQueueIds={selectedQueueIds}\r\n              whatsappIds={selectedWhatsapp}\r\n              forceSearch={forceSearch}\r\n              searchOnMessages={searchOnMessages}\r\n              status=\"search\"\r\n            />\r\n          </>\r\n        )}\r\n\r\n        {profile === \"user\" && (\r\n          <TicketsList\r\n            statusFilter={selectedStatus}\r\n            searchParam={searchParam}\r\n            showAll={false}\r\n            tags={selectedTags}\r\n            selectedQueueIds={selectedQueueIds}\r\n            whatsappIds={selectedWhatsapp}\r\n            forceSearch={forceSearch}\r\n            searchOnMessages={searchOnMessages}\r\n            status=\"search\"\r\n          />\r\n        )}\r\n      </TabPanel>\r\n    </Paper >\r\n  );\r\n};\r\n\r\nexport default TicketsManagerTabs;\r\n","class FormatMask {\r\n  setPhoneFormatMask(phoneToFormat) {\r\n    if(!phoneToFormat || phoneToFormat.length < 12){\r\n      return phoneToFormat;\r\n    }\r\n\r\n    const number = (\"\" + phoneToFormat).replace(/\\D/g, \"\");\r\n\r\n    if (number.length <= 12) {\r\n      const phoneNumberFormatted = number.match(/^(\\d{2})(\\d{2})(\\d{4})(\\d{4})$/);\r\n      return (\r\n        \"+\" +\r\n        phoneNumberFormatted[1] +\r\n        \" (\" +\r\n        phoneNumberFormatted[2] +\r\n        \") \" +\r\n        phoneNumberFormatted[3] +\r\n        \"-\" +\r\n        phoneNumberFormatted[4]\r\n      );\r\n    }else if(number.length === 13){\r\n      const phoneNumberFormatted = number.match(/^(\\d{2})(\\d{2})(\\d{5})(\\d{4})$/);\r\n      return (\r\n        \"+\" +\r\n        phoneNumberFormatted[1] +\r\n        \" (\" +\r\n        phoneNumberFormatted[2] +\r\n        \") \" +\r\n        phoneNumberFormatted[3] +\r\n        \"-\" +\r\n        phoneNumberFormatted[4]\r\n      );\r\n    } else {\r\n      return phoneToFormat;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  removeMask(number) {\r\n    const filterNumber = number.replace(/\\D/g, \"\");\r\n    return filterNumber;\r\n  }\r\n\r\n  maskPhonePattern(phoneNumber){\r\n    if(phoneNumber.length < 13){\r\n      return '🇧🇷 (99) 9999 9999';\r\n    }else{\r\n      return '🇧🇷 (99) 99999 9999';\r\n    }\r\n  }\r\n}\r\n\r\nexport { FormatMask };","import { FormatMask } from './FormatMask';\r\n\r\nconst formatSerializedId = (serializedId) => {\r\n  const formatMask = new FormatMask();\r\n  const number = serializedId?.replace('@c.us', '');\r\n\r\n  return formatMask.setPhoneFormatMask(number)?.replace('+55', '🇧🇷');\r\n};\r\n\r\nexport default formatSerializedId;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport ModalImage from \"react-modal-image\";\r\nimport api from \"../../services/api\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmessageMedia: {\r\n\t\tobjectFit: \"cover\",\r\n\t\twidth: 250,\r\n\t\theight: \"auto\", // Redimensionar automaticamente a altura para manter a proporção\r\n\t\tborderTopLeftRadius: 8,\r\n\t\tborderTopRightRadius: 8,\r\n\t\tborderBottomLeftRadius: 8,\r\n\t\tborderBottomRightRadius: 8,\r\n\t}\r\n}));\r\n\r\nconst ModalImageCors = ({ imageUrl }) => {\r\n\tconst classes = useStyles();\r\n\tconst [fetching, setFetching] = useState(true);\r\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!imageUrl) return;\r\n\t\tconst fetchImage = async () => {\r\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\r\n\t\t\t\tresponseType: \"blob\",\r\n\t\t\t});\r\n\t\t\tconst url = window.URL.createObjectURL(\r\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\r\n\t\t\t);\r\n\t\t\tsetBlobUrl(url);\r\n\t\t\tsetFetching(false);\r\n\t\t};\r\n\t\tfetchImage();\r\n\t}, [imageUrl]);\r\n\r\n\treturn (\r\n\t\t<ModalImage\r\n\t\t\tclassName={classes.messageMedia}\r\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\r\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\r\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\r\n\t\t\talt=\"image\"\r\n\t\t\tshowRotate={true}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default ModalImageCors;\r\n","import React from \"react\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nconst ContactDrawerSkeleton = ({ classes }) => {\r\n\treturn (\r\n\t\t<div className={classes.content}>\r\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\tanimation=\"wave\"\r\n\t\t\t\t\t\t\tvariant=\"circle\"\r\n\t\t\t\t\t\t\twidth={160}\r\n\t\t\t\t\t\t\theight={160}\r\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\r\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\r\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper square className={classes.contactDetails}>\r\n\t\t\t\t<Typography variant=\"subtitle1\">\r\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\r\n\t\t\t\t</Paper>\r\n\t\t\t</Paper>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ContactDrawerSkeleton;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\ttextField: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tflex: 1,\r\n\t},\r\n\r\n\textraAttr: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\r\n    textCenter: {\r\n        backgroundColor: 'red'\r\n    }\r\n}));\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Too Short!\")\r\n\t\t.max(50, \"Too Long!\")\r\n\t\t.required(\"Required\"),\r\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\r\n\temail: Yup.string().email(\"Invalid email\"),\r\n});\r\n\r\nexport function ContactForm ({ initialContact, onSave, onCancel }) {\r\n\tconst classes = useStyles();\r\n\r\n\tconst [contact, setContact] = useState(initialContact);\r\n\r\n    useEffect(() => {\r\n        setContact(initialContact);\r\n    }, [initialContact]);\r\n\r\n\tconst handleSaveContact = async values => {\r\n\t\ttry {\r\n\t\t\tif (contact.id) {\r\n\t\t\t\tawait api.put(`/contacts/${contact.id}`, values);\r\n\t\t\t} else {\r\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\r\n\t\t\t\tif (onSave) {\r\n\t\t\t\t\tonSave(data);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={contact}\r\n            enableReinitialize={true}\r\n            validationSchema={ContactSchema}\r\n            onSubmit={(values, actions) => {\r\n                setTimeout(() => {\r\n                    handleSaveContact(values);\r\n                    actions.setSubmitting(false);\r\n                }, 400);\r\n            }}\r\n        >\r\n            {({ values, errors, touched, isSubmitting }) => (\r\n                <Form>\r\n                    <Grid container spacing={1}>\r\n                        {/* <Grid item xs={12}>\r\n                            <Typography variant=\"subtitle1\" gutterBottom>\r\n                                {i18n.t(\"contactModal.form.mainInfo\")}\r\n                            </Typography>\r\n                        </Grid> */}\r\n                        <Grid item xs={12}>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"contactModal.form.name\")}\r\n                                name=\"name\"\r\n                                autoFocus\r\n                                error={touched.name && Boolean(errors.name)}\r\n                                helperText={touched.name && errors.name}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                className={classes.textField}\r\n                                fullWidth\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"contactModal.form.number\")}\r\n                                name=\"number\"\r\n                                error={touched.number && Boolean(errors.number)}\r\n                                helperText={touched.number && errors.number}\r\n                                placeholder=\"5513912344321\"\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                fullWidth\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"contactModal.form.email\")}\r\n                                name=\"email\"\r\n                                error={touched.email && Boolean(errors.email)}\r\n                                helperText={touched.email && errors.email}\r\n                                placeholder=\"Email address\"\r\n                                fullWidth\r\n                                margin=\"dense\"\r\n                                variant=\"outlined\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} spacing={1}>\r\n                            <Grid container spacing={1}>\r\n                                <Grid xs={6} item>\r\n                                    <Button\r\n                                        onClick={onCancel}\r\n                                        color=\"secondary\"\r\n                                        disabled={isSubmitting}\r\n                                        variant=\"outlined\"\r\n                                        fullWidth\r\n                                    >\r\n                                        {i18n.t(\"contactModal.buttons.cancel\")}\r\n                                    </Button>\r\n                                </Grid>\r\n                                <Grid classes={classes.textCenter} xs={6} item>\r\n                                    <Button\r\n                                        type=\"submit\"\r\n                                        color=\"primary\"\r\n                                        disabled={isSubmitting}\r\n                                        variant=\"contained\"\r\n                                        className={classes.btnWrapper}\r\n                                        fullWidth\r\n                                    >\r\n                                        {contact.id\r\n                                            ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\r\n                                            : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\r\n                                        {isSubmitting && (\r\n                                            <CircularProgress\r\n                                                size={24}\r\n                                                className={classes.buttonProgress}\r\n                                            />\r\n                                        )}\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport moment from 'moment';\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    inline: {\r\n        width: '100%'\r\n    }\r\n}));\r\n\r\nexport default function ContactNotesDialogListItem(props) {\r\n    const { note, deleteItem, editItem } = props;\r\n    const classes = useStyles();\r\n\r\n    const handleDelete = (item) => {\r\n        deleteItem(item);\r\n    }\r\n\r\n    const handleEdit = (item) => {\r\n        editItem(item);\r\n    }\r\n    return (\r\n        <ListItem alignItems=\"flex-start\">\r\n            <ListItemAvatar>\r\n                <Avatar alt={note.user.name} src=\"/static/images/avatar/1.jpg\" />\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n                primary={\r\n                    <>\r\n                        <Typography\r\n                            component=\"span\"\r\n                            variant=\"body2\"\r\n                            className={classes.inline}\r\n                            color=\"textPrimary\"\r\n                        >\r\n                            {note.note}\r\n                        </Typography>\r\n                    </>\r\n                }\r\n                secondary={\r\n                    <>\r\n                        {note.user.name}, {moment(note.createdAt).format('DD/MM/YY HH:mm')}\r\n                    </>\r\n                }\r\n            />\r\n            <ListItemSecondaryAction style={{ display: 'flex', flexDirection: 'column' }}>\r\n                {/* <IconButton onClick={() => handleEdit(note)} edge=\"end\" aria-label=\"edit\">\r\n                    <EditIcon />\r\n                </IconButton> */}\r\n                <IconButton onClick={() => handleDelete(note)} edge=\"end\" aria-label=\"delete\">\r\n                    <DeleteIcon />\r\n                </IconButton>\r\n            </ListItemSecondaryAction>\r\n\r\n        </ListItem>\r\n    )\r\n}\r\n\r\nContactNotesDialogListItem.propTypes = {\r\n    note: PropTypes.object.isRequired,\r\n    deleteItem: PropTypes.func.isRequired\r\n}","import React, { useContext, useEffect, useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport api from \"../../services/api\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Grid, Select, MenuItem, ListItemText } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Face, Facebook, WhatsApp } from \"@material-ui/icons\";\r\nimport { Instagram } from \"@mui/icons-material\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  online: {\r\n    fontSize: 11,\r\n    color: \"#25d366\",\r\n  },\r\n  offline: {\r\n    fontSize: 11,\r\n    color: \"#e1306c\",\r\n  },\r\n}));\r\n\r\nconst ConfirmationModal = ({\r\n  title,\r\n  children,\r\n  open,\r\n  onClose,\r\n  onConfirm,\r\n  isCellPhone,\r\n  onSave,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\");\r\n  const [whatsapps, setWhatsapps] = useState([]);\r\n  const { user } = useContext(AuthContext);\r\n  const { companyId } = user;\r\n\r\n  useEffect(() => {\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        api\r\n          // .get(`/whatsapp/filter`, { params: { companyId, session: 0, channel: channelFilter } })\r\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\r\n          .then(({ data }) => setWhatsapps(data));\r\n      };\r\n\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [open]);\r\n\r\n  const IconChannel = (channel) => {\r\n    switch (channel) {\r\n      case \"facebook\":\r\n        return (\r\n          <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />\r\n        );\r\n      case \"instagram\":\r\n        return (\r\n          <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />\r\n        );\r\n      case \"whatsapp\":\r\n        return (\r\n          <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\r\n        );\r\n      default:\r\n        return \"error\";\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={() => onClose(false)}\r\n      aria-labelledby=\"confirm-dialog\"\r\n    >\r\n      <DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\r\n      <DialogContent dividers>\r\n        <Typography>{children}</Typography>\r\n        {isCellPhone && (\r\n          <Grid style={{ width: 300, marginTop: 10 }} container>\r\n            <Grid xs={12} item>\r\n              <Select\r\n                required\r\n                fullWidth\r\n                displayEmpty\r\n                variant=\"outlined\"\r\n                value={selectedWhatsapp}\r\n                onChange={(e) => {\r\n                  setSelectedWhatsapp(e.target.value);\r\n                }}\r\n                MenuProps={{\r\n                  anchorOrigin: {\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  transformOrigin: {\r\n                    vertical: \"top\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  getContentAnchorEl: null,\r\n                }}\r\n                renderValue={() => {\r\n                  if (selectedWhatsapp === \"\") {\r\n                    return \"Selecione uma Conexão\";\r\n                  }\r\n                  const whatsapp = whatsapps.find(\r\n                    (w) => w.id === selectedWhatsapp\r\n                  );\r\n                  return whatsapp?.name;\r\n                }}\r\n              >\r\n                {whatsapps?.length > 0 &&\r\n                  whatsapps.map((whatsapp, key) => (\r\n                    <MenuItem dense key={key} value={whatsapp.id}>\r\n                      <ListItemText\r\n                        primary={\r\n                          <>\r\n                            {IconChannel(whatsapp.channel)}\r\n                            <Typography\r\n                              component=\"span\"\r\n                              style={{\r\n                                fontSize: 14,\r\n                                marginLeft: \"10px\",\r\n                                display: \"inline-flex\",\r\n                                alignItems: \"center\",\r\n                                lineHeight: \"2\",\r\n                              }}\r\n                            >\r\n                              {whatsapp.name} &nbsp;{\" \"}\r\n                              <p\r\n                                className={\r\n                                  whatsapp.status === \"CONNECTED\"\r\n                                    ? classes.online\r\n                                    : classes.offline\r\n                                }\r\n                              >\r\n                                ({whatsapp.status})\r\n                              </p>\r\n                            </Typography>\r\n                          </>\r\n                        }\r\n                      />\r\n                    </MenuItem>\r\n                  ))}\r\n              </Select>\r\n            </Grid>\r\n          </Grid>\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          variant=\"contained\"\r\n          onClick={() => onClose(false)}\r\n          color=\"default\"\r\n        >\r\n          {i18n.t(\"confirmationModal.buttons.cancel\")}\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          onClick={() => {\r\n            if (isCellPhone) {\r\n              onSave(selectedWhatsapp);\r\n            }\r\n            onClose(false);\r\n            onConfirm();\r\n          }}\r\n          color=\"secondary\"\r\n        >\r\n          {i18n.t(\"confirmationModal.buttons.confirm\")}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ConfirmationModal;\r\n","import React, { useState } from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nexport default function ContactNotesEditModal({ open, onClose, note, onSave }) {\r\n  const [editedNote, setEditedNote] = useState(note);\r\n\r\n  const handleSave = () => {\r\n    onSave(editedNote); // Chama a função onSave com a nota editada\r\n    onClose(); // Fecha o diálogo de edição\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} \r\n    maxWidth=\"xs\"\r\n    fullWidth\r\n    >\r\n      <DialogTitle>Edit Note</DialogTitle>\r\n      <DialogContent>\r\n        <TextField\r\n          label=\"Edit Note\"\r\n          fullWidth\r\n          multiline\r\n          rows={4}\r\n          value={note}\r\n          onChange={(e) => setEditedNote(e.target.value)}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onClose} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleSave} color=\"primary\">\r\n          Save\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import api from \"../../services/api\";\r\n\r\nconst useTicketNotes = () => {\r\n\r\n    const saveNote = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/ticket-notes',\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const editNote = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/ticket-notes/${data.id}`,\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const deleteNote = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/ticket-notes/${id}`,\r\n            method: 'DELETE'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const listNotes = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/ticket-notes/list',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        saveNote,\r\n        deleteNote,\r\n        listNotes\r\n    }\r\n}\r\n\r\nexport default useTicketNotes;","import React, { useState, useEffect } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport List from '@material-ui/core/List';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\n\r\nimport ContactNotesDialogListItem from '../ContactNotesDialogListItem';\r\nimport ConfirmationModal from '../ConfirmationModal';\r\nimport ContactNotesEditModal from '../ContactNotesEditModal';\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport ButtonWithSpinner from '../ButtonWithSpinner';\r\n\r\nimport useTicketNotes from '../../hooks/useTicketNotes';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        '& .MuiTextField-root': {\r\n            margin: theme.spacing(1),\r\n            width: '350px',\r\n        },\r\n    },\r\n    list: {\r\n        width: '100%',\r\n        maxWidth: '350px',\r\n        maxHeight: '200px',\r\n        backgroundColor: theme.palette.background.paper,\r\n        overflow: 'auto'\r\n    },\r\n    inline: {\r\n        width: '100%'\r\n    }\r\n}));\r\n\r\nconst NoteSchema = Yup.object().shape({\r\n    note: Yup.string()\r\n        .min(2, \"Too Short!\")\r\n        .required(\"Required\")\r\n});\r\nexport function ContactNotes({ ticket }) {\r\n    const { id: ticketId, contactId } = ticket\r\n    const classes = useStyles()\r\n    const [newNote, setNewNote] = useState({ note: \"\" });\r\n    const [loading, setLoading] = useState(false)\r\n    const [showOnDeleteDialog, setShowOnDeleteDialog] = useState(false)\r\n    const [selectedNote, setSelectedNote] = useState({})\r\n    const [notes, setNotes] = useState([])\r\n    const { saveNote, deleteNote, listNotes } = useTicketNotes()\r\n    const [editingNote, setEditingNote] = useState(null);\r\n\r\n    useEffect(() => {\r\n        async function openAndFetchData() {\r\n            handleResetState()\r\n            await loadNotes()\r\n        }\r\n        openAndFetchData()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    const handleResetState = () => {\r\n        setNewNote({ note: \"\" })\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleChangeComment = (e) => {\r\n        setNewNote({ note: e.target.value })\r\n    }\r\n\r\n    const handleEdit = (note) => {\r\n        setEditingNote(note);\r\n    };\r\n\r\n    const handleSave = async values => {\r\n        setLoading(true)\r\n        try {\r\n            await saveNote({\r\n                ...values,\r\n                ticketId,\r\n                contactId\r\n            })\r\n            await loadNotes()\r\n            setNewNote({ note: '' })\r\n            toast.success('Observação adicionada com sucesso!')\r\n        } catch (e) {\r\n            toast.error(e)\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleOpenDialogDelete = (item) => {\r\n        setSelectedNote(item)\r\n        setShowOnDeleteDialog(true)\r\n    }\r\n\r\n    const handleDelete = async () => {\r\n        setLoading(true)\r\n        try {\r\n            await deleteNote(selectedNote.id)\r\n            await loadNotes()\r\n            setSelectedNote({})\r\n            toast.success('Observação excluída com sucesso!')\r\n        } catch (e) {\r\n            toast.error(e)\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const loadNotes = async () => {\r\n        setLoading(true)\r\n        try {\r\n            const notes = await listNotes({ ticketId, contactId })\r\n            setNotes(notes)\r\n        } catch (e) {\r\n            toast.error(e)\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n\r\n    const renderNoteList = () => {\r\n        return notes.map((note) => {\r\n            return <ContactNotesDialogListItem\r\n                note={note}\r\n                key={note.id}\r\n                deleteItem={handleOpenDialogDelete}\r\n                editItem={() => handleEdit(note)}\r\n            />\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ContactNotesEditModal\r\n                open={editingNote !== null}\r\n                onClose={() => setEditingNote(null)}\r\n                note={editingNote ? editingNote.note : ''}\r\n                onSave={handleSave}\r\n            />\r\n            <ConfirmationModal\r\n                title=\"Excluir Registro\"\r\n                open={showOnDeleteDialog}\r\n                onClose={setShowOnDeleteDialog}\r\n                onConfirm={handleDelete}\r\n            >\r\n                Deseja realmente excluir este registro?\r\n            </ConfirmationModal>\r\n            <Formik\r\n                initialValues={newNote}\r\n                enableReinitialize={true}\r\n                validationSchema={NoteSchema}\r\n                onSubmit={(values, actions) => {\r\n                    setTimeout(() => {\r\n                        handleSave(values);\r\n                        actions.setSubmitting(false);\r\n                    }, 400);\r\n                }}\r\n            >\r\n\r\n                {({ touched, errors, setErrors }) => (\r\n                    <Form>\r\n                        <Grid container spacing={2}>\r\n                            <Grid xs={12} item>\r\n                                <Field\r\n                                    as={TextField}\r\n                                    name=\"note\"\r\n                                    rows={3}\r\n                                    label={i18n.t(\"ticketOptionsMenu.appointmentsModal.textarea\")}\r\n                                    placeholder={i18n.t(\"ticketOptionsMenu.appointmentsModal.placeholder\")}\r\n                                    multiline={true}\r\n                                    error={touched.note && Boolean(errors.note)}\r\n                                    helperText={touched.note && errors.note}\r\n                                    variant=\"outlined\"\r\n                                    onChange={handleChangeComment}\r\n                                    fullWidth\r\n                                />\r\n                            </Grid>\r\n                            {notes.length > 0 && (\r\n                                <Grid xs={12} item>\r\n                                    <List className={classes.list}>\r\n                                        {renderNoteList()}\r\n                                    </List>\r\n                                </Grid>\r\n                            )}\r\n                            <Grid xs={12} item>\r\n                                <Grid container spacing={2}>\r\n                                    <Grid xs={6} item>\r\n                                        <Button\r\n                                            onClick={() => {\r\n                                                setNewNote(\"\");\r\n                                                setErrors({});\r\n                                            }}\r\n                                            color=\"primary\"\r\n                                            variant=\"outlined\"\r\n                                            fullWidth\r\n                                        >\r\n                                            Cancelar\r\n                                        </Button>\r\n                                    </Grid>\r\n                                    <Grid xs={6} item>\r\n                                        <ButtonWithSpinner loading={loading} color=\"primary\" type=\"submit\" variant=\"contained\" autoFocus fullWidth>\r\n                                            Salvar\r\n                                        </ButtonWithSpinner>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </>\r\n    );\r\n}","import { Chip, Paper, Select, MenuItem, Grid, InputLabel, FormControl } from \"@material-ui/core\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { isString } from \"lodash\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { toast } from \"react-toastify\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { Field, Form } from \"formik\";\r\nconst useStyles = makeStyles((theme) => ({\r\n    menuListItem: {\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n        border: \"none\",\r\n    },\r\n    menuItem: {\r\n        maxHeight: 30,\r\n    },\r\n\r\n    chips: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n    },\r\n    chip: {\r\n        margin: 2,\r\n    },\r\n}));\r\nexport function TagsKanbanContainer({ ticket }) {\r\n    const classes = useStyles();\r\n\r\n    const [tags, setTags] = useState([]);\r\n    const [selected, setSelected] = useState(\"\"); // Alterado de null para \"\"\r\n\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        loadTags(isMounted).then(() => {\r\n            if (ticket.tags && ticket.tags.length > 0) {\r\n                setSelected(ticket.tags[0].id); // Alterado para pegar o ID da primeira tag, se existir\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            isMounted = false;\r\n        };\r\n    }, [ticket.tags]);\r\n\r\n    const loadTags = async (isMounted) => {\r\n        try {\r\n            const { data } = await api.get(`/tags/list`, { params: { kanban: 1 } });\r\n            if (isMounted) {\r\n                setTags(data);\r\n            }\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }\r\n\r\n    const onChange = async (e) => {\r\n        const value = e.target.value;\r\n        if (ticket.tags.length > 0) {\r\n            await api.delete(`/ticket-tags/${ticket.id}`);\r\n            // toast.success('Ticket Tag Removido!');\r\n        }\r\n        if (value !== null) {\r\n            await api.put(`/ticket-tags/${ticket.id}/${value}`);\r\n            // toast.success('Ticket Tag Adicionado com Sucesso!');\r\n        }\r\n        setSelected(value);\r\n        // Adicione sua lógica de manipulação de tags aqui\r\n    }\r\n\r\n    const renderSelectedValue = () => {\r\n        const selectedTag = tags.find(tag => tag.id === selected);\r\n        if (!selectedTag) return null;\r\n\r\n        return (\r\n            <Chip\r\n                style={{\r\n                    backgroundColor: selectedTag.color,\r\n                    color: \"#FFF\",\r\n                    marginRight: 1,\r\n                    padding: 1,\r\n                    fontWeight: 'bold',\r\n                    paddingLeft: 5,\r\n                    paddingRight: 5,\r\n                    borderRadius: 3,\r\n                    fontSize: \"0.8em\",\r\n                    whiteSpace: \"nowrap\"\r\n                }}\r\n                label={selectedTag.name}\r\n                size=\"small\"\r\n            />\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n                <InputLabel id=\"tag-kanban-id\">{i18n.t(\"Etapa Kanban\")}</InputLabel>\r\n                <Select\r\n                    labelWidth={60}\r\n                    value={selected}\r\n                    labelId=\"tag-kanban-id\"\r\n                    label={i18n.t(\"Etapa Kanban\")}\r\n                    onChange={onChange}\r\n                    MenuProps={{\r\n                        anchorOrigin: {\r\n                            vertical: \"bottom\",\r\n                            horizontal: \"left\",\r\n                        },\r\n                        transformOrigin: {\r\n                            vertical: \"top\",\r\n                            horizontal: \"left\",\r\n                        },\r\n                        getContentAnchorEl: null,\r\n                    }}\r\n                    renderValue={renderSelectedValue}\r\n                >\r\n                    <MenuItem value={null}>&nbsp;</MenuItem>\r\n                    {tags.map(tag => (\r\n                        <MenuItem key={tag.id} value={tag.id}>\r\n                            {tag.name}\r\n                        </MenuItem>\r\n                    ))}\r\n                </Select>\r\n            </FormControl>\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\n// import Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport formatSerializedId from '../../utils/formatSerializedId';\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport ModalImageCors from \"../ModalImageCors\"\r\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\r\nimport MarkdownWrapper from \"../MarkdownWrapper\";\r\nimport { CardHeader, Switch, Tooltip } from \"@material-ui/core\";\r\nimport { ContactForm } from \"../ContactForm\";\r\nimport ContactModal from \"../ContactModal\";\r\nimport { ContactNotes } from \"../ContactNotes\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { toast } from \"react-toastify\";\r\nimport { TagsKanbanContainer } from \"../TagsKanbanContainer\";\r\n\r\n\r\nconst drawerWidth = 320;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tdrawer: {\r\n\t\twidth: drawerWidth,\r\n\t\tflexShrink: 0,\r\n\t},\r\n\tdrawerPaper: {\r\n\t\twidth: drawerWidth,\r\n\t\tdisplay: \"flex\",\r\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\tborderTopRightRadius: 4,\r\n\t\tborderBottomRightRadius: 4,\r\n\t},\r\n\theader: {\r\n\t\tdisplay: \"flex\",\r\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\tbackgroundColor: theme.palette.inputBackground,\r\n\t\talignItems: \"center\",\r\n\t\tpadding: theme.spacing(0, 1),\r\n\t\tminHeight: \"50px\",\r\n\t\tjustifyContent: \"flex-start\",\r\n\t},\r\n\tcontent: {\r\n\t\tdisplay: \"flex\",\r\n\t\tbackgroundColor: theme.palette.inputBackground,\r\n\t\tflexDirection: \"column\",\r\n\t\tpadding: \"8px 0px 8px 8px\",\r\n\t\theight: \"100%\",\r\n\t\tjustifyContent: \"center\",\r\n\t\toverflowY: \"scroll\",\r\n\t\t...theme.scrollbarStyles,\r\n\t},\r\n\r\n\tcontactAvatar: {\r\n\t\tmargin: 15,\r\n\t\twidth: 160,\r\n\t\theight: 160,\r\n\t\tborderRadius: 10,\r\n\t},\r\n\r\n\tcontactHeader: {\r\n\t\tdisplay: \"flex\",\r\n\t\tpadding: 8,\r\n\t\tflexDirection: \"column\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t\t\"& > *\": {\r\n\t\t\tmargin: 4,\r\n\t\t},\r\n\t},\r\n\r\n\tcontactDetails: {\r\n\t\tmarginTop: 8,\r\n\t\tpadding: 8,\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t},\r\n\tcontactExtraInfo: {\r\n\t\tmarginTop: 4,\r\n\t\tpadding: 6,\r\n\t},\r\n}));\r\n\r\nconst ContactDrawer = ({ open, handleDrawerClose, contact, ticket, loading }) => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst [modalOpen, setModalOpen] = useState(false);\r\n\tconst [blockingContact, setBlockingContact] = useState(contact.active);\r\n\tconst [openForm, setOpenForm] = useState(false);\r\n\tconst { get } = useCompanySettings();\r\n\tconst [hideNum, setHideNum] = useState(false);\r\n\tconst { user } = useContext(AuthContext);\r\n    const [acceptAudioMessage, setAcceptAudio] = useState(contact.acceptAudioMessage);\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function fetchData() {\r\n\r\n\t\t\tconst lgpdHideNumber = await get({\r\n\t\t\t\t\"column\": \"lgpdHideNumber\"\r\n\t\t\t});\r\n\r\n\t\t\tif (lgpdHideNumber === \"enabled\") setHideNum(true);\r\n\r\n\t\t}\r\n\t\tfetchData();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOpenForm(false);\r\n\t}, [open, contact]);\r\n\r\n\t\r\n\r\n\tconst handleContactToggleAcceptAudio = async () => {\r\n        try {\r\n            const contact = await api.put(`/contacts/toggleAcceptAudio/${ticket.contact.id}`);\r\n            setAcceptAudio(contact.data.acceptAudioMessage);\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n\tconst handleBlockContact = async (contactId) => {\r\n\t\ttry {\r\n\t\t\tawait api.put(`/contacts/block/${contactId}`, { active: false });\r\n\t\t\ttoast.success(\"Contato bloqueado\");\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\r\n\t\tsetBlockingContact(true);\r\n\t};\r\n\r\n\tconst handleUnBlockContact = async (contactId) => {\r\n\t\ttry {\r\n\t\t\tawait api.put(`/contacts/block/${contactId}`, { active: true });\r\n\t\t\ttoast.success(\"Contato desbloqueado\");\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\tsetBlockingContact(false);\r\n\t};\r\n\r\n\tif (loading) return null;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Drawer\r\n\t\t\t\tclassName={classes.drawer}\r\n\t\t\t\tvariant=\"persistent\"\r\n\t\t\t\tanchor=\"right\"\r\n\t\t\t\topen={open}\r\n\t\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\r\n\t\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\r\n\t\t\t\tModalProps={{\r\n\t\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\r\n\t\t\t\t\tstyle: { position: \"absolute\" },\r\n\t\t\t\t}}\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div className={classes.header}>\r\n\t\t\t\t\t<IconButton onClick={handleDrawerClose}>\r\n\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\r\n\t\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!loading ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\r\n\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tchecked={acceptAudioMessage}\r\n\t\t\t\t\t\t\t\t\tonChange={() => handleContactToggleAcceptAudio()}\r\n\t\t\t\t\t\t\t\t\tname=\"disableBot\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.acceptAudioMessage\")}\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (<br />)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<ContactDrawerSkeleton classes={classes} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className={classes.content}>\r\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\r\n\t\t\t\t\t\t\t<ModalImageCors imageUrl={contact?.urlPicture} />\r\n\t\t\t\t\t\t\t<CardHeader\r\n\t\t\t\t\t\t\t\tonClick={() => { }}\r\n\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\", width: '100%' }}\r\n\t\t\t\t\t\t\t\ttitleTypographyProps={{ noWrap: true }}\r\n\t\t\t\t\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<Typography onClick={() => setOpenForm(true)}>\r\n\t\t\t\t\t\t\t\t\t\t\t{contact.name}\r\n\t\t\t\t\t\t\t\t\t\t\t<CreateIcon style={{ fontSize: 16, marginLeft: 5 }} />\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tsubheader={\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<Typography style={{ fontSize: 12 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{hideNum && user.profile === \"user\" ? formatSerializedId(contact.number).slice(0, -6) + \"**-**\" + contact.number.slice(-2) : formatSerializedId(contact.number)}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography style={{ color: \"primary\", fontSize: 12 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`mailto:${contact.email}`}>{contact.email}</Link>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={() => setModalOpen(!openForm)}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tonClick={() => contact.active\r\n\t\t\t\t\t\t\t\t\t? handleBlockContact(contact.id)\r\n\t\t\t\t\t\t\t\t\t: handleUnBlockContact(contact.id)}\r\n\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{!contact.active ? \"Desbloquear contato\" : \"Bloquear contato\"}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t{(contact.id && openForm) && <ContactForm initialContact={contact} onCancel={() => setOpenForm(false)} />}\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t<TagsKanbanContainer ticket={ticket} className={classes.contactTags} />\r\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\r\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" style={{ marginBottom: 10 }}>\r\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.appointmentsModal.title\")}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<ContactNotes ticket={ticket} />\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\r\n\t\t\t\t\t\t\t<ContactModal\r\n\t\t\t\t\t\t\t\topen={modalOpen}\r\n\t\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\r\n\t\t\t\t\t\t\t\tcontactId={contact.id}\r\n\t\t\t\t\t\t\t></ContactModal>\r\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\r\n\t\t\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\t\t\tkey={info.id}\r\n\t\t\t\t\t\t\t\t\tsquare\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\r\n\t\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\r\n\t\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Drawer>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ContactDrawer;\r\n","import React, { useState, createContext } from \"react\";\r\n\r\nconst ReplyMessageContext = createContext();\r\n\r\nconst ReplyMessageProvider = ({ children }) => {\r\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\r\n\treturn (\r\n\t\t<ReplyMessageContext.Provider\r\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</ReplyMessageContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { ReplyMessageContext, ReplyMessageProvider };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\ttimerBox: {\r\n\t\tdisplay: \"flex\",\r\n\t\tmarginLeft: 10,\r\n\t\tmarginRight: 10,\r\n\t\talignItems: \"center\",\r\n\t},\r\n}));\r\n\r\nconst RecordingTimer = () => {\r\n\tconst classes = useStyles();\r\n\tconst initialState = {\r\n\t\tminutes: 0,\r\n\t\tseconds: 0,\r\n\t};\r\n\tconst [timer, setTimer] = useState(initialState);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst interval = setInterval(\r\n\t\t\t() =>\r\n\t\t\t\tsetTimer(prevState => {\r\n\t\t\t\t\tif (prevState.seconds === 59) {\r\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\r\n\t\t\t\t}),\r\n\t\t\t1000\r\n\t\t);\r\n\t\treturn () => {\r\n\t\t\tclearInterval(interval);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst addZero = n => {\r\n\t\treturn n < 10 ? \"0\" + n : n;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.timerBox}>\r\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default RecordingTimer;\r\n","import api from \"../../services/api\";\r\n\r\nconst useQuickMessages = () => {\r\n\r\n    const save = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/quick-messages',\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const update = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/quick-messages/${data.id}`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const deleteRecord = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/quick-messages/${id}`,\r\n            method: 'DELETE'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const list = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/quick-messages/list',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        save,\r\n        update,\r\n        deleteRecord,\r\n        list\r\n    }\r\n}\r\n\r\nexport default useQuickMessages;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ContactModal from \"../ContactModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Grid, ListItemText, MenuItem, Select } from \"@material-ui/core\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\r\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  online: {\r\n    fontSize: 11,\r\n    color: \"#25d366\"\r\n  },\r\n  offline: {\r\n    fontSize: 11,\r\n    color: \"#e1306c\"\r\n  }\r\n}));\r\n\r\nconst filter = createFilterOptions({\r\n  trim: true,\r\n});\r\n\r\nconst ContactSendModal = ({ modalOpen, onClose }) => {\r\n  const classes = useStyles();\r\n  const [options, setOptions] = useState([]);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [selectedContact, setSelectedContact] = useState(null);\r\n  const [newContact, setNewContact] = useState({});\r\n  \r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { companyId, whatsappId } = user;\r\n\r\n  useEffect(() => {\r\n    if (!modalOpen || searchParam.length < 3) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(\"contacts\", {\r\n            params: { searchParam, channel: \"whatsapp\", isGroup: \"false\" },\r\n          });\r\n\r\n          setOptions(data.contacts);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, modalOpen]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setSearchParam(\"\");\r\n    setSelectedContact(null);\r\n  };\r\n\r\n  const handleSendVcard = async contact => {\r\n    if (!contact) return;\r\n    \r\n    setLoading(true);\r\n    try {\r\n      onClose(contact);\r\n    } catch (err) {\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n\r\n  const handleSelectOption = (e, newValue) => {\r\n    if (newValue?.number) {\r\n      setSelectedContact(newValue);\r\n    } else if (newValue?.name) {\r\n      setNewContact({ name: newValue.name });\r\n      setContactModalOpen(true);\r\n    }\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setContactModalOpen(false);    \r\n  };\r\n\r\n  const handleAddNewContactTicket = contact => {\r\n    handleSendVcard(contact);\r\n  };\r\n\r\n  const createAddContactOption = (filterOptions, params) => {\r\n    const filtered = filter(filterOptions, params);\r\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\r\n      filtered.push({\r\n        name: `${params.inputValue}`,\r\n      });\r\n    }\r\n    return filtered;\r\n  };\r\n\r\n  const renderOption = option => {\r\n    if (option.number) {\r\n      return <>\r\n        <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\r\n          {option.name} - {option.number}\r\n        </Typography>\r\n      </>\r\n    } else {\r\n      return `${i18n.t(\"SendContactModal.add\")} ${option.name}`;\r\n    }\r\n  };\r\n\r\n  const renderOptionLabel = option => {\r\n    if (option.number) {\r\n      return `${option.name} - ${option.number}`;\r\n    } else {\r\n      return `${option.name}`;\r\n    }\r\n  };\r\n\r\n  const renderContactAutocomplete = () => {\r\n      return (\r\n        <Grid xs={12} item>\r\n          <Autocomplete\r\n            fullWidth\r\n            options={options}\r\n            loading={loading}\r\n            clearOnBlur\r\n            autoHighlight\r\n            freeSolo\r\n            clearOnEscape\r\n            getOptionLabel={renderOptionLabel}\r\n            renderOption={renderOption}\r\n            filterOptions={createAddContactOption}\r\n            onChange={(e, newValue) => handleSelectOption(e, newValue)}\r\n            renderInput={params => (\r\n              <TextField\r\n                {...params}\r\n                label={i18n.t(\"SendContactModal.fieldLabel\")}\r\n                variant=\"outlined\"\r\n                autoFocus\r\n                onChange={e => setSearchParam(e.target.value)}\r\n                onKeyPress={e => {\r\n                  if (loading || !selectedContact) return;\r\n                  else if (e.key === \"Enter\") {\r\n                    handleSendVcard(selectedContact);\r\n                  }\r\n                }}\r\n                InputProps={{\r\n                  ...params.InputProps,\r\n                  endAdornment: (\r\n                    <React.Fragment>\r\n                      {loading ? (\r\n                        <CircularProgress color=\"inherit\" size={20} />\r\n                      ) : null}\r\n                      {params.InputProps.endAdornment}\r\n                    </React.Fragment>\r\n                  ),\r\n                }}\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n      )\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ContactModal\r\n        open={contactModalOpen}\r\n        initialValues={newContact}\r\n        onClose={handleCloseContactModal}\r\n        onSave={handleAddNewContactTicket}\r\n      ></ContactModal>\r\n      <Dialog open={modalOpen} onClose={handleClose}>\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {i18n.t(\"SendContactModal.title\")}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <Grid style={{ width: 300 }} container spacing={2}>\r\n            {/* CONTATO */}\r\n            {renderContactAutocomplete()}\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={handleClose}\r\n            color=\"secondary\"\r\n            disabled={loading}\r\n            variant=\"outlined\"\r\n          >\r\n            {i18n.t(\"SendContactModal.buttons.cancel\")}\r\n          </Button>\r\n          <ButtonWithSpinner\r\n            variant=\"contained\"\r\n            type=\"button\"\r\n            disabled={!selectedContact}\r\n            onClick={() => handleSendVcard(selectedContact)}\r\n            color=\"primary\"\r\n            loading={loading}\r\n          >\r\n            {i18n.t(\"SendContactModal.buttons.ok\")}\r\n          </ButtonWithSpinner>\r\n        </DialogActions>\r\n      </Dialog >\r\n    </>\r\n  );\r\n};\r\nexport default ContactSendModal;","import React, { useState } from 'react';\r\nimport Modal from 'react-modal';\r\nimport Camera, { FACING_MODES } from 'react-html5-camera-photo';\r\nimport 'react-html5-camera-photo/build/css/index.css';\r\n\r\nModal.setAppElement('#root');\r\n\r\n\r\nconst customStyles = {\r\n  overlay: {\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)', // Fundo transparente\r\n  },\r\n  content: {\r\n    width: '80%',\r\n    height: '70%',\r\n    maxWidth: '780px',\r\n    maxHeight: '85vh',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    borderRadius: '8px',\r\n    boxShadow: '0 0 10px rgba(0, 0, 0, 0.3)',\r\n    border: 'none',\r\n    padding: '0',\r\n    background: 'none',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n};\r\n\r\nconst ModalCamera = ({ isOpen, onRequestClose, onCapture }) => {\r\n  const [capturedImage, setCapturedImage] = useState(null);\r\n\r\n  const handleTakePhoto = (dataUri) => {\r\n    setCapturedImage(dataUri);\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n\r\n    // Converta a imagem capturada em um arquivo (Blob)\r\n    fetch(capturedImage)\r\n      .then((res) => res.blob())\r\n      .then((blob) => {\r\n        // Chame a função de retorno com o arquivo da imagem capturada\r\n        onCapture(blob);\r\n      });\r\n\r\n    // Feche o modal\r\n    setCapturedImage(null);\r\n    onRequestClose();\r\n  };\r\n\r\n  return (\r\n   <Modal\r\n      isOpen={isOpen}\r\n      onRequestClose={onRequestClose}  \r\n      style={customStyles}    \r\n    >\r\n       <div style={{ flex: 1 }}>\r\n          <Camera\r\n            onTakePhoto={handleTakePhoto}\r\n            idealFacingMode={FACING_MODES.ENVIRONMENT}\r\n            isImageMirror={false}\r\n            style={customStyles}\r\n          />\r\n        </div>\r\n        {capturedImage && \r\n          handleConfirm()\r\n        }\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ModalCamera;\r\n","import React, { useState, createContext } from \"react\";\r\n\r\nconst ForwardMessageContext = createContext();\r\n\r\nconst ForwardMessageProvider = ({ children }) => {\r\n\tconst [showSelectMessageCheckbox, setShowSelectMessageCheckbox] = useState(false);\r\n\tconst [selectedMessages, setSelectedMessages] = useState([]);\r\n\tconst [forwardMessageModalOpen, setForwardMessageModalOpen] = useState(false);\r\n\treturn (\r\n\t\t<ForwardMessageContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tshowSelectMessageCheckbox, setShowSelectMessageCheckbox,\r\n\t\t\t\tselectedMessages, setSelectedMessages,\r\n\t\t\t\tforwardMessageModalOpen, setForwardMessageModalOpen\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</ForwardMessageContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { ForwardMessageContext, ForwardMessageProvider };\r\n","import { Button } from \"@material-ui/core\";\r\nimport React, { useRef, useEffect, useState } from \"react\";\r\n\r\nconst LS_NAME = 'audioMessageRate';\r\n\r\nconst AudioModal = ({url}) => {\r\n    const audioRef = useRef(null);\r\n    const [audioRate, setAudioRate] = useState(parseFloat(localStorage.getItem(LS_NAME) || \"1\"));\r\n    const [showButtonRate, setShowButtonRate] = useState(false);\r\n    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\r\n  \r\n    useEffect(() => {\r\n      audioRef.current.playbackRate = audioRate;\r\n      localStorage.setItem(LS_NAME, audioRate);\r\n    }, [audioRate]);\r\n  \r\n    useEffect(() => {\r\n      audioRef.current.onplaying = () => {\r\n        setShowButtonRate(true);\r\n      };\r\n      audioRef.current.onpause = () => {\r\n        setShowButtonRate(false);\r\n      };\r\n      audioRef.current.onended = () => {\r\n        setShowButtonRate(false);\r\n      };\r\n    }, []);\r\n  \r\n    const toggleRate = () => {\r\n      let newRate = null;\r\n  \r\n      switch (audioRate) {\r\n        case 0.5:\r\n          newRate = 1;\r\n          break;\r\n        case 1:\r\n          newRate = 1.5;\r\n          break;\r\n        case 1.5:\r\n          newRate = 2;\r\n          break;\r\n        case 2:\r\n          newRate = 0.5;\r\n          break;\r\n        default:\r\n          newRate = 1;\r\n          break;\r\n      }\r\n  \r\n      setAudioRate(newRate);\r\n    };\r\n  \r\n    const getAudioSource = () => {\r\n      let sourceUrl = url;\r\n  \r\n      if (isIOS) {\r\n        sourceUrl = sourceUrl.replace(\".ogg\", \".mp3\");\r\n      }\r\n  \r\n      return (\r\n        <source src={sourceUrl} type={isIOS ? \"audio/mp3\" : \"audio/ogg\"} />\r\n      );\r\n    };\r\n  \r\n    return (\r\n      <>\r\n        <audio ref={audioRef} controls>\r\n          {getAudioSource()}\r\n        </audio>\r\n        {showButtonRate && (\r\n          <Button\r\n            style={{ marginLeft: \"5px\", marginTop: \"-45px\" }}\r\n            onClick={toggleRate}\r\n          >\r\n            {audioRate}x\r\n          </Button>\r\n        )}\r\n      </>\r\n    );\r\n}\r\n\r\nexport default AudioModal;","import React, { useEffect, useMemo, useState } from 'react';\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogContent,\r\n    DialogActions,\r\n    Typography,\r\n    IconButton,\r\n    TextField,\r\n    Card,\r\n    CardContent,\r\n} from '@mui/material';\r\nimport { Cancel, Search, Send, SkipNext, SkipPrevious } from '@material-ui/icons';\r\nimport AudioModal from '../AudioModal';\r\nimport { Document, Page, pdfjs } from 'react-pdf';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { grey } from '@material-ui/core/colors';\r\nimport { InputAdornment, InputBase } from '@material-ui/core';\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n    },\r\n    modal: {\r\n        background: theme.palette.background.default,\r\n    },\r\n    messageInputWrapperPrivate: {\r\n        padding: 6,\r\n        marginRight: 7,\r\n        background: theme.palette.background.paper,\r\n        display: \"flex\",\r\n        borderRadius: 20,\r\n        flex: 1,\r\n        position: \"relative\",\r\n    },\r\n    buttonEnable: {\r\n        color: theme.mode === 'light' ? \"grey\" : \"#eee\",\r\n    },\r\n    buttonDisable: {\r\n        color: grey[400]\r\n    }\r\n}));\r\n\r\nconst MessageUploadMedias = ({ isOpen, files, onClose, onSend, onCancelSelection }) => {\r\n    const classes = useStyles();\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    const [captions, setCaptions] = useState(files.map(() => ''));\r\n    const [numPages, setNumPages] = React.useState(null);\r\n    const [componentMounted, setComponentMounted] = useState(false);\r\n    const [isTyping, setIsTyping] = useState(false);\r\n    const [firstTyping, setFirstTyping] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setFirstTyping(true);\r\n        setComponentMounted(true);\r\n    }, []);\r\n\r\n    const onDocumentLoadSuccess = ({ numPages }) => {\r\n        setNumPages(numPages);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        onClose();\r\n    };\r\n\r\n    const handlePrev = () => {\r\n        if (currentIndex > 0) {\r\n            setFirstTyping(true);\r\n            setCurrentIndex(currentIndex - 1);\r\n        }\r\n    };\r\n\r\n    const handleNext = () => {\r\n        if (currentIndex < files.length - 1) {\r\n            setFirstTyping(true);\r\n            setCurrentIndex(currentIndex + 1);\r\n        }\r\n    };\r\n\r\n    const handleTextFieldBlur = () => {\r\n        setIsTyping(false);\r\n    };\r\n\r\n    const handleCaptionChange = (e) => {\r\n        const value = e.target.value;\r\n        setCaptions((prevCaptions) => {\r\n            const updatedCaptions = [...prevCaptions];\r\n            updatedCaptions[currentIndex] = value;\r\n            return updatedCaptions;\r\n        });\r\n        if (firstTyping) {\r\n            setIsTyping(true);\r\n        }\r\n    };\r\n\r\n    const handleSend = () => {\r\n        const selectedMedias = files.map((file, index) => ({\r\n            file,\r\n            caption: captions[index],\r\n        }));\r\n        onSend(selectedMedias);\r\n        handleClose();\r\n    };\r\n\r\n    const renderFileContent = useMemo(() => {\r\n        if (!componentMounted) {\r\n            return null;\r\n        }\r\n        if (firstTyping) {\r\n            const currentFile = files[currentIndex];\r\n            if (currentFile.type.startsWith('image')) {\r\n                return (\r\n                    <>\r\n                        <div\r\n                            style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                                height: \"400px\"\r\n                            }}\r\n                            className={classes.modal}\r\n                        >\r\n                            <img\r\n                                alt={`Imagem ${currentIndex + 1}`}\r\n                                src={URL.createObjectURL(currentFile)}\r\n                                style={{\r\n                                    maxWidth: \"600px\",\r\n                                    maxHeight: \"400px\",\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div\r\n                            style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                            }}\r\n                            className={classes.modal}\r\n\r\n                        >\r\n                            <Typography variant=\"h6\">{currentFile.name}</Typography>\r\n                        </div>\r\n                    </>\r\n\r\n                );\r\n            } else if (currentFile.type === 'application/pdf') {\r\n                return (\r\n                    <>\r\n                        <div\r\n                            style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                                height: '400px'\r\n                            }}\r\n                            className={classes.modal}\r\n\r\n                        >\r\n                            <Document file={URL.createObjectURL(currentFile)} onLoadSuccess={onDocumentLoadSuccess} >\r\n                                <Page pageNumber={1}\r\n                                    width={200}\r\n                                    height={300}\r\n                                />\r\n                            </Document>\r\n                        </div>\r\n                        <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                        }}\r\n                            className={classes.modal}\r\n\r\n                        >\r\n                            <Typography variant=\"h6\">{currentFile.name}</Typography>\r\n                        </div>\r\n                    </>\r\n                );\r\n            } else if (currentFile.type.startsWith('video')) {\r\n                return (\r\n                    <>\r\n                        <div\r\n                            style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                                height: '400px',\r\n                            }}\r\n                            className={classes.modal}\r\n\r\n                        >\r\n                            <video\r\n                                src={URL.createObjectURL(currentFile)}\r\n                                controls={true}\r\n                                volume={localStorage.getItem(\"volume\")}\r\n                                style={{\r\n                                    maxWidth: \"600px\",\r\n                                    maxHeight: \"400px\",\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                        }}\r\n                            className={classes.modal}\r\n\r\n                        >\r\n                            <Typography variant=\"h6\">{currentFile.name}</Typography>\r\n                        </div>\r\n                    </>\r\n                );\r\n            } else if (currentFile.type.startsWith('audio')) {\r\n                return (\r\n                    <><div\r\n                        style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            height: '400px',\r\n                        }}\r\n                        className={classes.modal}\r\n\r\n                    >\r\n                        <AudioModal url={URL.createObjectURL(currentFile)} />\r\n                    </div>\r\n                        <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                        }}\r\n                            className={classes.modal}\r\n\r\n                        >\r\n                            <Typography variant=\"h6\">{currentFile.name}</Typography>\r\n                        </div>\r\n                    </>\r\n                );\r\n            } else {\r\n                return (\r\n                    <div\r\n                        style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            height: '400px', // Altura desejada para vídeos, documentos e áudios\r\n                        }}\r\n                        className={classes.modal}\r\n\r\n                    >\r\n                        <CardContent className={classes.modal}\r\n                        >\r\n                            <Typography variant=\"h6\">Visualização não disponível</Typography>\r\n                            <Typography variant=\"h6\">{currentFile.name}</Typography>\r\n                        </CardContent>\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n        return null;\r\n    }, [currentIndex, firstTyping]);\r\n\r\n    const handleKeyDown = (event) => {\r\n        if (event.key === 'Enter' && event.shiftKey) {\r\n            // const newCaptions = captions.slice();\r\n            // newCaptions[currentIndex] += '\\n';\r\n            // setCaptions(newCaptions);\r\n            return\r\n        }\r\n        switch (event.key) {\r\n            case 'Escape':\r\n                onCancelSelection();\r\n                break;\r\n            case 'Enter':\r\n                handleSend();\r\n                break;\r\n            case 'ArrowRight':\r\n                handleNext();\r\n                break;\r\n            case 'ArrowLeft':\r\n                handlePrev();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n    return (\r\n        <div className={classes.modal}>\r\n            <Dialog\r\n                open={isOpen}\r\n                fullWidth\r\n                maxWidth=\"md\"\r\n                scroll=\"paper\"\r\n            >\r\n                <DialogContent className={classes.modal}>\r\n                    <Card>\r\n                        {renderFileContent}\r\n                        <CardContent className={classes.modal}>\r\n                            <div className={classes.messageInputWrapperPrivate}>\r\n                                <InputBase\r\n                                    placeholder=\"Legenda (opcional)\"\r\n                                    fullWidth\r\n                                    multiline\r\n                                    minRows={1}\r\n                                    maxRows={5}\r\n                                    value={captions[currentIndex]}\r\n                                    onChange={handleCaptionChange}\r\n                                    onBlur={handleTextFieldBlur}\r\n                                    autoFocus\r\n                                    onKeyDown={handleKeyDown}\r\n                                />\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </DialogContent>\r\n                <DialogActions className={classes.modal}>\r\n                    <IconButton onClick={handlePrev} disabled={currentIndex === 0}>\r\n                        <SkipPrevious className={currentIndex === 0 ? classes.buttonDisable : classes.buttonEnable} />\r\n                    </IconButton>\r\n                    <IconButton onClick={onCancelSelection} >\r\n                        <Cancel className={classes.buttonEnable} />\r\n                    </IconButton>\r\n                    <IconButton onClick={handleSend} >\r\n                        <Send className={classes.buttonEnable} />\r\n                    </IconButton>\r\n                    <IconButton onClick={handleNext} disabled={currentIndex === files.length - 1}>\r\n                        <SkipNext className={currentIndex === files.length - 1 ? classes.buttonDisable : classes.buttonEnable} />\r\n                    </IconButton>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MessageUploadMedias;\r\n","import React, { useState, createContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst EditMessageContext = createContext();\r\n\r\nconst EditMessageProvider = ({ children }) => {\r\n\tconst [editingMessage, setEditingMessage] = useState(null);\r\n\r\n\treturn (\r\n\t\t<EditMessageContext.Provider\r\n\t\t\tvalue={{ editingMessage, setEditingMessage }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</EditMessageContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { EditMessageContext, EditMessageProvider};\r\n","import React from \"react\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst InputComponent = ({ inputRef, ...other }) => <div {...other} />;\r\n\r\nconst OutlinedDiv = ({\r\n  InputProps,\r\n  children,\r\n  InputLabelProps,\r\n  label,\r\n  ...other\r\n}) => {\r\n  return (\r\n    <TextField\r\n      {...other}\r\n      variant=\"outlined\"\r\n      label={label}\r\n      multiline\r\n      InputLabelProps={{ shrink: true, ...InputLabelProps }}\r\n      InputProps={{\r\n        inputComponent: InputComponent,\r\n        ...InputProps\r\n      }}\r\n      inputProps={{ children: children }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default OutlinedDiv;","import React from \"react\";\r\nimport { Chip, makeStyles } from \"@material-ui/core\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport OutlinedDiv from \"../OutlinedDiv\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    chip: {\r\n        margin: theme.spacing(0.5),\r\n        cursor: \"pointer\"\r\n    }\r\n}));\r\n\r\nconst MessageVariablesPicker = ({ onClick, disabled }) => {\r\n    const classes = useStyles();\r\n\r\n    const handleClick = (e, value) => {\r\n        e.preventDefault();\r\n        if (disabled) return;\r\n        onClick(value);\r\n    };\r\n\r\n    const msgVars = [\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.contactFirstName\"),\r\n            value: \"{{firstName}}\"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.contactName\"),\r\n            value: \"{{name}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.user\"),\r\n            value: \"{{userName}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.greeting\"),\r\n            value: \"{{ms}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.protocolNumber\"),\r\n            value: \"{{protocol}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.date\"),\r\n            value: \"{{date}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.hour\"),\r\n            value: \"{{hour}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.ticket_id\"),\r\n            value: \"{{ticket_id}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.queue\"),\r\n            value: \"{{queue}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.connection\"),\r\n            value: \"{{connection}} \"\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <OutlinedDiv\r\n            margin=\"dense\"\r\n            fullWidth\r\n            label={i18n.t(\"messageVariablesPicker.label\")}\r\n            disabled={disabled}\r\n        >\r\n            {msgVars.map(msgVar => (\r\n                <Chip\r\n                    key={msgVar.value}\r\n                    onMouseDown={e => handleClick(e, msgVar.value)}\r\n                    label={msgVar.name}\r\n                    size=\"small\"\r\n                    className={classes.chip}\r\n                    color=\"primary\"\r\n                />\r\n            ))}\r\n        </OutlinedDiv>\r\n    );\r\n};\r\n\r\nexport default MessageVariablesPicker;","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field, FieldArray } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Chip, FormControl, FormControlLabel, Grid, IconButton, InputLabel, MenuItem, Select, Switch, Typography } from \"@material-ui/core\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport moment from \"moment\"\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { isArray, capitalize } from \"lodash\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport AttachFile from \"@material-ui/icons/AttachFile\";\r\nimport { head } from \"lodash\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\r\nimport useQueues from \"../../hooks/useQueues\";\r\nimport UserStatusIcon from \"../UserModal/statusIcon\";\r\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\t// multFieldLine: {\r\n\t// \tdisplay: \"flex\",\r\n\t// \t\"& > *:not(:last-child)\": {\r\n\t// \t\tmarginRight: theme.spacing(1),\r\n\t// \t},\r\n\t// },\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\t// formControl: {\r\n\t// \tmargin: theme.spacing(1),\r\n\t// \tminWidth: 120,\r\n\t// },\r\n}));\r\n\r\nconst ScheduleSchema = Yup.object().shape({\r\n\tbody: Yup.string()\r\n\t\t.min(5, \"Mensagem muito curta\")\r\n\t\t.required(\"Obrigatório\"),\r\n\tcontactId: Yup.number().required(\"Obrigatório\"),\r\n\tsendAt: Yup.string().required(\"Obrigatório\")\r\n});\r\n\r\nconst ScheduleModal = ({ open, onClose, scheduleId, contactId, cleanContact, reload }) => {\r\n\tconst classes = useStyles();\r\n\tconst history = useHistory();\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst isMounted = useRef(true);\r\n\tconst { companyId } = user;\r\n\r\n\tconst initialState = {\r\n\t\tbody: \"\",\r\n\t\tcontactId: \"\",\r\n\t\tsendAt: moment().add(1, 'hour').format('YYYY-MM-DDTHH:mm'),\r\n\t\tsentAt: \"\",\r\n\t\topenTicket: \"enabled\",\r\n\t\tticketUserId: \"\",\r\n\t\tqueueId: \"\",\r\n\t\tstatusTicket: \"closed\",\r\n\t\tintervalo: 1,\r\n\t\tvalorIntervalo: 0,\r\n\t\tenviarQuantasVezes: 1,\r\n\t\ttipoDias: 4,\r\n\t\tassinar: false\r\n\t};\r\n\r\n\tconst initialContact = {\r\n\t\tid: \"\",\r\n\t\tname: \"\",\r\n\t\tchannel: \"\"\r\n\t}\r\n\r\n\tconst [schedule, setSchedule] = useState(initialState);\r\n\tconst [currentContact, setCurrentContact] = useState(initialContact);\r\n\tconst [contacts, setContacts] = useState([initialContact]);\r\n\tconst [intervalo, setIntervalo] = useState(1);\r\n\t// const [valorIntervalo, setValorIntervalo] = useState(initialContact);\r\n\t// const [enviarQuantasVezes, setEnviarQuantasVezes] = useState(initialContact);\r\n\tconst [tipoDias, setTipoDias] = useState(4);\r\n\tconst [attachment, setAttachment] = useState(null);\r\n\tconst attachmentFile = useRef(null);\r\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\r\n\tconst messageInputRef = useRef();\r\n\tconst [channelFilter, setChannelFilter] = useState(\"whatsapp\");\r\n\tconst [whatsapps, setWhatsapps] = useState([]);\r\n\tconst [selectedWhatsapps, setSelectedWhatsapps] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [queues, setQueues] = useState([]);\r\n\tconst [allQueues, setAllQueues] = useState([]);\r\n\tconst [selectedUser, setSelectedUser] = useState(null);\r\n\tconst [selectedQueue, setSelectedQueue] = useState(null);\r\n\tconst { findAll: findAllQueues } = useQueues();\r\n\tconst [options, setOptions] = useState([]);\r\n\tconst [searchParam, setSearchParam] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tisMounted.current = false;\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isMounted.current) {\r\n\t\t\tconst loadQueues = async () => {\r\n\t\t\t\tconst list = await findAllQueues();\r\n\t\t\t\tsetAllQueues(list);\r\n\t\t\t\tsetQueues(list);\r\n\t\t\t};\r\n\t\t\tloadQueues();\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (searchParam.length < 3) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetSelectedQueue(\"\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst delayDebounceFn = setTimeout(() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tconst fetchUsers = async () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst { data } = await api.get(\"/users/\");\r\n\t\t\t\t\tsetOptions(data.users);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\ttoastError(err);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tfetchUsers();\r\n\t\t}, 500);\r\n\t\treturn () => clearTimeout(delayDebounceFn);\r\n\t}, [searchParam]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi\r\n\t\t\t.get(`/whatsapp/filter`, { params: { session: 0, channel: channelFilter } })\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\t// Mapear os dados recebidos da API para adicionar a propriedade 'selected'\r\n\t\t\t\tconst mappedWhatsapps = data.map((whatsapp) => ({\r\n\t\t\t\t\t...whatsapp,\r\n\t\t\t\t\tselected: false,\r\n\t\t\t\t}));\r\n\r\n\t\t\t\tsetWhatsapps(mappedWhatsapps);\r\n\t\t\t\tif (mappedWhatsapps.length && mappedWhatsapps?.length === 1){\r\n\t\t\t\t\tsetSelectedWhatsapps(mappedWhatsapps[0].id)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}, [currentContact, channelFilter])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (contactId && contacts.length) {\r\n\t\t\tconst contact = contacts.find(c => c.id === contactId);\r\n\t\t\tif (contact) {\r\n\t\t\t\tsetCurrentContact(contact);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [contactId, contacts]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { companyId } = user;\r\n\t\tif (open) {\r\n\t\t\ttry {\r\n\t\t\t\t(async () => {\r\n\t\t\t\t\tconst { data: contactList } = await api.get('/contacts/list', { params: { companyId: companyId } });\r\n\t\t\t\t\tlet customList = contactList.map((c) => ({ id: c.id, name: c.name, channel: c.channel }));\r\n\t\t\t\t\tif (isArray(customList)) {\r\n\t\t\t\t\t\tsetContacts([{ id: \"\", name: \"\", channel: \"\" }, ...customList]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (contactId) {\r\n\t\t\t\t\t\tsetSchedule(prevState => {\r\n\t\t\t\t\t\t\treturn { ...prevState, contactId }\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!scheduleId) return;\r\n\r\n\t\t\t\t\tconst { data } = await api.get(`/schedules/${scheduleId}`);\r\n\t\t\t\t\tsetSchedule(prevState => {\r\n\t\t\t\t\t\treturn { ...prevState, ...data, sendAt: moment(data.sendAt).format('YYYY-MM-DDTHH:mm') };\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (data.whatsapp) {\r\n\t\t\t\t\t\tsetSelectedWhatsapps(data.whatsapp.id);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (data.ticketUser) {\r\n\t\t\t\t\t\tsetSelectedUser(data.ticketUser);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (data.queueId) {\r\n\t\t\t\t\t\tsetSelectedQueue(data.queueId);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (data.intervalo) {\r\n\t\t\t\t\t\tsetIntervalo(data.intervalo);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (data.tipoDias) {\r\n\t\t\t\t\t\tsetTipoDias(data.tipoDias);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsetCurrentContact(data.contact);\r\n\t\t\t\t})()\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [scheduleId, contactId, open, user]);\r\n\r\n\tconst filterOptions = createFilterOptions({\r\n\t\ttrim: true,\r\n\t});\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetAttachment(null);\r\n\t\tsetSchedule(initialState);\r\n\t};\r\n\r\n\tconst handleAttachmentFile = (e) => {\r\n\t\tconst file = head(e.target.files);\r\n\t\tif (file) {\r\n\t\t\tsetAttachment(file);\r\n\t\t}\r\n\t};\r\n\r\n\tconst IconChannel = (channel) => {\r\n\t\tswitch (channel) {\r\n\t\t\tcase \"facebook\":\r\n\t\t\t\treturn <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\r\n\t\t\tcase \"instagram\":\r\n\t\t\t\treturn <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\r\n\t\t\tcase \"whatsapp\":\r\n\t\t\t\treturn <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\r\n\t\t\tdefault:\r\n\t\t\t\treturn \"error\";\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderOption = option => {\r\n\t\tif (option.name) {\r\n\t\t\treturn <>\r\n\t\t\t\t{IconChannel(option.channel)}\r\n\t\t\t\t<Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\r\n\t\t\t\t\t{option.name}\r\n\t\t\t\t</Typography>\r\n\t\t\t</>\r\n\t\t} else {\r\n\t\t\treturn `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\r\n\t\t}\r\n\t};\r\n\tconst handleSaveSchedule = async values => {\r\n\t\tconst scheduleData = {\r\n\t\t\t...values, userId: user.id, whatsappId: selectedWhatsapps, ticketUserId: selectedUser?.id || null,\r\n\t\t\tqueueId: selectedQueue || null, intervalo: intervalo || 1, tipoDias: tipoDias || 4\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tif (scheduleId) {\r\n\t\t\t\tawait api.put(`/schedules/${scheduleId}`, scheduleData);\r\n\t\t\t\tif (attachment != null) {\r\n\t\t\t\t\tconst formData = new FormData();\r\n\t\t\t\t\tformData.append(\"file\", attachment);\r\n\t\t\t\t\tawait api.post(\r\n\t\t\t\t\t\t`/schedules/${scheduleId}/media-upload`,\r\n\t\t\t\t\t\tformData\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst { data } = await api.post(\"/schedules\", scheduleData);\r\n\t\t\t\tif (attachment != null) {\r\n\t\t\t\t\tconst formData = new FormData();\r\n\t\t\t\t\tformData.append(\"file\", attachment);\r\n\t\t\t\t\tawait api.post(`/schedules/${data.id}/media-upload`, formData);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"scheduleModal.success\"));\r\n\t\t\tif (typeof reload == 'function') {\r\n\t\t\t\treload();\r\n\t\t\t}\r\n\t\t\tif (contactId) {\r\n\t\t\t\tif (typeof cleanContact === 'function') {\r\n\t\t\t\t\tcleanContact();\r\n\t\t\t\t\thistory.push('/schedules');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\tsetCurrentContact(initialContact);\r\n\t\tsetSchedule(initialState);\r\n\t\thandleClose();\r\n\t};\r\n\tconst handleClickMsgVar = async (msgVar, setValueFunc) => {\r\n\t\tconst el = messageInputRef.current;\r\n\t\tconst firstHalfText = el.value.substring(0, el.selectionStart);\r\n\t\tconst secondHalfText = el.value.substring(el.selectionEnd);\r\n\t\tconst newCursorPos = el.selectionStart + msgVar.length;\r\n\r\n\t\tsetValueFunc(\"body\", `${firstHalfText}${msgVar}${secondHalfText}`);\r\n\r\n\t\tawait new Promise(r => setTimeout(r, 100));\r\n\t\tmessageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\r\n\t};\r\n\r\n\tconst deleteMedia = async () => {\r\n\t\tif (attachment) {\r\n\t\t\tsetAttachment(null);\r\n\t\t\tattachmentFile.current.value = null;\r\n\t\t}\r\n\r\n\t\tif (schedule.mediaPath) {\r\n\t\t\tawait api.delete(`/schedules/${schedule.id}/media-upload`);\r\n\t\t\tsetSchedule((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\tmediaPath: null,\r\n\t\t\t}));\r\n\t\t\ttoast.success(i18n.t(\"scheduleModal.toasts.deleted\"));\r\n\t\t\tif (typeof reload == \"function\") {\r\n\t\t\t\treload();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<ConfirmationModal\r\n\t\t\t\ttitle={i18n.t(\"scheduleModal.confirmationModal.deleteTitle\")}\r\n\t\t\t\topen={confirmationOpen}\r\n\t\t\t\tonClose={() => setConfirmationOpen(false)}\r\n\t\t\t\tonConfirm={deleteMedia}\r\n\t\t\t>\r\n\t\t\t\t{i18n.t(\"scheduleModal.confirmationModal.deleteMessage\")}\r\n\t\t\t</ConfirmationModal>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tmaxWidth=\"md\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tscroll=\"paper\"\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{schedule.status === 'ERRO' ? 'Erro de Envio' : `Mensagem ${capitalize(schedule.status)}`}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<div style={{ display: \"none\" }}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\taccept=\".png,.jpg,.jpeg\"\r\n\t\t\t\t\t\tref={attachmentFile}\r\n\t\t\t\t\t\tonChange={(e) => handleAttachmentFile(e)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={schedule}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={ScheduleSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveSchedule(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ touched, errors, isSubmitting, values, setFieldValue }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={currentContact}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={contacts}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, contact) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst contactId = contact ? contact.id : '';\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetSchedule({ ...schedule, contactId });\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentContact(contact ? contact : initialContact);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetChannelFilter(contact ? contact.channel : \"whatsapp\");\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.name}\r\n\t\t\t\t\t\t\t\t\t\t\trenderOption={renderOption}\r\n\t\t\t\t\t\t\t\t\t\t\tgetOptionSelected={(option, value) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn value.id === option.id\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} variant=\"outlined\" placeholder=\"Contato\" />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\trows={9}\r\n\t\t\t\t\t\t\t\t\t\tmultiline={true}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.body\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\r\n\t\t\t\t\t\t\t\t\t\tinputRef={messageInputRef}\r\n\t\t\t\t\t\t\t\t\t\terror={touched.body && Boolean(errors.body)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.body && errors.body}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={6}>\r\n\t\t\t\t\t\t\t\t\t<MessageVariablesPicker\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\tonClick={value => handleClickMsgVar(value, setFieldValue)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"whatsapp-selection-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"whatsapp-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"whatsappIds\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"whatsappIds\"\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={touched.whatsappId && Boolean(errors.whatsappId)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedWhatsapps}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => setSelectedWhatsapps(event.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsapps &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twhatsapps.map((whatsapp) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={whatsapp.id} value={whatsapp.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{whatsapp.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"openTicket-selection-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"campaigns.dialog.form.openTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"campaigns.dialog.form.openTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"campaigns.dialog.form.openTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"openTicket-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"openTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"openTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.openTicket && Boolean(errors.openTicket)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"enabled\"}>{i18n.t(\"campaigns.dialog.form.enabledOpenTicket\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"disabled\"}>{i18n.t(\"campaigns.dialog.form.disabledOpenTicket\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid spacing={1} container>\r\n\t\t\t\t\t\t\t\t\t{/* SELECIONAR USUARIO */}\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '8px' }}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => `${option.name}`}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={selectedUser}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedUser(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (newValue != null && Array.isArray(newValue.queues)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (newValue.queues.length === 1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedQueue(newValue.queues[0].id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetQueues(newValue.queues);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetQueues(allQueues);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedQueue(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={options}\r\n\t\t\t\t\t\t\t\t\t\t\tfilterOptions={filterOptions}\r\n\t\t\t\t\t\t\t\t\t\t\tfreeSolo\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\r\n\t\t\t\t\t\t\t\t\t\t\tautoHighlight\r\n\t\t\t\t\t\t\t\t\t\t\tnoOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\r\n\t\t\t\t\t\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\t\t\t\t\t\trenderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldLabel\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSearchParam(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...params.InputProps,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"transferTicketModal.fieldQueueLabel\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedQueue}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSelectedQueue(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{queues.map((queue) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{queue.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid spacing={1} container style={{ marginTop: '-10px' }}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"statusTicket-selection-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"campaigns.dialog.form.statusTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"campaigns.dialog.form.statusTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"campaigns.dialog.form.statusTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"statusTicket-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"statusTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"statusTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.statusTicket && Boolean(errors.statusTicket)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"closed\"}>{i18n.t(\"campaigns.dialog.form.closedTicketStatus\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"open\"}>{i18n.t(\"campaigns.dialog.form.openTicketStatus\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.sendAt\")}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"sendAt\"\r\n\t\t\t\t\t\t\t\t\t\t\t// InputLabelProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t// \tshrink: true,\r\n\t\t\t\t\t\t\t\t\t\t\t// }}\r\n\t\t\t\t\t\t\t\t\t\t\terror={touched.sendAt && Boolean(errors.sendAt)}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.sendAt && errors.sendAt}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '8px' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={Switch}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"assinar\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={values.assinar}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.assinar\")}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<h3>Recorrência</h3>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tVocê pode escolher enviar a mensagem de forma recorrente e\r\n\t\t\t\t\t\t\t\t\tescolher o intervalo. Caso seja uma mensagem a ser enviada\r\n\t\t\t\t\t\t\t\t\tuma unica vez, não altere nada nesta seção.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={4} xl={4}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl size=\"small\" fullWidth variant=\"outlined\">\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"demo-simple-select-label\">Intervalo</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"demo-simple-select-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"demo-simple-select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={intervalo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t// name=\"intervalo\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIntervalo(e.target.value || 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Intervalo\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={1}>Dias</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={2}>Semanas</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={3}>Meses</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={4}>Minutos</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={4} xl={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Valor do Intervalo\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"valorIntervalo\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\terror={touched.valorIntervalo && Boolean(errors.valorIntervalo)}\r\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={4} xl={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Enviar quantas vezes\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"enviarQuantasVezes\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\ttouched.enviarQuantasVezes &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tBoolean(errors.enviarQuantasVezes)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl size=\"small\" fullWidth variant=\"outlined\">\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"demo-simple-select-label\">Enviar quantas vezes</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"demo-simple-select-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"demo-simple-select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={tipoDias}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTipoDias(e.target.value || 4)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Enviar quantas vezes\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={4}>Enviar normalmente em dias não úteis</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={5}>Enviar um dia útil antes</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={6}>Enviar um dia útil depois</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{(schedule.mediaPath || attachment) && (\r\n\t\t\t\t\t\t\t\t\t<Grid xs={12} item>\r\n\t\t\t\t\t\t\t\t\t\t<Button startIcon={<AttachFile />}>\r\n\t\t\t\t\t\t\t\t\t\t\t{attachment ? attachment.name : schedule.mediaName}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setConfirmationOpen(true)}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline color=\"secondary\" />\r\n\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t{!attachment && !schedule.mediaPath && (\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => attachmentFile.current.click()}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"quickMessages.buttons.attach\")}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"scheduleModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{(schedule.sentAt === null || schedule.sentAt === \"\") && (\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{scheduleId\r\n\t\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"scheduleModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"scheduleModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ScheduleModal;","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport \"emoji-mart/css/emoji-mart.css\";\r\nimport { Picker } from \"emoji-mart\";\r\nimport { useMediaQuery, useTheme } from '@material-ui/core';\r\nimport { isNil } from \"lodash\";\r\nimport {\r\n  CircularProgress,\r\n  ClickAwayListener,\r\n  IconButton,\r\n  InputBase,\r\n  makeStyles,\r\n  Paper,\r\n  Hidden,\r\n  Menu,\r\n  MenuItem,\r\n  Tooltip,\r\n  Fab,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  blue,\r\n  green,\r\n  pink,\r\n  grey,\r\n} from \"@material-ui/core/colors\";\r\nimport {\r\n  AttachFile,\r\n  CheckCircleOutline,\r\n  Clear,\r\n  Comment,\r\n  Create,\r\n  Description,\r\n  HighlightOff,\r\n  Mic,\r\n  Mood,\r\n  MoreVert,\r\n  Send,\r\n  PermMedia,\r\n  Person,\r\n  Reply,\r\n  Duo,\r\n  Timer,\r\n} from \"@material-ui/icons\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { CameraAlt } from \"@material-ui/icons\";\r\nimport MicRecorder from \"mic-recorder-to-mp3\";\r\nimport clsx from \"clsx\";\r\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport RecordingTimer from \"./RecordingTimer\";\r\n\r\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\r\nimport { isString, isEmpty } from \"lodash\";\r\nimport ContactSendModal from \"../ContactSendModal\";\r\nimport CameraModal from \"../CameraModal\";\r\nimport axios from \"axios\";\r\n\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\r\nimport MessageUploadMedias from \"../MessageUploadMedias\";\r\nimport { EditMessageContext } from \"../../context/EditingMessage/EditingMessageContext\";\r\nimport ScheduleModal from \"../ScheduleModal\";\r\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\n\r\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainWrapper: {\r\n    background: \"#eee\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      position: \"fixed\",\r\n      bottom: 0,\r\n      width: \"100%\",\r\n    },\r\n  },\r\n  avatar: {\r\n    width: \"50px\",\r\n    height: \"50px\",\r\n    borderRadius: \"25%\",\r\n  },\r\n  dropInfo: {\r\n    background: \"#eee\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n    padding: 15,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  dropInfoOut: {\r\n    display: \"none\",\r\n  },\r\n  gridFiles: {\r\n    maxHeight: \"100%\",\r\n    overflow: \"scroll\",\r\n  },\r\n  newMessageBox: {\r\n    background: theme.palette.background.default,\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    padding: \"7px\",\r\n    alignItems: \"center\",\r\n  },\r\n  messageInputWrapper: {\r\n    padding: 6,\r\n    marginRight: 7,\r\n    background: theme.palette.background.paper,\r\n    display: \"flex\",\r\n    borderRadius: 20,\r\n    flex: 1,\r\n    position: \"relative\",\r\n  },\r\n  messageInputWrapperPrivate: {\r\n    padding: 6,\r\n    marginRight: 7,\r\n    background: \"#F0E68C\",\r\n    display: \"flex\",\r\n    borderRadius: 20,\r\n    flex: 1,\r\n    position: \"relative\",\r\n  },\r\n  messageInput: {\r\n    paddingLeft: 10,\r\n    flex: 1,\r\n    border: \"none\",\r\n\r\n  },\r\n  messageInputPrivate: {\r\n    paddingLeft: 10,\r\n    flex: 1,\r\n    border: \"none\",\r\n    color: grey[800],\r\n\r\n  },\r\n  sendMessageIcons: {\r\n    color: grey[700],\r\n  },\r\n  ForwardMessageIcons: {\r\n    color: grey[700],\r\n    transform: 'scaleX(-1)'\r\n  },\r\n  uploadInput: {\r\n    display: \"none\",\r\n  },\r\n  viewMediaInputWrapper: {\r\n    maxHeight: \"100%\",\r\n    display: \"flex\",\r\n    padding: \"10px 13px\",\r\n    position: \"relative\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    backgroundColor: theme.mode === 'light' ? \"#ffffff\" : \"#202c33\",\r\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  emojiBox: {\r\n    position: \"absolute\",\r\n    bottom: 63,\r\n    width: 40,\r\n    borderTop: \"1px solid #e8e8e8\",\r\n  },\r\n  circleLoading: {\r\n    color: green[500],\r\n    opacity: \"70%\",\r\n    position: \"absolute\",\r\n    top: \"20%\",\r\n    left: \"50%\",\r\n    marginLeft: -12,\r\n  },\r\n  audioLoading: {\r\n    color: green[500],\r\n    opacity: \"70%\",\r\n  },\r\n  recorderWrapper: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    alignContent: \"middle\",\r\n  },\r\n  cancelAudioIcon: {\r\n    color: \"red\",\r\n  },\r\n  sendAudioIcon: {\r\n    color: \"green\",\r\n  },\r\n  replyginMsgWrapper: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    paddingTop: 8,\r\n    paddingLeft: 73,\r\n    paddingRight: 7,\r\n    backgroundColor: theme.palette.optionsBackground,\r\n  },\r\n  replyginMsgContainer: {\r\n    flex: 1,\r\n    marginRight: 5,\r\n    overflowY: \"hidden\",\r\n    backgroundColor: theme.mode === \"light\" ? \"#f0f0f0\" : \"#1d282f\", //\"rgba(0, 0, 0, 0.05)\",\r\n    borderRadius: \"7.5px\",\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n  },\r\n  replyginMsgBody: {\r\n    padding: 10,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    whiteSpace: \"pre-wrap\",\r\n    overflow: \"hidden\",\r\n  },\r\n  replyginContactMsgSideColor: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#35cd96\",\r\n  },\r\n  replyginSelfMsgSideColor: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#6bcbef\",\r\n  },\r\n  messageContactName: {\r\n    display: \"flex\",\r\n    color: \"#6bcbef\",\r\n    fontWeight: 500,\r\n  },\r\n  messageQuickAnswersWrapper: {\r\n    margin: 0,\r\n    position: \"absolute\",\r\n    bottom: \"50px\",\r\n    background: theme.palette.background.default,\r\n    padding: 0,\r\n    border: \"none\",\r\n    left: 0,\r\n    width: \"100%\",\r\n    \"& li\": {\r\n      listStyle: \"none\",\r\n      \"& a\": {\r\n        display: \"block\",\r\n        padding: \"8px\",\r\n        textOverflow: \"ellipsis\",\r\n        overflow: \"hidden\",\r\n        maxHeight: \"30px\",\r\n        \"&:hover\": {\r\n          background: theme.palette.background.paper,\r\n          cursor: \"pointer\",\r\n        },\r\n      },\r\n    },\r\n  },\r\n  invertedFabMenu: {\r\n    border: \"none\",\r\n    borderRadius: 50, // Define o raio da borda para 0 para remover qualquer borda\r\n    boxShadow: \"none\", // Remove a sombra\r\n    padding: theme.spacing(1),\r\n    backgroundColor: \"transparent\",\r\n    color: \"grey\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n    },\r\n    \"&:disabled\": {\r\n      backgroundColor: \"transparent !important\",\r\n    },\r\n  },\r\n  invertedFabMenuMP: {\r\n    border: \"none\",\r\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\r\n    boxShadow: \"none\", // Remove a sombra\r\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferências\r\n    height: theme.spacing(4),\r\n    backgroundColor: \"transparent\",\r\n    color: blue[800],\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n    },\r\n  },\r\n  invertedFabMenuCont: {\r\n    border: \"none\",\r\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\r\n    boxShadow: \"none\", // Remove a sombra\r\n    minHeight: \"auto\",\r\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferências\r\n    height: theme.spacing(4),\r\n    backgroundColor: \"transparent\",\r\n    color: blue[500],\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n    },\r\n  },\r\n  invertedFabMenuMeet: {\r\n    border: \"none\",\r\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\r\n    boxShadow: \"none\", // Remove a sombra\r\n    minHeight: \"auto\",\r\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferências\r\n    height: theme.spacing(4),\r\n    backgroundColor: \"transparent\",\r\n    color: green[500],\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n    },\r\n  },\r\n  invertedFabMenuDoc: {\r\n    border: \"none\",\r\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\r\n    boxShadow: \"none\", // Remove a sombra\r\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferências\r\n    height: theme.spacing(4),\r\n    backgroundColor: \"transparent\",\r\n    color: \"#7f66ff\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n    },\r\n  },\r\n  invertedFabMenuCamera: {\r\n    border: \"none\",\r\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\r\n    boxShadow: \"none\", // Remove a sombra\r\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferências\r\n    height: theme.spacing(4),\r\n    backgroundColor: \"transparent\",\r\n    color: pink[500],\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n    },\r\n  },\r\n  flexContainer: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n    flexDirection: \"column\",\r\n  },\r\n  flexItem: {\r\n    flex: 1,\r\n  },\r\n}));\r\n\r\nconst MessageInput = ({ ticketId, ticketStatus, droppedFiles, contactId, ticketChannel }) => {\r\n\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [mediasUpload, setMediasUpload] = useState([]);\r\n  const isMounted = useRef(true);\r\n\r\n  const [inputMessage, setInputMessage] = useState(\"\");\r\n  const [showEmoji, setShowEmoji] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [recording, setRecording] = useState(false);\r\n  const [quickAnswers, setQuickAnswer] = useState([]);\r\n  const [typeBar, setTypeBar] = useState(false);\r\n  const inputRef = useRef();\r\n  const [onDragEnter, setOnDragEnter] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const { setReplyingMessage, replyingMessage } = useContext(ReplyMessageContext);\r\n  const { setEditingMessage, editingMessage } = useContext(EditMessageContext);\r\n  const { user } = useContext(AuthContext);\r\n  const [appointmentModalOpen, setAppointmentModalOpen] = useState(false);\r\n\r\n  const [signMessagePar, setSignMessagePar] = useState(false);\r\n  const { get: getSetting } = useCompanySettings();\r\n  const [signMessage, setSignMessage] = useState(true);\r\n  const [privateMessage, setPrivateMessage] = useState(false);\r\n  const [privateMessageInputVisible, setPrivateMessageInputVisible] = useState(false);\r\n  const [senVcardModalOpen, setSenVcardModalOpen] = useState(false);\r\n  const [showModalMedias, setShowModalMedias] = useState(false);\r\n\r\n  const { list: listQuickMessages } = useQuickMessages();\r\n\r\n\r\n  const isMobile = useMediaQuery('(max-width: 767px)'); // Ajuste o valor conforme necessário\r\n  const [placeholderText, setPlaceHolderText] = useState(\"\");\r\n\r\n  // Determine o texto do placeholder com base no ticketStatus\r\n  useEffect(() => {\r\n    if (ticketStatus === \"open\" || ticketStatus === \"group\") {\r\n      setPlaceHolderText(i18n.t(\"messagesInput.placeholderOpen\"));\r\n    } else {\r\n      setPlaceHolderText(i18n.t(\"messagesInput.placeholderClosed\"));\r\n    }\r\n\r\n    // Limitar o comprimento do texto do placeholder apenas em ambientes mobile\r\n    const maxLength = isMobile ? 20 : Infinity; // Define o limite apenas em mobile\r\n\r\n    if (isMobile && placeholderText.length > maxLength) {\r\n      setPlaceHolderText(placeholderText.substring(0, maxLength) + \"...\");\r\n    }\r\n  }, [ticketStatus])\r\n\r\n  const {\r\n    selectedMessages,\r\n    setForwardMessageModalOpen,\r\n    showSelectMessageCheckbox } = useContext(ForwardMessageContext);\r\n\r\n  useEffect(() => {\r\n    if (droppedFiles && droppedFiles.length > 0) {\r\n      const selectedMedias = Array.from(droppedFiles);\r\n      setMediasUpload(selectedMedias);\r\n      setShowModalMedias(true);\r\n    }\r\n  }, [droppedFiles]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    inputRef.current.focus();\r\n    if (editingMessage) {\r\n      setInputMessage(editingMessage.body);\r\n    }\r\n  }, [replyingMessage, editingMessage]);\r\n\r\n  useEffect(() => {\r\n    inputRef.current.focus();\r\n    return () => {\r\n      setInputMessage(\"\");\r\n      setShowEmoji(false);\r\n      setMediasUpload([]);\r\n      setReplyingMessage(null);\r\n      //setSignMessage(true);\r\n      setPrivateMessage(false);\r\n      setPrivateMessageInputVisible(false)\r\n      setEditingMessage(null);\r\n    };\r\n  }, [ticketId, setReplyingMessage, setEditingMessage]);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      if (isMounted.current)\r\n        setOnDragEnter(false);\r\n    }, 1000);\r\n    // eslint-disable-next-line\r\n  }, [onDragEnter === true]);\r\n\r\n  //permitir ativar/desativar firma\r\n  useEffect(() => {\r\n    const fetchSettings = async () => {\r\n      const setting = await getSetting({\r\n        \"column\": \"sendSignMessage\"\r\n      });\r\n\r\n      if (isMounted.current) {\r\n        if (setting.sendSignMessage === \"enabled\") {\r\n          setSignMessagePar(true);\r\n          const signMessageStorage = JSON.parse(\r\n            localStorage.getItem(\"persistentSignMessage\")\r\n          );\r\n          if (isNil(signMessageStorage)) {\r\n            setSignMessage(true)\r\n          } else {\r\n            setSignMessage(signMessageStorage);\r\n          }\r\n        } else {\r\n          setSignMessagePar(false);\r\n        }\r\n      }\r\n    };\r\n    fetchSettings();\r\n  }, []);\r\n\r\n  const capitalizeFirstLetter = (string) => {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n\r\n  const handleSendLinkVideo = async () => {\r\n    const link = `https://meet.jit.si/${ticketId}`;\r\n    setInputMessage(link);\r\n  }\r\n\r\n  const handleChangeInput = (e) => {\r\n    setInputMessage(e.target.value);\r\n  };\r\n\r\n  const handlePrivateMessage = (e) => {\r\n    setPrivateMessage(!privateMessage);\r\n    setPrivateMessageInputVisible(!privateMessageInputVisible);\r\n  };\r\n\r\n  const handleQuickAnswersClick = async (value) => {\r\n    if (value.mediaPath) {\r\n      try {\r\n        const { data } = await axios.get(value.mediaPath, {\r\n          responseType: \"blob\",\r\n        });\r\n\r\n        handleUploadQuickMessageMedia(data, value.value);\r\n        setInputMessage(\"\");\r\n        return;\r\n        //  handleChangeMedias(response)\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n    setInputMessage(\"\");\r\n    setInputMessage(value.value);\r\n    setTypeBar(false);\r\n  };\r\n\r\n  const handleAddEmoji = (e) => {\r\n    let emoji = e.native;\r\n    setInputMessage((prevState) => prevState + emoji);\r\n  };\r\n\r\n  const [modalCameraOpen, setModalCameraOpen] = useState(false);\r\n\r\n  const handleCapture = (imageData) => {\r\n    if (imageData) {\r\n      handleUploadCamera(imageData);\r\n    }\r\n  };\r\n\r\n  const handleChangeMedias = (e) => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setMediasUpload(selectedMedias);\r\n    setShowModalMedias(true);\r\n  };\r\n\r\n  const handleChangeSign = (e) => {\r\n    getStatusSingMessageLocalstogare();\r\n  };\r\n\r\n  const handleOpenModalForward = () => {\r\n    if (selectedMessages.length === 0) {\r\n      setForwardMessageModalOpen(false)\r\n      toastError(i18n.t(\"messagesList.header.notMessage\"));\r\n      return;\r\n    }\r\n    setForwardMessageModalOpen(true);\r\n  }\r\n\r\n  const getStatusSingMessageLocalstogare = () => {\r\n    const signMessageStorage = JSON.parse(\r\n      localStorage.getItem(\"persistentSignMessage\")\r\n    );\r\n    //si existe uma chave \"sendSingMessage\"\r\n    if (signMessageStorage !== null) {\r\n      if (signMessageStorage) {\r\n        localStorage.setItem(\"persistentSignMessage\", false);\r\n        setSignMessage(false);\r\n      } else {\r\n        localStorage.setItem(\"persistentSignMessage\", true);\r\n        setSignMessage(true);\r\n      }\r\n    } else {\r\n      localStorage.setItem(\"persistentSignMessage\", false);\r\n      setSignMessage(false);\r\n    }\r\n  };\r\n\r\n  const handleInputPaste = (e) => {\r\n    if (e.clipboardData.files[0]) {\r\n      const selectedMedias = Array.from(e.clipboardData.files);\r\n      setMediasUpload(selectedMedias);\r\n      setShowModalMedias(true);\r\n    }\r\n  };\r\n\r\n  const handleInputDrop = (e) => {\r\n    e.preventDefault();\r\n    if (e.dataTransfer.files[0]) {\r\n      const selectedMedias = Array.from(e.dataTransfer.files);\r\n      setMediasUpload(selectedMedias);\r\n      setShowModalMedias(true);\r\n    }\r\n  };\r\n\r\n  const handleUploadMedia = async (mediasUpload) => {\r\n    setLoading(true);\r\n    // e.preventDefault();\r\n\r\n    // Certifique-se de que a variável medias esteja preenchida antes de continuar\r\n    if (!mediasUpload.length) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"fromMe\", true);\r\n    formData.append(\"isPrivate\", privateMessage ? \"true\" : \"false\");\r\n    mediasUpload.forEach((media) => {\r\n      formData.append(\"body\", media.caption);\r\n      formData.append(\"medias\", media.file);\r\n    });\r\n\r\n    try {\r\n      await api.post(`/messages/${ticketId}`, formData);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n    setLoading(false);\r\n    setMediasUpload([]);\r\n    setShowModalMedias(false);\r\n    setPrivateMessage(false);\r\n    setPrivateMessageInputVisible(false)\r\n  };\r\n\r\n  const handleSendContatcMessage = async (vcard) => {\r\n    setSenVcardModalOpen(false);\r\n    setLoading(true);\r\n\r\n    if (isNil(vcard)) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const message = {\r\n      read: 1,\r\n      fromMe: true,\r\n      mediaUrl: \"\",\r\n      body: null,\r\n      quotedMsg: replyingMessage,\r\n      isPrivate: privateMessage ? \"true\" : \"false\",\r\n      vCard: vcard,\r\n    };\r\n    try {\r\n      await api.post(`/messages/${ticketId}`, message);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n    setInputMessage(\"\");\r\n    setShowEmoji(false);\r\n    setLoading(false);\r\n    setReplyingMessage(null);\r\n    setEditingMessage(null);\r\n    setPrivateMessage(false);\r\n    setPrivateMessageInputVisible(false);\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n\r\n    if (inputMessage.trim() === \"\") return;\r\n    setLoading(true);\r\n\r\n    const userName = privateMessage\r\n      ? `${user.name} - Mensagem Privada`\r\n      : user.name;\r\n\r\n    const sendMessage = inputMessage.trim();\r\n\r\n    const message = {\r\n      read: 1,\r\n      fromMe: true,\r\n      mediaUrl: \"\",\r\n      body: (signMessage || privateMessage) && !editingMessage\r\n        ? `*${userName}:*\\n${sendMessage}`\r\n        : sendMessage,\r\n      quotedMsg: replyingMessage,\r\n      isPrivate: privateMessage ? \"true\" : \"false\",\r\n    };\r\n\r\n    try {\r\n      if (editingMessage !== null) {\r\n        await api.post(`/messages/edit/${editingMessage.id}`, message);\r\n      } else {\r\n        await api.post(`/messages/${ticketId}`, message);\r\n      }\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n    setInputMessage(\"\");\r\n    setShowEmoji(false);\r\n    setLoading(false);\r\n    setReplyingMessage(null);\r\n    setPrivateMessage(false);\r\n    setEditingMessage(null);\r\n    setPrivateMessageInputVisible(false)\r\n    handleMenuItemClick();\r\n  };\r\n\r\n  const handleStartRecording = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      await Mp3Recorder.start();\r\n      setRecording(true);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const messages = await listQuickMessages({ companyId, userId: user.id });\r\n      const options = messages.map((m) => {\r\n        let truncatedMessage = m.message;\r\n        if (isString(truncatedMessage) && truncatedMessage.length > 90) {\r\n          truncatedMessage = m.message.substring(0, 90) + \"...\";\r\n        }\r\n        return {\r\n          value: m.message,\r\n          label: `/${m.shortcode} - ${truncatedMessage}`,\r\n          mediaPath: m.mediaPath,\r\n        };\r\n      });\r\n      if (isMounted.current) {\r\n\r\n        setQuickAnswer(options);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      isString(inputMessage) &&\r\n      !isEmpty(inputMessage) &&\r\n      inputMessage.length >= 1\r\n    ) {\r\n      const firstWord = inputMessage.charAt(0);\r\n\r\n      if (firstWord === \"/\") {\r\n        setTypeBar(firstWord.indexOf(\"/\") > -1);\r\n\r\n        const filteredOptions = quickAnswers.filter(\r\n          (m) => m.label.toLowerCase().indexOf(inputMessage.toLowerCase()) > -1\r\n        );\r\n        setTypeBar(filteredOptions);\r\n      } else {\r\n        setTypeBar(false);\r\n      }\r\n    } else {\r\n      setTypeBar(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [inputMessage]);\r\n\r\n  const disableOption = () => {\r\n    return (\r\n      loading ||\r\n      recording ||\r\n      (ticketStatus !== \"open\" && ticketStatus !== \"group\")\r\n    );\r\n  };\r\n\r\n  const handleUploadCamera = async (blob) => {\r\n    setLoading(true);\r\n    try {\r\n      const formData = new FormData();\r\n      const filename = `${new Date().getTime()}.png`;\r\n      formData.append(\"medias\", blob, filename);\r\n      formData.append(\"body\", privateMessage ? `\\u200d` : \"\");\r\n      formData.append(\"fromMe\", true);\r\n\r\n      await api.post(`/messages/${ticketId}`, formData);\r\n    } catch (err) {\r\n      toastError(err);\r\n      setLoading(false);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleUploadQuickMessageMedia = async (blob, message) => {\r\n    setLoading(true);\r\n    try {\r\n      const extension = blob.type.split(\"/\")[1];\r\n\r\n      const formData = new FormData();\r\n      const filename = `${new Date().getTime()}.${extension}`;\r\n      formData.append(\"medias\", blob, filename);\r\n      formData.append(\"body\", privateMessage ? `\\u200d${message}` : message);\r\n      formData.append(\"fromMe\", true);\r\n\r\n      if (isMounted.current) {\r\n        await api.post(`/messages/${ticketId}`, formData);\r\n      }\r\n    } catch (err) {\r\n      toastError(err);\r\n    } finally {\r\n      if (isMounted.current) {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  const handleUploadAudio = async () => {\r\n\r\n    setLoading(true);\r\n    try {\r\n      const [, blob] = await Mp3Recorder.stop().getMp3();\r\n      if (blob.size < 10000) {\r\n        setLoading(false);\r\n        setRecording(false);\r\n        return;\r\n      }\r\n\r\n      const formData = new FormData();\r\n      const filename = ticketChannel === \"whatsapp\" ? `${new Date().getTime()}.mp3` : `${new Date().getTime()}.m4a`;\r\n      formData.append(\"medias\", blob, filename);\r\n      formData.append(\"body\", filename);\r\n      formData.append(\"fromMe\", true);\r\n\r\n      if (isMounted.current) {\r\n        await api.post(`/messages/${ticketId}`, formData);\r\n      }\r\n    } catch (err) {\r\n      toastError(err);\r\n    } finally {\r\n      if (isMounted.current) {\r\n        setLoading(false);\r\n        setRecording(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCloseModalMedias = () => {\r\n    setShowModalMedias(false);\r\n  };\r\n  const handleCancelAudio = async () => {\r\n    try {\r\n      await Mp3Recorder.stop().getMp3();\r\n      setRecording(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenMenuClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMenuItemClick = (event) => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleSendContactModalOpen = async () => {\r\n    handleMenuItemClick();\r\n    setSenVcardModalOpen(true);\r\n  };\r\n\r\n  const handleCameraModalOpen = async () => {\r\n    handleMenuItemClick();\r\n    setModalCameraOpen(true);\r\n  };\r\n\r\n  const handleCancelSelection = () => {\r\n    setMediasUpload([]);\r\n    setShowModalMedias(false);\r\n  };\r\n\r\n  const renderReplyingMessage = (message) => {\r\n    return (\r\n      <div className={classes.replyginMsgWrapper}>\r\n        <div className={classes.replyginMsgContainer}>\r\n          <span\r\n            className={clsx(classes.replyginContactMsgSideColor, {\r\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\r\n            })}\r\n          ></span>\r\n          {replyingMessage && (\r\n            <div className={classes.replyginMsgBody}>\r\n              {!message.fromMe && (\r\n                <span className={classes.messageContactName}>\r\n                  {message.contact?.name}\r\n                </span>\r\n              )}\r\n              {message.body}\r\n            </div>\r\n          )\r\n          }\r\n        </div>\r\n        <IconButton\r\n          aria-label=\"showRecorder\"\r\n          component=\"span\"\r\n          disabled={disableOption()}\r\n          onClick={() => {\r\n            setReplyingMessage(null);\r\n            setEditingMessage(null);\r\n            setInputMessage(\"\");\r\n          }}\r\n        >\r\n          <Clear className={classes.sendMessageIcons} />\r\n        </IconButton>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (mediasUpload.length > 0) {\r\n    return (\r\n\r\n      <Paper\r\n        elevation={0}\r\n        square\r\n        className={classes.viewMediaInputWrapper}\r\n        onDragEnter={() => setOnDragEnter(true)}\r\n        onDrop={(e) => handleInputDrop(e)}\r\n      >\r\n        {showModalMedias && (\r\n          <MessageUploadMedias\r\n            isOpen={showModalMedias}\r\n            files={mediasUpload}\r\n            onClose={handleCloseModalMedias}\r\n            onSend={handleUploadMedia}\r\n            onCancelSelection={handleCancelSelection}\r\n          />\r\n        )}\r\n\r\n      </Paper>\r\n    )\r\n  }\r\n  else {\r\n    return (\r\n      <>\r\n        {modalCameraOpen && (\r\n          <CameraModal\r\n            isOpen={modalCameraOpen}\r\n            onRequestClose={() => setModalCameraOpen(false)}\r\n            onCapture={handleCapture}\r\n          />\r\n        )}\r\n        {senVcardModalOpen && (\r\n          <ContactSendModal\r\n            modalOpen={senVcardModalOpen}\r\n            onClose={(c) => {\r\n              handleSendContatcMessage(c);\r\n            }}\r\n          />\r\n        )}\r\n        <Paper\r\n          square\r\n          elevation={0}\r\n          className={classes.mainWrapper}\r\n          onDragEnter={() => setOnDragEnter(true)}\r\n          onDrop={(e) => handleInputDrop(e)}\r\n        >\r\n          {(replyingMessage && renderReplyingMessage(replyingMessage)) || (editingMessage && renderReplyingMessage(editingMessage))}\r\n          <div className={classes.newMessageBox}>\r\n            <Hidden only={[\"sm\", \"xs\"]}>\r\n              <IconButton\r\n                aria-label=\"emojiPicker\"\r\n                component=\"span\"\r\n                disabled={disableOption()}\r\n                onClick={(e) => setShowEmoji((prevState) => !prevState)}\r\n              >\r\n                <Mood className={classes.sendMessageIcons} />\r\n              </IconButton>\r\n              {showEmoji ? (\r\n                <div className={classes.emojiBox}>\r\n                  <ClickAwayListener onClickAway={(e) => setShowEmoji(true)}>\r\n                    <Picker\r\n                      perLine={16}\r\n                      theme={\"dark\"}\r\n                      i18n={i18n}\r\n                      showPreview={true}\r\n                      showSkinTones={false}\r\n                      onSelect={handleAddEmoji}\r\n                    />\r\n                  </ClickAwayListener>\r\n                </div>\r\n              ) : null}\r\n\r\n              <Fab\r\n                disabled={disableOption()}\r\n                aria-label=\"uploadMedias\"\r\n                component=\"span\"\r\n                className={classes.invertedFabMenu}\r\n                onClick={handleOpenMenuClick}\r\n              >\r\n                <AddIcon />\r\n              </Fab>\r\n              <Menu\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleMenuItemClick}\r\n                id=\"simple-menu\"\r\n              >\r\n                <MenuItem onClick={handleMenuItemClick}>\r\n                  <input\r\n                    multiple\r\n                    type=\"file\"\r\n                    id=\"upload-img-button\"\r\n                    accept=\"image/*, video/*, audio/* \"\r\n                    // disabled={disableOption()}\r\n                    className={classes.uploadInput}\r\n                    onChange={handleChangeMedias}\r\n                  />\r\n                  <label htmlFor=\"upload-img-button\">\r\n                    <Fab\r\n                      aria-label=\"upload-img\"\r\n                      component=\"span\"\r\n                      className={classes.invertedFabMenuMP}\r\n                    >\r\n                      <PermMedia />\r\n                    </Fab>\r\n                    {i18n.t(\"messageInput.type.imageVideo\")}\r\n                  </label>\r\n                </MenuItem>\r\n                <MenuItem onClick={handleCameraModalOpen}>\r\n                  <Fab className={classes.invertedFabMenuCamera}>\r\n                    <CameraAlt />\r\n                  </Fab>\r\n                  {i18n.t(\"messageInput.type.cam\")}\r\n                </MenuItem>\r\n                <MenuItem onClick={handleMenuItemClick}>\r\n                  <input\r\n                    multiple\r\n                    type=\"file\"\r\n                    id=\"upload-doc-button\"\r\n                    accept=\"application/*, text/*\"\r\n                    // disabled={disableOption()}\r\n                    className={classes.uploadInput}\r\n                    onChange={handleChangeMedias}\r\n                  />\r\n                  <label htmlFor=\"upload-doc-button\">\r\n                    <Fab aria-label=\"upload-img\"\r\n                      component=\"span\" className={classes.invertedFabMenuDoc}>\r\n                      <Description />\r\n                    </Fab>\r\n                    Documento\r\n                  </label>\r\n                </MenuItem>\r\n                <MenuItem onClick={handleSendContactModalOpen}>\r\n                  <Fab className={classes.invertedFabMenuCont}>\r\n                    <Person />\r\n                  </Fab>\r\n                  {i18n.t(\"messageInput.type.contact\")}\r\n                </MenuItem>\r\n                <MenuItem onClick={handleSendLinkVideo}>\r\n                  <Fab className={classes.invertedFabMenuMeet}>\r\n                    <Duo />\r\n                  </Fab>\r\n                  {i18n.t(\"messageInput.type.meet\")}\r\n                </MenuItem>\r\n              </Menu>\r\n              {/* <IconButton\r\n\t\t\t\t  aria-label=\"upload\"\r\n\t\t\t\t  component=\"span\"\r\n\t\t\t\t  disabled={disableOption()}\r\n\t\t\t\t  onMouseOver={() => setOnDragEnter(true)}\r\n\t\t\t\t>\r\n\t\t\t\t  <AttachFile className={classes.sendMessageIcons} />\r\n\t\t\t\t</IconButton> */}\r\n\r\n              {/* </label> */}\r\n              {signMessagePar && (\r\n                <Tooltip title={i18n.t(\"messageInput.tooltip.signature\")}>\r\n                  <IconButton\r\n                    aria-label=\"send-upload\"\r\n                    component=\"span\"\r\n                    onClick={handleChangeSign}\r\n                  >\r\n                    {signMessage === true ? (\r\n                      <Create style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\r\n                    ) : (\r\n                      <Create style={{ color: \"grey\" }} />\r\n                    )}\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )}\r\n              <Tooltip title={i18n.t(\"messageInput.tooltip.privateMessage\")}>\r\n                <IconButton\r\n                  aria-label=\"send-upload\"\r\n                  component=\"span\"\r\n                  onClick={handlePrivateMessage}\r\n                >\r\n                  {privateMessage === true ? (\r\n                    <Comment style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\r\n                  ) : (\r\n                    <Comment style={{ color: \"grey\" }} />\r\n                  )}\r\n                </IconButton>\r\n              </Tooltip>\r\n              {/* <Tooltip title={i18n.t(\"messageInput.tooltip.meet\")}>\r\n                <IconButton\r\n                  aria-label=\"send-upload\"\r\n                  component=\"span\"\r\n                  onClick={handleSendLinkVideo}\r\n                >\r\n                  <Duo style={{ color: \"grey\" }} />\r\n                </IconButton>\r\n              </Tooltip> */}\r\n            </Hidden>\r\n            <Hidden only={[\"md\", \"lg\", \"xl\"]}>\r\n              <IconButton\r\n                aria-controls=\"simple-menu\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleOpenMenuClick}\r\n              >\r\n                <MoreVert></MoreVert>\r\n              </IconButton>\r\n              <Menu\r\n                id=\"simple-menu\"\r\n                keepMounted\r\n                anchorEl={anchorEl}\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleMenuItemClick}\r\n              >\r\n                <MenuItem onClick={handleMenuItemClick}>\r\n                  <IconButton\r\n                    aria-label=\"emojiPicker\"\r\n                    component=\"span\"\r\n                    disabled={disableOption()}\r\n                    onClick={(e) => setShowEmoji((prevState) => !prevState)}\r\n                  >\r\n                    <Mood className={classes.sendMessageIcons} />\r\n                  </IconButton>\r\n                </MenuItem>\r\n                <MenuItem onClick={handleMenuItemClick}>\r\n                  <input\r\n                    multiple\r\n                    type=\"file\"\r\n                    id=\"upload-button\"\r\n                    disabled={disableOption()}\r\n                    className={classes.uploadInput}\r\n                    onChange={handleChangeMedias}\r\n                  />\r\n                  <label htmlFor=\"upload-button\">\r\n                    <IconButton\r\n                      aria-label=\"upload\"\r\n                      component=\"span\"\r\n                      disabled={disableOption()}\r\n                    >\r\n                      <AttachFile className={classes.sendMessageIcons} />\r\n                    </IconButton>\r\n                  </label>\r\n                </MenuItem>\r\n                {signMessagePar && (\r\n                  <Tooltip title=\"Habilitar/Desabilitar Assinatura\">\r\n                    <IconButton\r\n                      aria-label=\"send-upload\"\r\n                      component=\"span\"\r\n                      onClick={handleChangeSign}\r\n                    >\r\n                      {signMessage === true ? (\r\n                        <Create style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\r\n                      ) : (\r\n                        <Create style={{ color: \"grey\" }} />\r\n                      )}\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                )}\r\n                <Tooltip title=\"Habilitar/Desabilitar Comentários\">\r\n                  <IconButton\r\n                    aria-label=\"send-upload\"\r\n                    component=\"span\"\r\n                    onClick={handlePrivateMessage}\r\n                  >\r\n                    {privateMessage === true ? (\r\n                      <Comment style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\r\n                    ) : (\r\n                      <Comment style={{ color: \"grey\" }} />\r\n                    )}\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </Menu>\r\n            </Hidden>\r\n            <div className={classes.flexContainer}>\r\n              {privateMessageInputVisible && (\r\n                <div className={classes.flexItem}>\r\n                  <div className={classes.messageInputWrapperPrivate}>\r\n                    <InputBase\r\n                      inputRef={(input) => {\r\n                        input && input.focus();\r\n                        input && (inputRef.current = input);\r\n                      }}\r\n                      className={classes.messageInputPrivate}\r\n                      placeholder={\r\n                        ticketStatus === \"open\" || ticketStatus === \"group\"\r\n                          ? i18n.t(\"messagesInput.placeholderPrivateMessage\")\r\n                          : i18n.t(\"messagesInput.placeholderClosed\")\r\n                      }\r\n                      multiline\r\n                      maxRows={5}\r\n                      value={inputMessage}\r\n                      onChange={handleChangeInput}\r\n                      disabled={disableOption()}\r\n                      onPaste={(e) => {\r\n                        (ticketStatus === \"open\" || ticketStatus === \"group\") &&\r\n                          handleInputPaste(e);\r\n                      }}\r\n                      onKeyPress={(e) => {\r\n                        if (loading || e.shiftKey) return;\r\n                        else if (e.key === \"Enter\") {\r\n                          handleSendMessage();\r\n                        }\r\n                      }}\r\n\r\n                    />\r\n                    {typeBar ? (\r\n                      <ul className={classes.messageQuickAnswersWrapper}>\r\n                        {typeBar.map((value, index) => {\r\n                          return (\r\n                            <li\r\n                              className={classes.messageQuickAnswersWrapperItem}\r\n                              key={index}\r\n                            >\r\n                              {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n                              <a onClick={() => handleQuickAnswersClick(value)}>\r\n                                {`${value.label} - ${value.value}`}\r\n                              </a>\r\n                            </li>\r\n                          );\r\n                        })}\r\n                      </ul>\r\n                    ) : (\r\n                      <div></div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {!privateMessageInputVisible && (\r\n                <div className={classes.flexItem}>\r\n                  <div className={classes.messageInputWrapper}>\r\n                    <InputBase\r\n                      inputRef={(input) => {\r\n                        input && input.focus();\r\n                        input && (inputRef.current = input);\r\n                      }}\r\n                      className={classes.messageInput}\r\n                      placeholder={placeholderText}\r\n                      multiline\r\n                      maxRows={5}\r\n                      value={inputMessage}\r\n                      onChange={handleChangeInput}\r\n                      disabled={disableOption()}\r\n                      onPaste={(e) => {\r\n                        (ticketStatus === \"open\" || ticketStatus === \"group\") &&\r\n                          handleInputPaste(e);\r\n                      }}\r\n                      onKeyPress={(e) => {\r\n                        if (loading || e.shiftKey) return;\r\n                        else if (e.key === \"Enter\") {\r\n                          handleSendMessage();\r\n                        }\r\n                      }}\r\n                    />\r\n                    {typeBar ? (\r\n                      <ul className={classes.messageQuickAnswersWrapper}>\r\n                        {typeBar.map((value, index) => {\r\n                          return (\r\n                            <li\r\n                              className={classes.messageQuickAnswersWrapperItem}\r\n                              key={index}\r\n                            >\r\n                              {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n                              <a onClick={() => handleQuickAnswersClick(value)}>\r\n                                {`${value.label} - ${value.value}`}\r\n                              </a>\r\n                            </li>\r\n                          );\r\n                        })}\r\n                      </ul>\r\n                    ) : (\r\n                      <div></div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            {!privateMessageInputVisible && (\r\n              <>\r\n                <Tooltip title={i18n.t(\"tickets.buttons.scredule\")}>\r\n                  <IconButton\r\n                    aria-label=\"scheduleMessage\"\r\n                    component=\"span\"\r\n                    onClick={() => setAppointmentModalOpen(true)}\r\n                    disabled={loading}\r\n                  >\r\n                    <Timer className={classes.sendMessageIcons} />\r\n                  </IconButton>\r\n                </Tooltip>\r\n                {inputMessage || showSelectMessageCheckbox ? (\r\n                  <>\r\n                    <IconButton\r\n                      aria-label=\"sendMessage\"\r\n                      component=\"span\"\r\n                      onClick={showSelectMessageCheckbox ? handleOpenModalForward : handleSendMessage}\r\n                      disabled={loading}\r\n                    >\r\n                      {showSelectMessageCheckbox ?\r\n                        <Reply className={classes.ForwardMessageIcons} /> : <Send className={classes.sendMessageIcons} />}\r\n                    </IconButton>\r\n                  </>\r\n                ) : recording ? (\r\n                  <div className={classes.recorderWrapper}>\r\n                    <IconButton\r\n                      aria-label=\"cancelRecording\"\r\n                      component=\"span\"\r\n                      fontSize=\"large\"\r\n                      disabled={loading}\r\n                      onClick={handleCancelAudio}\r\n                    >\r\n                      <HighlightOff className={classes.cancelAudioIcon} />\r\n                    </IconButton>\r\n                    {loading ? (\r\n                      <div>\r\n                        <CircularProgress className={classes.audioLoading} />\r\n                      </div>\r\n                    ) : (\r\n                      <RecordingTimer />\r\n                    )}\r\n\r\n                    <IconButton\r\n                      aria-label=\"sendRecordedAudio\"\r\n                      component=\"span\"\r\n                      onClick={handleUploadAudio}\r\n                      disabled={loading}\r\n                    >\r\n                      <CheckCircleOutline className={classes.sendAudioIcon} />\r\n                    </IconButton>\r\n                  </div>\r\n                ) : (\r\n                  <IconButton\r\n                    aria-label=\"showRecorder\"\r\n                    component=\"span\"\r\n                    disabled={disableOption()}\r\n                    onClick={handleStartRecording}\r\n                  >\r\n                    <Mic className={classes.sendMessageIcons} />\r\n                  </IconButton>\r\n                )}\r\n              </>\r\n            )}\r\n\r\n            {privateMessageInputVisible && (\r\n              <>\r\n                <IconButton\r\n                  aria-label=\"sendMessage\"\r\n                  component=\"span\"\r\n                  onClick={showSelectMessageCheckbox ? handleOpenModalForward : handleSendMessage}\r\n                  disabled={loading}\r\n                >\r\n                  {showSelectMessageCheckbox ?\r\n                    <Reply className={classes.ForwardMessageIcons} /> : <Send className={classes.sendMessageIcons} />}\r\n                </IconButton>\r\n              </>\r\n            )}\r\n            {appointmentModalOpen && (\r\n              <ScheduleModal\r\n                open={appointmentModalOpen}\r\n                onClose={() => setAppointmentModalOpen(false)}\r\n                message={inputMessage}\r\n                contactId={contactId}\r\n              />\r\n            )}\r\n          </div>\r\n        </Paper>\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default MessageInput;\r\n\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tticketHeader: {\r\n\t\tdisplay: \"flex\",\r\n\t\t// backgroundColor: \"#eee\",\r\n\t\tbackground: theme.palette.tabHeaderBackground,\r\n\t\tflex: \"none\",\r\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\theight: \"65px\"\r\n\t},\r\n}));\r\n\r\nconst TicketHeaderSkeleton = () => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Card square className={classes.ticketHeader}>\r\n\t\t\t<CardHeader\r\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\r\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\r\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\r\n\t\t\t\t\t</Skeleton>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\r\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\r\n\t\t\t/>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nexport default TicketHeaderSkeleton;\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport { Card, Button } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\r\nimport ArrowBackIos from \"@material-ui/icons/ArrowBackIos\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tticketHeader: {\r\n\t\tdisplay: \"flex\",\r\n\t\t// backgroundColor: \"#eee\",\r\n\t\tbackground: theme.palette.total,\r\n\t\tflex: \"none\",\r\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\theight: \"65px\",\r\n\t\t[theme.breakpoints.down(\"sm\")]: {\r\n\t\t\tflexWrap: \"wrap\",\r\n\t\t\theight: 'max-content'\r\n\t\t},\r\n\t},\r\n}));\r\n\r\nconst TicketHeader = ({ loading, children }) => {\r\n\tconst classes = useStyles();\r\n\tconst history = useHistory();\r\n\r\n\tconst handleBack = () => {\r\n\r\n\t\thistory.push(\"/tickets\");\r\n\t};\r\n\r\n\t// useEffect(() => {\r\n\t// \tconst handleKeyDown = (event) => {\r\n\t// \t\tif (event.key === \"Escape\") {\r\n\t// \t\t\thandleBack();\r\n\t// \t\t}\r\n\t// \t};\r\n\t// \tdocument.addEventListener(\"keydown\", handleKeyDown);\r\n\t// \treturn () => {\r\n\t// \t\tdocument.removeEventListener(\"keydown\", handleKeyDown);\r\n\t// \t};\r\n\t// }, [history]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<TicketHeaderSkeleton />\r\n\t\t\t) : (\r\n\t\t\t\t<Card\r\n\t\t\t\t\tsquare\r\n\t\t\t\t\tclassName={classes.ticketHeader}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Button color=\"primary\" onClick={handleBack}>\r\n\t\t\t\t\t\t<ArrowBackIos />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Card>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default TicketHeader;\r\n","import React, { useState } from \"react\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { Avatar, CardHeader, Grid, TextField, Input, InputAdornment, InputLabel } from \"@material-ui/core\";\r\nimport { TagsKanbanContainer } from \"../TagsKanbanContainer\";\r\n\r\nconst TicketInfo = ({ contact, ticket, onClick }) => {\r\n\tconst [amount, setAmount] = useState(\"\");\r\n\r\n\tconst renderCardReader = () => {\r\n\t\treturn (\r\n\t\t\t<CardHeader\r\n\t\t\t\tonClick={onClick}\r\n\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\r\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\r\n\t\t\t\tavatar={<Avatar src={contact?.urlPicture} alt=\"contact_image\" />}\r\n\t\t\t\ttitle={`${contact?.name || '(sem contato)'} #${ticket.id}`}\r\n\t\t\t\tsubheader={\r\n\t\t\t\t\tticket.user &&\r\n\t\t\t\t\t`${i18n.t(\"messagesList.header.assignedTo\")} ${ticket.user.name}`\r\n\t\t\t\t}\r\n\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tconst value = event.target.value;\r\n\r\n\t\tsetAmount(value);\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Grid container alignItems=\"center\" spacing={10}>\r\n\t\t\t\t{/* Conteúdo do contato à esquerda */}\r\n\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t{renderCardReader()}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default TicketInfo;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button } from '@mui/material';\r\nimport { i18n } from '../../translate/i18n';\r\nimport { Stepper, Step, StepLabel, Typography, Paper, Grid } from '@material-ui/core';\r\nimport { format, parseISO } from 'date-fns';\r\nimport api from '../../services/api';\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst ShowTicketLogModal = ({ isOpen, handleClose, ticketId }) => {\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [logs, setLogs] = useState([]);\r\n\r\n  const typeDescriptions = {\r\n    create: i18n.t(\"showTicketLogModal.options.create\"),\r\n    chatBot: i18n.t(\"showTicketLogModal.options.chatBot\"),\r\n    queue: i18n.t(\"showTicketLogModal.options.queue\"),\r\n    open: i18n.t(\"showTicketLogModal.options.open\"),\r\n    access: i18n.t(\"showTicketLogModal.options.access\"),\r\n    transfered: i18n.t(\"showTicketLogModal.options.transfered\"),\r\n    receivedTransfer: i18n.t(\"showTicketLogModal.options.receivedTransfer\"),\r\n    pending: i18n.t(\"showTicketLogModal.options.pending\"),\r\n    closed: i18n.t(\"showTicketLogModal.options.closed\"),\r\n    reopen: i18n.t(\"showTicketLogModal.options.reopen\"),\r\n    redirect: i18n.t(\"showTicketLogModal.options.redirect\")\r\n    // Adicione outros mapeamentos conforme necessário\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchLogs = async () => {\r\n        try {\r\n          const { data } = await api.get(`/tickets-log/${ticketId}`);\r\n          setLogs(data);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchLogs();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [ticketId]);\r\n\r\n  return (\r\n    <Dialog open={isOpen} onClose={handleClose}>\r\n      <DialogTitle>{i18n.t('showTicketLogModal.title.header')}</DialogTitle>\r\n      <DialogContent>\r\n        <Paper>\r\n          <DialogContentText>\r\n            <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n              {logs.map((log, index) => (\r\n                <Step key={index}>\r\n                  <StepLabel>\r\n                    {`${log.type === 'access' ||\r\n                      log.type === 'transfered' ||\r\n                      log.type === 'open' || log.type === 'pending' || log.type === \"closed\" || log.type === \"reopen\"\r\n                      ? log?.user?.name\r\n                      : log?.type === 'queue' || log?.type === 'redirect'\r\n                        ? log?.queue?.name\r\n                        : log.type === 'receivedTransfer'\r\n                          ? log?.queue?.name + ' - ' + log?.user?.name\r\n                          : ''} \r\n                    ${typeDescriptions[log.type]} - ${format(\r\n                            parseISO(log?.createdAt),\r\n                            'dd/MM/yyyy HH:mm'\r\n                          )}`}\r\n                  </StepLabel>\r\n                </Step>\r\n              ))}\r\n            </Stepper>\r\n          </DialogContentText>\r\n        </Paper>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Fechar\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ShowTicketLogModal;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\n\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nimport { Button, Divider, useTheme, } from \"@material-ui/core\";\r\nimport { isNil } from 'lodash';\r\nimport ShowTicketOpen from '../ShowTicketOpenModal';\r\nimport { grey } from '@material-ui/core/colors';\r\n\r\nconst VcardPreview = ({ contact, numbers, queueId, whatsappId }) => {\r\n    const theme = useTheme();\r\n    const history = useHistory();\r\n    const { user } = useContext(AuthContext);\r\n\r\n    const companyId = user.companyId;\r\n\r\n    const [openAlert, setOpenAlert] = useState(false);\r\n    const [userTicketOpen, setUserTicketOpen] = useState(\"\");\r\n    const [queueTicketOpen, setQueueTicketOpen] = useState(\"\");\r\n\r\n    const [selectedContact, setContact] = useState({\r\n        id: 0,\r\n        name: \"\",\r\n        number: 0,\r\n        profilePicUrl: \"\"\r\n    });\r\n    useEffect(() => {\r\n        const delayDebounceFn = setTimeout(() => {\r\n            const fetchContacts = async () => {\r\n                try {\r\n                    if (isNil(numbers)) {\r\n                        return\r\n                    }\r\n                    const number = numbers.replace(/\\D/g, \"\");\r\n                    \r\n                    const getData = await api.get(`/contacts/profile/${number}`);\r\n\r\n                    if (getData.data.contactId && getData.data.contactId !== 0) {\r\n                        let obj = {\r\n                            id: getData.data.contactId,\r\n                            name: contact,\r\n                            number: numbers,\r\n                            profilePicUrl: getData.data.urlPicture\r\n                        }\r\n\r\n                        setContact(obj)\r\n                  \r\n                    } else {\r\n                        let contactObj = {\r\n                            name: contact,\r\n                            number: number,\r\n                            email: \"\",\r\n                            companyId: companyId\r\n                        }\r\n\r\n                        const { data } = await api.post(\"/contacts\", contactObj);\r\n                        setContact(data)\r\n                    }\r\n            \r\n                } catch (err) {\r\n                    console.log(err)\r\n                    toastError(err);\r\n                }\r\n            };\r\n            fetchContacts();\r\n        }, 500);\r\n        return () => clearTimeout(delayDebounceFn);\r\n    }, [companyId, contact, numbers]);\r\n\r\n    const handleCloseAlert = () => {\r\n        setOpenAlert(false);\r\n        setOpenAlert(false);\r\n        setUserTicketOpen(\"\");\r\n        setQueueTicketOpen(\"\");\r\n    };\r\n\r\n    const handleNewChat = async () => {\r\n        try {\r\n            const { data: ticket } = await api.post(\"/tickets\", {\r\n                contactId: selectedContact.id,\r\n                userId: user.id,\r\n                status: \"open\",\r\n                queueId,\r\n                companyId: companyId,\r\n                whatsappId\r\n            });\r\n\r\n            history.push(`/tickets/${ticket.uuid}`);\r\n        } catch (err) {\r\n            const ticket = JSON.parse(err.response.data.error);\r\n\r\n            if (ticket.userId !== user?.id) {\r\n                setOpenAlert(true);\r\n                setUserTicketOpen(ticket.user.name);\r\n                setQueueTicketOpen(ticket.queue.name);\r\n            } else {\r\n                setOpenAlert(false);\r\n                setUserTicketOpen(\"\");\r\n                setQueueTicketOpen(\"\");\r\n\r\n                history.push(`/tickets/${ticket.uuid}`);\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div style={{\r\n                minWidth: \"250px\",\r\n            }}>\r\n                <ShowTicketOpen\r\n                    isOpen={openAlert}\r\n                    handleClose={handleCloseAlert}\r\n                    user={userTicketOpen}\r\n                    queue={queueTicketOpen}\r\n                />\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={2}>\r\n                        <Avatar src={`${selectedContact?.urlPicture}`} />\r\n                    </Grid>\r\n                    <Grid item xs={9}>\r\n                        <Typography\r\n                            style={{ marginTop: \"12px\", marginLeft: \"10px\" }}\r\n                            color=\"primary\"\r\n                            variant=\"subtitle1\"\r\n                            gutterBottom\r\n                        >\r\n                            {selectedContact.name}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Divider />\r\n                        <Button\r\n                            fullWidth\r\n                            color=\"primary\"\r\n                            onClick={handleNewChat}\r\n                            disabled={!selectedContact.number}\r\n                        >Conversar</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        </>\r\n    );\r\n\r\n};\r\n\r\nexport default VcardPreview;","import React, { useEffect } from 'react';\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport { Button, Divider, Typography } from \"@material-ui/core\";\r\n\r\nconst LocationPreview = ({ image, link, description }) => {\r\n\tuseEffect(() => { }, [image, link, description]);\r\n\r\n\tconst handleLocation = async () => {\r\n\t\ttry {\r\n\t\t\twindow.open(link);\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div style={{\r\n\t\t\t\tminWidth: \"250px\",\r\n\t\t\t}}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div style={{ float: \"left\" }}>\r\n\t\t\t\t\t\t<img src={image} alt=\"loc\" onClick={handleLocation} style={{ width: \"100px\" }} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{description && (\r\n\t\t\t\t\t\t<div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n\t\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"15px\", marginRight: \"15px\", float: \"left\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\r\n\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: description.replace('\\\\n', '<br />') }}></div>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div style={{ display: \"block\", content: \"\", clear: \"both\" }}></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tonClick={handleLocation}\r\n\t\t\t\t\t\t\tdisabled={!link}\r\n\t\t\t\t\t\t>Visualizar</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n\r\n};\r\n\r\nexport default LocationPreview;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Autocomplete, {\r\n\tcreateFilterOptions,\r\n} from \"@material-ui/lab/Autocomplete\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ContactModal from \"../ContactModal\";\r\nimport toastError from \"../../errors/toastError\"; \r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Typography } from \"@mui/material\";\r\nimport { FormControlLabel, Switch } from \"@material-ui/core\";\r\n\r\nconst ForwardMessageModal = ({ messages, onClose, modalOpen }) => {\r\n    const [optionsContacts, setOptionsContacts] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [searchParam, setSearchParam] = useState(\"\");\r\n\tconst [selectedContact, setSelectedContact] = useState(null);\r\n\tconst [newContact, setNewContact] = useState({});\r\n\tconst [contactModalOpen, setContactModalOpen] = useState(false);\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst [sending, setSending] = useState(false);\r\n\tconst [messageSending, setMessageSending] = useState('');\r\n\tconst [signMessage, setSignMessage] = useState(true);\r\n\r\n    useEffect(() => {\r\n\t\tif (!modalOpen || searchParam.length < 3) {\r\n\t\t\tsetLoading(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetLoading(true);\r\n\t\tconst delayDebounceFn = setTimeout(() => {\r\n\t\t\tconst fetchContacts = async () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst { data } = await api.get(\"contacts\", {\r\n\t\t\t\t\t\tparams: { searchParam },\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetOptionsContacts(data.contacts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\ttoastError(err);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tfetchContacts();\r\n\t\t}, 500);\r\n\t\treturn () => clearTimeout(delayDebounceFn);\r\n\t}, [searchParam, modalOpen]);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst sleep = (ms) => {\r\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\r\n\t};\r\n\r\n    const handleForwardMessage = async(contactL) => {\r\n\t\tconst responseList = [];\r\n\t\tfor (const message of messages) {\r\n\t\t\tsetSending(true);\r\n\t\t\ttry {\r\n\t\t\t\tsetMessageSending(message.id);\r\n\t\t\t\tconst response = await api.post('/message/forward', {messageId: message.id, contactId: contactL.id, signMessage: signMessage});\r\n\t\t\t\tresponseList.push(response);\r\n\t\t\t\tsleep(900);\r\n\t\t\t} catch (error) {\r\n\t\t\t\ttoastError(error);\r\n\t\t\t}\t\t\r\n\t\t}\r\n\t\tsetSending(false);\r\n\r\n\t\thistory.push('/tickets');\r\n    }\r\n\r\n    const handleSelectOption = (e, newValue) => {\r\n\t\tif (newValue?.number) {\r\n\t\t\tsetSelectedContact(newValue);\r\n\t\t} else if (newValue?.name) {\r\n\t\t\tsetNewContact({ name: newValue.name });\r\n\t\t\tsetContactModalOpen(true);\r\n\t\t}\r\n\t};\r\n\r\n    const handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetSearchParam(\"\");\r\n\t\tsetSelectedContact(null);\r\n\t\tsetSending(false);\r\n\t};\r\n\r\n    const handleCloseContactModal = () => {\r\n\t\tsetContactModalOpen(false);\r\n\t};\r\n\r\n    const renderOption = optionL => {\r\n\t\tif (optionL.number) {\r\n\t\t\treturn `${optionL.name} - ${optionL.number}`;\r\n\t\t} else {\r\n\t\t\treturn `Nenhum contato encontrado com o nome ${optionL.name}`;\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderOptionLabel = optionL => {\r\n\t\tif (optionL.number) {\r\n\t\t\treturn `${optionL.name} - ${optionL.number}`;\r\n\t\t} else {\r\n\t\t\treturn `${optionL.name}`;\r\n\t\t}\r\n\t};\r\n\r\n\tconst filter = createFilterOptions({\r\n\t\ttrim: true,\r\n\t});\r\n\r\n\tconst createAddContactOption = (filterOptions, params) => {\r\n\t\tconst filtered = filter(filterOptions, params);\r\n\r\n\t\tif (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\r\n\t\t\tfiltered.push({\r\n\t\t\t\tname: `${params.inputValue}`,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn filtered;\r\n\t};\r\n\r\n    return (\r\n        <>\r\n\t\t\t<ContactModal\r\n\t\t\t\topen={contactModalOpen}\r\n\t\t\t\tinitialValues={newContact}\r\n\t\t\t\tonClose={handleCloseContactModal}\r\n\t\t\t></ContactModal>\r\n\t\t\t<Dialog open={modalOpen} onClose={handleClose}>\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\tEncaminhar mensagem\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\toptions={optionsContacts}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\tclearOnBlur\r\n\t\t\t\t\t\tautoHighlight\r\n\t\t\t\t\t\tfreeSolo\r\n\t\t\t\t\t\tclearOnEscape\r\n\t\t\t\t\t\tgetOptionLabel={renderOptionLabel}\r\n\t\t\t\t\t\trenderOption={renderOption}\r\n\t\t\t\t\t\tfilterOptions={createAddContactOption}\r\n\t\t\t\t\t\tonChange={(e, newValue) => handleSelectOption(e, newValue)}\r\n\t\t\t\t\t\trenderInput={params => (\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"newTicketModal.fieldLabel\")}\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\r\n\t\t\t\t\t\t\t\tonKeyPress={e => {\r\n\t\t\t\t\t\t\t\t\tif (loading || !selectedContact) return;\r\n\t\t\t\t\t\t\t\t\telse if (e.key === \"Enter\") {\r\n\t\t\t\t\t\t\t\t\t\t// handleSaveTicket(selectedContact.id);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t...params.InputProps,\r\n\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\r\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t{sending && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\r\n\t\t\t\t\t\t\t<Typography variant=\"body1\" color=\"textSecondary\">\r\n\t\t\t\t\t\t\t\tEnviando {messageSending}...\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\tstyle={{ marginRight: 7, color: \"gray\" }}\r\n\t\t\t\t\t\tlabel={i18n.t(\"messagesInput.signMessage\")}\r\n\t\t\t\t\t\tlabelPlacement=\"start\"\r\n\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tchecked={signMessage}\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tsetSignMessage(e.target.checked);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tname=\"showAllTickets\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ButtonWithSpinner\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tdisabled={!selectedContact || sending}\r\n\t\t\t\t\t\tonClick={() => handleForwardMessage(selectedContact)}\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tEncaminhar\r\n\t\t\t\t\t</ButtonWithSpinner>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t</>\r\n    );\r\n};\r\n\r\nexport default ForwardMessageModal;","import React, { useState, useContext } from \"react\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport { Menu } from \"@material-ui/core\";\r\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\r\nimport { EditMessageContext } from \"../../context/EditingMessage/EditingMessageContext\";\r\n\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\n// import { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport toastError from \"../../errors/toastError\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport ForwardModal from \"../ForwardMessageModal\";\r\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\r\nimport AcceptTicketWithoutQueue from \"../AcceptTicketWithoutQueueModal\";\r\n\r\nconst MessageOptionsMenu = ({\r\n  message,\r\n  menuOpen,\r\n  handleClose,\r\n  anchorEl,\r\n  isGroup,\r\n  queueId,\r\n  whatsappId\r\n}) => {\r\n  const { setReplyingMessage } = useContext(ReplyMessageContext);\r\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n  const { user } = useContext(AuthContext);\r\n  const editingContext = useContext(EditMessageContext);\r\n  const setEditingMessage = editingContext ? editingContext.setEditingMessage : null;\r\n  const { setTabOpen } = useContext(TicketsContext);\r\n  const history = useHistory();\r\n\r\n  const [openAlert, setOpenAlert] = useState(false);\r\n  const [userTicketOpen, setUserTicketOpen] = useState(\"\");\r\n  const [queueTicketOpen, setQueueTicketOpen] = useState(\"\");\r\n  const [acceptTicketWithouSelectQueueOpen, setAcceptTicketWithouSelectQueueOpen] = useState(false);\r\n\r\n  const [ticketOpen, setTicketOpen] = useState(null);\r\n\r\n  const { showSelectMessageCheckbox,\r\n    setShowSelectMessageCheckbox,\r\n    selectedMessages,\r\n    forwardMessageModalOpen,\r\n    setForwardMessageModalOpen } = useContext(ForwardMessageContext);\r\n\r\n  const handleSaveTicket = async (contactId) => {\r\n    if (!contactId) return;\r\n\r\n    try {\r\n      const { data: ticket } = await api.post(\"/tickets\", {\r\n        contactId: contactId,\r\n        userId: user?.id,\r\n        status: \"open\",\r\n        queueId: queueId,\r\n        whatsappId: whatsappId\r\n      });\r\n\r\n      setTicketOpen(ticket);\r\n      if (ticket.queueId === null) {\r\n        setAcceptTicketWithouSelectQueueOpen(true);\r\n      } else {\r\n        setTabOpen(\"open\");\r\n        history.push(`/tickets/${ticket.uuid}`);\r\n      }\r\n    } catch (err) {\r\n      const ticket = JSON.parse(err.response.data.error);\r\n\r\n      if (ticket.userId !== user?.id) {\r\n        setOpenAlert(true);\r\n        setUserTicketOpen(ticket.user.name);\r\n        setQueueTicketOpen(ticket.queue.name);\r\n      } else {\r\n        setOpenAlert(false);\r\n        setUserTicketOpen(\"\");\r\n        setQueueTicketOpen(\"\");\r\n\r\n        // handleSelectTicket(ticket);\r\n        setTabOpen(ticket.status);\r\n        history.push(`/tickets/${ticket.uuid}`);\r\n      }\r\n    }\r\n    //setLoading(false);\r\n    handleClose();\r\n  };\r\n\r\n  const handleCloseAlert = () => {\r\n    setOpenAlert(false);\r\n    setOpenAlert(false);\r\n    setUserTicketOpen(\"\");\r\n    setQueueTicketOpen(\"\");\r\n  };\r\n\r\n  const handleSetShowSelectCheckbox = () => {\r\n    setShowSelectMessageCheckbox(!showSelectMessageCheckbox);\r\n    handleClose();\r\n  };\r\n\r\n  const handleDeleteMessage = async () => {\r\n    try {\r\n      await api.delete(`/messages/${message.id}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleEditMessage = async () => {\r\n    setEditingMessage(message);\r\n    handleClose();\r\n  }\r\n  // const handleForwardMessage = (msg) => {\r\n  //   setForwardModalOpen(true);\r\n  //   setForwardMessage(msg);\r\n  //   handleClose();\r\n  // };\r\n  // const handleCloseForwardModal = () => {\r\n\r\n  //   //setSelectedSchedule(null);\r\n  //   setForwardModalOpen(false);\r\n  //   handleClose();\r\n  // };\r\n\r\n  const hanldeReplyMessage = () => {\r\n    setReplyingMessage(message);\r\n    handleClose();\r\n  };\r\n\r\n  const isWithinFifteenMinutes = () => {\r\n    const fifteenMinutesInMilliseconds = 15 * 60 * 1000; // 15 minutos em milissegundos\r\n    const currentTime = new Date();\r\n    const messageTime = new Date(message.createdAt);\r\n\r\n    // Verifica se a diferença entre o tempo atual e o tempo da mensagem é menor que 15 minutos\r\n    return currentTime - messageTime <= fifteenMinutesInMilliseconds;\r\n  };\r\n\r\n  const handleOpenConfirmationModal = (e) => {\r\n    setConfirmationOpen(true);\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AcceptTicketWithoutQueue\r\n        modalOpen={acceptTicketWithouSelectQueueOpen}\r\n        onClose={(e) => setAcceptTicketWithouSelectQueueOpen(false)}\r\n        ticket={ticketOpen}\r\n        ticketId={ticketOpen?.id}\r\n      />\r\n      <ShowTicketOpen\r\n        isOpen={openAlert}\r\n        handleClose={handleCloseAlert}\r\n        user={userTicketOpen}\r\n        queue={queueTicketOpen}\r\n      />\r\n      <ConfirmationModal\r\n        title={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\r\n        open={confirmationOpen}\r\n        onClose={setConfirmationOpen}\r\n        onConfirm={handleDeleteMessage}\r\n      >\r\n        {i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\r\n      </ConfirmationModal>\r\n\r\n      <ForwardModal\r\n        modalOpen={forwardMessageModalOpen}\r\n        messages={selectedMessages}\r\n        onClose={(e) => {\r\n          setForwardMessageModalOpen(false);\r\n          setShowSelectMessageCheckbox(false);\r\n        }}\r\n      />\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        getContentAnchorEl={null}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        open={menuOpen}\r\n        onClose={handleClose}\r\n      >\r\n        {message.fromMe && (\r\n          <MenuItem key=\"delete\" onClick={handleOpenConfirmationModal}>\r\n            {i18n.t(\"messageOptionsMenu.delete\")}\r\n          </MenuItem>\r\n        )}\r\n        {message.fromMe && isWithinFifteenMinutes() && (\r\n          <MenuItem key=\"edit\" onClick={handleEditMessage}>\r\n            {i18n.t(\"messageOptionsMenu.edit\")}\r\n          </MenuItem>\r\n        )}\r\n        <MenuItem onClick={hanldeReplyMessage}>\r\n          {i18n.t(\"messageOptionsMenu.reply\")}\r\n        </MenuItem>\r\n        <MenuItem onClick={handleSetShowSelectCheckbox}>\r\n          {i18n.t(\"messageOptionsMenu.forward\")}\r\n        </MenuItem>\r\n        {!message.fromMe && isGroup && (\r\n          <MenuItem onClick={() => handleSaveTicket(message?.contact?.id)}>\r\n            {i18n.t(\"messageOptionsMenu.talkTo\")}\r\n          </MenuItem>\r\n        )}\r\n      </Menu>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MessageOptionsMenu;","export default __webpack_public_path__ + \"static/media/wa-background.cd00123e.png\";","export default __webpack_public_path__ + \"static/media/wa-background-dark.4c52474f.png\";","import React, { useState, useEffect } from 'react';\r\nimport YouTube from 'react-youtube';\r\n\r\nconst YouTubePreview = ({ videoUrl }) => {\r\n  const [videoId, setVideoId] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Extract the video ID from the URL\r\n    let videoId = videoUrl.split('v=')[1];\r\n\r\n    if (!videoId) {\r\n      const match = videoUrl.match(/(?:youtu\\.be\\/)([^?\\n]+)/);\r\n      videoId = match ? match[1] : null;\r\n\r\n    }\r\n\r\n    let ampersandPosition = videoId.indexOf('&');\r\n\r\n    if (ampersandPosition != -1) {\r\n      videoId = videoId.substring(0, ampersandPosition);\r\n    }\r\n    \r\n    setVideoId(videoId);\r\n  }, [videoUrl]);\r\n\r\n  const opts = {\r\n    height: '300',\r\n    width: '100%',\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {videoId && <YouTube videoId={videoId} opts={opts} style={{ borderRadius: 10, overflow: 'hidden' }} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default YouTubePreview;","import React, { useContext } from \"react\";\r\nimport toastError  from \"../../errors/toastError\";\r\nimport { Checkbox } from \"@mui/material\";\r\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\r\n\r\nconst SelectMessageCheckbox = ({ message }) => {\r\n    const [isChecked, setIsChecked] = React.useState(false);\r\n    const { showSelectMessageCheckbox,\r\n      setSelectedMessages,\r\n      selectedMessages,\r\n   } = useContext(ForwardMessageContext);\r\n\r\n    const handleSelectMessage = (e, message) => {\r\n        const list = selectedMessages;\r\n        if (e.target.checked) {\r\n          // if (list.length >= 4) {\r\n          //   toastError(\"Não é possível selecionar mais de 4 mensagens para encaminhar.\");\r\n          //   return;\r\n          // }\r\n          setIsChecked(true);\r\n          list.push(message);\r\n        } else {\r\n          const index = list.findIndex((m) => m.id === message.id);\r\n          list.splice(index, 1);\r\n          setIsChecked(true);\r\n        }\r\n        setSelectedMessages(list);\r\n      }\r\n\r\n    if (showSelectMessageCheckbox) {\r\n        return <Checkbox color=\"primary\" checked={isChecked} onChange={(e) => handleSelectMessage(e, message)}  />;\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default SelectMessageCheckbox;","import React, { useContext, useState, useEffect, useReducer, useRef, memo, useCallback } from \"react\";\r\nimport { isSameDay, parseISO, format } from \"date-fns\";\r\nimport clsx from \"clsx\";\r\nimport { isNil } from \"lodash\";\r\nimport { blue, green, red } from \"@material-ui/core/colors\";\r\nimport {\r\n  Button,\r\n  CircularProgress,\r\n  Divider,\r\n  IconButton,\r\n  makeStyles,\r\n  Badge\r\n} from \"@material-ui/core\";\r\n\r\nimport {\r\n  AccessTime,\r\n  Block,\r\n  Done,\r\n  DoneAll,\r\n  ExpandMore,\r\n  GetApp,\r\n  Facebook,\r\n  Instagram,\r\n  Reply,\r\n  Close,\r\n} from \"@material-ui/icons\";\r\n\r\nimport MarkdownWrapper from \"../MarkdownWrapper\";\r\nimport VcardPreview from \"../VcardPreview\";\r\nimport LocationPreview from \"../LocationPreview\";\r\nimport ModalImageCors from \"../ModalImageCors\";\r\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\r\nimport whatsBackground from \"../../assets/wa-background.png\";\r\nimport whatsBackgroundDark from \"../../assets/wa-background-dark.png\";\r\nimport YouTubePreview from \"../ModalYoutubeCors\";\r\n\r\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport SelectMessageCheckbox from \"./SelectMessageCheckbox\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { QueueSelectedContext } from \"../../context/QueuesSelected/QueuesSelectedContext\";\r\nimport AudioModal from \"../AudioModal\";\r\nimport { messages } from \"../../translate/languages\";\r\nimport { useParams, useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  messagesListWrapper: {\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    minWidth: 300,\r\n    minHeight: 200,\r\n  },\r\n\r\n  currentTick: {\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    alignSelf: \"center\",\r\n    width: \"95%\",\r\n    backgroundColor: theme.palette.primary.main,\r\n    margin: \"10px\",\r\n    borderRadius: \"10px\",\r\n    boxShadow: \"1px 5px 10px #b3b3b3\",\r\n  },\r\n\r\n  currentTicktText: {\r\n    color: theme.palette.primary,\r\n    fontWeight: 'bold',\r\n    padding: 8,\r\n    alignSelf: \"center\",\r\n    marginLeft: \"0px\",\r\n  },\r\n\r\n  messagesList: {\r\n    backgroundImage: theme.mode === 'light' ? `url(${whatsBackground})` : `url(${whatsBackgroundDark})`,\r\n    backgroundColor: theme.mode === 'light' ? \"transparent\" : \"#0b0b0d\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexGrow: 1,\r\n    padding: \"20px 20px 30px 20px\",\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  dragElement: {\r\n    background: 'rgba(255, 255, 255, 0.8)',\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    zIndex: 999999,\r\n    textAlign: \"center\",\r\n    fontSize: \"3em\",\r\n    border: \"5px dashed #333\",\r\n    color: '#333',\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n  circleLoading: {\r\n    color: blue[500],\r\n    position: \"absolute\",\r\n    opacity: \"70%\",\r\n    top: 0,\r\n    left: \"50%\",\r\n    marginTop: 12,\r\n  },\r\n\r\n  messageLeft: {\r\n    marginRight: 20,\r\n    marginTop: 2,\r\n    minWidth: 100,\r\n    maxWidth: 600,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    position: \"relative\",\r\n    \"&:hover #messageActionsButton\": {\r\n      display: \"flex\",\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n    },\r\n\r\n    whiteSpace: \"pre-wrap\",\r\n    backgroundColor: theme.mode === 'light' ? \"#ffffff\" : \"#202c33\",\r\n    color: theme.mode === 'light' ? \"#303030\" : \"#ffffff\",\r\n    alignSelf: \"flex-start\",\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 8,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    paddingTop: 5,\r\n    paddingBottom: 0,\r\n    boxShadow: theme.mode === 'light' ? \"0 1px 1px #b3b3b3\" : \"0 1px 1px #000000\"\r\n  },\r\n\r\n  quotedContainerLeft: {\r\n    margin: \"-3px -80px 6px -6px\",\r\n    overflow: \"hidden\",\r\n    backgroundColor: theme.mode === 'light' ? \"#f0f0f0\" : \"#1d282f\",\r\n    borderRadius: \"7.5px\",\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  quotedMsg: {\r\n    padding: 10,\r\n    maxWidth: 300,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    whiteSpace: \"pre-wrap\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  quotedSideColorLeft: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#388aff\",\r\n  },\r\n\r\n  messageRight: {\r\n    marginLeft: 20,\r\n    marginTop: 2,\r\n    minWidth: 100,\r\n    maxWidth: 600,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    position: \"relative\",\r\n    \"&:hover #messageActionsButton\": {\r\n      display: \"flex\",\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n    },\r\n    whiteSpace: \"pre-wrap\",\r\n    backgroundColor: theme.mode === 'light' ? \"#dcf8c6\" : \"#005c4b\",\r\n    color: theme.mode === 'light' ? \"#303030\" : \"#ffffff\",\r\n    alignSelf: \"flex-end\",\r\n    borderTopLeftRadius: 8,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 0,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    paddingTop: 5,\r\n    paddingBottom: 0,\r\n    boxShadow: theme.mode === 'light' ? \"0 1px 1px #b3b3b3\" : \"0 1px 1px #000000\"\r\n  },\r\n\r\n  messageRightPrivate: {\r\n    marginLeft: 20,\r\n    marginTop: 2,\r\n    minWidth: 100,\r\n    maxWidth: 600,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    position: \"relative\",\r\n    \"&:hover #messageActionsButton\": {\r\n      display: \"flex\",\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n    },\r\n    whiteSpace: \"pre-wrap\",\r\n    backgroundColor: \"#F0E68C\",\r\n    color: \"#303030\",\r\n    alignSelf: \"flex-end\",\r\n    borderTopLeftRadius: 8,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 0,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    paddingTop: 5,\r\n    paddingBottom: 0,\r\n    boxShadow: theme.mode === 'light' ? \"0 1px 1px #b3b3b3\" : \"0 1px 1px #000000\"\r\n  },\r\n\r\n  quotedContainerRight: {\r\n    margin: \"-3px -80px 6px -6px\",\r\n    overflowY: \"hidden\",\r\n    backgroundColor: theme.mode === 'light' ? \"#cfe9ba\" : \"#025144\",\r\n    borderRadius: \"7.5px\",\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  quotedMsgRight: {\r\n    padding: 10,\r\n    maxWidth: 300,\r\n    height: \"auto\",\r\n    whiteSpace: \"pre-wrap\",\r\n  },\r\n\r\n  quotedSideColorRight: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#35cd96\",\r\n  },\r\n\r\n  messageActionsButton: {\r\n    display: \"none\",\r\n    position: \"relative\",\r\n    color: \"#999\",\r\n    zIndex: 1,\r\n    backgroundColor: \"inherit\",\r\n    opacity: \"90%\",\r\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\r\n  },\r\n\r\n  messageContactName: {\r\n    display: \"flex\",\r\n    color: \"#6bcbef\",\r\n    fontWeight: 500,\r\n  },\r\n\r\n  textContentItem: {\r\n    overflowWrap: \"break-word\",\r\n    padding: \"3px 80px 6px 6px\",\r\n  },\r\n\r\n  textContentItemDeleted: {\r\n    fontStyle: \"italic\",\r\n    color: \"rgba(0, 0, 0, 0.36)\",\r\n    overflowWrap: \"break-word\",\r\n    padding: \"3px 80px 6px 6px\",\r\n  },\r\n\r\n  messageMedia: {\r\n    objectFit: \"cover\",\r\n    width: 400,\r\n    height: \"auto\",\r\n    borderTopLeftRadius: 8,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 8,\r\n  },\r\n\r\n  timestamp: {\r\n    fontSize: 11,\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    right: 5,\r\n    color: \"#999\",\r\n  },\r\n\r\n  forwardMessage: {\r\n    fontSize: 12,\r\n    fontStyle: \"italic\",\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 5,\r\n    color: \"#999\",\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  dailyTimestamp: {\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    alignSelf: \"center\",\r\n    width: \"110px\",\r\n    backgroundColor: \"#e1f3fb\",\r\n    margin: \"10px\",\r\n    borderRadius: \"10px\",\r\n    boxShadow: \"0 1px 1px #b3b3b3\",\r\n  },\r\n\r\n  dailyTimestampText: {\r\n    color: \"#808888\",\r\n    padding: 8,\r\n    alignSelf: \"center\",\r\n    marginLeft: \"0px\",\r\n  },\r\n\r\n  ackIcons: {\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginLeft: 4,\r\n  },\r\n\r\n  deletedIcon: {\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginRight: 4,\r\n  },\r\n\r\n  ackDoneAllIcon: {\r\n    color: blue[500],\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginLeft: 4,\r\n  },\r\n\r\n  ackPlayedIcon: {\r\n    color: green[500],\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginLeft: 4,\r\n  },\r\n  downloadMedia: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"inherit\",\r\n    padding: 10,\r\n    color: theme.mode === \"light\" ? theme.palette.light : theme.palette.dark,\r\n  },\r\n\r\n  messageCenter: {\r\n    marginTop: 5,\r\n    alignItems: \"center\",\r\n    verticalAlign: \"center\",\r\n    alignContent: \"center\",\r\n    backgroundColor: \"#E1F5FEEB\",\r\n    fontSize: \"12px\",\r\n    minWidth: 100,\r\n    maxWidth: 270,\r\n    color: \"#272727\",\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 8,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    paddingTop: 5,\r\n    paddingBottom: 0,\r\n    boxShadow: \"0 1px 1px #b3b3b3\",\r\n  },\r\n\r\n  deletedMessage: {\r\n    color: '#f55d65'\r\n  }\r\n}));\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_MESSAGES\") {\r\n    const messages = action.payload;\r\n    const newMessages = [];\r\n\r\n    messages.forEach((message) => {\r\n\r\n      const messageIndex = state.findIndex((m) => m.id === message.id);\r\n      if (messageIndex !== -1) {\r\n        state[messageIndex] = message;\r\n      } else {\r\n        newMessages.push(message);\r\n      }\r\n    });\r\n\r\n    return [...newMessages, ...state];\r\n  }\r\n\r\n  if (action.type === \"ADD_MESSAGE\") {\r\n    const newMessage = action.payload;\r\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\r\n\r\n    if (messageIndex !== -1) {\r\n      state[messageIndex] = newMessage;\r\n    } else {\r\n      state.push(newMessage);\r\n    }\r\n\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_MESSAGE\") {\r\n    const messageToUpdate = action.payload;\r\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\r\n\r\n    if (messageIndex !== -1) {\r\n      state[messageIndex] = messageToUpdate;\r\n    }\r\n\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst MessagesList = ({\r\n  isGroup,\r\n  onDrop,\r\n  whatsappId,\r\n  queueId,\r\n  channel\r\n}) => {\r\n  const classes = useStyles();\r\n  const [messagesList, dispatch] = useReducer(reducer, []);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingMore, setLoadingMore] = useState(false);\r\n  const history = useHistory();\r\n  const lastMessageRef = useRef();\r\n\r\n  const [selectedMessage, setSelectedMessage] = useState({});\r\n  const { setReplyingMessage } = useContext(ReplyMessageContext);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const messageOptionsMenuOpen = Boolean(anchorEl);\r\n  const { ticketId } = useParams();\r\n\r\n  const currentTicketId = useRef(ticketId);\r\n  const { getAll } = useCompanySettings();\r\n  const [dragActive, setDragActive] = useState(false);\r\n\r\n  const [lgpdDeleteMessage, setLGPDDeleteMessage] = useState(false);\r\n  const { selectedQueuesMessage } = useContext(QueueSelectedContext);\r\n\r\n  const { showSelectMessageCheckbox } = useContext(ForwardMessageContext);\r\n\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const companyId = user.companyId;\r\n\r\n  useEffect(() => {\r\n\r\n    async function fetchData() {\r\n\r\n      const settings = await getAll(companyId);\r\n\r\n      let settinglgpdDeleteMessage;\r\n      let settingEnableLGPD;\r\n\r\n      for (const [key, value] of Object.entries(settings)) {\r\n\r\n        if (key === \"lgpdDeleteMessage\") settinglgpdDeleteMessage = value\r\n        if (key === \"enableLGPD\") settingEnableLGPD = value\r\n      }\r\n      if (settingEnableLGPD === \"enabled\" && settinglgpdDeleteMessage === \"enabled\") {\r\n        setLGPDDeleteMessage(true);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n\r\n    currentTicketId.current = ticketId;\r\n  }, [ticketId, selectedQueuesMessage]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchMessages = async () => {\r\n        if (ticketId === \"undefined\") {\r\n          history.push(\"/tickets\");\r\n          return;\r\n        }\r\n        if (isNil(ticketId)) return;\r\n        try {\r\n          const { data } = await api.get(\"/messages/\" + ticketId, {\r\n            params: { pageNumber, selectedQueues: JSON.stringify(selectedQueuesMessage) },\r\n          });\r\n\r\n          if (currentTicketId.current === ticketId) {\r\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\r\n            setHasMore(data.hasMore);\r\n            setLoading(false);\r\n            setLoadingMore(false);\r\n          }\r\n\r\n          if (pageNumber === 1 && data.messages.length > 1) {\r\n            scrollToBottom();\r\n          }\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n          setLoadingMore(false);\r\n        }\r\n      };\r\n\r\n      fetchMessages();\r\n    }, 500);\r\n    return () => {\r\n      clearTimeout(delayDebounceFn);\r\n    };\r\n  }, [pageNumber, ticketId, selectedQueuesMessage]);\r\n\r\n  useEffect(() => {\r\n    if (ticketId === \"undefined\") {\r\n      return;\r\n    }\r\n\r\n    const companyId = user.companyId;\r\n\r\n    //    const socket = socketManager.GetSocket();\r\n    const connectEventMessagesList = () => {\r\n      socket.emit(\"joinChatBox\", `${ticketId}`);\r\n    }\r\n\r\n    const onAppMessageMessagesList = (data) => {\r\n      if (data.action === \"create\" && data.ticket.uuid === ticketId) {\r\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\r\n        scrollToBottom();\r\n      }\r\n\r\n      if (data.action === \"update\" && data?.message?.ticket?.uuid === ticketId) {\r\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\r\n      }\r\n\r\n      if (data.action == \"delete\" && data.message.ticket?.uuid === ticketId) {\r\n        dispatch({ type: \"DELETE_MESSAGE\", payload: data.messageId });\r\n      }\r\n    }\r\n    socket.on(\"connect\", connectEventMessagesList);\r\n    socket.on(`company-${companyId}-appMessage`, onAppMessageMessagesList);\r\n\r\n    return () => {\r\n\r\n      socket.emit(\"joinChatBoxLeave\", `${ticketId}`)\r\n\r\n      socket.off(\"connect\", connectEventMessagesList);\r\n      socket.off(`company-${companyId}-appMessage`, onAppMessageMessagesList);\r\n    };\r\n\r\n  }, [ticketId]);\r\n\r\n  const loadMore = () => {\r\n    if (loadingMore) return;\r\n    setLoadingMore(true);\r\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\r\n  };\r\n\r\nconst scrollToBottom = () => {\r\n  setTimeout(() => {\r\n    if (lastMessageRef.current) {\r\n      lastMessageRef.current.scrollIntoView({});\r\n    }\r\n  }, 100);\r\n};\r\n\r\nconst handleScroll = (e) => {\r\n  if (!hasMore) return;\r\n  const { scrollTop } = e.currentTarget;\r\n\r\n  if (scrollTop === 0) {\r\n    document.getElementById(\"messagesList\").scrollTop = 1;\r\n  }\r\n\r\n  if (loading) {\r\n    return;\r\n  }\r\n\r\n  if (scrollTop < 50) {\r\n    loadMore();\r\n  }\r\n};\r\n\r\nconst handleOpenMessageOptionsMenu = (e, message) => {\r\n  setAnchorEl(e.currentTarget);\r\n  setSelectedMessage(message);\r\n};\r\n\r\nconst handleCloseMessageOptionsMenu = (e) => {\r\n  setAnchorEl(null);\r\n};\r\n\r\nconst hanldeReplyMessage = (e, message) => {\r\n  //if (ticket.status === \"open\" || ticket.status === \"group\") {\r\n  setAnchorEl(null);\r\n  setReplyingMessage(message);\r\n  //}\r\n};\r\n\r\nconst checkMessageMedia = (message) => {\r\n  if (message.mediaType === \"locationMessage\" && message.body.split('|').length >= 2) {\r\n    let locationParts = message.body.split('|')\r\n    let imageLocation = locationParts[0]\r\n    let linkLocation = locationParts[1]\r\n\r\n    let descriptionLocation = null\r\n\r\n    if (locationParts.length > 2)\r\n      descriptionLocation = message.body.split('|')[2]\r\n\r\n    return <LocationPreview image={imageLocation} link={linkLocation} description={descriptionLocation} />\r\n  } else\r\n\r\n    if (message.mediaType === \"contactMessage\") {\r\n      let array = message.body.split(\"\\n\");\r\n      let obj = [];\r\n      let contact = \"\";\r\n      for (let index = 0; index < array.length; index++) {\r\n        const v = array[index];\r\n        let values = v.split(\":\");\r\n        for (let ind = 0; ind < values.length; ind++) {\r\n          if (values[ind].indexOf(\"+\") !== -1) {\r\n            obj.push({ number: values[ind] });\r\n          }\r\n          if (values[ind].indexOf(\"FN\") !== -1) {\r\n            contact = values[ind + 1];\r\n          }\r\n        }\r\n      }\r\n      return <VcardPreview contact={contact} numbers={obj[0]?.number} queueId={message?.ticket?.queueId} whatsappId={message?.ticket?.whatsappId} />\r\n    } else\r\n\r\n      if (message.mediaType === \"image\") {\r\n        return <ModalImageCors imageUrl={message.mediaUrl} />;\r\n      } else\r\n\r\n        if (message.mediaType === \"audio\") {\r\n          return (\r\n            <AudioModal url={message.mediaUrl} />\r\n            // <audio controls>\r\n            //   <source src={message.mediaUrl} type=\"audio/ogg\"></source>\r\n            //   {/* <source src={message.mediaUrl} type=\"audio/mp3\"></source> */}\r\n            // </audio>\r\n          );\r\n        } else\r\n\r\n          if (message.mediaType === \"video\") {\r\n            return (\r\n              <video\r\n                className={classes.messageMedia}\r\n                src={message.mediaUrl}\r\n                controls\r\n              />\r\n            );\r\n          } else {\r\n            return (\r\n              <>\r\n                <div className={classes.downloadMedia}>\r\n                  <Button\r\n                    startIcon={<GetApp />}\r\n                    variant=\"outlined\"\r\n                    target=\"_blank\"\r\n                    href={message.mediaUrl}\r\n                  >\r\n                    Download\r\n                  </Button>\r\n                </div>\r\n                <Divider />\r\n              </>\r\n            );\r\n          }\r\n};\r\n\r\nconst renderMessageAck = (message) => {\r\n  if (message.ack === 0) {\r\n    return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\r\n  } else\r\n    if (message.ack === 1) {\r\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\r\n    } else\r\n      if (message.ack === 2) {\r\n        return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\r\n      } else\r\n        if (message.ack === 3 || message.ack === 4) {\r\n          return <DoneAll fontSize=\"small\" className={message.mediaType === \"audio\" ? classes.ackPlayedIcon : classes.ackDoneAllIcon} />;\r\n        } else\r\n          if (message.ack === 5) {\r\n            return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />\r\n          }\r\n};\r\n\r\nconst renderDailyTimestamps = (message, index) => {\r\n  const today = format(new Date(), \"dd/MM/yyyy\")\r\n\r\n  if (index === 0) {\r\n    return (\r\n      <span\r\n        className={classes.dailyTimestamp}\r\n        key={`timestamp-${message.id}`}\r\n      >\r\n        <div className={classes.dailyTimestampText}>\r\n          {today === format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\") ? \"HOJE\" : format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\r\n        </div>\r\n      </span>\r\n    );\r\n  } else\r\n    if (index < messagesList.length - 1) {\r\n      let messageDay = parseISO(messagesList[index].createdAt);\r\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\r\n\r\n      if (!isSameDay(messageDay, previousMessageDay)) {\r\n        return (\r\n          <span\r\n            className={classes.dailyTimestamp}\r\n            key={`timestamp-${message.id}`}\r\n          >\r\n            <div className={classes.dailyTimestampText}>\r\n              {today === format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\") ? \"HOJE\" : format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\r\n            </div>\r\n          </span>\r\n        );\r\n      }\r\n    } else\r\n      if (index === messagesList.length - 1) {\r\n        return (\r\n          <div\r\n            key={`ref-${message.id}`}\r\n            ref={lastMessageRef}\r\n            style={{ float: \"left\", clear: \"both\" }}\r\n          />\r\n        );\r\n      }\r\n};\r\n\r\n\r\nconst renderTicketsSeparator = (message, index) => {\r\n  let lastTicket = messagesList[index - 1]?.ticketId;\r\n  let currentTicket = message.ticketId;\r\n\r\n  if (lastTicket !== currentTicket && lastTicket !== undefined) {\r\n    if (message?.ticket?.queue) {\r\n      return (\r\n        <span\r\n          className={classes.currentTick}\r\n          key={`timestamp-${message.id}a`}\r\n        >\r\n          <div\r\n            className={classes.currentTicktText}\r\n            style={{ backgroundColor: message?.ticket?.queue?.color || \"grey\" }}\r\n          >\r\n            #{i18n.t(\"ticketsList.called\")} {message?.ticketId} - {message?.ticket?.queue?.name}\r\n          </div>\r\n\r\n        </span>\r\n      );\r\n    } else {\r\n      return (\r\n        <span\r\n          className={classes.currentTick}\r\n          key={`timestamp-${message.id}b`}\r\n        >\r\n          <div\r\n            className={classes.currentTicktText}\r\n            style={{ backgroundColor: \"grey\" }}\r\n          >\r\n            #{i18n.t(\"ticketsList.called\")} {message.ticketId} - {i18n.t(\"ticketsList.noQueue\")}\r\n          </div>\r\n\r\n        </span>\r\n      );\r\n    }\r\n  }\r\n\r\n};\r\n\r\nconst renderMessageDivider = (message, index) => {\r\n  if (index < messagesList.length && index > 0) {\r\n    let messageUser = messagesList[index].fromMe;\r\n    let previousMessageUser = messagesList[index - 1].fromMe;\r\n    if (messageUser !== previousMessageUser) {\r\n      return (\r\n\r\n        <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\r\n      );\r\n    }\r\n  }\r\n};\r\n\r\nconst path = require('path');\r\n\r\nconst renderQuotedMessage = (message) => {\r\n\r\n  return (\r\n    <div\r\n      className={clsx(classes.quotedContainerLeft, {\r\n        [classes.quotedContainerRight]: message.fromMe,\r\n      })}\r\n    >\r\n      <span\r\n        className={clsx(classes.quotedSideColorLeft, {\r\n          [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\r\n        })}\r\n      ></span>\r\n      <div className={classes.quotedMsg}>\r\n        {!message.quotedMsg?.fromMe && (\r\n          <span className={classes.messageContactName}>\r\n            {message.quotedMsg?.contact?.name}\r\n          </span>\r\n        )}\r\n\r\n        {message.quotedMsg.mediaType === \"audio\"\r\n          && (\r\n            <div className={classes.downloadMedia}>\r\n              <AudioModal url={message.quotedMsg.mediaUrl} />\r\n\r\n              {/* <audio controls>\r\n                  <source src={message.quotedMsg.mediaUrl} type=\"audio/mp3\"></source>\r\n                  {/* <source src={message.quotedMsg.mediaUrl} type=\"audio/ogg\"></source> \r\n                </audio> */}\r\n            </div>\r\n          )\r\n        }\r\n        {message.quotedMsg.mediaType === \"video\"\r\n          && (\r\n            <video\r\n              className={classes.messageMedia}\r\n              src={message.quotedMsg.mediaUrl}\r\n              controls\r\n            />\r\n          )\r\n        }\r\n        {message.quotedMsg.mediaType === \"contactMessage\"\r\n          && (\r\n            \"Contato\"\r\n          )\r\n        }\r\n        {message.quotedMsg.mediaType === \"application\"\r\n          && (\r\n            <div className={classes.downloadMedia}>\r\n              <Button\r\n                startIcon={<GetApp />}\r\n                // color=\"primary\"\r\n                variant=\"outlined\"\r\n                target=\"_blank\"\r\n                href={message.quotedMsg.mediaUrl}\r\n              >\r\n                Download\r\n              </Button>\r\n            </div>\r\n          )\r\n        }\r\n\r\n        {message.quotedMsg.mediaType === \"image\"\r\n          && (\r\n            <ModalImageCors imageUrl={message.quotedMsg.mediaUrl} />)\r\n          || message.quotedMsg?.body}\r\n\r\n        {!message.quotedMsg.mediaType === \"image\" && message.quotedMsg?.body}\r\n\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst handleDrag = event => {\r\n  event.preventDefault();\r\n  event.stopPropagation();\r\n  if (event.type === \"dragenter\" || event.type === \"dragover\") {\r\n    setDragActive(true);\r\n  } else if (event.type === \"dragleave\") {\r\n    setDragActive(false);\r\n  }\r\n}\r\n\r\nconst isYouTubeLink = (url) => {\r\n  const youtubeRegex = /(?:youtube\\.com\\/(?:[^\\/\\n\\s]+\\/\\S+\\/|(?:v|e(?:mbed)?)\\/|\\S*?[?&]v=)|youtu\\.be\\/)([a-zA-Z0-9_-]{11})/;\r\n  return youtubeRegex.test(url);\r\n};\r\n\r\nconst handleDrop = event => {\r\n  event.preventDefault();\r\n  event.stopPropagation();\r\n  setDragActive(false);\r\n  if (event.dataTransfer.files && event.dataTransfer.files[0]) {\r\n    if (onDrop) {\r\n      onDrop(event.dataTransfer.files);\r\n    }\r\n  }\r\n}\r\nconst xmlRegex = /<([^>]+)>/g;\r\nconst boldRegex = /\\*(.*?)\\*/g;\r\n\r\nconst formatXml = (xmlString) => {\r\n  // Verifica se o XML contém a assinatura com nome do atendente\r\n  if (boldRegex.test(xmlString)) {\r\n    // Formata o texto dentro da assinatura em negrito\r\n    xmlString = xmlString.replace(boldRegex, \"**$1**\");\r\n  }\r\n  return xmlString;\r\n};\r\n\r\nconst renderMessages = () => {\r\n\r\n  if (messagesList.length > 0) {\r\n    const viewMessagesList = messagesList.map((message, index) => {\r\n      if (message.mediaType === \"call_log\") {\r\n        return (\r\n          <React.Fragment key={message.id}>\r\n            {renderDailyTimestamps(message, index)}\r\n            {renderTicketsSeparator(message, index)}\r\n            {renderMessageDivider(message, index)}\r\n            <div className={classes.messageCenter}>\r\n              <IconButton\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                id=\"messageActionsButton\"\r\n                disabled={message.isDeleted}\r\n                className={classes.messageActionsButton}\r\n                onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\r\n              >\r\n                <ExpandMore />\r\n              </IconButton>\r\n              {isGroup && (\r\n                <span className={classes.messageContactName}>\r\n                  {message.contact?.name}\r\n                </span>\r\n              )}\r\n\r\n              {/* {isGroup && (\r\n                  <span className={classes.messageContactName}>\r\n                    {JSON.parse(message.dataJson).pushName} #{message.contact?.name}\r\n                  </span>\r\n                )} */}\r\n              <div>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 17\" width=\"20\" height=\"17\">\r\n                  <path fill=\"#df3333\" d=\"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z\"></path>\r\n                </svg> <span>{i18n.t(\"ticketsList.missedCall\")} {format(parseISO(message.createdAt), \"HH:mm\")}</span>\r\n              </div>\r\n            </div>\r\n          </React.Fragment>\r\n        );\r\n      }\r\n\r\n      if (!message.fromMe) {\r\n        return (\r\n          <React.Fragment key={message.id}>\r\n            {renderDailyTimestamps(message, index)}\r\n            {renderTicketsSeparator(message, index)}\r\n            {renderMessageDivider(message, index)}\r\n            <div\r\n              className={classes.messageLeft}\r\n              title={message.queueId && message.queue?.name}\r\n              onDoubleClick={(e) => hanldeReplyMessage(e, message)}\r\n            >\r\n              {showSelectMessageCheckbox && (\r\n                <SelectMessageCheckbox\r\n                  // showSelectMessageCheckbox={showSelectMessageCheckbox}\r\n                  message={message}\r\n                // selectedMessagesList={selectedMessagesList}\r\n                // setSelectedMessagesList={setSelectedMessagesList}\r\n                />\r\n              )}\r\n              <IconButton\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                id=\"messageActionsButton\"\r\n                disabled={message.isDeleted}\r\n                className={classes.messageActionsButton}\r\n                onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\r\n              >\r\n                <ExpandMore />\r\n              </IconButton>\r\n\r\n              {message.isForwarded && (\r\n                <div>\r\n                  <span className={classes.forwardMessage}\r\n                  ><Reply style={{ color: \"grey\", transform: 'scaleX(-1)' }} /> Encaminhada\r\n                  </span>\r\n                  <br />\r\n                </div>\r\n              )}\r\n              {isGroup && (\r\n                <span className={classes.messageContactName}>\r\n                  {message.contact?.name}\r\n                </span>\r\n              )}\r\n              {isYouTubeLink(message.body) && (\r\n                <>\r\n                  <YouTubePreview videoUrl={message.body} />\r\n                </>\r\n              )}\r\n              {/* {isGroup && (\r\n                  <span className={classes.messageContactName}>\r\n                    {JSON.parse(message.dataJson).pushName} #{message.contact?.name}\r\n                  </span>\r\n                )} */}\r\n\r\n              {/* aviso de mensagem apagado pelo contato */}\r\n\r\n              {!lgpdDeleteMessage && message.isDeleted && (\r\n                <div>\r\n                  <span className={classes.deletedMessage}\r\n                  >🚫 Essa mensagem foi apagada pelo contato &nbsp;\r\n                  </span>\r\n                </div>\r\n              )}\r\n\r\n              {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"contactMessage\"\r\n                //|| message.mediaType === \"multi_vcard\" \r\n              ) && checkMessageMedia(message)}\r\n\r\n              <div className={clsx(classes.textContentItem, {\r\n                [classes.textContentItemDeleted]: message.isDeleted,\r\n              })}>\r\n                {message.quotedMsg && renderQuotedMessage(message)}\r\n                {\r\n                  (\r\n                    (message.mediaUrl !== null && (message.mediaType === \"image\" || message.mediaType === \"video\") && path.basename(message.mediaUrl).trim() !== message.body.trim()) ||\r\n                    message.mediaType !== \"audio\" &&\r\n                    message.mediaType !== \"image\" &&\r\n                    message.mediaType !== \"video\" &&\r\n                    message.mediaType != \"reactionMessage\" &&\r\n                    message.mediaType != \"locationMessage\" && message.mediaType !== \"contactMessage\") && (\r\n                    <>\r\n                      {xmlRegex.test(message.body) && (\r\n                        <span>{message.body}</span>\r\n\r\n                      )}\r\n                      {!xmlRegex.test(message.body) && (\r\n                        <MarkdownWrapper>{(lgpdDeleteMessage && message.isDeleted) ? \"🚫 _Mensagem apagada_ \" :\r\n                          message.body\r\n                        }</MarkdownWrapper>)}\r\n\r\n                    </>\r\n\r\n                  )}\r\n\r\n                {message.quotedMsg && message.mediaType === \"reactionMessage\" && (\r\n                  <>\r\n                    <span style={{ marginLeft: \"0px\" }}>\r\n                      <MarkdownWrapper>\r\n                        {\"\" + message?.contact?.name + \" reagiu... \" + message.body}\r\n                      </MarkdownWrapper>\r\n                    </span>\r\n                  </>\r\n                )}\r\n\r\n                <span className={classes.timestamp}>\r\n                  {message.isEdited ? \"Editada \" + format(parseISO(message.createdAt), \"HH:mm\") : format(parseISO(message.createdAt), \"HH:mm\")}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </React.Fragment>\r\n        );\r\n      } else {\r\n        return (\r\n          <React.Fragment key={message.id}>\r\n            {renderDailyTimestamps(message, index)}\r\n            {renderTicketsSeparator(message, index)}\r\n            {renderMessageDivider(message, index)}\r\n            <div\r\n              className={message.isPrivate ? classes.messageRightPrivate : classes.messageRight}\r\n              title={message.queueId && message.queue?.name}\r\n              onDoubleClick={(e) => hanldeReplyMessage(e, message)}\r\n            >\r\n              {showSelectMessageCheckbox && (\r\n                <SelectMessageCheckbox\r\n                  // showSelectMessageCheckbox={showSelectMessageCheckbox}\r\n                  message={message}\r\n                // selectedMessagesList={selectedMessagesList}\r\n                // setSelectedMessagesList={setSelectedMessagesList}\r\n                />\r\n              )}\r\n\r\n              <IconButton\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                id=\"messageActionsButton\"\r\n                disabled={message.isDeleted}\r\n                className={classes.messageActionsButton}\r\n                onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\r\n              >\r\n                <ExpandMore />\r\n              </IconButton>\r\n              {message.isForwarded && (\r\n                <div>\r\n                  <span className={classes.forwardMessage}\r\n                  ><Reply style={{ color: \"grey\", transform: 'scaleX(-1)' }} /> Encaminhada\r\n                  </span>\r\n                  <br />\r\n                </div>\r\n              )}\r\n              {isYouTubeLink(message.body) && (\r\n                <>\r\n                  <YouTubePreview videoUrl={message.body} />\r\n                </>\r\n              )}\r\n              {!lgpdDeleteMessage && message.isDeleted && (\r\n                <div>\r\n                  <span className={classes.deletedMessage}\r\n                  >🚫 Essa mensagem foi apagada &nbsp;\r\n                  </span>\r\n                </div>\r\n              )}\r\n              {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"contactMessage\"\r\n                //|| message.mediaType === \"multi_vcard\" \r\n              ) && checkMessageMedia(message)}\r\n              <div\r\n                className={clsx(classes.textContentItem, {\r\n                  [classes.textContentItemDeleted]: message.isDeleted,\r\n                })}\r\n              >\r\n\r\n                {/* {message.isDeleted && (`🚫`)} */}\r\n\r\n\r\n\r\n                {message.quotedMsg && renderQuotedMessage(message)}\r\n\r\n                {\r\n                  ((message.mediaType === \"image\" || message.mediaType === \"video\") && path.basename(message.mediaUrl) === message.body) ||\r\n                  (message.mediaType !== \"audio\" && message.mediaType != \"reactionMessage\" && message.mediaType != \"locationMessage\" && message.mediaType !== \"contactMessage\") && (\r\n                    <>\r\n                      {xmlRegex.test(message.body) && (\r\n                        <div>{formatXml(message.body)}</div>\r\n\r\n                      )}\r\n                      {!xmlRegex.test(message.body) && (<MarkdownWrapper>{message.body}</MarkdownWrapper>)}\r\n\r\n                    </>\r\n                  )}\r\n\r\n                {message.quotedMsg && message.mediaType === \"reactionMessage\" && (\r\n                  <>\r\n                    <span style={{ marginLeft: \"0px\" }}>\r\n                      <MarkdownWrapper>\r\n                        {\"Você reagiu... \" + message.body}\r\n                      </MarkdownWrapper>\r\n                    </span>\r\n                  </>\r\n                )}\r\n\r\n                <span className={classes.timestamp}>\r\n                  {message.isEdited ? \"Editada \" + format(parseISO(message.createdAt), \"HH:mm\") : format(parseISO(message.createdAt), \"HH:mm\")}\r\n                  {renderMessageAck(message)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </React.Fragment>\r\n        );\r\n      }\r\n    });\r\n    return viewMessagesList;\r\n  } else {\r\n    return <div>Diga olá para seu novo contato!</div>;\r\n  }\r\n};\r\n\r\nreturn (\r\n  <div className={classes.messagesListWrapper} onDragEnter={handleDrag}>\r\n    {dragActive && <div className={classes.dragElement} onDragEnter={handleDrag} onDragLeave={handleDrag} onDragOver={handleDrag} onDrop={handleDrop}>Solte o arquivo aqui</div>}\r\n\r\n    <MessageOptionsMenu\r\n      message={selectedMessage}\r\n      anchorEl={anchorEl}\r\n      menuOpen={messageOptionsMenuOpen}\r\n      handleClose={handleCloseMessageOptionsMenu}\r\n      isGroup={isGroup}\r\n      whatsappId={whatsappId}\r\n      queueId={queueId}\r\n    />\r\n    <div\r\n      id=\"messagesList\"\r\n      className={classes.messagesList}\r\n      onScroll={handleScroll}\r\n    >\r\n      {messagesList.length > 0 ?\r\n        renderMessages()\r\n        : []}\r\n    </div>\r\n\r\n    {(channel !== \"whatsapp\" && channel !== undefined) && (\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          display: \"flex\",\r\n          padding: \"10px\",\r\n          alignItems: \"center\",\r\n          backgroundColor: \"#E1F3FB\",\r\n        }}\r\n      >\r\n        {channel === \"facebook\" ? (\r\n          <Facebook />\r\n        ) : (\r\n          <Instagram />\r\n        )}\r\n\r\n        <span>\r\n          Você tem 24h para responder após receber uma mensagem, de acordo\r\n          com as políticas do Facebook.\r\n        </span>\r\n      </div>\r\n    )}\r\n    {loading && (\r\n      <div>\r\n        <CircularProgress className={classes.circleLoading} />\r\n      </div>\r\n    )}\r\n  </div>\r\n);\r\n};\r\n\r\nexport default MessagesList;","import React, { useCallback, useContext, useEffect, useState } from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport {\r\n  Box,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport MessagesList from \"../MessagesList\";\r\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\nimport { ForwardMessageProvider } from \"../../context/ForwarMessage/ForwardMessageContext\";\r\n\r\nimport TicketHeader from \"../TicketHeader\";\r\nimport TicketInfo from \"../TicketInfo\";\r\n\r\nimport html2pdf from \"html2pdf.js\";\r\n\r\nconst drawerWidth = 320;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    position: \"relative\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  mainWrapper: {\r\n    flex: 1,\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    overflow: \"hidden\",\r\n    borderTopLeftRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    borderLeft: \"0\",\r\n    marginRight: -drawerWidth,\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n\r\n  mainWrapperShift: {\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginRight: 0,\r\n  },\r\n}));\r\n\r\nexport default function TicketMessagesDialog({ open, handleClose, ticketId }) {\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [, setDrawerOpen] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [contact, setContact] = useState({});\r\n  const [ticket, setTicket] = useState({});\r\n\r\n  const [exportedToPDF, setExportedToPDF] = useState(false);\r\n\r\n  \r\n  const handleExportToPDF = () => {\r\n    const messagesListElement = document.getElementById(\"messagesList\"); // Id do elemento que você deseja exportar para PDF\r\n    const headerElement = document.getElementById(\"TicketHeader\"); // Id do elemento de cabeçalho que você deseja exportar\r\n\r\n\r\n    const pdfOPtions = {\r\n      margin: 1,\r\n      filename: `relatório_atendimento_${ticketId}.pdf`,\r\n      image: { type: 'jpeg', quality: 0.98 },\r\n      html2canvas: { scale: 2 },\r\n      jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }\r\n    };\r\n\r\n    if (messagesListElement) {\r\n      const headerClone = headerElement.cloneNode(true);\r\n      const messagesListClone = messagesListElement.cloneNode(true);\r\n\r\n      const containerElement = document.createElement(\"div\");\r\n      containerElement.appendChild(headerClone); // Adicione o elemento do cabeçalho\r\n      containerElement.appendChild(messagesListClone);\r\n      html2pdf()\r\n        .from(containerElement)\r\n        .set(pdfOPtions)\r\n        .save();\r\n    } else {\r\n      toastError(\"Elemento não encontrado para exportar.\");\r\n    }\r\n  };\r\n\r\n  const handleExportAndClose = () => {\r\n    if (!exportedToPDF) {\r\n      handleExportToPDF();\r\n      setExportedToPDF(true);\r\n      handleClose(); // Fecha o Dialog\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      // Execute a exportação para PDF e feche o Dialog\r\n      handleExportAndClose();\r\n    }\r\n  }, [open, ticketId, handleExportAndClose]);\r\n\r\n\r\n  return (\r\n    <Dialog maxWidth=\"md\" onClose={handleClose} open={open}>\r\n      <DialogActions>\r\n        <Button onClick={handleExportToPDF} color=\"primary\">\r\n          Exportar para PDF\r\n        </Button>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Fechar\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { Can } from \"../Can\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { IconButton, Menu } from \"@material-ui/core\";\r\nimport { DeviceHubOutlined, History, MoreVert, PictureAsPdf, Replay, SwapHorizOutlined } from \"@material-ui/icons\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\n// import TicketOptionsMenu from \"../TicketOptionsMenu\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form } from \"formik\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\r\nimport AcceptTicketWithouSelectQueue from \"../AcceptTicketWithoutQueueModal\";\r\n\r\n//icones\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\nimport UndoIcon from '@material-ui/icons/Undo';\r\n\r\nimport ScheduleModal from \"../ScheduleModal\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport { Switch } from \"@material-ui/core\";\r\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\r\nimport { toast } from \"react-toastify\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport ShowTicketLogModal from \"../ShowTicketLogModal\";\r\nimport TicketMessagesDialog from \"../TicketMessagesDialog\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    actionButtons: {\r\n        marginRight: 6,\r\n        maxWidth: \"100%\",\r\n        flex: \"none\",\r\n        alignSelf: \"center\",\r\n        marginLeft: \"auto\",\r\n        // flexBasis: \"50%\",\r\n        display: \"flex\",\r\n        \"& > *\": {\r\n            margin: theme.spacing(1),\r\n        },\r\n    },\r\n    bottomButtonVisibilityIcon: {\r\n        padding: 1,\r\n        color: theme.mode === \"light\" ? '#FF7606' : '#FFF',\r\n    },\r\n    botoes: {\r\n        display: \"flex\",\r\n        padding: \"15px\",\r\n        justifyContent: \"flex-end\",\r\n        maxWidth: \"100%\",\r\n        // alignItems: \"center\"\r\n\r\n    }\r\n}));\r\n\r\nconst SessionSchema = Yup.object().shape({\r\n    ratingId: Yup.string().required(\"Avaliação obrigatória\"),\r\n});\r\n\r\nconst TicketActionButtonsCustom = ({ ticket\r\n    // , showSelectMessageCheckbox,\r\n    // selectedMessages,\r\n    // forwardMessageModalOpen,\r\n    // setForwardMessageModalOpen\r\n}) => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const history = useHistory();\r\n    const [isMounted, setIsMounted] = useState(true);\r\n    const [loading, setLoading] = useState(false);\r\n    const { user } = useContext(AuthContext);\r\n    const { setCurrentTicket, setTabOpen } = useContext(TicketsContext);\r\n    const [open, setOpen] = React.useState(false);\r\n    const formRef = React.useRef(null);\r\n    const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n    const [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\r\n    const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\r\n    const [contactId, setContactId] = useState(null);\r\n    const [acceptTicketWithouSelectQueueOpen, setAcceptTicketWithouSelectQueueOpen] = useState(false);\r\n    const [showTicketLogOpen, setShowTicketLogOpen] = useState(false);\r\n    const [openTicketMessageDialog, setOpenTicketMessageDialog] = useState(false);\r\n    const [disableBot, setDisableBot] = useState(ticket.contact.disableBot);\r\n\r\n    const [showSchedules, setShowSchedules] = useState(false);\r\n    const [enableIntegration, setEnableIntegration] = useState(ticket.useIntegration);\r\n\r\n    const [openAlert, setOpenAlert] = useState(false);\r\n    const [userTicketOpen, setUserTicketOpen] = useState(\"\");\r\n    const [queueTicketOpen, setQueueTicketOpen] = useState(\"\");\r\n    const [logTicket, setLogTicket] = useState([]);\r\n\r\n    const { get: getSetting } = useCompanySettings()\r\n    const { getPlanCompany } = usePlans();\r\n\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const [menuOpen, setMenuOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n\r\n        // Cleanup function to set isMounted to false when the component unmounts\r\n        return () => {\r\n            setIsMounted(false);\r\n        };\r\n    }, []);\r\n\r\n\r\n    const fetchData = async () => {\r\n        const companyId = user.companyId;\r\n        const planConfigs = await getPlanCompany(undefined, companyId);\r\n        setShowSchedules(planConfigs.plan.useSchedules);\r\n        setOpenTicketMessageDialog(false);\r\n        setDisableBot(ticket.contact.disableBot)\r\n\r\n        setShowTicketLogOpen(false)\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }\r\n\r\n    const handleClickOpen = async (e) => {\r\n        const setting = await getSetting({\r\n            \"column\": \"requiredTag\"\r\n        });\r\n\r\n        if (setting?.requiredTag === \"enabled\") {\r\n            //verificar se tem uma tag   \r\n            try {\r\n                const contactTags = await api.get(`/contactTags/${ticket.contact.id}`);\r\n                if (!contactTags.data.tags) {\r\n                    toast.warning(i18n.t(\"messagesList.header.buttons.requiredTag\"))\r\n                } else {\r\n                    setOpen(true);\r\n                    // handleUpdateTicketStatus(e, \"closed\", user?.id);\r\n                }\r\n            } catch (err) {\r\n                toastError(err);\r\n            }\r\n        } else {\r\n\r\n            setOpen(true);\r\n            // handleUpdateTicketStatus(e, \"closed\", user?.id);\r\n        }\r\n    };\r\n\r\n    const handleClose = () => {\r\n        formRef.current.resetForm();\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleCloseAlert = () => {\r\n        setOpenAlert(false);\r\n        setLoading(false);\r\n    };\r\n    const handleOpenAcceptTicketWithouSelectQueue = async () => {\r\n\r\n        setAcceptTicketWithouSelectQueueOpen(true);\r\n\r\n    };\r\n\r\n    const handleMenu = event => {\r\n        setAnchorEl(event.currentTarget);\r\n        setMenuOpen(true);\r\n    };\r\n\r\n    const handleCloseMenu = () => {\r\n        setAnchorEl(null);\r\n        setMenuOpen(false);\r\n    };\r\n\r\n    const handleOpenTransferModal = (e) => {\r\n        setTransferTicketModalOpen(true);\r\n        if (typeof handleClose == \"function\") handleClose();\r\n    };\r\n\r\n    const handleOpenConfirmationModal = (e) => {\r\n        setConfirmationOpen(true);\r\n        if (typeof handleClose == \"function\") handleClose();\r\n    };\r\n\r\n\r\n    const handleCloseTicketWithoutFarewellMsg = async () => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                status: \"closed\",\r\n                userId: user?.id || null,\r\n                sendFarewellMessage: false,\r\n                amountUsedBotQueues: 0\r\n            });\r\n\r\n            setLoading(false);\r\n            history.push(\"/tickets\");\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    const handleExportPDF = async () => {\r\n        setOpenTicketMessageDialog(true);\r\n        handleCloseMenu();\r\n    }\r\n\r\n    const handleEnableIntegration = async () => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                useIntegration: !enableIntegration\r\n            });\r\n            setEnableIntegration(!enableIntegration)\r\n\r\n            setLoading(false);\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    const handleShowLogTicket = async () => {\r\n        setShowTicketLogOpen(true);\r\n    };\r\n\r\n    const handleContactToggleDisableBot = async () => {\r\n\r\n        const { id } = ticket.contact;\r\n\r\n\r\n        try {\r\n            const { data } = await api.put(`/contacts/toggleDisableBot/${id}`);\r\n            ticket.contact.disableBot = data.disableBot;\r\n            setDisableBot(data.disableBot)\r\n\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    const handleCloseTransferTicketModal = () => {\r\n        setTransferTicketModalOpen(false);\r\n    };\r\n\r\n    const handleDeleteTicket = async () => {\r\n        try {\r\n            await api.delete(`/tickets/${ticket.id}`);\r\n            history.push(\"/tickets\")\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    const handleSendMessage = async (id) => {\r\n        let setting;\r\n\r\n        try {\r\n            setting = await getSetting({\r\n                \"column\": \"greetingAcceptedMessage\"\r\n            })\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        const msg = `${setting.greetingAcceptedMessage}`; //`{{ms}} *{{name}}*, ${i18n.t(\"mainDrawer.appBar.user.myName\")} *${user?.name}* ${i18n.t(\"mainDrawer.appBar.user.continuity\")}.`;\r\n        const message = {\r\n            read: 1,\r\n            fromMe: true,\r\n            mediaUrl: \"\",\r\n            body: `${msg.trim()}`,\r\n        };\r\n        try {\r\n            await api.post(`/messages/${id}`, message);\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n\r\n    const handleUpdateTicketStatus = async (e, status, userId) => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                status: status,\r\n                userId: userId || null,\r\n            });\r\n\r\n            let setting;\r\n\r\n            try {\r\n                setting = await getSetting({\r\n                    \"column\": \"sendGreetingAccepted\"\r\n                })\r\n            } catch (err) {\r\n                toastError(err);\r\n            }\r\n\r\n            if (setting?.sendGreetingAccepted === \"enabled\" && (!ticket.isGroup || ticket.whatsapp?.groupAsTicket === \"enabled\") && ticket.status === \"pending\") {\r\n                handleSendMessage(ticket.id);\r\n            }\r\n\r\n\r\n            // if (isMounted.current) {\r\n            setLoading(false);\r\n            // }\r\n            if (status === \"open\" || status === \"group\") {\r\n                setCurrentTicket({ ...ticket, code: \"#\" + status });\r\n                // handleSelectTicket(ticket);\r\n                setTimeout(() => {\r\n                    history.push('/tickets');\r\n                }, 0);\r\n\r\n                setTimeout(() => {\r\n                    history.push(`/tickets/${ticket.uuid}`);\r\n                    setTabOpen(status)\r\n                }, 10);\r\n\r\n\r\n            } else {\r\n                setCurrentTicket({ id: null, code: null })\r\n                history.push(\"/tickets\");\r\n\r\n            }\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    const handleAcepptTicket = async (id) => {\r\n        setLoading(true);\r\n        try {\r\n            const otherTicket = await api.put(`/tickets/${id}`, {\r\n                status: ticket.isGroup ? \"group\" : \"open\",\r\n                userId: user?.id,\r\n            });\r\n            if (otherTicket.data.id !== ticket.id) {\r\n                if (otherTicket.data.userId !== user?.id) {\r\n                    setOpenAlert(true)\r\n                    setUserTicketOpen(otherTicket.data.user.name)\r\n                    setQueueTicketOpen(otherTicket.data.queue.name)\r\n                    setTabOpen(otherTicket.isGroup ? \"group\" : \"open\")\r\n                } else {\r\n                    setLoading(false);\r\n                    // handleSelectTicket(otherTicket.data);\r\n                    setTabOpen(otherTicket.isGroup ? \"group\" : \"open\")\r\n\r\n                    history.push(`/tickets/${otherTicket.data.uuid}`);\r\n                }\r\n            } else {\r\n                // if (isMounted.current) {\r\n                setLoading(false);\r\n                // }\r\n\r\n                // handleSelectTicket(ticket);\r\n                history.push('/tickets');\r\n                setTimeout(() => {\r\n                    history.push(`/tickets/${ticket.uuid}`);\r\n                    setTabOpen(ticket.isGroup ? \"group\" : \"open\")\r\n                }, 1000)\r\n            }\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {openAlert && (\r\n                <ShowTicketOpen\r\n                    isOpen={openAlert}\r\n                    handleClose={handleCloseAlert}\r\n                    user={userTicketOpen}\r\n                    queue={queueTicketOpen}\r\n                />\r\n            )}\r\n            {acceptTicketWithouSelectQueueOpen && (\r\n                <AcceptTicketWithouSelectQueue\r\n                    modalOpen={acceptTicketWithouSelectQueueOpen}\r\n                    onClose={(e) => setAcceptTicketWithouSelectQueueOpen(false)}\r\n                    ticketId={ticket.id}\r\n                    ticket={ticket}\r\n                />\r\n            )}\r\n            {showTicketLogOpen && (\r\n                <ShowTicketLogModal\r\n                    isOpen={showTicketLogOpen}\r\n                    handleClose={(e) => setShowTicketLogOpen(false)}\r\n                    ticketId={ticket.id}\r\n                />\r\n            )}\r\n            {openTicketMessageDialog && (\r\n                <TicketMessagesDialog\r\n                    open={openTicketMessageDialog}\r\n                    handleClose={() => setOpenTicketMessageDialog(false)}\r\n                    ticketId={ticket.id}\r\n                />\r\n            )}\r\n            <div className={classes.actionButtons}>\r\n                {ticket.status === \"closed\" && (ticket.queueId === null || ticket.queueId === undefined) && (\r\n                    <ButtonWithSpinner\r\n                        loading={loading}\r\n                        startIcon={<Replay />}\r\n                        size=\"small\"\r\n                        onClick={e => handleOpenAcceptTicketWithouSelectQueue()}\r\n                    >\r\n                        {i18n.t(\"messagesList.header.buttons.reopen\")}\r\n                    </ButtonWithSpinner>\r\n                )}\r\n                {(ticket.status === \"closed\" && ticket.queueId !== null) && (\r\n                    <ButtonWithSpinner\r\n                        startIcon={<Replay />}\r\n                        loading={loading}\r\n                        onClick={e => handleAcepptTicket(ticket.id)}\r\n                    >\r\n                        {i18n.t(\"messagesList.header.buttons.reopen\")}\r\n                    </ButtonWithSpinner>\r\n                )}\r\n                {/* <IconButton\r\n                    className={classes.bottomButtonVisibilityIcon}\r\n                    onClick={handleShowLogTicket}\r\n                >\r\n                    <Tooltip title={i18n.t(\"messagesList.header.buttons.logTicket\")}>\r\n                        <History />\r\n\r\n                    </Tooltip>\r\n                </IconButton> */}\r\n                {(ticket.status === \"open\" || ticket.status === \"group\") && (\r\n                    <>\r\n                        {/* {!showSelectMessageCheckbox ? ( */}\r\n                        <>\r\n                            {/* <IconButton\r\n                                className={classes.bottomButtonVisibilityIcon}\r\n                                onClick={handleEnableIntegration}\r\n                            >\r\n                                <Tooltip title={i18n.t(\"messagesList.header.buttons.enableIntegration\")}>\r\n                                    {enableIntegration === true ? <DeviceHubOutlined style={{ color: \"green\" }} /> : <DeviceHubOutlined />}\r\n\r\n                                </Tooltip>\r\n                            </IconButton> */}\r\n\r\n                            <IconButton className={classes.bottomButtonVisibilityIcon}>\r\n                                <Tooltip title={i18n.t(\"messagesList.header.buttons.resolve\")}>\r\n                                    <HighlightOffIcon\r\n                                        // color=\"primary\"\r\n                                        onClick={handleClickOpen}\r\n                                    />\r\n                                </Tooltip>\r\n                            </IconButton>\r\n\r\n                            <IconButton className={classes.bottomButtonVisibilityIcon}>\r\n                                <Tooltip title={i18n.t(\"tickets.buttons.returnQueue\")}>\r\n                                    <UndoIcon\r\n                                        // color=\"primary\"\r\n                                        onClick={(e) => handleUpdateTicketStatus(e, \"pending\", null)}\r\n                                    />\r\n                                </Tooltip>\r\n                            </IconButton>\r\n\r\n                            <IconButton className={classes.bottomButtonVisibilityIcon}>\r\n                                <Tooltip title=\"Transferir Ticket\">\r\n                                    <SwapHorizOutlined\r\n                                        // color=\"primary\"\r\n                                        onClick={handleOpenTransferModal}\r\n                                    />\r\n                                </Tooltip>\r\n                            </IconButton>\r\n                        </>\r\n\r\n                        {/* {showSchedules && (\r\n                            <>\r\n                                <IconButton className={classes.bottomButtonVisibilityIcon}>\r\n                                    <Tooltip title={i18n.t(\"tickets.buttons.scredule\")}>\r\n                                        <EventIcon\r\n                                            // color=\"primary\"\r\n                                            onClick={handleOpenScheduleModal}\r\n                                        />\r\n                                    </Tooltip>\r\n                                </IconButton>\r\n                            </>\r\n                        )} */}\r\n\r\n                        <MenuItem className={classes.bottomButtonVisibilityIcon}>\r\n                            <Tooltip title={i18n.t(\"contactModal.form.chatBotContact\")}>\r\n                                <Switch\r\n                                    size=\"small\"\r\n                                    // color=\"primary\"\r\n                                    checked={disableBot}\r\n                                    onChange={() => handleContactToggleDisableBot()}\r\n                                />\r\n                            </Tooltip>\r\n                        </MenuItem>\r\n\r\n\r\n\r\n                        {confirmationOpen && (\r\n                            <ConfirmationModal\r\n                                title={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")} #${ticket.id}?`}\r\n                                open={confirmationOpen}\r\n                                onClose={setConfirmationOpen}\r\n                                onConfirm={handleDeleteTicket}\r\n                            >\r\n                                {i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\r\n                            </ConfirmationModal>\r\n                        )}\r\n                        {transferTicketModalOpen && (\r\n                            <TransferTicketModalCustom\r\n                                modalOpen={transferTicketModalOpen}\r\n                                onClose={handleCloseTransferTicketModal}\r\n                                ticketid={ticket.id}\r\n                                ticket={ticket}\r\n                            />\r\n                        )}\r\n                        {/* {scheduleModalOpen && (\r\n                            <ScheduleModal\r\n                                open={scheduleModalOpen}\r\n                                onClose={handleCloseScheduleModal}\r\n                                aria-labelledby=\"form-dialog-title\"\r\n                                contactId={contactId}\r\n                            />\r\n                        )} */}\r\n\r\n                    </>\r\n                )}\r\n                {ticket.status === \"pending\" && (ticket.queueId === null || ticket.queueId === undefined) && (\r\n                    <ButtonWithSpinner\r\n                        loading={loading}\r\n                        size=\"small\"\r\n                        variant=\"contained\"\r\n                        onClick={e => handleOpenAcceptTicketWithouSelectQueue()}\r\n                    >\r\n                        {i18n.t(\"messagesList.header.buttons.accept\")}\r\n                    </ButtonWithSpinner>\r\n                )}\r\n                {ticket.status === \"pending\" && ticket.queueId !== null && (\r\n                    <ButtonWithSpinner\r\n                        loading={loading}\r\n                        size=\"small\"\r\n                        variant=\"contained\"\r\n                        // color=\"primary\"\r\n                        onClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\r\n                    >\r\n                        {i18n.t(\"messagesList.header.buttons.accept\")}\r\n                    </ButtonWithSpinner>\r\n                )}\r\n                <IconButton\r\n                    aria-label=\"account of current user\"\r\n                    aria-controls=\"menu-appbar\"\r\n                    aria-haspopup=\"true\"\r\n                    onClick={handleMenu}\r\n                    color=\"inherit\"\r\n                    style={{ paddingHorizontal: 3, paddingTop: 10 }}\r\n                >\r\n                    <MoreVert style={{ fontSize: 16, padding: 0 }} />\r\n                </IconButton>\r\n                <Menu\r\n                    id=\"menu-appbar\"\r\n                    anchorEl={anchorEl}\r\n                    getContentAnchorEl={null}\r\n                    anchorOrigin={{\r\n                        vertical: \"bottom\",\r\n                        horizontal: \"right\",\r\n                    }}\r\n                    keepMounted\r\n                    transformOrigin={{\r\n                        vertical: \"top\",\r\n                        horizontal: \"right\",\r\n                    }}\r\n                    open={menuOpen}\r\n                    onClose={handleCloseMenu}\r\n                >\r\n                    <MenuItem onClick={handleOpenConfirmationModal}>\r\n                        <Can\r\n                            role={user.profile}\r\n                            perform=\"ticket-options:deleteTicket\"\r\n                            yes={() => (\r\n                                i18n.t(\"tickets.buttons.deleteTicket\")\r\n                            )}\r\n                        />\r\n                    </MenuItem>\r\n                    <MenuItem onClick={handleEnableIntegration}>\r\n                        {enableIntegration === true ? i18n.t(\"messagesList.header.buttons.disableIntegration\") : i18n.t(\"messagesList.header.buttons.enableIntegration\")}\r\n                    </MenuItem>\r\n                    <MenuItem onClick={handleShowLogTicket}>\r\n                        {i18n.t(\"messagesList.header.buttons.logTicket\")}\r\n                    </MenuItem>\r\n                    <MenuItem onClick={handleExportPDF}>\r\n                        {i18n.t(\"ticketsList.buttons.exportAsPDF\")}\r\n                    </MenuItem>\r\n                </Menu>\r\n            </div>\r\n            <>\r\n                <Formik\r\n                    enableReinitialize={true}\r\n                    validationSchema={SessionSchema}\r\n                    innerRef={formRef}\r\n                    onSubmit={(values, actions) => {\r\n                        setTimeout(() => {\r\n                            actions.setSubmitting(false);\r\n                            actions.resetForm();\r\n                        }, 400);\r\n                    }}\r\n                >\r\n                    {({ values, touched, errors, isSubmitting, setFieldValue, resetForm }) => (\r\n                        <Dialog\r\n                            open={open}\r\n                            onClose={handleClose}\r\n                            aria-labelledby=\"alert-dialog-title\"\r\n                            aria-describedby=\"alert-dialog-description\"\r\n                        >\r\n                            <Form>\r\n                                <DialogActions className={classes.botoes}>\r\n                                    <Button\r\n                                        onClick={e => handleCloseTicketWithoutFarewellMsg()}\r\n                                        style={{ background: theme.palette.primary.main, color: \"white\" }}\r\n                                    >\r\n                                        {i18n.t(\"messagesList.header.dialogRatingWithoutFarewellMsg\")}\r\n                                    </Button>\r\n\r\n                                    <Button\r\n                                        onClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id, ticket?.queue?.id)}\r\n                                        style={{ background: theme.palette.primary.main, color: \"white\" }}\r\n                                    >\r\n                                        {i18n.t(\"messagesList.header.dialogRatingCancel\")}\r\n                                    </Button>\r\n                                </DialogActions>\r\n                            </Form>\r\n                        </Dialog>\r\n                    )}\r\n                </Formik>\r\n            </>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default TicketActionButtonsCustom;\r\n","import React, { useState, useEffect, useContext, useRef, useCallback } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport clsx from \"clsx\";\r\n\r\nimport { makeStyles, Paper } from \"@material-ui/core\";\r\n\r\nimport ContactDrawer from \"../ContactDrawer\";\r\nimport MessageInput from \"../MessageInput\";\r\nimport TicketHeader from \"../TicketHeader\";\r\nimport TicketInfo from \"../TicketInfo\";\r\nimport TicketActionButtons from \"../TicketActionButtonsCustom\";\r\nimport MessagesList from \"../MessagesList\";\r\nimport api from \"../../services/api\";\r\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\nimport { ForwardMessageProvider } from \"../../context/ForwarMessage/ForwardMessageContext\";\r\n\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { TagsContainer } from \"../TagsContainer\";\r\nimport { isNil } from 'lodash';\r\nimport { EditMessageProvider } from \"../../context/EditingMessage/EditingMessageContext\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\n\r\nconst drawerWidth = 320;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    position: \"relative\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  mainWrapper: {\r\n    flex: 1,\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    overflow: \"hidden\",\r\n    borderTopLeftRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    borderLeft: \"0\",\r\n    marginRight: -drawerWidth,\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n\r\n  mainWrapperShift: {\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginRight: 0,\r\n  },\r\n}));\r\n\r\nconst Ticket = () => {\r\n  const { ticketId } = useParams();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { setTabOpen } = useContext(TicketsContext);\r\n\r\n\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [contact, setContact] = useState({});\r\n  const [ticket, setTicket] = useState({});\r\n  const [dragDropFiles, setDragDropFiles] = useState([]);\r\n  const { companyId } = user;\r\n\r\n  useEffect(() => {\r\n}, [ticket])\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchTicket = async () => {\r\n        try {\r\n\r\n          if (!isNil(ticketId) && ticketId !== \"undefined\") {\r\n\r\n            const { data } = await api.get(\"/tickets/u/\" + ticketId);\r\n\r\n            setContact(data.contact);\r\n            // setWhatsapp(data.whatsapp);\r\n            // setQueueId(data.queueId);\r\n            setTicket(data);\r\n            if ([\"pending\", \"open\", \"group\"].includes(data.status)) {\r\n              setTabOpen(data.status);\r\n            }\r\n            setLoading(false);\r\n          }\r\n        } catch (err) {\r\n          history.push(\"/tickets\");   // correção para evitar tela branca uuid não encontrado Feito por Altemir 16/08/2023\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchTicket();\r\n    }, 500);\r\n\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [ticketId, user, history]);\r\n\r\n  useEffect(() => {\r\n    if (!ticket && !ticket.id && ticket.uuid !== ticketId && ticketId === \"undefined\") {\r\n      return;\r\n    }\r\n\r\n    if (user.companyId) {\r\n      //    const socket = socketManager.GetSocket();\r\n\r\n      const onConnectTicket = () => {\r\n        socket.emit(\"joinChatBox\", `${ticket.id}`);\r\n      }\r\n\r\n      const onCompanyTicket = (data) => {\r\n        if (data.action === \"update\" && data.ticket.id === ticket?.id) {\r\n          setTicket(data.ticket);\r\n        }\r\n\r\n        if (data.action === \"delete\" && data.ticketId === ticket?.id) {\r\n          history.push(\"/tickets\");\r\n        }\r\n      };\r\n\r\n      const onCompanyContactTicket = (data) => {\r\n        if (data.action === \"update\") {\r\n          // if (isMounted) {\r\n          setContact((prevState) => {\r\n            if (prevState.id === data.contact?.id) {\r\n              return { ...prevState, ...data.contact };\r\n            }\r\n            return prevState;\r\n          });\r\n          // }\r\n        }\r\n      };\r\n\r\n      socket.on(\"connect\", onConnectTicket)\r\n      socket.on(`company-${companyId}-ticket`, onCompanyTicket);\r\n      socket.on(`company-${companyId}-contact`, onCompanyContactTicket);\r\n\r\n      return () => {\r\n\r\n        socket.emit(\"joinChatBoxLeave\", `${ticket.id}`);\r\n        socket.off(\"connect\", onConnectTicket);\r\n        socket.off(`company-${companyId}-ticket`, onCompanyTicket);\r\n        socket.off(`company-${companyId}-contact`, onCompanyContactTicket);\r\n      };\r\n    }\r\n  }, [ticketId, ticket, history]);\r\n\r\n  const handleDrawerOpen = useCallback(() => {\r\n    setDrawerOpen(true);\r\n  }, []);\r\n\r\n  const handleDrawerClose = useCallback(() => {\r\n    setDrawerOpen(false);\r\n  }, []);\r\n\r\n  const renderMessagesList = () => {\r\n    return (\r\n      <>\r\n        <MessagesList\r\n          isGroup={ticket.isGroup}\r\n          onDrop={setDragDropFiles}\r\n          whatsappId={ticket.whatsappId}\r\n          queueId={ticket.queueId}\r\n          channel={ticket.channel}\r\n        >\r\n        </MessagesList>\r\n        <MessageInput\r\n          ticketId={ticket.id}\r\n          ticketStatus={ticket.status}\r\n          ticketChannel={ticket.channel}\r\n          droppedFiles={dragDropFiles}\r\n          contactId={contact.id}\r\n        />\r\n      </>\r\n    );\r\n  };\r\n\r\n\r\n  return (\r\n    <div className={classes.root} id=\"drawer-container\">\r\n      <Paper\r\n        variant=\"outlined\"\r\n        elevation={0}\r\n        className={clsx(classes.mainWrapper, {\r\n          [classes.mainWrapperShift]: drawerOpen,\r\n        })}\r\n      >\r\n        {/* <div id=\"TicketHeader\"> */}\r\n        <TicketHeader loading={loading}>\r\n          {ticket.contact !== undefined && (\r\n            <div id=\"TicketHeader\">\r\n              <TicketInfo\r\n                contact={contact}\r\n                ticket={ticket}\r\n                onClick={handleDrawerOpen}\r\n              />\r\n            </div>\r\n          )}\r\n          <TicketActionButtons\r\n            ticket={ticket}\r\n          />\r\n        </TicketHeader>\r\n        {/* </div> */}\r\n        <Paper>\r\n          <TagsContainer contact={contact} />\r\n        </Paper>\r\n        <ReplyMessageProvider>\r\n          <ForwardMessageProvider>\r\n            <EditMessageProvider>\r\n              {renderMessagesList()}\r\n            </EditMessageProvider>\r\n          </ForwardMessageProvider>\r\n        </ReplyMessageProvider>\r\n      </Paper>\r\n\r\n      <ContactDrawer\r\n        open={drawerOpen}\r\n        handleDrawerClose={handleDrawerClose}\r\n        contact={contact}\r\n        loading={loading}\r\n        ticket={ticket}\r\n      />\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Ticket;\r\n","import React, { useState, useCallback, useContext, useEffect, useRef } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Hidden from \"@material-ui/core/Hidden\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TicketsManager from \"../../components/TicketsManagerTabs\";\r\nimport Ticket from \"../../components/Ticket\";\r\n\r\nimport { QueueSelectedProvider } from \"../../context/QueuesSelected/QueuesSelectedContext\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport api from \"../../services/api\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport { getBackendUrl } from \"../../config\";\r\nimport logo from \"../../assets/logo.png\";\r\nimport logoDark from \"../../assets/logo-black.png\";\r\n\r\nconst defaultTicketsManagerWidth = 550;\r\nconst minTicketsManagerWidth = 404;\r\nconst maxTicketsManagerWidth = 700;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tchatContainer: {\r\n\t\tflex: 1,\r\n\t\tpadding: \"2px\",\r\n\t\theight: `calc(100% - 48px)`,\r\n\t\toverflowY: \"hidden\",\r\n\t},\r\n\tchatPapper: {\r\n\t\tdisplay: \"flex\",\r\n\t\theight: \"100%\",\r\n\t},\r\n\tcontactsWrapper: {\r\n\t\tdisplay: \"flex\",\r\n\t\theight: \"100%\",\r\n\t\tflexDirection: \"column\",\r\n\t\toverflowY: \"hidden\",\r\n\t\tposition: \"relative\",\r\n\t},\r\n\tmessagesWrapper: {\r\n\t\tdisplay: \"flex\",\r\n\t\theight: \"100%\",\r\n\t\tflexDirection: \"column\",\r\n\t\tflexGrow: 1,\r\n\t},\r\n\twelcomeMsg: {\r\n\t\tbackground: theme.palette.tabHeaderBackground,\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\talignItems: \"center\",\r\n\t\theight: \"100%\",\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n\tdragger: {\r\n\t\twidth: \"5px\",\r\n\t\tcursor: \"ew-resize\",\r\n\t\tpadding: \"4px 0 0\",\r\n\t\tborderTop: \"1px solid #ddd\",\r\n\t\tposition: \"absolute\",\r\n\t\ttop: 0,\r\n\t\tright: 0,\r\n\t\tbottom: 0,\r\n\t\tzIndex: 100,\r\n\t\tbackgroundColor: \"#f4f7f9\",\r\n\t\tuserSelect: \"none\", // Evita a seleção de texto no elemento de redimensionamento\r\n\t},\r\n\tlogo: {\r\n\t\tlogo: theme.logo,\r\n\t\tcontent: \"url(\" + (theme.mode === \"light\" ? theme.calculatedLogoLight() : theme.calculatedLogoDark()) + \")\"\r\n\t},\r\n}));\r\n\r\nconst TicketsCustom = () => {\r\n\tconst { user } = useContext(AuthContext);\r\n\r\n\tconst classes = useStyles({ ticketsManagerWidth: user.defaultTicketsManagerWidth || defaultTicketsManagerWidth });\r\n\r\n\tconst { ticketId } = useParams();\r\n\r\n\tconst [ticketsManagerWidth, setTicketsManagerWidth] = useState(0);\r\n\tconst ticketsManagerWidthRef = useRef(ticketsManagerWidth);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user && user.defaultTicketsManagerWidth) {\r\n\t\t\tsetTicketsManagerWidth(user.defaultTicketsManagerWidth);\r\n\t\t}\r\n\t}, [user]);\r\n\r\n\t// useEffect(() => {\r\n\t// \tif (ticketId && currentTicket.uuid === undefined) {\r\n\t// \t\thistory.push(\"/tickets\");\r\n\t// \t}\r\n\t// }, [ticketId, currentTicket.uuid, history]);\r\n\r\n\tconst handleMouseDown = (e) => {\r\n\t\tdocument.addEventListener(\"mouseup\", handleMouseUp, true);\r\n\t\tdocument.addEventListener(\"mousemove\", handleMouseMove, true);\r\n\t};\r\n\tconst handleSaveContact = async value => {\r\n\t\tif (value < 404)\r\n\t\t\tvalue = 404\r\n\t\tawait api.put(`/users/toggleChangeWidht/${user.id}`, { defaultTicketsManagerWidth: value });\r\n\r\n\t}\r\n\tconst handleMouseMove = useCallback(\r\n\t\t(e) => {\r\n\t\t\tconst newWidth = e.clientX - document.body.offsetLeft;\r\n\t\t\tif (\r\n\t\t\t\tnewWidth > minTicketsManagerWidth &&\r\n\t\t\t\tnewWidth < maxTicketsManagerWidth\r\n\t\t\t) {\r\n\t\t\t\tticketsManagerWidthRef.current = newWidth;\r\n\t\t\t\tsetTicketsManagerWidth(newWidth);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\tconst handleMouseUp = async () => {\r\n\t\tdocument.removeEventListener(\"mouseup\", handleMouseUp, true);\r\n\t\tdocument.removeEventListener(\"mousemove\", handleMouseMove, true);\r\n\r\n\t\tconst newWidth = ticketsManagerWidthRef.current;\r\n\r\n\t\tif (newWidth !== ticketsManagerWidth) {\r\n\t\t\tawait handleSaveContact(newWidth);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<QueueSelectedProvider>\r\n\t\t\t<div className={classes.chatContainer}>\r\n\t\t\t\t<div className={classes.chatPapper}>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classes.contactsWrapper}\r\n\t\t\t\t\t\tstyle={{ width: ticketsManagerWidth }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<TicketsManager />\r\n\t\t\t\t\t\t<div onMouseDown={e => handleMouseDown(e)} className={classes.dragger} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={classes.messagesWrapper}>\r\n\t\t\t\t\t\t{ticketId ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{/* <Suspense fallback={<CircularProgress />}> */}\r\n\t\t\t\t\t\t\t\t<Ticket />\r\n\t\t\t\t\t\t\t\t{/* </Suspense> */}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Hidden only={[\"sm\", \"xs\"]}>\r\n\t\t\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.welcomeMsg}>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t<center>\r\n\t\t\t\t\t\t\t\t\t\t\t<img className={classes.logo} width=\"50%\" alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t</center>\r\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"chat.noTicketMessage\")}\r\n\t\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</QueueSelectedProvider>\r\n\t);\r\n};\r\n\r\nexport default TicketsCustom;","import { styled } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst TicketAdvancedLayout = styled(Paper)({\r\n    height: `calc(100% - 48px)`,\r\n    display: \"grid\",\r\n    gridTemplateRows: \"56px 1fr\"\r\n})\r\n\r\nexport default TicketAdvancedLayout;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Box from '@material-ui/core/Box';\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\n\r\nimport TicketsManagerTabs from \"../../components/TicketsManagerTabs\";\r\nimport Ticket from \"../../components/Ticket\";\r\nimport TicketAdvancedLayout from \"../../components/TicketAdvancedLayout\";\r\n\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { QueueSelectedProvider } from \"../../context/QueuesSelected/QueuesSelectedContext\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    header: {\r\n    },\r\n    content: {\r\n        overflow: \"auto\"\r\n    },\r\n    placeholderContainer: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        height: \"100%\",\r\n        // backgroundColor: \"#eee\"\r\n        background: theme.palette.tabHeaderBackground,\r\n    },\r\n    placeholderItem: {\r\n    }\r\n}));\r\n\r\nconst TicketAdvanced = (props) => {\r\n    const classes = useStyles();\r\n    const { ticketId } = useParams();\r\n    const [option, setOption] = useState(0);\r\n    const { currentTicket, setCurrentTicket } = useContext(TicketsContext)\r\n\r\n    useEffect(() => {\r\n        if (currentTicket.id !== null) {\r\n            setCurrentTicket({ id: currentTicket.id, code: '#open' })\r\n        }\r\n        if (!ticketId) {\r\n            setOption(1)\r\n        }\r\n        return () => {\r\n            setCurrentTicket({ id: null, code: null })\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (currentTicket.id !== null) {\r\n            setOption(0)\r\n        }\r\n    }, [currentTicket])\r\n\r\n    const renderPlaceholder = () => {\r\n        return <Box className={classes.placeholderContainer}>\r\n            <div className={classes.placeholderItem}>{i18n.t(\"chat.noTicketMessage\")}</div><br />\r\n            <Button onClick={() => setOption(1)} variant=\"contained\" color=\"primary\">\r\n                Selecionar Ticket\r\n            </Button>\r\n        </Box>\r\n    }\r\n\r\n    const renderMessageContext = () => {\r\n        if (ticketId && ticketId !== \"undefined\") {\r\n            return <Ticket />\r\n        }\r\n        return renderPlaceholder()\r\n    }\r\n\r\n    const renderTicketsManagerTabs = () => {\r\n        return <TicketsManagerTabs\r\n        />\r\n    }\r\n\r\n    return (\r\n        <QueueSelectedProvider>\r\n\r\n            <TicketAdvancedLayout>\r\n                <Box className={classes.header}>\r\n                    <BottomNavigation\r\n                        value={option}\r\n                        onChange={(event, newValue) => {\r\n                            setOption(newValue);\r\n                        }}\r\n                        showLabels\r\n                        className={classes.root}\r\n                    >\r\n                        <BottomNavigationAction label=\"Ticket\" icon={<ChatIcon />} />\r\n                        <BottomNavigationAction label=\"Atendimentos\" icon={<QuestionAnswerIcon />} />\r\n                    </BottomNavigation>\r\n                </Box>\r\n                <Box className={classes.content}>\r\n                    {option === 0 ? renderMessageContext() : renderTicketsManagerTabs()}\r\n                </Box>\r\n            </TicketAdvancedLayout>\r\n        </QueueSelectedProvider>\r\n    );\r\n};\r\n\r\nexport default TicketAdvanced;\r\n","import React from \"react\";\r\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\r\n\r\nimport Tickets from \"../TicketsCustom\"\r\nimport TicketAdvanced from \"../TicketsAdvanced\";\r\n\r\nfunction TicketResponsiveContainer (props) {\r\n     if (isWidthUp('md', props.width)) {\r\n        return <Tickets />;    \r\n    }\r\n    return <TicketAdvanced />\r\n}\r\n\r\nexport default withWidth()(TicketResponsiveContainer);","import React, { useState, useEffect } from \"react\";\r\nimport qs from 'query-string'\r\n\r\nimport * as Yup from \"yup\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form, Field } from \"formik\";\r\n\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport usePlans from '../../hooks/usePlans';\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { FormControl } from \"@material-ui/core\";\r\nimport { InputLabel, MenuItem, Select } from \"@material-ui/core\";\r\n\r\nimport { openApi } from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        height: '100vh',\r\n        [theme.breakpoints.down('sm')]: {\r\n            flexDirection: 'column',\r\n        },\r\n    },\r\n    leftSide: {\r\n        flex: 1,\r\n        backgroundImage: \"url(https://static.vecteezy.com/ti/vetor-gratis/p3/443376-bate-papo-plano-de-fundo-vetor.jpg)\",\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: '50vh',\r\n            backgroundSize: 'contain',\r\n            backgroundRepeat: 'no-repeat',\r\n        },\r\n    },\r\n    rightSide: {\r\n        flex: 1,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: theme.palette.background.default,\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: '50vh',\r\n        },\r\n    },\r\n    paper: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        padding: \"55px 30px\",\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    form: {\r\n        width: \"100%\",\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\nconst UserSchema = Yup.object().shape({\r\n    name: Yup.string()\r\n        .min(2, \"Too Short!\")\r\n        .max(50, \"Too Long!\")\r\n        .required(\"Required\"),\r\n    companyName: Yup.string()\r\n        .min(2, \"Too Short!\")\r\n        .max(50, \"Too Long!\")\r\n        .required(\"Required\"),\r\n    password: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\r\n    email: Yup.string().email(\"Invalid email\").required(\"Required\"),\r\n    phone: Yup.string().required(\"Required\"),\r\n});\r\n\r\nconst SignUp = () => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const { getPlanList } = usePlans()\r\n    const [plans, setPlans] = useState([])\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    let companyId = null\r\n    const params = qs.parse(window.location.search)\r\n    if (params.companyId !== undefined) {\r\n        companyId = params.companyId\r\n    }\r\n\r\n    const initialState = { name: \"\", email: \"\", password: \"\", phone: \"\", companyId, companyName: \"\", planId: \"\" };\r\n\r\n    const [user] = useState(initialState);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        const fetchData = async () => {\r\n            const planList = await getPlanList({ listPublic: \"false\" });\r\n\r\n            setPlans(planList);\r\n            setLoading(false);\r\n        }\r\n        fetchData();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const handleSignUp = async values => {\r\n        try {\r\n            await openApi.post(\"/auth/signup\", values);\r\n            toast.success(i18n.t(\"signup.toasts.success\"));\r\n            history.push(\"/login\");\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <div className={classes.rightSide}>\r\n                <Container component=\"main\" maxWidth=\"xs\">\r\n                    <CssBaseline />\r\n                    <div className={classes.paper}>\r\n                        <Avatar className={classes.avatar}>\r\n                            <LockOutlinedIcon />\r\n                        </Avatar>\r\n                        <Typography component=\"h1\" variant=\"h5\">\r\n                            {i18n.t(\"signup.title\")}\r\n                        </Typography>\r\n                        {/* <form className={classes.form} noValidate onSubmit={handleSignUp}> */}\r\n                        <Formik\r\n                            initialValues={user}\r\n                            enableReinitialize={true}\r\n                            validationSchema={UserSchema}\r\n                            onSubmit={(values, actions) => {\r\n                                setTimeout(() => {\r\n                                    handleSignUp(values);\r\n                                    actions.setSubmitting(false);\r\n                                }, 400);\r\n                            }}\r\n                        >\r\n                            {({ touched, errors, isSubmitting }) => (\r\n                                <Form className={classes.form}>\r\n                                    <Grid container spacing={2}>\r\n\r\n                                        <Grid item xs={12}>\r\n                                            <Field\r\n                                                as={TextField}\r\n                                                variant=\"outlined\"\r\n                                                fullWidth\r\n                                                id=\"companyName\"\r\n                                                label={i18n.t(\"signup.form.company\")}\r\n                                                error={touched.companyName && Boolean(errors.companyName)}\r\n                                                helperText={touched.companyName && errors.companyName}\r\n                                                name=\"companyName\"\r\n                                                autoComplete=\"companyName\"\r\n                                                autoFocus\r\n                                            />\r\n                                        </Grid>\r\n\r\n                                        <Grid item xs={12}>\r\n                                            <Field\r\n                                                as={TextField}\r\n                                                autoComplete=\"name\"\r\n                                                name=\"name\"\r\n                                                error={touched.name && Boolean(errors.name)}\r\n                                                helperText={touched.name && errors.name}\r\n                                                variant=\"outlined\"\r\n                                                fullWidth\r\n                                                id=\"name\"\r\n                                                label={i18n.t(\"signup.form.name\")}\r\n                                            // autoFocus\r\n                                            />\r\n                                        </Grid>\r\n\r\n                                        <Grid item xs={12}>\r\n                                            <Field\r\n                                                as={TextField}\r\n                                                variant=\"outlined\"\r\n                                                fullWidth\r\n                                                id=\"email\"\r\n                                                label={i18n.t(\"signup.form.email\")}\r\n                                                name=\"email\"\r\n                                                error={touched.email && Boolean(errors.email)}\r\n                                                helperText={touched.email && errors.email}\r\n                                                autoComplete=\"email\"\r\n                                                inputProps={{ style: { textTransform: 'lowercase' } }}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <Field\r\n                                                as={TextField}\r\n                                                variant=\"outlined\"\r\n                                                fullWidth\r\n                                                name=\"password\"\r\n                                                error={touched.password && Boolean(errors.password)}\r\n                                                helperText={touched.password && errors.password}\r\n                                                label={i18n.t(\"signup.form.password\")}\r\n                                                type=\"password\"\r\n                                                id=\"password\"\r\n                                                autoComplete=\"current-password\"\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <Field\r\n                                                as={TextField}\r\n                                                variant=\"outlined\"\r\n                                                fullWidth\r\n                                                id=\"phone\"\r\n                                                label={i18n.t(\"signup.form.phone\")}\r\n                                                name=\"phone\"\r\n                                                autoComplete=\"phone\"\r\n                                            />\r\n                                        </Grid>\r\n\r\n                                        {/* TOKEN */}\r\n                                        {/* <Grid item xs={12}>\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        variant=\"outlined\"\r\n                                        fullWidth\r\n                                        id=\"token\"\r\n                                        label={i18n.t(\"auth.token\")}\r\n                                        name=\"token\"\r\n                                        autoComplete=\"token\"\r\n                                    />\r\n                                </Grid> */}\r\n\r\n                                        <Grid item xs={12}>\r\n                                            <InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\r\n                                            <Field\r\n                                                as={Select}\r\n                                                variant=\"outlined\"\r\n                                                fullWidth\r\n                                                id=\"plan-selection\"\r\n                                                label=\"Plano\"\r\n                                                name=\"planId\"\r\n                                                required\r\n                                            >\r\n                                                {plans.map((plan, key) => (\r\n                                                    <MenuItem key={key} value={plan.id}>\r\n                                                        {plan.name} - Atendentes: {plan.users} - WhatsApp: {plan.connections} - Filas: {plan.queues} - R$ {plan.amount}\r\n                                                    </MenuItem>\r\n                                                ))}\r\n                                            </Field>\r\n                                        </Grid>\r\n\r\n                                    </Grid>\r\n                                    <Button\r\n                                        type=\"submit\"\r\n                                        fullWidth\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        className={classes.submit}\r\n                                    >\r\n                                        {i18n.t(\"signup.buttons.submit\")}\r\n                                    </Button>\r\n                                    <Grid container>\r\n                                        <Grid item>\r\n                                            <Link\r\n                                                href=\"#\"\r\n                                                variant=\"body2\"\r\n                                                component={RouterLink}\r\n                                                to=\"/login\"\r\n                                            >\r\n                                                {i18n.t(\"signup.buttons.login\")}\r\n                                            </Link>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Form>\r\n                            )}\r\n                        </Formik>\r\n                    </div>\r\n                    <Box mt={5}>{/* <Copyright /> */}</Box>\r\n                </Container>\r\n                {/*Esquerda */}\r\n            </div>\r\n                <div className={classes.leftSide}>\r\n                </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignUp;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport ColorModeContext from \"../../layout/themeContext\";\r\nimport useSettings from \"../../hooks/useSettings\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Brightness4Icon from \"@material-ui/icons/Brightness4\";\r\nimport Brightness7Icon from \"@material-ui/icons/Brightness7\";\r\nimport { Checkbox, FormControlLabel } from '@mui/material';\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nconst Copyright = () => {\r\n\treturn (\r\n\t\t<Typography variant=\"body2\" color=\"#fff\" align=\"center\">\r\n\t\t\t{\"Copyright \"}\r\n\t\t\t<Link color=\"#fff\" href=\"#\">\r\n\t\t\t\tGBSOficial\r\n\t\t\t</Link>{\" \"}\r\n\t\t\t{new Date().getFullYear()}\r\n\t\t\t{\".\"}\r\n\t\t</Typography>\r\n\t);\r\n};\r\n\r\nconst customStyle = {\r\n\tborderRadius: 0,\r\n\tmargin: 1,\r\n\tboxShadow: \"none\",\r\n\tbackgroundColor: '#e8ab31',\r\n\tcolor: 'white',\r\n\tfontSize: '12px',\r\n};\r\n\r\nconst customStyle2 = {\r\n\tborderRadius: 0,\r\n\tmargin: 1,\r\n\tboxShadow: \"none\",\r\n\tbackgroundColor: '#096799',\r\n\tcolor: 'white',\r\n\tfontSize: '12px',\r\n\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'row',\r\n\t\theight: '100vh',\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\tflexDirection: 'column',\r\n\t\t},\r\n\t},\r\n\tleftSide: {\r\n\t\tflex: 1,\r\n\t\tbackgroundImage: \"url(https://static.vecteezy.com/ti/vetor-gratis/p3/443376-bate-papo-plano-de-fundo-vetor.jpg)\",\r\n\t\tbackgroundSize: 'cover',\r\n\t\tbackgroundPosition: 'center',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\theight: '50vh',\r\n\t\t\tbackgroundSize: 'contain',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t},\r\n\t},\r\n\trightSide: {\r\n\t\tflex: 1,\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\theight: '50vh',\r\n\t\t},\r\n\t},\r\n\tpaper: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\talignItems: \"center\",\r\n\t\tpadding: \"55px 30px\",\r\n\t},\r\n\tform: {\r\n\t\twidth: \"100%\",\r\n\t\tmarginTop: theme.spacing(1),\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n\tpowered: {\r\n\t\tcolor: \"white\",\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t},\r\n\tlogoImg: {\r\n\t\twidth: \"100%\",\r\n\t\tmaxWidth: \"350px\",\r\n\t\theight: \"auto\",\r\n\t\tmaxHeight: \"120px\",\r\n\t\tmargin: \"0 auto\",\r\n\t\tcontent: \"url(\" + (theme.mode === \"light\" ? theme.calculatedLogoLight() : theme.calculatedLogoDark()) + \")\",\r\n\t},\r\n\ticonButton: {\r\n\t\tposition: \"absolute\",\r\n\t\ttop: 10,\r\n\t\tright: 10,\r\n\t\tcolor: theme.mode === \"light\" ? \"black\" : \"white\",\r\n\t},\r\n}));\r\n\r\nconst Login = () => {\r\n\tconst classes = useStyles();\r\n\tconst { colorMode } = useContext(ColorModeContext);\r\n\tconst { appLogoFavicon, appName, mode } = colorMode;\r\n\tconst [user, setUser] = useState({\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\trememberMe: false,\r\n\t});\r\n\tconst [allowSignup, setAllowSignup] = useState(false);\r\n\tconst { getPublicSetting } = useSettings();\r\n\tconst { handleLogin } = useContext(AuthContext);\r\n\r\n\tconst handleChangeInput = (name, value) => {\r\n\t\tsetUser({ ...user, [name]: value });\r\n\t};\r\n\r\n\tconst handlSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\thandleLogin(user);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetPublicSetting(\"allowSignup\")\r\n\t\t\t.then((data) => {\r\n\t\t\t\tsetAllowSignup(data === \"enabled\");\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error reading setting\", error);\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>{appName || \"GBSOficial\"}</title>\r\n\t\t\t\t<link rel=\"icon\" href={appLogoFavicon || \"/default-favicon.ico\"} />\r\n\t\t\t</Helmet>\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t{/*Direita */}\r\n\t\t\t<div className={classes.rightSide}>\r\n\t\t\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t\t\t<CssBaseline />\r\n\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t<IconButton className={classes.iconButton} onClick={colorMode.toggleColorMode}>\r\n\t\t\t\t\t\t\t{mode === \"dark\" ? <Brightness7Icon /> : <Brightness4Icon />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<img className={classes.logoImg} alt=\"logo\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<form className={classes.form} noValidate onSubmit={handlSubmit}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"login.form.email\")}\r\n\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\tvalue={user.email}\r\n\t\t\t\t\t\t\t\tonChange={(e) => handleChangeInput(e.target.name, e.target.value.toLowerCase())}\r\n\t\t\t\t\t\t\t\tautoComplete=\"email\"\r\n\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"login.form.password\")}\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\t\tvalue={user.password}\r\n\t\t\t\t\t\t\t\tonChange={(e) => handleChangeInput(e.target.name, e.target.value.toLowerCase())}\r\n\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Grid container justify=\"flex-end\">\r\n\t\t\t\t\t\t\t\t<Grid item xs={6} style={{ textAlign: \"right\" }}>\r\n\t\t\t\t\t\t\t\t\t<Link component={RouterLink} to=\"/forgetpsw\" variant=\"body2\">\r\n\t\t\t\t\t\t\t\t\t\tEsqueceu sua senha?\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={user.rememberMe}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => handleChangeInput('rememberMe', e.target.checked)}\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel=\"Lembre-se de mim\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tstyle={customStyle2}\r\n\t\t\t\t\t\t\t\tclassName={classes.submit}>\r\n\t\t\t\t\t\t\t\t{i18n.t(\"login.buttons.submit\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcomponent={RouterLink}\r\n\t\t\t\t\t\t\t\tstyle={customStyle}\r\n\t\t\t\t\t\t\t\tto=\"/signup\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{i18n.t(\"login.buttons.register\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t{allowSignup && (\r\n\t\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t\t<Link href=\"#\" variant=\"body2\" component={RouterLink} to=\"/signup\">\r\n\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"login.buttons.register\")}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*<Box> Copyright 2024 - GBSOficial </Box>*/}\r\n\t\t\t\t</Container>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*Esquerda */}\r\n\t\t\t\t<div className={classes.leftSide}>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmainContainer: {\r\n\t\tflex: 1,\r\n\t\tpadding: theme.spacing(2),\r\n\t\theight: `calc(100% - 48px)`,\r\n\t},\r\n\r\n\tcontentWrapper: {\r\n\t\theight: \"100%\",\r\n\t\toverflowY: \"hidden\",\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t},\r\n}));\r\n\r\nconst MainContainer = ({ children }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Container className={classes.mainContainer}>\r\n\t\t\t<div className={classes.contentWrapper}>{children}</div>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default MainContainer;\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcontactsHeader: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tpadding: \"0px 6px 6px 6px\",\r\n\t},\r\n}));\r\n\r\nconst MainHeader = ({ children }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn <div className={classes.contactsHeader}>{children}</div>;\r\n};\r\n\r\nexport default MainHeader;\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tMainHeaderButtonsWrapper: {\r\n\t\tflex: \"none\",\r\n\t\tmarginLeft: \"auto\",\r\n\t\t\"& > *\": {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n}));\r\n\r\nconst MainHeaderButtonsWrapper = ({ children }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\r\n};\r\n\r\nexport default MainHeaderButtonsWrapper;\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport default function Title(props) {\r\n\treturn (\r\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\r\n\t\t\t{props.children}\r\n\t\t</Typography>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcustomTableCell: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n}));\r\n\r\nconst TableRowSkeleton = ({ avatar, columns }) => {\r\n\tconst classes = useStyles();\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<TableRow>\r\n\t\t\t\t{avatar && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\r\n\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\tanimation=\"wave\"\r\n\t\t\t\t\t\t\t\tvariant=\"circle\"\r\n\t\t\t\t\t\t\t\twidth={40}\r\n\t\t\t\t\t\t\t\theight={40}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\r\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\r\n\t\t\t\t\t\t<div className={classes.customTableCell}>\r\n\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\tanimation=\"wave\"\r\n\t\t\t\t\t\t\t\theight={30}\r\n\t\t\t\t\t\t\t\twidth={80}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t))}\r\n\t\t\t</TableRow>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default TableRowSkeleton;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, TextField, Grid } from \"@material-ui/core\";\r\nimport { Formik, Form, FastField, FieldArray } from \"formik\";\r\nimport { isArray } from \"lodash\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n  },\r\n  textfield: {\r\n    width: \"100%\",\r\n    fontSize: \"0.875em\"\r\n  },\r\n  row: {\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n  },\r\n  control: {\r\n    paddingRight: theme.spacing(1),\r\n    paddingLeft: theme.spacing(1),\r\n  },\r\n  buttonContainer: {\r\n    textAlign: \"right\",\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nfunction SchedulesForm(props) {\r\n  const { initialValues, onSubmit, loading, labelSaveButton } = props;\r\n  const classes = useStyles();\r\n\r\n  const [schedules, setSchedules] = useState([\r\n    { weekday: i18n.t(\"queueModal.serviceHours.monday\"), weekdayEn: \"monday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.tuesday\"), weekdayEn: \"tuesday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.wednesday\"), weekdayEn: \"wednesday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.thursday\"), weekdayEn: \"thursday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.friday\"), weekdayEn: \"friday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.saturday\"), weekdayEn: \"saturday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.sunday\"), weekdayEn: \"sunday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (isArray(initialValues) && initialValues.length > 0) {\r\n      setSchedules(initialValues);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [initialValues]);\r\n\r\n  const handleSubmit = (data) => {\r\n    onSubmit(data);\r\n  };\r\n\r\n  return (\r\n    <Formik\r\n      enableReinitialize\r\n      className={classes.fullWidth}\r\n      initialValues={{ schedules }}\r\n      onSubmit={({ schedules }) =>\r\n        setTimeout(() => {\r\n          handleSubmit(schedules);\r\n        }, 500)\r\n      }\r\n    >\r\n      {({ values }) => (\r\n        <Form className={classes.fullWidth}>\r\n          <FieldArray\r\n            name=\"schedules\"\r\n            render={(arrayHelpers) => (\r\n              <Grid spacing={4} container>\r\n                {values.schedules.map((item, index) => {\r\n                  return (\r\n                    <Grid key={index} xs={12} md={4} item>\r\n                      <Grid container>\r\n                        <Grid className={classes.control} xs={12} item>\r\n                          <FastField\r\n                            as={TextField}\r\n                            abel={i18n.t(\"queueModal.serviceHours.dayWeek\")}\r\n                            name={`schedules[${index}].weekday`}\r\n                            disabled\r\n                            variant=\"outlined\"\r\n                            className={classes.fullWidth}\r\n                            margin=\"dense\"\r\n                          />\r\n                        </Grid>\r\n                        <Grid className={classes.control} xs={12} md={6} item>\r\n                          <FastField\r\n                            label={i18n.t(\"queueModal.serviceHours.startTimeA\")}\r\n                            name={`schedules[${index}].startTimeA`}\r\n                          >\r\n                            {({ field }) => (\r\n                              <NumberFormat\r\n                                {...field}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                customInput={TextField}\r\n                                format=\"##:##\"\r\n                                className={classes.fullWidth}\r\n                                label={i18n.t(\"queueModal.serviceHours.startTimeA\")}\r\n                              />\r\n                            )}\r\n                          </FastField>\r\n                        </Grid>\r\n                        <Grid className={classes.control} xs={12} md={6} item>\r\n                          <FastField\r\n                            label={i18n.t(\"queueModal.serviceHours.endTimeA\")}\r\n                            name={`schedules[${index}].endTimeA`}\r\n                          >\r\n                            {({ field }) => (\r\n                              <NumberFormat\r\n                                {...field}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                customInput={TextField}\r\n                                format=\"##:##\"\r\n                                className={classes.fullWidth}\r\n                                label={i18n.t(\"queueModal.serviceHours.endTimeA\")}\r\n                              />\r\n                            )}\r\n                          </FastField>\r\n                        </Grid>\r\n                        <Grid className={classes.control} xs={12} md={6} item>\r\n                          <FastField\r\n                            label={i18n.t(\"queueModal.serviceHours.startTimeB\")}\r\n                            name={`schedules[${index}].startTimeB`}\r\n                          >\r\n                            {({ field }) => (\r\n                              <NumberFormat\r\n                                {...field}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                customInput={TextField}\r\n                                format=\"##:##\"\r\n                                className={classes.fullWidth}\r\n                                label={i18n.t(\"queueModal.serviceHours.startTimeB\")}\r\n                              />\r\n                            )}\r\n                          </FastField>\r\n                        </Grid>\r\n                        <Grid className={classes.control} xs={12} md={6} item>\r\n                          <FastField\r\n                            label={i18n.t(\"queueModal.serviceHours.endTimeB\")}\r\n                            name={`schedules[${index}].endTimeB`}\r\n                          >\r\n                            {({ field }) => (\r\n                              <NumberFormat\r\n                                {...field}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                customInput={TextField}\r\n                                format=\"##:##\"\r\n                                className={classes.fullWidth}\r\n                                label={i18n.t(\"queueModal.serviceHours.endTimeB\")}\r\n                              />\r\n                            )}\r\n                          </FastField>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Grid>\r\n                  );\r\n                })}\r\n              </Grid>\r\n            )}\r\n          ></FieldArray>\r\n          <div className={classes.buttonContainer}>\r\n            <ButtonWithSpinner\r\n              loading={loading}\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n            >\r\n              {labelSaveButton ?? i18n.t(\"whatsappModal.buttons.okEdit\")}\r\n            </ButtonWithSpinner>\r\n          </div>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n}\r\n\r\nexport default SchedulesForm;\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport { isNil } from \"lodash\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport moment from \"moment\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Button,\r\n  DialogActions,\r\n  CircularProgress,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Switch,\r\n  FormControlLabel,\r\n  Grid,\r\n  Divider,\r\n  Tab,\r\n  Tabs,\r\n  Paper,\r\n  Box,\r\n  Typography\r\n} from \"@material-ui/core\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport QueueSelect from \"../QueueSelect\";\r\nimport TabPanel from \"../TabPanel\";\r\nimport { Autorenew, FileCopy } from \"@material-ui/icons\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport SchedulesForm from \"../SchedulesForm\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    gap: 4\r\n  },\r\n\r\n  multFieldLine: {\r\n    marginTop: 12,\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n  importMessage: {\r\n    marginTop: 12,\r\n    marginBottom: 12,\r\n    paddingBottom: 20,\r\n    paddingTop: 3,\r\n    padding: 12,\r\n    border: \"solid grey 2px\",\r\n    borderRadius: 4,\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  tokenRefresh: {\r\n    minWidth: \"auto\",\r\n    display: \"flex\", // Torna o botão flexível para alinhar o conteúdo\r\n    alignItems: \"center\", // Alinha verticalmente ao centro\r\n    justifyContent: \"center\", // Alinha horizontalmente ao centro\r\n  },\r\n}));\r\n\r\nconst SessionSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n});\r\n\r\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\r\n  const classes = useStyles();\r\n  const [autoToken, setAutoToken] = useState(\"\");\r\n\r\n  const inputFileRef = useRef(null);\r\n\r\n  const [attachment, setAttachment] = useState(null)\r\n  const [attachmentName, setAttachmentName] = useState('')\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    greetingMessage: \"\",\r\n    complationMessage: \"\",\r\n    outOfHoursMessage: \"\",\r\n    ratingMessage: \"\",\r\n    isDefault: false,\r\n    token: \"\",\r\n    maxUseBotQueues: 3,\r\n    provider: \"beta\",\r\n    expiresTicket: 0,\r\n    allowGroup: false,\r\n    enableImportMessage: false,\r\n    groupAsTicket: \"disabled\",\r\n    timeUseBotQueues: '0',\r\n    timeSendQueue: '0',\r\n    sendIdQueue: 0,\r\n    expiresTicketNPS: '0',\r\n    expiresInactiveMessage: \"\",\r\n    timeInactiveMessage: \"\",\r\n    inactiveMessage: \"\",\r\n    maxUseBotQueuesNPS: 3,\r\n    whenExpiresTicket: 0,\r\n    timeCreateNewTicket: 0,\r\n    greetingMediaAttachment: \"\",\r\n    importRecentMessages: \"\",\r\n    importOldMessages: \"\",\r\n    importOldMessagesGroups: \"\",\r\n    integrationId: \"\",\r\n    collectiveVacationEnd: \"\",\r\n    collectiveVacationStart: \"\",\r\n    collectiveVacationMessage: \"\",\r\n    queueIdImportMessages: null\r\n  };\r\n  const [whatsApp, setWhatsApp] = useState(initialState);\r\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\r\n  const [queues, setQueues] = useState([]);\r\n  const [tab, setTab] = useState(\"general\");\r\n  const [enableImportMessage, setEnableImportMessage] = useState(false);\r\n  const [importOldMessagesGroups, setImportOldMessagesGroups] = useState(false);\r\n  const [closedTicketsPostImported, setClosedTicketsPostImported] = useState(false);\r\n  const [importOldMessages, setImportOldMessages] = useState(moment().add(-1, \"days\").format(\"YYYY-MM-DDTHH:mm\"));\r\n  const [importRecentMessages, setImportRecentMessages] = useState(moment().add(-1, \"minutes\").format(\"YYYY-MM-DDTHH:mm\"));\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\r\n  const [NPSEnabled, setNPSEnabled] = useState(false);\r\n  const [showOpenAi, setShowOpenAi] = useState(false);\r\n  const [showIntegrations, setShowIntegrations] = useState(false);\r\n  const { user } = useContext(AuthContext);\r\n\r\n\r\n\r\n  const [schedules, setSchedules] = useState([\r\n    { weekday: i18n.t(\"queueModal.serviceHours.monday\"), weekdayEn: \"monday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.tuesday\"), weekdayEn: \"tuesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.wednesday\"), weekdayEn: \"wednesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.thursday\"), weekdayEn: \"thursday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.friday\"), weekdayEn: \"friday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n  ]);\r\n\r\n  const { get: getSetting } = useCompanySettings();\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\r\n  const [prompts, setPrompts] = useState([]);\r\n\r\n  const [webhooks, setWebhooks] = useState([]);\r\n  const [flowIdNotPhrase, setFlowIdNotPhrase] = useState();\r\n  const [flowIdWelcome, setFlowIdWelcome] = useState();\r\n\r\n  const [selectedIntegration, setSelectedIntegration] = useState(null);\r\n  const [integrations, setIntegrations] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!whatsAppId && !whatsApp.token) {\r\n      setAutoToken(generateRandomCode(30));\r\n    } else if (whatsAppId && !whatsApp.token) {\r\n      setAutoToken(generateRandomCode(30));\r\n    } else {\r\n      setAutoToken(whatsApp.token);\r\n    }\r\n  }, [whatsAppId, whatsApp.token]);\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n\r\n      setShowOpenAi(planConfigs.plan.useOpenAi);\r\n      setShowIntegrations(planConfigs.plan.useIntegrations);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/prompt\");\r\n        setPrompts(data.prompts);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, [whatsAppId]);\r\n\r\n  useEffect(() => {\r\n\r\n    const fetchData = async () => {\r\n\r\n      const settingSchedules = await getSetting({\r\n        \"column\": \"scheduleType\"\r\n      });\r\n      setSchedulesEnabled(settingSchedules.scheduleType === \"connection\");\r\n      const settingNPS = await getSetting({\r\n        \"column\": \"userRating\"\r\n      });\r\n      setNPSEnabled(settingNPS.userRating === \"enabled\");\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleEnableImportMessage = async (e) => {\r\n    setEnableImportMessage(e.target.checked);\r\n\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchSession = async () => {\r\n      if (!whatsAppId) return;\r\n\r\n      try {\r\n        const { data } = await api.get(`whatsapp/${whatsAppId}?session=0`);\r\n        if (data && data?.flowIdNotPhrase) {\r\n          const { data: flowDefault } = await api.get(`flowbuilder/${data.flowIdNotPhrase}`)\r\n          const selectedFlowIdNotPhrase = flowDefault?.flow.id\r\n          setFlowIdNotPhrase(selectedFlowIdNotPhrase)\r\n        }\r\n        if (data && data?.flowIdWelcome) {\r\n          const { data: flowDefault } = await api.get(`flowbuilder/${data.flowIdWelcome}`)\r\n          const selectedFlowIdWelcome = flowDefault?.flow.id\r\n          setFlowIdWelcome(selectedFlowIdWelcome)\r\n        }\r\n        setWhatsApp(data);\r\n        setAttachmentName(data.greetingMediaAttachment);\r\n        setAutoToken(data.token);\r\n        setSelectedIntegration(data?.integrationId)\r\n        data.promptId ? setSelectedPrompt(data.promptId) : setSelectedPrompt(null);\r\n        const whatsQueueIds = data.queues?.map((queue) => queue.id);\r\n        setSelectedQueueIds(whatsQueueIds);\r\n        setSchedules(data.schedules)\r\n        if (!isNil(data?.importOldMessages)) {\r\n          setEnableImportMessage(true);\r\n          setImportOldMessages(data?.importOldMessages);\r\n          setImportRecentMessages(data?.importRecentMessages);\r\n          setClosedTicketsPostImported(data?.closedTicketsPostImported);\r\n          setImportOldMessagesGroups(data?.importOldMessagesGroups);\r\n        }\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n    fetchSession();\r\n  }, [whatsAppId]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/queue\");\r\n        setQueues(data);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/queueIntegration\");\r\n\r\n        setIntegrations(data.queueIntegrations);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/flowbuilder\")\r\n        setWebhooks(data.flows)\r\n      } catch (err) {\r\n        toastError(err)\r\n      }\r\n    })();\r\n  }, [])\r\n\r\n  const handleChangeQueue = (e) => {\r\n    setSelectedQueueIds(e);\r\n    setSelectedPrompt(null);\r\n    setSelectedIntegration(null)\r\n  };\r\n\r\n  const handleChangeIntegration = (e) => {\r\n    setSelectedIntegration(e.target.value)\r\n    setSelectedPrompt(null)\r\n    setSelectedQueueIds([])\r\n  }\r\n\r\n  const handleChangeFlowIdNotPhrase = (e) => {\r\n    console.log(e.target.value)\r\n    setFlowIdNotPhrase(e.target.value)\r\n  }\r\n\r\n  const handleChangeFlowIdWelcome = (e) => {\r\n    console.log(e.target.value)\r\n    setFlowIdWelcome(e.target.value)\r\n  }\r\n\r\n\r\n  const handleChangePrompt = (e) => {\r\n    setSelectedPrompt(e.target.value);\r\n    setSelectedQueueIds([]);\r\n  };\r\n\r\n  const handleSaveWhatsApp = async (values) => {\r\n    if (!whatsAppId) setAutoToken(generateRandomCode(30));\r\n\r\n\r\n\r\n    if (NPSEnabled) {\r\n\r\n      if (isNil(values.ratingMessage)) {\r\n        toastError(i18n.t(\"whatsappModal.errorRatingMessage\"));\r\n        return;\r\n      }\r\n\r\n      if (values.expiresTicketNPS === '0' && values.expiresTicketNPS === '' && values.expiresTicketNPS === 0) {\r\n        toastError(i18n.t(\"whatsappModal.errorExpiresNPS\"));\r\n        return;\r\n      }\r\n    }\r\n\r\n\r\n    if (values.timeSendQueue === '') values.timeSendQueue = '0'\r\n\r\n    if ((values.sendIdQueue === 0 || values.sendIdQueue === '' || isNil(values.sendIdQueue)) && (values.timeSendQueue !== 0 && values.timeSendQueue !== '0')) {\r\n      toastError(i18n.t(\"whatsappModal.errorSendQueue\"));\r\n      return;\r\n    }\r\n\r\n    const whatsappData = {\r\n      ...values,\r\n      flowIdWelcome: flowIdWelcome ? flowIdWelcome : null,\r\n      flowIdNotPhrase: flowIdNotPhrase ? flowIdNotPhrase : null,\r\n      integrationId: selectedIntegration ? selectedIntegration : null,\r\n      queueIds: selectedQueueIds,\r\n      importOldMessages: enableImportMessage ? importOldMessages : null,\r\n      importRecentMessages: enableImportMessage ? importRecentMessages : null,\r\n      importOldMessagesGroups: importOldMessagesGroups ? importOldMessagesGroups : null,\r\n      closedTicketsPostImported: closedTicketsPostImported ? closedTicketsPostImported : null,\r\n      token: autoToken ? autoToken : null, schedules,\r\n      promptId: selectedPrompt ? selectedPrompt : null\r\n    };\r\n\r\n    console.dir(whatsappData)\r\n\r\n    delete whatsappData[\"queues\"];\r\n    delete whatsappData[\"session\"];\r\n\r\n    try {\r\n      if (whatsAppId) {\r\n        if (whatsAppId && enableImportMessage && whatsApp?.status === \"CONNECTED\") {\r\n          try {\r\n            setWhatsApp({ ...whatsApp, status: \"qrcode\" });\r\n            await api.delete(`/whatsappsession/${whatsApp.id}`);\r\n          } catch (err) {\r\n            toastError(err);\r\n          }\r\n        }\r\n\r\n        await api.put(`/whatsapp/${whatsAppId}`, whatsappData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/whatsapp/${whatsAppId}/media-upload`, formData);\r\n        }\r\n        if (!attachmentName && (whatsApp.greetingMediaAttachment !== null)) {\r\n          await api.delete(`/whatsapp/${whatsAppId}/media-upload`);\r\n        }\r\n      } else {\r\n        const { data } = await api.post(\"/whatsapp\", whatsappData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/whatsapp/${data.id}/media-upload`, formData);\r\n        }\r\n      }\r\n      toast.success(i18n.t(\"whatsappModal.success\"));\r\n\r\n      handleClose();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n  };\r\n\r\n  function generateRandomCode(length) {\r\n    const charset = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyvz0123456789\";\r\n    let code = \"\";\r\n\r\n    for (let i = 0; i < length; i++) {\r\n      const randomIndex = Math.floor(Math.random() * charset.length);\r\n      code += charset.charAt(randomIndex);\r\n    }\r\n    return code;\r\n  }\r\n\r\n  const handleRefreshToken = () => {\r\n    setAutoToken(generateRandomCode(30));\r\n  }\r\n\r\n  const handleCopyToken = () => {\r\n    navigator.clipboard.writeText(autoToken); // Copia o token para a área de transferência    \r\n    setCopied(true); // Define o estado de cópia como verdadeiro\r\n  };\r\n\r\n  const handleSaveSchedules = async (values) => {\r\n    toast.success(\"Clique em salvar para registar as alterações\");\r\n    setSchedules(values);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setWhatsApp(initialState);\r\n    setEnableImportMessage(false);\r\n    // inputFileRef.current.value = null\r\n    setAttachment(null)\r\n    setAttachmentName(\"\")\r\n    setCopied(false);\r\n  };\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setTab(newValue);\r\n  };\r\n\r\n  const handleFileUpload = () => {\r\n    const file = inputFileRef.current.files[0];\r\n    setAttachment(file)\r\n    setAttachmentName(file.name)\r\n    inputFileRef.current.value = null\r\n  };\r\n\r\n  const handleDeleFile = () => {\r\n    setAttachment(null)\r\n    setAttachmentName(null)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"lg\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle>\r\n          {whatsAppId\r\n            ? i18n.t(\"whatsappModal.title.edit\")\r\n            : i18n.t(\"whatsappModal.title.add\")}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={whatsApp}\r\n          enableReinitialize={true}\r\n          validationSchema={SessionSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveWhatsApp(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ values, touched, errors, isSubmitting }) => (\r\n            <Form>\r\n              <Paper className={classes.mainPaper} elevation={1}>\r\n                <Tabs\r\n                  value={tab}\r\n                  indicatorColor=\"primary\"\r\n                  textColor=\"primary\"\r\n                  scrollButtons=\"on\"\r\n                  variant=\"scrollable\"\r\n                  onChange={handleTabChange}\r\n                  className={classes.tab}\r\n                >\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.general\")} value={\"general\"} />\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.integrations\")} value={\"integrations\"} />\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.messages\")} value={\"messages\"} />\r\n                  <Tab label=\"Chatbot\" value={\"chatbot\"} />\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.assessments\")} value={\"nps\"} />\r\n                  <Tab label=\"Fluxo Padrão\" value={\"flowbuilder\"} />\r\n                  {schedulesEnabled && <Tab label={i18n.t(\"whatsappModal.tabs.schedules\")} value={\"schedules\"} />}\r\n                </Tabs>\r\n              </Paper>\r\n              <Paper className={classes.paper} elevation={0}>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"general\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {attachmentName && (\r\n                      <div\r\n                        style={{ display: 'flex', flexDirection: 'row-reverse' }}\r\n                      >\r\n                        <Button\r\n                          variant='outlined'\r\n                          color=\"primary\"\r\n                          endIcon={<DeleteOutlineIcon />}\r\n                          onClick={handleDeleFile}\r\n                        >\r\n                          {attachmentName}\r\n                        </Button>\r\n                      </div>\r\n                    )}\r\n                    <div\r\n                      style={{ display: 'flex', flexDirection: \"column-reverse\" }}\r\n                    >\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"video/*,image/*\"\r\n                        ref={inputFileRef}\r\n                        style={{ display: 'none' }}\r\n                        onChange={handleFileUpload}\r\n                      />\r\n                      <Button variant=\"contained\" color=\"primary\" onClick={() => inputFileRef.current.click()}>\r\n                        {i18n.t(\"userModal.buttons.addImage\")}\r\n                      </Button>\r\n                    </div>\r\n                    {/* NOME E PADRAO */}\r\n                    <div className={classes.multFieldLine}>\r\n                      <Grid spacing={2} container>\r\n                        <Grid item>\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"whatsappModal.form.name\")}\r\n                            autoFocus\r\n                            name=\"name\"\r\n                            error={touched.name && Boolean(errors.name)}\r\n                            helperText={touched.name && errors.name}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid style={{ paddingTop: 15 }} item>\r\n                          <FormControlLabel\r\n                            control={\r\n                              <Field\r\n                                as={Switch}\r\n                                color=\"primary\"\r\n                                name=\"isDefault\"\r\n                                checked={values.isDefault}\r\n                              />\r\n                            }\r\n                            label={i18n.t(\"whatsappModal.form.default\")}\r\n                          />\r\n                          <FormControlLabel\r\n                            control={\r\n                              <Field\r\n                                as={Switch}\r\n                                color=\"primary\"\r\n                                name=\"allowGroup\"\r\n                                checked={values.allowGroup}\r\n                              />\r\n                            }\r\n                            label={i18n.t(\"whatsappModal.form.group\")}\r\n                          />\r\n                        </Grid>\r\n                        <Grid xs={6} md={4} item>\r\n                          <FormControl\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.formControl}\r\n                          >\r\n                            <InputLabel id=\"groupAsTicket-selection-label\">{i18n.t(\"whatsappModal.form.groupAsTicket\")}</InputLabel>\r\n                            <Field\r\n                              as={Select}\r\n                              label={i18n.t(\"whatsappModal.form.groupAsTicket\")}\r\n                              placeholder={i18n.t(\"whatsappModal.form.groupAsTicket\")}\r\n                              labelId=\"groupAsTicket-selection-label\"\r\n                              id=\"groupAsTicket\"\r\n                              name=\"groupAsTicket\"\r\n                            >\r\n                              <MenuItem value={\"disabled\"}>{i18n.t(\"whatsappModal.menuItem.disabled\")}</MenuItem>\r\n                              <MenuItem value={\"enabled\"}>{i18n.t(\"whatsappModal.menuItem.enabled\")}</MenuItem>\r\n                            </Field>\r\n                          </FormControl>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </div>\r\n\r\n\r\n                    <div className={classes.importMessage}>\r\n                      <div className={classes.multFieldLine}>\r\n                        <FormControlLabel\r\n                          style={{ marginRight: 7, color: \"gray\" }}\r\n                          label={i18n.t(\"whatsappModal.form.importOldMessagesEnable\")}\r\n                          labelPlacement=\"end\"\r\n                          control={\r\n                            <Switch\r\n                              size=\"medium\"\r\n                              checked={enableImportMessage}\r\n                              onChange={handleEnableImportMessage}\r\n                              name=\"importOldMessagesEnable\"\r\n                              color=\"primary\"\r\n                            />\r\n                          }\r\n                        />\r\n\r\n                        {enableImportMessage ? (\r\n                          <>\r\n                            <FormControlLabel\r\n                              style={{ marginRight: 7, color: \"gray\" }}\r\n                              label={i18n.t(\r\n                                \"whatsappModal.form.importOldMessagesGroups\"\r\n                              )}\r\n                              labelPlacement=\"end\"\r\n                              control={\r\n                                <Switch\r\n                                  size=\"medium\"\r\n                                  checked={importOldMessagesGroups}\r\n                                  onChange={(e) =>\r\n                                    setImportOldMessagesGroups(e.target.checked)\r\n                                  }\r\n                                  name=\"importOldMessagesGroups\"\r\n                                  color=\"primary\"\r\n                                />\r\n                              }\r\n                            />\r\n\r\n                            <FormControlLabel\r\n                              style={{ marginRight: 7, color: \"gray\" }}\r\n                              label={i18n.t(\r\n                                \"whatsappModal.form.closedTicketsPostImported\"\r\n                              )}\r\n                              labelPlacement=\"end\"\r\n                              control={\r\n                                <Switch\r\n                                  size=\"medium\"\r\n                                  checked={closedTicketsPostImported}\r\n                                  onChange={(e) =>\r\n                                    setClosedTicketsPostImported(e.target.checked)\r\n                                  }\r\n                                  name=\"closedTicketsPostImported\"\r\n                                  color=\"primary\"\r\n                                />\r\n                              }\r\n                            />\r\n                          </>) : <></>}\r\n                      </div>\r\n\r\n                      {enableImportMessage ? (\r\n                        <Grid style={{ marginTop: 18 }} container spacing={1}>\r\n                          <Grid item xs={6}>\r\n                            <Field\r\n                              fullWidth\r\n                              as={TextField}\r\n                              label={i18n.t(\"whatsappModal.form.importOldMessages\")}\r\n                              type=\"datetime-local\"\r\n                              name=\"importOldMessages\"\r\n                              inputProps={{\r\n                                max: moment()\r\n                                  .add(0, \"minutes\")\r\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\r\n                                min: moment()\r\n                                  .add(-2, \"years\")\r\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\r\n                              }}\r\n                              //min=\"2022-11-06T22:22:55\"\r\n                              InputLabelProps={{\r\n                                shrink: true,\r\n                              }}\r\n                              error={\r\n                                touched.importOldMessages &&\r\n                                Boolean(errors.importOldMessages)\r\n                              }\r\n                              helperText={\r\n                                touched.importOldMessages && errors.importOldMessages\r\n                              }\r\n                              variant=\"outlined\"\r\n                              value={moment(importOldMessages).format(\r\n                                \"YYYY-MM-DDTHH:mm\"\r\n                              )}\r\n                              onChange={(e) => {\r\n                                setImportOldMessages(e.target.value);\r\n                              }}\r\n                            />\r\n                          </Grid>\r\n                          <Grid item xs={6}>\r\n                            <Field\r\n                              fullWidth\r\n                              as={TextField}\r\n                              label={i18n.t(\"whatsappModal.form.importRecentMessages\")}\r\n                              type=\"datetime-local\"\r\n                              name=\"importRecentMessages\"\r\n                              inputProps={{\r\n                                max: moment()\r\n                                  .add(0, \"minutes\")\r\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\r\n                                min: moment(importOldMessages).format(\r\n                                  \"YYYY-MM-DDTHH:mm\"\r\n                                )\r\n                              }}\r\n                              //min=\"2022-11-06T22:22:55\"\r\n                              InputLabelProps={{\r\n                                shrink: true,\r\n                              }}\r\n                              error={\r\n                                touched.importRecentMessages &&\r\n                                Boolean(errors.importRecentMessages)\r\n                              }\r\n                              helperText={\r\n                                touched.importRecentMessages && errors.importRecentMessages\r\n                              }\r\n                              variant=\"outlined\"\r\n                              value={moment(importRecentMessages).format(\r\n                                \"YYYY-MM-DDTHH:mm\"\r\n                              )}\r\n                              onChange={(e) => {\r\n                                setImportRecentMessages(e.target.value);\r\n                              }}\r\n                            />\r\n                          </Grid>\r\n                          <Grid xs={12} md={12} xl={12} item>\r\n                            <FormControl\r\n                              variant=\"outlined\"\r\n                              margin=\"dense\"\r\n                              className={classes.FormControl}\r\n                              fullWidth\r\n                            >\r\n                              <InputLabel id=\"queueIdImportMessages-selection-label\">\r\n                                {i18n.t(\"whatsappModal.form.queueIdImportMessages\")}\r\n                              </InputLabel>\r\n                              <Field\r\n                                as={Select}\r\n                                name=\"queueIdImportMessages\"\r\n                                id=\"queueIdImportMessages\"\r\n                                value={values.queueIdImportMessages || '0'}\r\n                                required={enableImportMessage}\r\n                                label={i18n.t(\"whatsappModal.form.queueIdImportMessages\")}\r\n                                placeholder={i18n.t(\"whatsappModal.form.queueIdImportMessages\")}\r\n                                labelId=\"queueIdImportMessages-selection-label\"\r\n                              >\r\n                                <MenuItem value={0}>&nbsp;</MenuItem>\r\n                                {queues.map(queue => (\r\n                                  <MenuItem key={queue.id} value={queue.id}>\r\n                                    {queue.name}\r\n                                  </MenuItem>\r\n                                ))}\r\n                              </Field>\r\n                            </FormControl>\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                      ) : null}\r\n                    </div>\r\n                    {enableImportMessage && (\r\n                      <span style={{ color: \"red\" }}>\r\n                        {i18n.t(\"whatsappModal.form.importAlert\")}\r\n                      </span>\r\n                    )}\r\n\r\n\r\n                    {/* TOKEN */}\r\n                    <Box display=\"flex\" alignItems=\"center\">\r\n                      <Grid xs={6} md={12} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.token\")}\r\n                          type=\"token\"\r\n                          fullWidth\r\n                          // name=\"token\"\r\n                          value={autoToken}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          disabled\r\n                        />\r\n                      </Grid>\r\n                      <Button\r\n                        onClick={handleRefreshToken}\r\n                        disabled={isSubmitting}\r\n                        className={classes.tokenRefresh}\r\n                        variant=\"text\"\r\n                        startIcon={<Autorenew style={{ marginLeft: 5, color: \"green\" }} />}\r\n                      />\r\n                      <Button\r\n                        onClick={handleCopyToken}\r\n                        className={classes.tokenRefresh}\r\n                        variant=\"text\"\r\n                        startIcon={<FileCopy style={{ color: copied ? \"blue\" : \"inherit\" }} />}\r\n                      />\r\n                    </Box>\r\n\r\n                    <div>\r\n                      <h3>{i18n.t(\"whatsappModal.form.queueRedirection\")}</h3>\r\n                      <p>{i18n.t(\"whatsappModal.form.queueRedirectionDesc\")}</p>\r\n                      <Grid spacing={2} container>\r\n\r\n                        <Grid xs={6} md={6} item>\r\n                          <FormControl\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            className={classes.FormControl}\r\n                            fullWidth\r\n                          >\r\n                            <InputLabel id=\"sendIdQueue-selection-label\">\r\n                              {i18n.t(\"whatsappModal.form.sendIdQueue\")}\r\n                            </InputLabel>\r\n                            <Field\r\n                              as={Select}\r\n                              name=\"sendIdQueue\"\r\n                              id=\"sendIdQueue\"\r\n                              value={values.sendIdQueue || '0'}\r\n                              required={values.timeSendQueue > 0}\r\n                              label={i18n.t(\"whatsappModal.form.sendIdQueue\")}\r\n                              placeholder={i18n.t(\"whatsappModal.form.sendIdQueue\")}\r\n                              labelId=\"sendIdQueue-selection-label\"\r\n                            >\r\n                              <MenuItem value={0}>&nbsp;</MenuItem>\r\n                              {queues.map(queue => (\r\n                                <MenuItem key={queue.id} value={queue.id}>\r\n                                  {queue.name}\r\n                                </MenuItem>\r\n                              ))}\r\n                            </Field>\r\n                          </FormControl>\r\n\r\n                        </Grid>\r\n\r\n                        <Grid xs={6} md={6} item>\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"whatsappModal.form.timeSendQueue\")}\r\n                            fullWidth\r\n                            name=\"timeSendQueue\"\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            error={touched.timeSendQueue && Boolean(errors.timeSendQueue)}\r\n                            helperText={touched.timeSendQueue && errors.timeSendQueue}\r\n                          />\r\n                        </Grid>\r\n\r\n                      </Grid>\r\n                    </div>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                {/* INTEGRAÇÃO */}\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"integrations\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {/* FILAS */}\r\n                    <QueueSelect\r\n                      selectedQueueIds={selectedQueueIds}\r\n                      onChange={(selectedIds) => handleChangeQueue(selectedIds)}\r\n                    />\r\n                    {showIntegrations && (\r\n                      <FormControl\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        className={classes.FormControl}\r\n                        fullWidth\r\n                      >\r\n                        <InputLabel id=\"integrationId-selection-label\">\r\n                          {i18n.t(\"queueModal.form.integrationId\")}\r\n                        </InputLabel>\r\n                        <Select\r\n                          label={i18n.t(\"queueModal.form.integrationId\")}\r\n                          name=\"integrationId\"\r\n                          value={selectedIntegration || \"\"}\r\n                          onChange={handleChangeIntegration}\r\n                          id=\"integrationId\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          placeholder={i18n.t(\"queueModal.form.integrationId\")}\r\n                          labelId=\"integrationId-selection-label\"                        >\r\n                          <MenuItem value={null} >{\"Desabilitado\"}</MenuItem>\r\n                          {integrations.map((integration) => (\r\n                            <MenuItem key={integration.id} value={integration.id}>\r\n                              {integration.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    )}\r\n                    {showOpenAi && (\r\n                      <FormControl\r\n                        margin=\"dense\"\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                      >\r\n                        <InputLabel>\r\n                          {i18n.t(\"whatsappModal.form.prompt\")}\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId=\"dialog-select-prompt-label\"\r\n                          id=\"dialog-select-prompt\"\r\n                          name=\"promptId\"\r\n                          value={selectedPrompt || \"\"}\r\n                          onChange={handleChangePrompt}\r\n                          label={i18n.t(\"whatsappModal.form.prompt\")}\r\n                          fullWidth\r\n                          MenuProps={{\r\n                            anchorOrigin: {\r\n                              vertical: \"bottom\",\r\n                              horizontal: \"left\",\r\n                            },\r\n                            transformOrigin: {\r\n                              vertical: \"top\",\r\n                              horizontal: \"left\",\r\n                            },\r\n                            getContentAnchorEl: null,\r\n                          }}\r\n                        >\r\n                          {prompts.map((prompt) => (\r\n                            <MenuItem\r\n                              key={prompt.id}\r\n                              value={prompt.id}\r\n                            >\r\n                              {prompt.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    )}\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"messages\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {/* MENSAGEM DE SAUDAÇÃO */}\r\n                    <Grid container spacing={1}>\r\n                      <Grid item xs={12} md={12} xl={12}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.greetingMessage\")}\r\n                          type=\"greetingMessage\"\r\n                          multiline\r\n                          rows={4}\r\n                          fullWidth\r\n                          name=\"greetingMessage\"\r\n                          error={\r\n                            touched.greetingMessage && Boolean(errors.greetingMessage)\r\n                          }\r\n                          helperText={\r\n                            touched.greetingMessage && errors.greetingMessage\r\n                          }\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                        />\r\n                      </Grid>\r\n\r\n                      {/* MENSAGEM DE CONCLUSÃO */}\r\n                      <Grid item xs={12} md={12} xl={12}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.complationMessage\")}\r\n                          multiline\r\n                          rows={4}\r\n                          fullWidth\r\n                          name=\"complationMessage\"\r\n                          error={\r\n                            touched.complationMessage &&\r\n                            Boolean(errors.complationMessage)\r\n                          }\r\n                          helperText={\r\n                            touched.complationMessage && errors.complationMessage\r\n                          }\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                        />\r\n                      </Grid>\r\n\r\n                      {/* MENSAGEM DE FORA DE EXPEDIENTE */}\r\n                      <Grid item xs={12} md={12} xl={12}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.outOfHoursMessage\")}\r\n                          multiline\r\n                          rows={4}\r\n                          fullWidth\r\n                          name=\"outOfHoursMessage\"\r\n                          error={touched.outOfHoursMessage && Boolean(errors.outOfHoursMessage)}\r\n                          helperText={touched.outOfHoursMessage && errors.outOfHoursMessage}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                        />\r\n                      </Grid>\r\n                      {/* MENSAGEM DE FÉRIAS COLETIVAS */}\r\n                      <Grid item xs={12} md={12} xl={12}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.collectiveVacationMessage\")}\r\n                          multiline\r\n                          rows={4}\r\n                          fullWidth\r\n                          name=\"collectiveVacationMessage\"\r\n                          error={touched.collectiveVacationMessage && Boolean(errors.collectiveVacationMessage)}\r\n                          helperText={touched.collectiveVacationMessage && errors.collectiveVacationMessage}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={6}>\r\n                        <Field\r\n                          fullWidth\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.collectiveVacationStart\")}\r\n                          type=\"date\"\r\n                          name=\"collectiveVacationStart\"\r\n                          required={values.collectiveVacationMessage?.length > 0}\r\n                          inputProps={{\r\n                            min: moment()\r\n                              .add(-10, \"days\")\r\n                              .format(\"YYYY-MM-DD\"),\r\n                          }}\r\n                          //min=\"2022-11-06T22:22:55\"\r\n                          InputLabelProps={{\r\n                            shrink: true,\r\n                          }}\r\n                          error={\r\n                            touched.collectiveVacationStart &&\r\n                            Boolean(errors.collectiveVacationStart)\r\n                          }\r\n                          helperText={\r\n                            touched.collectiveVacationStart && errors.collectiveVacationStart\r\n                          }\r\n                          variant=\"outlined\"\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={6}>\r\n                        <Field\r\n                          fullWidth\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.collectiveVacationEnd\")}\r\n                          type=\"date\"\r\n                          name=\"collectiveVacationEnd\"\r\n                          required={values.collectiveVacationMessage?.length > 0}\r\n                          inputProps={{\r\n                            min: moment()\r\n                              .add(-10, \"days\")\r\n                              .format(\"YYYY-MM-DD\")\r\n                          }}\r\n                          //min=\"2022-11-06T22:22:55\"\r\n                          InputLabelProps={{\r\n                            shrink: true,\r\n                          }}\r\n                          error={\r\n                            touched.collectiveVacationEnd &&\r\n                            Boolean(errors.collectiveVacationEnd)\r\n                          }\r\n                          helperText={\r\n                            touched.collectiveVacationEnd && errors.collectiveVacationEnd\r\n                          }\r\n                          variant=\"outlined\"\r\n                        />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"chatbot\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    <Grid spacing={2} container>\r\n                      {/* TEMPO PARA CRIAR NOVO TICKET */}\r\n                      <Grid xs={6} md={4} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.timeCreateNewTicket\")}\r\n                          fullWidth\r\n                          name=\"timeCreateNewTicket\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.timeCreateNewTicket && Boolean(errors.timeCreateNewTicket)}\r\n                          helperText={touched.timeCreateNewTicket && errors.timeCreateNewTicket}\r\n                        />\r\n                      </Grid>\r\n\r\n                      {/* QUANTIDADE MÁXIMA DE VEZES QUE O CHATBOT VAI SER ENVIADO */}\r\n                      <Grid xs={6} md={4} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.maxUseBotQueues\")}\r\n                          fullWidth\r\n                          name=\"maxUseBotQueues\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.maxUseBotQueues && Boolean(errors.maxUseBotQueues)}\r\n                          helperText={touched.maxUseBotQueues && errors.maxUseBotQueues}\r\n                        />\r\n                      </Grid>\r\n                      {/* TEMPO PARA ENVIO DO CHATBOT */}\r\n                      <Grid xs={6} md={4} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.timeUseBotQueues\")}\r\n                          fullWidth\r\n                          name=\"timeUseBotQueues\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.timeUseBotQueues && Boolean(errors.timeUseBotQueues)}\r\n                          helperText={touched.timeUseBotQueues && errors.timeUseBotQueues}\r\n                        />\r\n                      </Grid>\r\n                    </Grid>\r\n                    <Grid spacing={2} container>\r\n                      {/* ENCERRAR CHATS ABERTOS APÓS X HORAS */}\r\n                      <Grid xs={6} md={6} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.expiresTicket\")}\r\n                          fullWidth\r\n                          name=\"expiresTicket\"\r\n                          required={values.timeInactiveMessage > 0}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.expiresTicket && Boolean(errors.expiresTicket)}\r\n                          helperText={touched.expiresTicket && errors.expiresTicket}\r\n                        />\r\n                      </Grid>\r\n                      {/* TEMPO PARA ENVIO DO CHATBOT */}\r\n                      <Grid xs={6} md={6} item>\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                          className={classes.formControl}\r\n                        >\r\n                          <InputLabel id=\"whenExpiresTicket-selection-label\">\r\n                            {i18n.t(\"whatsappModal.form.whenExpiresTicket\")}\r\n                          </InputLabel>\r\n                          <Field\r\n                            as={Select}\r\n                            label={i18n.t(\"whatsappModal.form.whenExpiresTicket\")}\r\n                            placeholder={i18n.t(\r\n                              \"whatsappModal.form.whenExpiresTicket\"\r\n                            )}\r\n                            labelId=\"whenExpiresTicket-selection-label\"\r\n                            id=\"whenExpiresTicket\"\r\n                            name=\"whenExpiresTicket\"\r\n                          >\r\n                            <MenuItem value={\"0\"}>{i18n.t(\"whatsappModal.form.closeLastMessageOptions1\")}</MenuItem>\r\n                            <MenuItem value={\"1\"}>{i18n.t(\"whatsappModal.form.closeLastMessageOptions2\")}</MenuItem>\r\n                          </Field>\r\n                        </FormControl>\r\n                      </Grid>\r\n                    </Grid>\r\n                    {/* MENSAGEM POR INATIVIDADE*/}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.expiresInactiveMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"expiresInactiveMessage\"\r\n                        error={touched.expiresInactiveMessage && Boolean(errors.expiresInactiveMessage)}\r\n                        helperText={touched.expiresInactiveMessage && errors.expiresInactiveMessage}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n\r\n                    {/* TEMPO PARA ENVIO DE MENSAGEM POR INATIVIDADE */}\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"whatsappModal.form.timeInactiveMessage\")}\r\n                      fullWidth\r\n                      name=\"timeInactiveMessage\"\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      error={touched.timeInactiveMessage && Boolean(errors.timeInactiveMessage)}\r\n                      helperText={touched.timeInactiveMessage && errors.timeInactiveMessage}\r\n                    />\r\n                    {/* MENSAGEM POR INATIVIDADE*/}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.inactiveMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"inactiveMessage\"\r\n                        error={touched.inactiveMessage && Boolean(errors.inactiveMessage)}\r\n                        helperText={touched.inactiveMessage && errors.inactiveMessage}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"nps\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {/* MENSAGEM DE AVALIAÇAO*/}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.ratingMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"ratingMessage\"\r\n                        error={touched.ratingMessage && Boolean(errors.ratingMessage)}\r\n                        helperText={touched.ratingMessage && errors.ratingMessage}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n                    {/* QUANTIDADE MÁXIMA DE VEZES QUE O NPS VAI SER ENVIADO */}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.maxUseBotQueuesNPS\")}\r\n                        fullWidth\r\n                        name=\"maxUseBotQueuesNPS\"\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        error={touched.maxUseBotQueuesNPS && Boolean(errors.maxUseBotQueuesNPS)}\r\n                        helperText={touched.maxUseBotQueuesNPS && errors.maxUseBotQueuesNPS}\r\n                      />\r\n                    </div>\r\n                    {/* ENCERRAR CHATS NPS APÓS X Minutos */}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.expiresTicketNPS\")}\r\n                        fullWidth\r\n                        name=\"expiresTicketNPS\"\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        error={touched.expiresTicketNPS && Boolean(errors.expiresTicketNPS)}\r\n                        helperText={touched.expiresTicketNPS && errors.expiresTicketNPS}\r\n                      />\r\n                    </div>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                {/* Flowbuilder */}\r\n                {showIntegrations && (\r\n                  <>\r\n                    <TabPanel\r\n                      className={classes.container}\r\n                      value={tab}\r\n                      name={\"flowbuilder\"}\r\n                    >\r\n                      <DialogContent>\r\n                        <h3>Fluxo de boas vindas</h3>\r\n                        <p>Este fluxo é disparado apenas para novos contatos, pessoas que voce não possui em sua lista de contatos e que mandaram uma mensagem\r\n                        </p>\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          className={classes.FormControl}\r\n                          fullWidth\r\n                        >\r\n                          <Select\r\n                            name=\"flowIdWelcome\"\r\n                            value={flowIdWelcome || \"\"}\r\n                            onChange={handleChangeFlowIdWelcome}\r\n                            id=\"flowIdWelcome\"\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            labelId=\"flowIdWelcome-selection-label\"                        >\r\n                            <MenuItem value={null} >{\"Desabilitado\"}</MenuItem>\r\n                            {webhooks.map(webhook => (\r\n                              <MenuItem key={webhook.id} value={webhook.id}>\r\n                                {webhook.name}\r\n                              </MenuItem>\r\n                            ))}\r\n                          </Select>\r\n                        </FormControl>\r\n                      </DialogContent>\r\n                      <DialogContent>\r\n                        <h3>Fluxo de resposta padrão</h3>\r\n                        <p>Resposta Padrão é enviada com qualquer caractere diferente de uma palavra chave. ATENÇÃO! Será disparada se o atendimento ja estiver fechado.\r\n\r\n                        </p>\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          className={classes.FormControl}\r\n                          fullWidth\r\n                        >\r\n                          <Select\r\n                            name=\"flowNotIdPhrase\"\r\n                            value={flowIdNotPhrase || \"\"}\r\n                            onChange={handleChangeFlowIdNotPhrase}\r\n                            id=\"flowNotIdPhrase\"\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            labelId=\"flowNotIdPhrase-selection-label\"                        >\r\n                            <MenuItem value={null} >{\"Desabilitado\"}</MenuItem>\r\n                            {webhooks.map(webhook => (\r\n                              <MenuItem key={webhook.id} value={webhook.id}>\r\n                                {webhook.name}\r\n                              </MenuItem>\r\n                            ))}\r\n                          </Select>\r\n                        </FormControl>\r\n                      </DialogContent>\r\n                    </TabPanel>\r\n                  </>\r\n                )}\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"schedules\"}\r\n                >\r\n                  {tab === \"schedules\" && (\r\n                    <Paper style={{ padding: 20 }}>\r\n                      <SchedulesForm\r\n                        loading={false}\r\n                        onSubmit={handleSaveSchedules}\r\n                        initialValues={schedules}\r\n                        labelSaveButton={i18n.t(\"whatsappModal.buttons.okAdd\")}\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n\r\n                </TabPanel>\r\n              </Paper>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"whatsappModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {whatsAppId\r\n                    ? i18n.t(\"whatsappModal.buttons.okEdit\")\r\n                    : i18n.t(\"whatsappModal.buttons.okAdd\")}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(WhatsAppModal);","import React, { useEffect, useState, useContext } from \"react\";\r\nimport QRCode from \"qrcode.react\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Dialog, DialogContent, Paper, Typography } from \"@material-ui/core\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n}))\r\n\r\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\r\n  const classes = useStyles();\r\n  const [qrCode, setQrCode] = useState(\"\");\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    const fetchSession = async () => {\r\n      if (!whatsAppId) return;\r\n\r\n      try {\r\n        const { data } = await api.get(`/whatsapp/${whatsAppId}`);\r\n        setQrCode(data.qrcode);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n    fetchSession();\r\n  }, [whatsAppId]);\r\n\r\n  useEffect(() => {\r\n    if (!whatsAppId) return;\r\n    const companyId = user.companyId;\r\n    // const socket = socketConnection({ companyId, userId: user.id });\r\n\r\n    const onWhatsappData = (data) => {\r\n      if (data.action === \"update\" && data.session.id === whatsAppId) {\r\n        setQrCode(data.session.qrcode);\r\n      }\r\n\r\n      if (data.action === \"update\" && data.session.qrcode === \"\") {\r\n        onClose();\r\n      }\r\n    }\r\n    socket.on(`company-${companyId}-whatsappSession`, onWhatsappData);\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-whatsappSession`, onWhatsappData);\r\n    };\r\n  }, [whatsAppId, onClose]);\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} maxWidth=\"lg\" scroll=\"paper\">\r\n      <DialogContent>\r\n        <Paper elevation={0}>\r\n          <Typography color=\"secondary\" gutterBottom>\r\n            {i18n.t(\"qrCode.message\")}\r\n          </Typography>\r\n          <div className={classes.root}>\r\n            {qrCode ? (\r\n              <QRCode value={qrCode} size={300} style={{ backgroundColor: \"white\", padding: '5px' }} />\r\n            ) : (\r\n              <span>Aguardando pelo QR Code</span>\r\n            )}\r\n          </div>\r\n        </Paper>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default React.memo(QrcodeModal);\r\n","\r\nimport React, { useState, useCallback, useContext, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { add, format, parseISO } from \"date-fns\";\r\n\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport {\r\n  Button,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  IconButton,\r\n  Table,\r\n  TableHead,\r\n  Paper,\r\n  Tooltip,\r\n  Typography,\r\n  CircularProgress,\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Edit,\r\n  CheckCircle,\r\n  SignalCellularConnectedNoInternet2Bar,\r\n  SignalCellularConnectedNoInternet0Bar,\r\n  SignalCellular4Bar,\r\n  CropFree,\r\n  DeleteOutline,\r\n  Facebook,\r\n  Instagram,\r\n  WhatsApp,\r\n} from \"@material-ui/icons\";\r\n\r\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\n\r\nimport api from \"../../services/api\";\r\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport QrcodeModal from \"../../components/QrcodeModal\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport formatSerializedId from '../../utils/formatSerializedId';\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\nimport { Can } from \"../../components/Can\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    // padding: theme.spacing(1),\r\n    padding: theme.padding,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  customTableCell: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  tooltip: {\r\n    backgroundColor: \"#f5f5f9\",\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    fontSize: theme.typography.pxToRem(14),\r\n    border: \"1px solid #dadde9\",\r\n    maxWidth: 450,\r\n  },\r\n  tooltipPopper: {\r\n    textAlign: \"center\",\r\n  },\r\n  buttonProgress: {\r\n    color: green[500],\r\n  },\r\n}));\r\n\r\nfunction CircularProgressWithLabel(props) {\r\n  return (\r\n    <Box position=\"relative\" display=\"inline-flex\">\r\n      <CircularProgress variant=\"determinate\" {...props} />\r\n      <Box\r\n        top={0}\r\n        left={0}\r\n        bottom={0}\r\n        right={0}\r\n        position=\"absolute\"\r\n        display=\"flex\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <Typography\r\n          variant=\"caption\"\r\n          component=\"div\"\r\n          color=\"textSecondary\"\r\n        >{`${Math.round(props.value)}%`}</Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nconst CustomToolTip = ({ title, content, children }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Tooltip\r\n      arrow\r\n      classes={{\r\n        tooltip: classes.tooltip,\r\n        popper: classes.tooltipPopper,\r\n      }}\r\n      title={\r\n        <React.Fragment>\r\n          <Typography gutterBottom color=\"inherit\">\r\n            {title}\r\n          </Typography>\r\n          {content && <Typography>{content}</Typography>}\r\n        </React.Fragment>\r\n      }\r\n    >\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nconst IconChannel = (channel) => {\r\n  switch (channel) {\r\n    case \"facebook\":\r\n      return <Facebook style={{ color: \"#3b5998\" }} />;\r\n    case \"instagram\":\r\n      return <Instagram style={{ color: \"#e1306c\" }} />;\r\n    case \"whatsapp\":\r\n      return <WhatsApp style={{ color: \"#25d366\" }} />;\r\n    default:\r\n      return \"error\";\r\n  }\r\n};\r\n\r\nconst Connections = () => {\r\n  const classes = useStyles();\r\n\r\n  const { whatsApps, loading } = useContext(WhatsAppsContext);\r\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\r\n  const [statusImport, setStatusImport] = useState([]);\r\n  const [qrModalOpen, setQrModalOpen] = useState(false);\r\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const history = useHistory();\r\n  const confirmationModalInitialState = {\r\n    action: \"\",\r\n    title: \"\",\r\n    message: \"\",\r\n    whatsAppId: \"\",\r\n    open: false,\r\n  };\r\n  const [confirmModalInfo, setConfirmModalInfo] = useState(confirmationModalInitialState);\r\n  const [planConfig, setPlanConfig] = useState(false);\r\n\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const companyId = user.companyId;\r\n\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      setPlanConfig(planConfigs)\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const responseFacebook = (response) => {\r\n    if (response.status !== \"unknown\") {\r\n      const { accessToken, id } = response;\r\n\r\n      api\r\n        .post(\"/facebook\", {\r\n          facebookUserId: id,\r\n          facebookUserToken: accessToken,\r\n        })\r\n        .then((response) => {\r\n          toast.success(i18n.t(\"connections.facebook.success\"));\r\n        })\r\n        .catch((error) => {\r\n          toastError(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const responseInstagram = (response) => {\r\n    if (response.status !== \"unknown\") {\r\n      const { accessToken, id } = response;\r\n\r\n      api\r\n        .post(\"/facebook\", {\r\n          addInstagram: true,\r\n          facebookUserId: id,\r\n          facebookUserToken: accessToken,\r\n        })\r\n        .then((response) => {\r\n          toast.success(i18n.t(\"connections.facebook.success\"));\r\n        })\r\n        .catch((error) => {\r\n          toastError(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // const socket = socketManager.GetSocket();\r\n    socket.on(`importMessages-${user.companyId}`, (data) => {\r\n      if (data.action === \"refresh\") {\r\n        setStatusImport([]);\r\n        history.go(0);\r\n      }\r\n      if (data.action === \"update\") {\r\n        setStatusImport(data.status);\r\n      }\r\n    });\r\n\r\n    /* return () => {\r\n      socket.disconnect();\r\n    }; */\r\n  }, [whatsApps]);\r\n\r\n  const handleStartWhatsAppSession = async (whatsAppId) => {\r\n    try {\r\n      await api.post(`/whatsappsession/${whatsAppId}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleRequestNewQrCode = async (whatsAppId) => {\r\n    try {\r\n      await api.put(`/whatsappsession/${whatsAppId}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenWhatsAppModal = () => {\r\n    setSelectedWhatsApp(null);\r\n    setWhatsAppModalOpen(true);\r\n  };\r\n\r\n  const handleCloseWhatsAppModal = useCallback(() => {\r\n    setWhatsAppModalOpen(false);\r\n    setSelectedWhatsApp(null);\r\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\r\n\r\n  const handleOpenQrModal = (whatsApp) => {\r\n    setSelectedWhatsApp(whatsApp);\r\n    setQrModalOpen(true);\r\n  };\r\n\r\n  const handleCloseQrModal = useCallback(() => {\r\n    setSelectedWhatsApp(null);\r\n    setQrModalOpen(false);\r\n  }, [setQrModalOpen, setSelectedWhatsApp]);\r\n\r\n  const handleEditWhatsApp = (whatsApp) => {\r\n    setSelectedWhatsApp(whatsApp);\r\n    setWhatsAppModalOpen(true);\r\n  };\r\n\r\n  const openInNewTab = url => {\r\n    window.open(url, '_blank', 'noopener,noreferrer');\r\n  };\r\n\r\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\r\n    if (action === \"disconnect\") {\r\n      setConfirmModalInfo({\r\n        action: action,\r\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\r\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\r\n        whatsAppId: whatsAppId,\r\n      });\r\n    }\r\n\r\n    if (action === \"delete\") {\r\n      setConfirmModalInfo({\r\n        action: action,\r\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\r\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\r\n        whatsAppId: whatsAppId,\r\n      });\r\n    }\r\n    if (action === \"closedImported\") {\r\n      setConfirmModalInfo({\r\n        action: action,\r\n        title: i18n.t(\"connections.confirmationModal.closedImportedTitle\"),\r\n        message: i18n.t(\"connections.confirmationModal.closedImportedMessage\"),\r\n        whatsAppId: whatsAppId,\r\n      });\r\n    }\r\n    setConfirmModalOpen(true);\r\n  };\r\n\r\n  const handleSubmitConfirmationModal = async () => {\r\n    if (confirmModalInfo.action === \"disconnect\") {\r\n      try {\r\n        await api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n    if (confirmModalInfo.action === \"delete\") {\r\n      try {\r\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\r\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n    if (confirmModalInfo.action === \"closedImported\") {\r\n      try {\r\n        await api.post(`/closedimported/${confirmModalInfo.whatsAppId}`);\r\n        toast.success(i18n.t(\"connections.toasts.closedimported\"));\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n    setConfirmModalInfo(confirmationModalInitialState);\r\n  };\r\n\r\n\r\n  const renderImportButton = (whatsApp) => {\r\n    if (whatsApp?.statusImportMessages === \"renderButtonCloseTickets\") {\r\n      return (\r\n        <Button\r\n          style={{ marginLeft: 12 }}\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            handleOpenConfirmationModal(\"closedImported\", whatsApp.id);\r\n          }}\r\n        >\r\n          {i18n.t(\"connections.buttons.closedImported\")}\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    if (whatsApp?.importOldMessages) {\r\n      let isTimeStamp = !isNaN(\r\n        new Date(Math.floor(whatsApp?.statusImportMessages)).getTime()\r\n      );\r\n\r\n      if (isTimeStamp) {\r\n        const ultimoStatus = new Date(\r\n          Math.floor(whatsApp?.statusImportMessages)\r\n        ).getTime();\r\n        const dataLimite = +add(ultimoStatus, { seconds: +35 }).getTime();\r\n        if (dataLimite > new Date().getTime()) {\r\n          return (\r\n            <>\r\n              <Button\r\n                disabled\r\n                style={{ marginLeft: 12 }}\r\n                size=\"small\"\r\n                endIcon={\r\n                  <CircularProgress\r\n                    size={12}\r\n                    className={classes.buttonProgress}\r\n                  />\r\n                }\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n              >\r\n                {i18n.t(\"connections.buttons.preparing\")}\r\n              </Button>\r\n            </>\r\n          );\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const renderActionButtons = (whatsApp) => {\r\n    return (\r\n      <>\r\n        {whatsApp.status === \"qrcode\" && (\r\n          <Can\r\n            role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\r\n            perform=\"connections-page:addConnection\"\r\n            yes={() => (\r\n              <Button\r\n                size=\"small\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => handleOpenQrModal(whatsApp)}\r\n              >\r\n                {i18n.t(\"connections.buttons.qrcode\")}\r\n              </Button>\r\n            )}\r\n          />\r\n        )}\r\n        {whatsApp.status === \"DISCONNECTED\" && (\r\n          <Can\r\n            role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\r\n            perform=\"connections-page:addConnection\"\r\n            yes={() => (\r\n              <>\r\n                <Button\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  color=\"primary\"\r\n                  onClick={() => handleStartWhatsAppSession(whatsApp.id)}\r\n                >\r\n                  {i18n.t(\"connections.buttons.tryAgain\")}\r\n                </Button>{\" \"}\r\n                <Button\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  color=\"secondary\"\r\n                  onClick={() => handleRequestNewQrCode(whatsApp.id)}\r\n                >\r\n                  {i18n.t(\"connections.buttons.newQr\")}\r\n                </Button>\r\n              </>\r\n            )}\r\n          />\r\n        )}\r\n        {(whatsApp.status === \"CONNECTED\" ||\r\n          whatsApp.status === \"PAIRING\" ||\r\n          whatsApp.status === \"TIMEOUT\") && (\r\n            <Can\r\n              role={user.profile}\r\n              perform=\"connections-page:addConnection\"\r\n              yes={() => (\r\n                <>\r\n                  <Button\r\n                    size=\"small\"\r\n                    variant=\"outlined\"\r\n                    color=\"secondary\"\r\n                    onClick={() => {\r\n                      handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\r\n                    }}\r\n                  >\r\n                    {i18n.t(\"connections.buttons.disconnect\")}\r\n                  </Button>\r\n\r\n                  {renderImportButton(whatsApp)}\r\n                </>\r\n              )}\r\n            />\r\n          )}\r\n        {whatsApp.status === \"OPENING\" && (\r\n          <Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\r\n            {i18n.t(\"connections.buttons.connecting\")}\r\n          </Button>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const renderStatusToolTips = (whatsApp) => {\r\n    return (\r\n      <div className={classes.customTableCell}>\r\n        {whatsApp.status === \"DISCONNECTED\" && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.disconnected.title\")}\r\n            content={i18n.t(\"connections.toolTips.disconnected.content\")}\r\n          >\r\n            <SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\r\n          </CustomToolTip>\r\n        )}\r\n        {whatsApp.status === \"OPENING\" && (\r\n          <CircularProgress size={24} className={classes.buttonProgress} />\r\n        )}\r\n        {whatsApp.status === \"qrcode\" && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.qrcode.title\")}\r\n            content={i18n.t(\"connections.toolTips.qrcode.content\")}\r\n          >\r\n            <CropFree />\r\n          </CustomToolTip>\r\n        )}\r\n        {whatsApp.status === \"CONNECTED\" && (\r\n          <CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\r\n            <SignalCellular4Bar style={{ color: green[500] }} />\r\n          </CustomToolTip>\r\n        )}\r\n        {(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.timeout.title\")}\r\n            content={i18n.t(\"connections.toolTips.timeout.content\")}\r\n          >\r\n            <SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\r\n          </CustomToolTip>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const restartWhatsapps = async () => {\r\n\r\n    try {\r\n      await api.post(`/whatsapp-restart/`);\r\n      toast.success(i18n.t(\"connections.waitConnection\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={confirmModalInfo.title}\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={handleSubmitConfirmationModal}\r\n      >\r\n        {confirmModalInfo.message}\r\n      </ConfirmationModal>\r\n      {qrModalOpen && (\r\n        <QrcodeModal\r\n          open={qrModalOpen}\r\n          onClose={handleCloseQrModal}\r\n          whatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\r\n        />\r\n      )}\r\n      <WhatsAppModal\r\n        open={whatsAppModalOpen}\r\n        onClose={handleCloseWhatsAppModal}\r\n        whatsAppId={!qrModalOpen && selectedWhatsApp?.id}\r\n      />\r\n      {user.profile === \"user\" && user.allowConnections === \"disabled\" ?\r\n        <ForbiddenPage />\r\n        :\r\n        <>\r\n          <MainHeader>\r\n            <Title>{i18n.t(\"connections.title\")} ({whatsApps.length})</Title>\r\n            <MainHeaderButtonsWrapper>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={restartWhatsapps}\r\n              >\r\n                {i18n.t(\"connections.restartConnections\")}\r\n              </Button>\r\n\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => openInNewTab(`https://wa.me/${process.env.REACT_APP_NUMBER_SUPPORT}`)}\r\n              >\r\n                {i18n.t(\"connections.callSupport\")}\r\n              </Button>\r\n              <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\r\n                {(popupState) => (\r\n                  <React.Fragment>\r\n                    <Can\r\n                      role={user.profile}\r\n                      perform=\"connections-page:addConnection\"\r\n                      yes={() => (\r\n                        <>\r\n                          <Button\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            {...bindTrigger(popupState)}\r\n                          >\r\n                            {i18n.t(\"connections.newConnection\")}\r\n                          </Button>\r\n                          <Menu {...bindMenu(popupState)}>\r\n                            {/* WHATSAPP */}\r\n                            <MenuItem\r\n                              disabled={planConfig?.plan?.useWhatsapp ? false : true}\r\n                              onClick={() => {\r\n                                handleOpenWhatsAppModal();\r\n                                popupState.close();\r\n                              }}\r\n                            >\r\n                              <WhatsApp\r\n                                fontSize=\"small\"\r\n                                style={{\r\n                                  marginRight: \"10px\",\r\n                                  color: \"#25D366\",\r\n                                }}\r\n                              />\r\n                              WhatsApp\r\n                            </MenuItem>\r\n                            {/* FACEBOOK */}\r\n                            <FacebookLogin\r\n                              appId={process.env.REACT_APP_FACEBOOK_APP_ID}\r\n                              autoLoad={false}\r\n                              fields=\"name,email,picture\"\r\n                              version=\"9.0\"\r\n                              scope={process.env.REACT_APP_REQUIRE_BUSINESS_MANAGEMENT?.toUpperCase() === \"TRUE\" ?\r\n                                \"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\r\n                                : \"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\"}\r\n                              callback={responseFacebook}\r\n                              render={(renderProps) => (\r\n                                <MenuItem\r\n                                  disabled={planConfig?.plan?.useFacebook ? false : true}\r\n                                  onClick={renderProps.onClick}\r\n                                >\r\n                                  <Facebook\r\n                                    fontSize=\"small\"\r\n                                    style={{\r\n                                      marginRight: \"10px\",\r\n                                      color: \"#3b5998\",\r\n                                    }}\r\n                                  />\r\n                                  Facebook\r\n                                </MenuItem>\r\n                              )}\r\n                            />\r\n                            {/* INSTAGRAM */}\r\n                            <FacebookLogin\r\n                              appId={process.env.REACT_APP_FACEBOOK_APP_ID}\r\n                              autoLoad={false}\r\n                              fields=\"name,email,picture\"\r\n                              version=\"9.0\"\r\n                              scope={process.env.REACT_APP_REQUIRE_BUSINESS_MANAGEMENT?.toUpperCase() === \"TRUE\" ?\r\n                                \"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\r\n                                : \"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\"}\r\n                              callback={responseInstagram}\r\n                              render={(renderProps) => (\r\n                                <MenuItem\r\n                                  disabled={planConfig?.plan?.useInstagram ? false : true}\r\n                                  onClick={renderProps.onClick}\r\n                                >\r\n                                  <Instagram\r\n                                    fontSize=\"small\"\r\n                                    style={{\r\n                                      marginRight: \"10px\",\r\n                                      color: \"#e1306c\",\r\n                                    }}\r\n                                  />\r\n                                  Instagram\r\n                                </MenuItem>\r\n                              )}\r\n                            />\r\n                          </Menu>\r\n                        </>\r\n                      )}\r\n                    />\r\n                  </React.Fragment>\r\n                )}\r\n              </PopupState>\r\n            </MainHeaderButtonsWrapper>\r\n          </MainHeader>\r\n\r\n          {\r\n            statusImport?.all ? (\r\n              <>\r\n                <div style={{ margin: \"auto\", marginBottom: 12 }}>\r\n                  <Card className={classes.root}>\r\n                    <CardContent className={classes.content}>\r\n                      <Typography component=\"h5\" variant=\"h5\">\r\n\r\n                        {statusImport?.this === -1 ? i18n.t(\"connections.buttons.preparing\") : i18n.t(\"connections.buttons.importing\")}\r\n\r\n                      </Typography>\r\n                      {statusImport?.this === -1 ?\r\n                        <Typography component=\"h6\" variant=\"h6\" align=\"center\">\r\n\r\n                          <CircularProgress\r\n                            size={24}\r\n                          />\r\n\r\n                        </Typography>\r\n                        :\r\n                        <>\r\n                          <Typography component=\"h6\" variant=\"h6\" align=\"center\">\r\n                            {`${i18n.t(`connections.typography.processed`)} ${statusImport?.this} ${i18n.t(`connections.typography.in`)} ${statusImport?.all}  ${i18n.t(`connections.typography.date`)}: ${statusImport?.date} `}\r\n                          </Typography>\r\n                          <Typography align=\"center\">\r\n                            <CircularProgressWithLabel\r\n                              style={{ margin: \"auto\" }}\r\n                              value={(statusImport?.this / statusImport?.all) * 100}\r\n                            />\r\n                          </Typography>\r\n                        </>\r\n                      }\r\n                    </CardContent>\r\n                  </Card>\r\n                </div>\r\n              </>\r\n            ) : null\r\n          }\r\n\r\n          <Paper className={classes.mainPaper} variant=\"outlined\">\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell align=\"center\">Channel</TableCell>\r\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.name\")}</TableCell>\r\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.number\")}</TableCell>\r\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.status\")}</TableCell>\r\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.session\")}</TableCell>\r\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.lastUpdate\")}</TableCell>\r\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.default\")}</TableCell>\r\n                  <Can\r\n                    role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\r\n                    perform=\"connections-page:addConnection\"\r\n                    yes={() => (\r\n                      <TableCell align=\"center\">{i18n.t(\"connections.table.actions\")}</TableCell>\r\n                    )}\r\n                  />\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {loading ? (\r\n                  <TableRowSkeleton />\r\n                ) : (\r\n                  <>\r\n                    {whatsApps?.length > 0 &&\r\n                      whatsApps.map((whatsApp) => (\r\n                        <TableRow key={whatsApp.id}>\r\n                          <TableCell align=\"center\">{IconChannel(whatsApp.channel)}</TableCell>\r\n                          <TableCell align=\"center\">{whatsApp.name}</TableCell>\r\n                          <TableCell align=\"center\">{whatsApp.number && whatsApp.channel === 'whatsapp' ? (<>{formatSerializedId(whatsApp.number)}</>) : whatsApp.number}</TableCell>\r\n                          <TableCell align=\"center\">{renderStatusToolTips(whatsApp)}</TableCell>\r\n                          <TableCell align=\"center\">{renderActionButtons(whatsApp)}</TableCell>\r\n                          <TableCell align=\"center\">{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}</TableCell>\r\n                          <TableCell align=\"center\">\r\n                            {whatsApp.isDefault && (\r\n                              <div className={classes.customTableCell}>\r\n                                <CheckCircle style={{ color: green[500] }} />\r\n                              </div>\r\n                            )}\r\n                          </TableCell>\r\n                          <Can\r\n                            role={user.profile}\r\n                            perform=\"connections-page:addConnection\"\r\n                            yes={() => (\r\n                              <TableCell align=\"center\">\r\n                                <IconButton\r\n                                  size=\"small\"\r\n                                  onClick={() => handleEditWhatsApp(whatsApp)}\r\n                                >\r\n                                  <Edit />\r\n                                </IconButton>\r\n\r\n                                <IconButton\r\n                                  size=\"small\"\r\n                                  onClick={(e) => {\r\n                                    handleOpenConfirmationModal(\"delete\", whatsApp.id);\r\n                                  }}\r\n                                >\r\n                                  <DeleteOutline />\r\n                                </IconButton>\r\n                              </TableCell>\r\n                            )}\r\n                          />\r\n                        </TableRow>\r\n                      ))}\r\n                  </>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        </>\r\n      }\r\n    </MainContainer >\r\n\r\n  );\r\n};\r\n\r\nexport default Connections;","import api from \"../../services/api\";\r\n\r\nconst useCompanies = () => {\r\n\r\n    const save = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/companies',\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const findAll = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies`,\r\n            method: 'GET'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const list = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies/list`,\r\n            method: 'GET'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const find = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies/${id}`,\r\n            method: 'GET'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const update = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/companies/${data.id}`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const remove = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies/${id}`,\r\n            method: 'DELETE'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const updateSchedules = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/companies/${data.id}/schedules`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    return {\r\n        save,\r\n        update,\r\n        remove,\r\n        list,\r\n        find,\r\n        findAll,\r\n        updateSchedules\r\n    }\r\n}\r\n\r\nexport default useCompanies;","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport QueueSelect from \"../QueueSelect\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../Can\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n}));\r\n\r\nconst UserSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  password: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\r\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\r\n});\r\n\r\nconst ModalUsers = ({ open, onClose, userId, companyId }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    profile: \"user\",\r\n  };\r\n\r\n  const { user: loggedInUser } = useContext(AuthContext);\r\n\r\n  const [user, setUser] = useState(initialState);\r\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      if (!userId) return;\r\n      if (open) {\r\n        try {\r\n          const { data } = await api.get(`/users/${userId}`);\r\n          setUser((prevState) => {\r\n            return { ...prevState, ...data };\r\n          });\r\n          const userQueueIds = data.queues?.map((queue) => queue.id);\r\n          setSelectedQueueIds(userQueueIds);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchUser();\r\n  }, [userId, open]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setUser(initialState);\r\n  };\r\n\r\n  const handleSaveUser = async (values) => {\r\n    const userData = { ...values, companyId, queueIds: selectedQueueIds };\r\n    try {\r\n      if (userId) {\r\n        await api.put(`/users/${userId}`, userData);\r\n      } else {\r\n        await api.post(\"/users\", userData);\r\n      }\r\n      toast.success(i18n.t(\"userModal.success\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"xs\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {userId\r\n            ? `${i18n.t(\"userModal.title.edit\")}`\r\n            : `${i18n.t(\"userModal.title.add\")}`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={user}\r\n          enableReinitialize={true}\r\n          validationSchema={UserSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveUser(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <div className={classes.multFieldLine}>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"userModal.form.name\")}\r\n                    autoFocus\r\n                    name=\"name\"\r\n                    error={touched.name && Boolean(errors.name)}\r\n                    helperText={touched.name && errors.name}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"userModal.form.password\")}\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    error={touched.password && Boolean(errors.password)}\r\n                    helperText={touched.password && errors.password}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                </div>\r\n                <div className={classes.multFieldLine}>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"userModal.form.email\")}\r\n                    name=\"email\"\r\n                    error={touched.email && Boolean(errors.email)}\r\n                    helperText={touched.email && errors.email}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.formControl}\r\n                    margin=\"dense\"\r\n                  >\r\n                    <Can\r\n                      role={loggedInUser.profile}\r\n                      perform=\"user-modal:editProfile\"\r\n                      yes={() => (\r\n                        <>\r\n                          <InputLabel id=\"profile-selection-input-label\">\r\n                            {i18n.t(\"userModal.form.profile\")}\r\n                          </InputLabel>\r\n\r\n                          <Field\r\n                            as={Select}\r\n                            label={i18n.t(\"userModal.form.profile\")}\r\n                            name=\"profile\"\r\n                            labelId=\"profile-selection-label\"\r\n                            id=\"profile-selection\"\r\n                            required\r\n                          >\r\n                            <MenuItem value=\"admin\">Admin</MenuItem>\r\n                            <MenuItem value=\"user\">User</MenuItem>\r\n                          </Field>\r\n                        </>\r\n                      )}\r\n                    />\r\n                  </FormControl>\r\n                </div>\r\n                <Can\r\n                  role={loggedInUser.profile}\r\n                  perform=\"user-modal:editQueues\"\r\n                  yes={() => (\r\n                    <QueueSelect\r\n                      selectedQueueIds={selectedQueueIds}\r\n                      onChange={(values) => setSelectedQueueIds(values)}\r\n                    />\r\n                  )}\r\n                />\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"userModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {userId\r\n                    ? `${i18n.t(\"userModal.buttons.okEdit\")}`\r\n                    : `${i18n.t(\"userModal.buttons.okAdd\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalUsers;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  Paper,\r\n  Grid,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  TextField,\r\n  Table,\r\n  TableHead,\r\n  TableBody,\r\n  TableCell,\r\n  TableRow,\r\n  IconButton,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nimport { Edit as EditIcon } from \"@material-ui/icons\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport useCompanies from \"../../hooks/useCompanies\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport ModalUsers from \"../ModalUsers\";\r\nimport api from \"../../services/api\";\r\nimport { head, isArray, has } from \"lodash\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\n\r\nimport moment from \"moment\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    padding: \"2px\"\r\n  },\r\n  mainPaper: {\r\n    width: \"100%\",\r\n    flex: 1,\r\n    // padding: theme.spacing(2), //comentado para retirar o scroll do Empresas\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n  },\r\n  tableContainer: {\r\n    width: \"100%\",\r\n    // overflowX: \"scroll\",\r\n    // ...theme.scrollbarStyles,\r\n    padding: \"2px\",\r\n  },\r\n  textfield: {\r\n    width: \"100%\",\r\n  },\r\n  textRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  row: {\r\n    // paddingTop: theme.spacing(2),\r\n    // paddingBottom: theme.spacing(2),\r\n  },\r\n  control: {\r\n    // paddingRight: theme.spacing(1),\r\n    // paddingLeft: theme.spacing(1),\r\n  },\r\n  buttonContainer: {\r\n    textAlign: \"right\",\r\n    // padding: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport function CompanyForm(props) {\r\n  const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\r\n  const classes = useStyles();\r\n  const [plans, setPlans] = useState([]);\r\n  const [modalUser, setModalUser] = useState(false);\r\n  const [firstUser, setFirstUser] = useState({});\r\n\r\n  const [record, setRecord] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    planId: \"\",\r\n    status: true,\r\n    // campaignsEnabled: false,\r\n    dueDate: \"\",\r\n    recurrence: \"\",\r\n    password: \"\",\r\n    ...initialValue,\r\n  });\r\n\r\n  const { list: listPlans } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const list = await listPlans();\r\n      setPlans(list);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setRecord((prev) => {\r\n      if (moment(initialValue).isValid()) {\r\n        initialValue.dueDate = moment(initialValue.dueDate).format(\r\n          \"YYYY-MM-DD\"\r\n        );\r\n      }\r\n      return {\r\n        ...prev,\r\n        ...initialValue,\r\n      };\r\n    });\r\n  }, [initialValue]);\r\n\r\n  const handleSubmit = async (data) => {\r\n    if (data.dueDate === \"\" || moment(data.dueDate).isValid() === false) {\r\n      data.dueDate = null;\r\n    }\r\n    onSubmit(data);\r\n    setRecord({ ...initialValue, dueDate: \"\" });\r\n  };\r\n\r\n  const handleOpenModalUsers = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/users/list\", {\r\n        params: {\r\n          companyId: initialValue.id,\r\n        },\r\n      });\r\n      if (isArray(data) && data.length) {\r\n        setFirstUser(head(data));\r\n      }\r\n      setModalUser(true);\r\n    } catch (e) {\r\n      toast.error(e);\r\n    }\r\n  };\r\n\r\n  const handleCloseModalUsers = () => {\r\n    setFirstUser({});\r\n    setModalUser(false);\r\n  };\r\n\r\n  const incrementDueDate = () => {\r\n    const data = { ...record };\r\n    if (data.dueDate !== \"\" && data.dueDate !== null) {\r\n      switch (data.recurrence) {\r\n        case \"MENSAL\":\r\n          data.dueDate = moment(data.dueDate)\r\n            .add(1, \"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          break;\r\n        case \"BIMESTRAL\":\r\n          data.dueDate = moment(data.dueDate)\r\n            .add(2, \"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          break;\r\n        case \"TRIMESTRAL\":\r\n          data.dueDate = moment(data.dueDate)\r\n            .add(3, \"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          break;\r\n        case \"SEMESTRAL\":\r\n          data.dueDate = moment(data.dueDate)\r\n            .add(6, \"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          break;\r\n        case \"ANUAL\":\r\n          data.dueDate = moment(data.dueDate)\r\n            .add(12, \"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    setRecord(data);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ModalUsers\r\n        userId={firstUser.id}\r\n        companyId={initialValue.id}\r\n        open={modalUser}\r\n        onClose={handleCloseModalUsers}\r\n      />\r\n      <Formik\r\n        enableReinitialize\r\n        className={classes.fullWidth}\r\n        initialValues={record}\r\n        onSubmit={(values, { resetForm }) =>\r\n          setTimeout(() => {\r\n            handleSubmit(values);\r\n            resetForm();\r\n          }, 500)\r\n        }\r\n      >\r\n        {(values, setValues) => (\r\n          <Form className={classes.fullWidth}>\r\n            <Grid spacing={1} justifyContent=\"center\" container>\r\n              <Grid xs={12} sm={6} md={3} item>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"compaies.table.name\")}\r\n                  name=\"name\"\r\n                  variant=\"outlined\"\r\n                  className={classes.fullWidth}\r\n                  margin=\"dense\"\r\n                />\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"compaies.table.email\")}\r\n                  name=\"email\"\r\n                  variant=\"outlined\"\r\n                  className={classes.fullWidth}\r\n                  margin=\"dense\"\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"compaies.table.password\")}\r\n                  name=\"password\"\r\n                  variant=\"outlined\"\r\n                  className={classes.fullWidth}\r\n                  margin=\"dense\"\r\n                />\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"compaies.table.phone\")}\r\n                  name=\"phone\"\r\n                  variant=\"outlined\"\r\n                  className={classes.fullWidth}\r\n                  margin=\"dense\"\r\n                />\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                  <InputLabel htmlFor=\"plan-selection\">{i18n.t(\"compaies.table.plan\")}</InputLabel>\r\n                  <Field\r\n                    as={Select}\r\n                    id=\"plan-selection\"\r\n                    label={i18n.t(\"compaies.table.plan\")}\r\n                    labelId=\"plan-selection-label\"\r\n                    name=\"planId\"\r\n                    margin=\"dense\"\r\n                    required\r\n                  >\r\n                    {plans.map((plan, key) => (\r\n                      <MenuItem key={key} value={plan.id}>\r\n                        {plan.name}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Field>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={1} item>\r\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                  <InputLabel htmlFor=\"status-selection\">{i18n.t(\"compaies.table.active\")}</InputLabel>\r\n                  <Field\r\n                    as={Select}\r\n                    id=\"status-selection\"\r\n                    label={i18n.t(\"compaies.table.active\")}\r\n                    labelId=\"status-selection-label\"\r\n                    name=\"status\"\r\n                    margin=\"dense\"\r\n                  >\r\n                    <MenuItem value={true}>{i18n.t(\"compaies.table.yes\")}</MenuItem>\r\n                    <MenuItem value={false}>{i18n.t(\"compaies.table.no\")}</MenuItem>\r\n                  </Field>\r\n                </FormControl>\r\n              </Grid>\r\n              {/* <Grid xs={12} sm={6} md={3} item>\r\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                  <InputLabel htmlFor=\"payment-method-selection\">\r\n                    Método de Pagamento\r\n                  </InputLabel>\r\n                  <Field\r\n                    as={Select}\r\n                    id=\"payment-method-selection\"\r\n                    label=\"Método de Pagamento\"\r\n                    labelId=\"payment-method-selection-label\"\r\n                    name=\"paymentMethod\"\r\n                    margin=\"dense\"\r\n                  >\r\n                    <MenuItem value={\"pix\"}>PIX</MenuItem>\r\n                  </Field>\r\n                </FormControl>\r\n              </Grid> */}\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"compaies.table.document\")}\r\n                  name=\"document\"\r\n                  variant=\"outlined\"\r\n                  className={classes.fullWidth}\r\n                  margin=\"dense\"\r\n                />\r\n              </Grid>\r\n              {/* <Grid xs={12} sm={6} md={2} item>\r\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                  <InputLabel htmlFor=\"status-selection\">Campanhas</InputLabel>\r\n                  <Field\r\n                    as={Select}\r\n                    id=\"campaigns-selection\"\r\n                    label=\"Campanhas\"\r\n                    labelId=\"campaigns-selection-label\"\r\n                    name=\"campaignsEnabled\"\r\n                    margin=\"dense\"\r\n                  >\r\n                    <MenuItem value={true}>Habilitadas</MenuItem>\r\n                    <MenuItem value={false}>Desabilitadas</MenuItem>\r\n                  </Field>\r\n                </FormControl>\r\n              </Grid> */}\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <FormControl variant=\"outlined\" fullWidth>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"compaies.table.dueDate\")}\r\n                    type=\"date\"\r\n                    name=\"dueDate\"\r\n                    InputLabelProps={{\r\n                      shrink: true,\r\n                    }}\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    margin=\"dense\"\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                  <InputLabel htmlFor=\"recorrencia-selection\">\r\n                  {i18n.t(\"compaies.table.recurrence\")}\r\n                  </InputLabel>\r\n                  <Field\r\n                    as={Select}\r\n                    label=\"Recorrência\"\r\n                    labelId=\"recorrencia-selection-label\"\r\n                    id=\"recurrence\"\r\n                    name=\"recurrence\"\r\n                    margin=\"dense\"\r\n                  >\r\n                    <MenuItem value=\"MENSAL\">{i18n.t(\"compaies.table.monthly\")}</MenuItem>\r\n                    <MenuItem value=\"BIMESTRAL\">{i18n.t(\"compaies.table.bimonthly\")}</MenuItem>\r\n                    <MenuItem value=\"TRIMESTRAL\">{i18n.t(\"compaies.table.quarterly\")}</MenuItem>\r\n                    <MenuItem value=\"SEMESTRAL\">{i18n.t(\"compaies.table.semester\")}</MenuItem>\r\n                    <MenuItem value=\"ANUAL\">{i18n.t(\"compaies.table.yearly\")}</MenuItem>\r\n                  </Field>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} item>\r\n                <Grid justifyContent=\"flex-end\" spacing={1} container>\r\n                  <Grid xs={4} md={1} item>\r\n                    <ButtonWithSpinner\r\n                      className={classes.fullWidth}\r\n                      style={{ marginTop: 7 }}\r\n                      loading={loading}\r\n                      onClick={() => onCancel()}\r\n                      variant=\"contained\"\r\n                    >\r\n                      {i18n.t(\"compaies.table.clear\")}\r\n                    </ButtonWithSpinner>\r\n                  </Grid>\r\n                  {record.id !== undefined ? (\r\n                    <>\r\n                      <Grid xs={6} md={1} item>\r\n                        <ButtonWithSpinner\r\n                          style={{ marginTop: 7 }}\r\n                          className={classes.fullWidth}\r\n                          loading={loading}\r\n                          onClick={() => onDelete(record)}\r\n                          variant=\"contained\"\r\n                          color=\"secondary\"\r\n                        >\r\n                          {i18n.t(\"compaies.table.delete\")}\r\n                        </ButtonWithSpinner>\r\n                      </Grid>\r\n                      <Grid xs={6} md={2} item>\r\n                        <ButtonWithSpinner\r\n                          style={{ marginTop: 7 }}\r\n                          className={classes.fullWidth}\r\n                          loading={loading}\r\n                          onClick={() => incrementDueDate()}\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                        >\r\n                          {i18n.t(\"compaies.table.dueDate\")}\r\n                        </ButtonWithSpinner>\r\n                      </Grid>\r\n                      {/* <Grid xs={6} md={1} item>\r\n                        <ButtonWithSpinner\r\n                          style={{ marginTop: 7 }}\r\n                          className={classes.fullWidth}\r\n                          loading={loading}\r\n                          onClick={() => handleOpenModalUsers()}\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                        >\r\n                          {i18n.t(\"compaies.table.user\")}\r\n                        </ButtonWithSpinner>\r\n                      </Grid> */}\r\n                    </>\r\n                  ) : null}\r\n                  <Grid xs={6} md={1} item>\r\n                    <ButtonWithSpinner\r\n                      className={classes.fullWidth}\r\n                      style={{ marginTop: 7 }}\r\n                      loading={loading}\r\n                      type=\"submit\"\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                    >\r\n                      {i18n.t(\"compaies.table.save\")}\r\n                    </ButtonWithSpinner>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n\r\nexport function CompaniesManagerGrid(props) {\r\n  const { records, onSelect } = props;\r\n  const classes = useStyles();\r\n  const { dateToClient, datetimeToClient } = useDate();\r\n\r\n  const renderStatus = (row) => {\r\n    return row.status === false ? \"Não\" : \"Sim\";\r\n  };\r\n\r\n  const renderPlan = (row) => {\r\n    return row.planId !== null ? row.plan.name : \"-\";\r\n  };\r\n\r\n  const renderPlanValue = (row) => {\r\n    return row.planId !== null ? row.plan.amount ? row.plan.amount.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00' : \"-\";\r\n  };\r\n\r\n  // const renderCampaignsStatus = (row) => {\r\n  //   if (\r\n  //     has(row, \"settings\") &&\r\n  //     isArray(row.settings) &&\r\n  //     row.settings.length > 0\r\n  //   ) {\r\n  //     const setting = row.settings.find((s) => s.key === \"campaignsEnabled\");\r\n  //     if (setting) {\r\n  //       return setting.value === \"true\" ? \"Habilitadas\" : \"Desabilitadas\";\r\n  //     }\r\n  //   }\r\n  //   return \"Desabilitadas\";\r\n  // };\r\n\r\n  const rowStyle = (record) => {\r\n    if (moment(record.dueDate).isValid()) {\r\n      const now = moment();\r\n      const dueDate = moment(record.dueDate);\r\n      const diff = dueDate.diff(now, \"days\");\r\n      if (diff >= 1 && diff <= 5) {\r\n        return { backgroundColor: \"#fffead\" };\r\n      }\r\n      if (diff <= 0) {\r\n        return { backgroundColor: \"#fa8c8c\" };\r\n      }\r\n      // else {\r\n      //   return { backgroundColor: \"#affa8c\" };\r\n      // }\r\n    }\r\n    return {};\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.tableContainer}>\r\n      <Table\r\n        className={classes.fullWidth}\r\n        // size=\"small\"\r\n        padding=\"none\"\r\n        aria-label=\"a dense table\"\r\n      >\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell align=\"center\" style={{ width: \"1%\" }}>#</TableCell>\r\n            <TableCell align=\"left\">{i18n.t(\"compaies.table.name\")}</TableCell>\r\n            <TableCell align=\"left\">{i18n.t(\"compaies.table.email\")}</TableCell>\r\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.phone\")}</TableCell>\r\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.plan\")}</TableCell>\r\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.value\")}</TableCell>\r\n            {/* <TableCell align=\"center\">Campanhas</TableCell> */}\r\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.active\")}</TableCell>\r\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.createdAt\")}</TableCell>\r\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.dueDate\")}</TableCell>\r\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.lastLogin\")}</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {records.map((row, key) => (\r\n            <TableRow style={rowStyle(row)} key={key}>\r\n              <TableCell align=\"center\" style={{ width: \"1%\" }}>\r\n                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\r\n                  <EditIcon />\r\n                </IconButton>\r\n              </TableCell>\r\n              <TableCell align=\"left\">{row.name || \"-\"}</TableCell>\r\n              <TableCell align=\"left\" size=\"small\">{row.email || \"-\"}</TableCell>\r\n              <TableCell align=\"center\">{row.phone || \"-\"}</TableCell>\r\n              <TableCell align=\"center\">{renderPlan(row)}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"compaies.table.money\")} {renderPlanValue(row)}</TableCell>\r\n              {/* <TableCell align=\"center\">{renderCampaignsStatus(row)}</TableCell> */}\r\n              <TableCell align=\"center\">{renderStatus(row)}</TableCell>\r\n              <TableCell align=\"center\">{dateToClient(row.createdAt)}</TableCell>\r\n              <TableCell align=\"center\">{dateToClient(row.dueDate)}<br /><span>{row.recurrence}</span></TableCell>\r\n              <TableCell align=\"center\">{datetimeToClient(row.lastLogin)}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default function CompaniesManager() {\r\n  const classes = useStyles();\r\n  const { list, save, update, remove } = useCompanies();\r\n\r\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [records, setRecords] = useState([]);\r\n  const [record, setRecord] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    planId: \"\",\r\n    status: true,\r\n    // campaignsEnabled: false,\r\n    dueDate: \"\",\r\n    recurrence: \"\",\r\n    password: \"\",\r\n    document: \"\",\r\n    paymentMethod: \"\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadPlans();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const loadPlans = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const companyList = await list();\r\n      setRecords(companyList);\r\n    } catch (e) {\r\n      toast.error(\"Não foi possível carregar a lista de registros\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleSubmit = async (data) => {\r\n    setLoading(true);\r\n    try {\r\n      if (data.id !== undefined) {\r\n        await update(data);\r\n      } else {\r\n        await save(data);\r\n      }\r\n      await loadPlans();\r\n      handleCancel();\r\n      toast.success(\"Operação realizada com sucesso!\");\r\n    } catch (e) {\r\n      toast.error(\r\n        \"Não foi possível realizar a operação. Verifique se já existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente\"\r\n      );\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await remove(record.id);\r\n      await loadPlans();\r\n      handleCancel();\r\n      toast.success(\"Operação realizada com sucesso!\");\r\n    } catch (e) {\r\n      toast.error(\"Não foi possível realizar a operação\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleOpenDeleteDialog = () => {\r\n    setShowConfirmDialog(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setRecord((prev) => ({\r\n      ...prev,\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      planId: \"\",\r\n      status: true,\r\n      // campaignsEnabled: false,\r\n      dueDate: \"\",\r\n      recurrence: \"\",\r\n      password: \"\",\r\n      document: \"\",\r\n      paymentMethod: \"\"\r\n    }));\r\n  };\r\n\r\n  const handleSelect = (data) => {\r\n    // let campaignsEnabled = false;\r\n\r\n    // const setting = data.settings.find(\r\n    //   (s) => s.key.indexOf(\"campaignsEnabled\") > -1\r\n    // );\r\n    // if (setting) {\r\n    //   campaignsEnabled = setting.value === \"true\" || setting.value === \"enabled\";\r\n    // }\r\n\r\n    setRecord((prev) => ({\r\n      ...prev,\r\n      id: data.id,\r\n      name: data.name || \"\",\r\n      phone: data.phone || \"\",\r\n      email: data.email || \"\",\r\n      planId: data.planId || \"\",\r\n      status: data.status === false ? false : true,\r\n      // campaignsEnabled,\r\n      dueDate: data.dueDate || \"\",\r\n      recurrence: data.recurrence || \"\",\r\n      password: \"\",\r\n      document: data.document || \"\",\r\n      paymentMethod: data.paymentMethod || \"\",\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.mainPaper} elevation={0}>\r\n      <Grid spacing={2} container>\r\n        <Grid xs={12} item>\r\n          <CompanyForm\r\n            initialValue={record}\r\n            onDelete={handleOpenDeleteDialog}\r\n            onSubmit={handleSubmit}\r\n            onCancel={handleCancel}\r\n            loading={loading}\r\n          />\r\n        </Grid>\r\n        <Grid xs={12} item>\r\n          <CompaniesManagerGrid records={records} onSelect={handleSelect} />\r\n        </Grid>\r\n      </Grid>\r\n      <ConfirmationModal\r\n        title=\"Exclusão de Registro\"\r\n        open={showConfirmDialog}\r\n        onClose={() => setShowConfirmDialog(false)}\r\n        onConfirm={() => handleDelete()}\r\n      >\r\n        Deseja realmente excluir esse registro?\r\n      </ConfirmationModal>\r\n    </Paper>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n    makeStyles,\r\n    Paper,\r\n    Grid,\r\n    TextField,\r\n    Table,\r\n    TableHead,\r\n    TableBody,\r\n    TableCell,\r\n    TableRow,\r\n    IconButton,\r\n    FormControl,\r\n    InputLabel,\r\n    MenuItem,\r\n    Select\r\n} from \"@material-ui/core\";\r\nimport { Formik, Form, Field } from 'formik';\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nimport { Edit as EditIcon } from \"@material-ui/icons\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%'\r\n    },\r\n    mainPaper: {\r\n        width: '100%',\r\n        flex: 1,\r\n        padding: theme.spacing(2)\r\n    },\r\n    fullWidth: {\r\n        width: '100%'\r\n    },\r\n    tableContainer: {\r\n        width: '100%',\r\n        overflowX: \"scroll\",\r\n        ...theme.scrollbarStyles\r\n    },\r\n    textfield: {\r\n        width: '100%'\r\n    },\r\n    textRight: {\r\n        textAlign: 'right'\r\n    },\r\n    row: {\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(2)\r\n    },\r\n    control: {\r\n        paddingRight: theme.spacing(1),\r\n        paddingLeft: theme.spacing(1)\r\n    },\r\n    buttonContainer: {\r\n        textAlign: 'right',\r\n        padding: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport function PlanManagerForm(props) {\r\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\r\n    const classes = useStyles()\r\n\r\n    const [record, setRecord] = useState({\r\n        name: '',\r\n        users: 0,\r\n        connections: 0,\r\n        queues: 0,\r\n        amount: 0,\r\n        useWhatsapp: true,\r\n        useFacebook: true,\r\n        useInstagram: true,\r\n        useCampaigns: true,\r\n        useSchedules: true,\r\n        useInternalChat: true,\r\n        useExternalApi: true,\r\n        useKanban: true,\r\n        useOpenAi: true,\r\n        useIntegrations: true,\r\n        isPublic: true\r\n    });\r\n\r\n    useEffect(() => {\r\n        setRecord(initialValue)\r\n    }, [initialValue])\r\n\r\n    const handleSubmit = async (data) => {\r\n        onSubmit(data)\r\n    }\r\n\r\n    return (\r\n        <Formik\r\n            enableReinitialize\r\n            className={classes.fullWidth}\r\n            initialValues={record}\r\n            onSubmit={(values, { resetForm }) =>\r\n                setTimeout(() => {\r\n                    handleSubmit(values)\r\n                    resetForm()\r\n                }, 500)\r\n            }\r\n        >\r\n            {(values) => (\r\n                <Form className={classes.fullWidth}>\r\n                    <Grid spacing={1} justifyContent=\"flex-start\" container>\r\n                        {/* NOME */}\r\n                        <Grid xs={12} sm={6} md={2} xl={2} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"plans.form.name\")}\r\n                                name=\"name\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid xs={12} sm={6} md={2} xl={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"status-selection\">{i18n.t(\"plans.form.public\")}</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"status-selection\"\r\n                                    label={i18n.t(\"plans.form.public\")}\r\n                                    labelId=\"status-selection-label\"\r\n                                    name=\"isPublic\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>Sim</MenuItem>\r\n                                    <MenuItem value={false}>Não</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        {/* USUARIOS */}\r\n                        <Grid xs={12} sm={6} md={1} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"plans.form.users\")}\r\n                                name=\"users\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                                type=\"number\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {/* CONEXOES */}\r\n                        <Grid xs={12} sm={6} md={1} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"plans.form.connections\")}\r\n                                name=\"connections\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                                type=\"number\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {/* FILAS */}\r\n                        <Grid xs={12} sm={6} md={1} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label=\"Filas\"\r\n                                name=\"queues\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                                type=\"number\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {/* VALOR */}\r\n                        <Grid xs={12} sm={6} md={1} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label=\"Valor\"\r\n                                name=\"amount\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                                type=\"text\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {/* WHATSAPP */}\r\n                        <Grid xs={12} sm={6} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useWhatsapp-selection\">Whatsapp</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useWhatsapp-selection\"\r\n                                    label=\"Whatsapp\"\r\n                                    labelId=\"useWhatsapp-selection-label\"\r\n                                    name=\"useWhatsapp\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* FACEBOOK */}\r\n                        <Grid xs={12} sm={6} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useFacebook-selection\">Facebook</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useFacebook-selection\"\r\n                                    label=\"Facebook\"\r\n                                    labelId=\"useFacebook-selection-label\"\r\n                                    name=\"useFacebook\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* INSTAGRAM */}\r\n                        <Grid xs={12} sm={6} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useInstagram-selection\">Instagram</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useInstagram-selection\"\r\n                                    label=\"Instagram\"\r\n                                    labelId=\"useInstagram-selection-label\"\r\n                                    name=\"useInstagram\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* CAMPANHAS */}\r\n                        <Grid xs={12} sm={6} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useCampaigns-selection\">{i18n.t(\"plans.form.campaigns\")}</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useCampaigns-selection\"\r\n                                    label={i18n.t(\"plans.form.campaigns\")}\r\n                                    labelId=\"useCampaigns-selection-label\"\r\n                                    name=\"useCampaigns\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* AGENDAMENTOS */}\r\n                        <Grid xs={12} sm={8} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useSchedules-selection\">{i18n.t(\"plans.form.schedules\")}</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useSchedules-selection\"\r\n                                    label={i18n.t(\"plans.form.schedules\")}\r\n                                    labelId=\"useSchedules-selection-label\"\r\n                                    name=\"useSchedules\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* CHAT INTERNO */}\r\n                        <Grid xs={12} sm={8} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useInternalChat-selection\">Chat Interno</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useInternalChat-selection\"\r\n                                    label=\"Chat Interno\"\r\n                                    labelId=\"useInternalChat-selection-label\"\r\n                                    name=\"useInternalChat\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* API Externa */}\r\n                        <Grid xs={12} sm={8} md={4} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useExternalApi-selection\">API Externa</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useExternalApi-selection\"\r\n                                    label=\"API Externa\"\r\n                                    labelId=\"useExternalApi-selection-label\"\r\n                                    name=\"useExternalApi\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* KANBAN */}\r\n                        <Grid xs={12} sm={8} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useKanban-selection\">Kanban</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useKanban-selection\"\r\n                                    label=\"Kanban\"\r\n                                    labelId=\"useKanban-selection-label\"\r\n                                    name=\"useKanban\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* OPENAI */}\r\n                        <Grid xs={12} sm={8} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useOpenAi-selection\">Talk.Ai</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useOpenAi-selection\"\r\n                                    label=\"Talk.Ai\"\r\n                                    labelId=\"useOpenAi-selection-label\"\r\n                                    name=\"useOpenAi\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* INTEGRACOES */}\r\n                        <Grid xs={12} sm={8} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useIntegrations-selection\">Integrações</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useIntegrations-selection\"\r\n                                    label=\"Integrações\"\r\n                                    labelId=\"useIntegrations-selection-label\"\r\n                                    name=\"useIntegrations\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\r\n\r\n                        <Grid sm={3} md={2} item>\r\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\r\n                                {i18n.t(\"plans.form.clear\")}\r\n                            </ButtonWithSpinner>\r\n                        </Grid>\r\n                        {record.id !== undefined ? (\r\n                            <Grid sm={3} md={2} item>\r\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\r\n                                    {i18n.t(\"plans.form.delete\")}\r\n                                </ButtonWithSpinner>\r\n                            </Grid>\r\n                        ) : null}\r\n                        <Grid sm={3} md={2} item>\r\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\r\n                                {i18n.t(\"plans.form.save\")}\r\n                            </ButtonWithSpinner>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nexport function PlansManagerGrid(props) {\r\n    const { records, onSelect } = props\r\n    const classes = useStyles()\r\n\r\n    const renderWhatsapp = (row) => {\r\n        return row.useWhatsapp === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderFacebook = (row) => {\r\n        return row.useFacebook === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderInstagram = (row) => {\r\n        return row.useInstagram === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderCampaigns = (row) => {\r\n        return row.useCampaigns === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderSchedules = (row) => {\r\n        return row.useSchedules === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderInternalChat = (row) => {\r\n        return row.useInternalChat === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderExternalApi = (row) => {\r\n        return row.useExternalApi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderKanban = (row) => {\r\n        return row.useKanban === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderOpenAi = (row) => {\r\n        return row.useOpenAi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderIntegrations = (row) => {\r\n        return row.useIntegrations === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    return (\r\n        <Paper className={classes.tableContainer}>\r\n            <Table\r\n                className={classes.fullWidth}\r\n                // size=\"small\"\r\n                padding=\"none\"\r\n                aria-label=\"a dense table\"\r\n            >\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell align=\"center\" style={{ width: '1%' }}>#</TableCell>\r\n                        <TableCell align=\"left\">{i18n.t(\"plans.form.name\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.users\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.public\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.connections\")}</TableCell>\r\n                        <TableCell align=\"center\">Filas</TableCell>\r\n                        <TableCell align=\"center\">Valor</TableCell>\r\n                        <TableCell align=\"center\">Whatsapp</TableCell>\r\n                        <TableCell align=\"center\">Facebook</TableCell>\r\n                        <TableCell align=\"center\">Instagram</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.campaigns\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.schedules\")}</TableCell>\r\n                        <TableCell align=\"center\">Chat Interno</TableCell>\r\n                        <TableCell align=\"center\">API Externa</TableCell>\r\n                        <TableCell align=\"center\">Kanban</TableCell>\r\n                        <TableCell align=\"center\">Talk.Ai</TableCell>\r\n                        <TableCell align=\"center\">Integrações</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {records.map((row) => (\r\n                        <TableRow key={row.id}>\r\n                            <TableCell align=\"center\" style={{ width: '1%' }}>\r\n                                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\r\n                                    <EditIcon />\r\n                                </IconButton>\r\n                            </TableCell>\r\n                            <TableCell align=\"left\">{row.name || '-'}</TableCell>\r\n                            <TableCell align=\"center\">{row.users || '-'}</TableCell>\r\n                            <TableCell align=\"center\">{row.isPublic ? \"Sim\": \"Não\" || '-'}</TableCell>\r\n                            <TableCell align=\"center\">{row.connections || '-'}</TableCell>\r\n                            <TableCell align=\"center\">{row.queues || '-'}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"plans.form.money\")} {row.amount ? row.amount.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00'}</TableCell>\r\n                            <TableCell align=\"center\">{renderWhatsapp(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderFacebook(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderInstagram(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderCampaigns(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderSchedules(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderInternalChat(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderExternalApi(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderKanban(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderOpenAi(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderIntegrations(row)}</TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default function PlansManager() {\r\n    const classes = useStyles()\r\n    const { list, save, update, remove } = usePlans()\r\n\r\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const [records, setRecords] = useState([])\r\n    const [record, setRecord] = useState({\r\n        name: '',\r\n        users: 0,\r\n        connections: 0,\r\n        queues: 0,\r\n        amount: 0,\r\n        useWhatsapp: true,\r\n        useFacebook: true,\r\n        useInstagram: true,\r\n        useCampaigns: true,\r\n        useSchedules: true,\r\n        useInternalChat: true,\r\n        useExternalApi: true,\r\n        useKanban: true,\r\n        useOpenAi: true,\r\n        useIntegrations: true,\r\n        isPublic: true\r\n    })\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            await loadPlans()\r\n        }\r\n        fetchData()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [record])\r\n\r\n    const loadPlans = async () => {\r\n        setLoading(true)\r\n        try {\r\n            const planList = await list()\r\n            setRecords(planList)\r\n        } catch (e) {\r\n            toast.error('Não foi possível carregar a lista de registros')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleSubmit = async (data) => {\r\n        setLoading(true)\r\n        try {\r\n            if (data.id !== undefined) {\r\n                await update(data)\r\n            } else {\r\n                await save(data)\r\n            }\r\n            await loadPlans()\r\n            handleCancel()\r\n            toast.success('Operação realizada com sucesso!')\r\n        } catch (e) {\r\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleDelete = async () => {\r\n        setLoading(true)\r\n        try {\r\n            await remove(record.id)\r\n            await loadPlans()\r\n            handleCancel()\r\n            toast.success('Operação realizada com sucesso!')\r\n        } catch (e) {\r\n            toast.error('Não foi possível realizar a operação')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleOpenDeleteDialog = () => {\r\n        setShowConfirmDialog(true)\r\n    }\r\n\r\n    const handleCancel = () => {\r\n        setRecord({\r\n            id: undefined,\r\n            name: '',\r\n            users: 0,\r\n            connections: 0,\r\n            queues: 0,\r\n            amount: 0,\r\n            useWhatsapp: true,\r\n            useFacebook: true,\r\n            useInstagram: true,\r\n            useCampaigns: true,\r\n            useSchedules: true,\r\n            useInternalChat: true,\r\n            useExternalApi: true,\r\n            useKanban: true,\r\n            useOpenAi: true,\r\n            useIntegrations: true,\r\n            isPublic: true\r\n        })\r\n    }\r\n\r\n    const handleSelect = (data) => {\r\n\r\n        let useWhatsapp = data.useWhatsapp === false ? false : true\r\n        let useFacebook = data.useFacebook === false ? false : true\r\n        let useInstagram = data.useInstagram === false ? false : true\r\n        let useCampaigns = data.useCampaigns === false ? false : true\r\n        let useSchedules = data.useSchedules === false ? false : true\r\n        let useInternalChat = data.useInternalChat === false ? false : true\r\n        let useExternalApi = data.useExternalApi === false ? false : true\r\n        let useKanban = data.useKanban === false ? false : true\r\n        let useOpenAi = data.useOpenAi === false ? false : true\r\n        let useIntegrations = data.useIntegrations === false ? false : true\r\n\r\n        setRecord({\r\n            id: data.id,\r\n            name: data.name || '',\r\n            users: data.users || 0,\r\n            connections: data.connections || 0,\r\n            queues: data.queues || 0,\r\n            amount: data.amount?.toLocaleString('pt-br', { minimumFractionDigits: 2 }) || 0,\r\n            useWhatsapp,\r\n            useFacebook,\r\n            useInstagram,\r\n            useCampaigns,\r\n            useSchedules,\r\n            useInternalChat,\r\n            useExternalApi,\r\n            useKanban,\r\n            useOpenAi,\r\n            useIntegrations,\r\n            isPublic: data.isPublic\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Paper className={classes.mainPaper} elevation={0}>\r\n            <Grid spacing={2} container>\r\n                <Grid xs={12} item>\r\n                    <PlanManagerForm\r\n                        initialValue={record}\r\n                        onDelete={handleOpenDeleteDialog}\r\n                        onSubmit={handleSubmit}\r\n                        onCancel={handleCancel}\r\n                        loading={loading}\r\n                    />\r\n                </Grid>\r\n                <Grid xs={12} item>\r\n                    <PlansManagerGrid\r\n                        records={records}\r\n                        onSelect={handleSelect}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n            <ConfirmationModal\r\n                title=\"Exclusão de Registro\"\r\n                open={showConfirmDialog}\r\n                onClose={() => setShowConfirmDialog(false)}\r\n                onConfirm={() => handleDelete()}\r\n            >\r\n                Deseja realmente excluir esse registro?\r\n            </ConfirmationModal>\r\n        </Paper>\r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n    makeStyles,\r\n    Paper,\r\n    Grid,\r\n    TextField,\r\n    Table,\r\n    TableHead,\r\n    TableBody,\r\n    TableCell,\r\n    TableRow,\r\n    IconButton\r\n} from \"@material-ui/core\";\r\nimport { Formik, Form, Field } from 'formik';\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nimport { Edit as EditIcon } from \"@material-ui/icons\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport useHelps from \"../../hooks/useHelps\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\twidth: '100%'\r\n\t},\r\n    mainPaper: {\r\n\t\twidth: '100%',\r\n\t\tflex: 1,\r\n\t\tpadding: theme.spacing(2)\r\n    },\r\n\tfullWidth: {\r\n\t\twidth: '100%'\r\n\t},\r\n    tableContainer: {\r\n\t\twidth: '100%',\r\n\t\toverflowX: \"scroll\",\r\n\t\t...theme.scrollbarStyles\r\n    },\r\n\ttextfield: {\r\n\t\twidth: '100%'\r\n\t},\r\n    textRight: {\r\n        textAlign: 'right'\r\n    },\r\n    row: {\r\n\t\tpaddingTop: theme.spacing(2),\r\n\t\tpaddingBottom: theme.spacing(2)\r\n    },\r\n    control: {\r\n\t\tpaddingRight: theme.spacing(1),\r\n\t\tpaddingLeft: theme.spacing(1)\r\n\t},\r\n    buttonContainer: {\r\n        textAlign: 'right',\r\n\t\tpadding: theme.spacing(1)\r\n\t}\r\n}));\r\n\r\nexport function HelpManagerForm (props) {\r\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\r\n    const classes = useStyles()\r\n\r\n    const [record, setRecord] = useState(initialValue);\r\n\r\n    useEffect(() => {\r\n        setRecord(initialValue)\r\n    }, [initialValue])\r\n\r\n    const handleSubmit = async(data) => {\r\n        onSubmit(data)\r\n    }\r\n\r\n    return (\r\n        <Formik\r\n            enableReinitialize\r\n            className={classes.fullWidth}\r\n            initialValues={record}\r\n            onSubmit={(values, { resetForm }) =>\r\n                setTimeout(() => {\r\n                    handleSubmit(values)\r\n                    resetForm()\r\n                }, 500)\r\n            }\r\n        >\r\n            {(values) => (\r\n                <Form className={classes.fullWidth}>\r\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\r\n                        <Grid xs={12} sm={6} md={3} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label=\"Título\"\r\n                                name=\"title\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid xs={12} sm={6} md={3} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"helps.settings.codeVideo\")}\r\n                                name=\"video\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid xs={12} sm={12} md={6} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"helps.settings.description\")}\r\n                                name=\"description\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid sm={3} md={1} item>\r\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\r\n                            {i18n.t(\"helps.settings.clear\")}\r\n                            </ButtonWithSpinner>\r\n                        </Grid>\r\n                        { record.id !== undefined ? (\r\n                            <Grid sm={3} md={1} item>\r\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\r\n                                {i18n.t(\"helps.settings.delete\")}\r\n                                </ButtonWithSpinner>\r\n                            </Grid>\r\n                        ) : null}\r\n                        <Grid sm={3} md={1} item>\r\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\r\n                            {i18n.t(\"helps.settings.save\")}\r\n                            </ButtonWithSpinner>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nexport function HelpsManagerGrid (props) {\r\n    const { records, onSelect } = props\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <Paper className={classes.tableContainer}>\r\n            <Table className={classes.fullWidth} size=\"small\" aria-label=\"a dense table\">\r\n                <TableHead>\r\n                <TableRow>\r\n                    <TableCell align=\"center\" style={{width: '1%'}}>#</TableCell>\r\n                    <TableCell align=\"left\">Título</TableCell>\r\n                    <TableCell align=\"left\">{i18n.t(\"helps.settings.description\")}</TableCell>\r\n                    <TableCell align=\"left\">Video</TableCell>\r\n                </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                {records.map((row) => (\r\n                    <TableRow key={row.id}>\r\n                        <TableCell align=\"center\" style={{width: '1%'}}>\r\n                            <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\r\n                                <EditIcon />\r\n                            </IconButton>\r\n                        </TableCell>\r\n                        <TableCell align=\"left\">{row.title || '-'}</TableCell>\r\n                        <TableCell align=\"left\">{row.description || '-'}</TableCell>\r\n                        <TableCell align=\"left\">{row.video || '-'}</TableCell>\r\n                    </TableRow>\r\n                ))}\r\n                </TableBody>\r\n            </Table>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default function HelpsManager () {\r\n    const classes = useStyles()\r\n    const { list, save, update, remove } = useHelps()\r\n    \r\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const [records, setRecords] = useState([])\r\n    const [record, setRecord] = useState({\r\n        title: '',\r\n        description: '',\r\n        video: ''\r\n    })\r\n\r\n    useEffect(() => {\r\n        async function fetchData () {\r\n            await loadHelps()\r\n        }\r\n        fetchData()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    const loadHelps = async () => {\r\n        setLoading(true)\r\n        try {\r\n            const helpList = await list()\r\n            setRecords(helpList)\r\n        } catch (e) {\r\n            toast.error('Não foi possível carregar a lista de registros')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleSubmit = async (data) => {\r\n        setLoading(true)\r\n        try {\r\n            if (data.id !== undefined) {\r\n                await update(data)\r\n            } else {\r\n                await save(data)\r\n            }\r\n            await loadHelps()\r\n            handleCancel()\r\n            toast.success('Operação realizada com sucesso!')\r\n        } catch (e) {\r\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleDelete = async () => {\r\n        setLoading(true)\r\n        try {\r\n            await remove(record.id)\r\n            await loadHelps()\r\n            handleCancel()\r\n            toast.success('Operação realizada com sucesso!')\r\n        } catch (e) {\r\n            toast.error('Não foi possível realizar a operação')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleOpenDeleteDialog = () => {\r\n        setShowConfirmDialog(true)\r\n    }\r\n\r\n    const handleCancel = () => {\r\n        setRecord({\r\n            title: '',\r\n            description: '',\r\n            video: ''\r\n        })\r\n    }\r\n\r\n    const handleSelect = (data) => {\r\n        setRecord({\r\n            id: data.id,\r\n            title: data.title || '',\r\n            description: data.description || '',\r\n            video: data.video || ''\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Paper className={classes.mainPaper} elevation={0}>\r\n            <Grid spacing={2} container>\r\n                <Grid xs={12} item>\r\n                    <HelpManagerForm \r\n                        initialValue={record} \r\n                        onDelete={handleOpenDeleteDialog} \r\n                        onSubmit={handleSubmit} \r\n                        onCancel={handleCancel} \r\n                        loading={loading}\r\n                    />\r\n                </Grid>\r\n                <Grid xs={12} item>\r\n                    <HelpsManagerGrid \r\n                        records={records}\r\n                        onSelect={handleSelect}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n            <ConfirmationModal\r\n                title=\"Exclusão de Registro\"\r\n                open={showConfirmDialog}\r\n                onClose={() => setShowConfirmDialog(false)}\r\n                onConfirm={() => handleDelete()}\r\n            >\r\n                Deseja realmente excluir esse registro?\r\n            </ConfirmationModal>\r\n        </Paper>\r\n    )\r\n}","import React, { useEffect, useState, useContext } from \"react\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\n\r\nimport useSettings from \"../../hooks/useSettings\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { grey, blue } from \"@material-ui/core/colors\";\r\n\r\nimport { Tab, Tabs, TextField } from \"@material-ui/core\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  fixedHeightPaper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: 240,\r\n  },\r\n  cardAvatar: {\r\n    fontSize: \"55px\",\r\n    color: grey[500],\r\n    backgroundColor: \"#ffffff\",\r\n    width: theme.spacing(7),\r\n    height: theme.spacing(7),\r\n  },\r\n  cardTitle: {\r\n    fontSize: \"18px\",\r\n    color: blue[700],\r\n  },\r\n  cardSubtitle: {\r\n    color: grey[600],\r\n    fontSize: \"14px\",\r\n  },\r\n  alignRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n  },\r\n  selectContainer: {\r\n    width: \"100%\",\r\n    textAlign: \"left\",\r\n  },\r\n  tab: {\r\n    backgroundColor: theme.mode === 'light' ? \"#f2f2f2\" : \"#7f7f7f\",\r\n    borderRadius: 4,\r\n    width: \"100%\",\r\n    \"& .MuiTabs-flexContainer\": {\r\n      justifyContent: \"center\"\r\n    }\r\n  },\r\n}));\r\n\r\nexport default function Options(props) {\r\n  const { oldSettings, settings, scheduleTypeChanged, user } = props;\r\n\r\n  const classes = useStyles();\r\n  const [userRating, setUserRating] = useState(\"disabled\");\r\n  const [scheduleType, setScheduleType] = useState(\"disabled\");\r\n  const [chatBotType, setChatBotType] = useState(\"text\");\r\n\r\n  const [loadingUserRating, setLoadingUserRating] = useState(false);\r\n  const [loadingScheduleType, setLoadingScheduleType] = useState(false);\r\n\r\n  const [userCreation, setUserCreation] = useState(\"disabled\");\r\n  const [loadingUserCreation, setLoadingUserCreation] = useState(false);\r\n\r\n  const [SendGreetingAccepted, setSendGreetingAccepted] = useState(\"enabled\");\r\n  const [loadingSendGreetingAccepted, setLoadingSendGreetingAccepted] = useState(false);\r\n\r\n  const [UserRandom, setUserRandom] = useState(\"enabled\");\r\n  const [loadingUserRandom, setLoadingUserRandom] = useState(false);\r\n\r\n  const [SettingsTransfTicket, setSettingsTransfTicket] = useState(\"enabled\");\r\n  const [loadingSettingsTransfTicket, setLoadingSettingsTransfTicket] = useState(false);\r\n\r\n  const [AcceptCallWhatsapp, setAcceptCallWhatsapp] = useState(\"enabled\");\r\n  const [loadingAcceptCallWhatsapp, setLoadingAcceptCallWhatsapp] = useState(false);\r\n\r\n  const [sendSignMessage, setSendSignMessage] = useState(\"enabled\");\r\n  const [loadingSendSignMessage, setLoadingSendSignMessage] = useState(false);\r\n\r\n  const [sendGreetingMessageOneQueues, setSendGreetingMessageOneQueues] = useState(\"enabled\");\r\n  const [loadingSendGreetingMessageOneQueues, setLoadingSendGreetingMessageOneQueues] = useState(false);\r\n\r\n  const [sendQueuePosition, setSendQueuePosition] = useState(\"enabled\");\r\n  const [loadingSendQueuePosition, setLoadingSendQueuePosition] = useState(false);\r\n\r\n  const [sendFarewellWaitingTicket, setSendFarewellWaitingTicket] = useState(\"enabled\");\r\n  const [loadingSendFarewellWaitingTicket, setLoadingSendFarewellWaitingTicket] = useState(false);\r\n\r\n  const [acceptAudioMessageContact, setAcceptAudioMessageContact] = useState(\"enabled\");\r\n  const [loadingAcceptAudioMessageContact, setLoadingAcceptAudioMessageContact] = useState(false);\r\n\r\n  //LGPD\r\n  const [enableLGPD, setEnableLGPD] = useState(\"disabled\");\r\n  const [loadingEnableLGPD, setLoadingEnableLGPD] = useState(false);\r\n\r\n  const [lgpdMessage, setLGPDMessage] = useState(\"\");\r\n  const [loadinglgpdMessage, setLoadingLGPDMessage] = useState(false);\r\n\r\n  const [lgpdLink, setLGPDLink] = useState(\"\");\r\n  const [loadingLGPDLink, setLoadingLGPDLink] = useState(false);\r\n\r\n  const [lgpdDeleteMessage, setLGPDDeleteMessage] = useState(\"disabled\");\r\n  const [loadingLGPDDeleteMessage, setLoadingLGPDDeleteMessage] = useState(false);\r\n\r\n  const [lgpdConsent, setLGPDConsent] = useState(\"disabled\");\r\n  const [loadingLGPDConsent, setLoadingLGPDConsent] = useState(false);\r\n\r\n  const [lgpdHideNumber, setLGPDHideNumber] = useState(\"disabled\");\r\n  const [loadingLGPDHideNumber, setLoadingLGPDHideNumber] = useState(false);\r\n\r\n  // Tag obrigatoria\r\n  const [requiredTag, setRequiredTag] = useState(\"enabled\")\r\n  const [loadingRequiredTag, setLoadingRequiredTag] = useState(false)\r\n\r\n  // Fechar ticket ao transferir para outro setor\r\n  const [closeTicketOnTransfer, setCloseTicketOnTransfer] = useState(false)\r\n  const [loadingCloseTicketOnTransfer, setLoadingCloseTicketOnTransfer] = useState(false)\r\n\r\n  // Usar carteira de clientes\r\n  const [directTicketsToWallets, setDirectTicketsToWallets] = useState(false)\r\n  const [loadingDirectTicketsToWallets, setLoadingDirectTicketsToWallets] = useState(false)\r\n\r\n  //MENSAGENS CUSTOMIZADAS\r\n  const [transferMessage, setTransferMessage] = useState(\"Seu Atendimento foi Transferido para o setor ${queue.name},Aguarde atendimento por favor...\");\r\n  const [loadingTransferMessage, setLoadingTransferMessage] = useState(false);\r\n\r\n  const [greetingAcceptedMessage, setGreetingAcceptedMessage] = useState(\"\");\r\n  const [loadingGreetingAcceptedMessage, setLoadingGreetingAcceptedMessage] = useState(false);\r\n  \r\n  const [AcceptCallWhatsappMessage, setAcceptCallWhatsappMessage] = useState(\"\");\r\n  const [loadingAcceptCallWhatsappMessage, setLoadingAcceptCallWhatsappMessage] = useState(false);\r\n\r\n  const [sendQueuePositionMessage, setSendQueuePositionMessage] = useState(\"\");\r\n  const [loadingSendQueuePositionMessage, setLoadingSendQueuePositionMessage] = useState(false);\r\n\r\n  const [showNotificationPending, setShowNotificationPending] = useState(false);\r\n  const [loadingShowNotificationPending, setLoadingShowNotificationPending] = useState(false);\r\n\r\n  const { update: updateUserCreation, getAll } = useSettings();\r\n\r\n  const { update } = useCompanySettings();\r\n\r\n  const isSuper = () => {\r\n    return user.super;\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    if (Array.isArray(oldSettings) && oldSettings.length) {\r\n\r\n      const userPar = oldSettings.find((s) => s.key === \"userCreation\");\r\n\r\n      if (userPar) {\r\n        setUserCreation(userPar.value);\r\n      }\r\n    }\r\n  }, [oldSettings])\r\n\r\n\r\n  useEffect(() => {\r\n    for (const [key, value] of Object.entries(settings)) {\r\n      if (key === \"userRating\") setUserRating(value);\r\n      if (key === \"scheduleType\") setScheduleType(value);\r\n      if (key === \"chatBotType\") setChatBotType(value);\r\n      if (key === \"acceptCallWhatsapp\") setAcceptCallWhatsapp(value);\r\n      if (key === \"userRandom\") setUserRandom(value);\r\n      if (key === \"sendGreetingMessageOneQueues\") setSendGreetingMessageOneQueues(value);\r\n      if (key === \"sendSignMessage\") setSendSignMessage(value);\r\n      if (key === \"sendFarewellWaitingTicket\") setSendFarewellWaitingTicket(value);\r\n      if (key === \"sendGreetingAccepted\") setSendGreetingAccepted(value);\r\n      if (key === \"sendQueuePosition\") setSendQueuePosition(value);\r\n      if (key === \"acceptAudioMessageContact\") setAcceptAudioMessageContact(value);\r\n      if (key === \"enableLGPD\") setEnableLGPD(value);\r\n      if (key === \"requiredTag\") setRequiredTag(value);\r\n      if (key === \"lgpdDeleteMessage\") setLGPDDeleteMessage(value)\r\n      if (key === \"lgpdHideNumber\") setLGPDHideNumber(value);\r\n      if (key === \"lgpdConsent\") setLGPDConsent(value);\r\n      if (key === \"lgpdMessage\") setLGPDMessage(value);\r\n      if (key === \"sendMsgTransfTicket\") setSettingsTransfTicket(value);\r\n      if (key === \"lgpdLink\") setLGPDLink(value);\r\n      if (key === \"DirectTicketsToWallets\") setDirectTicketsToWallets(value);\r\n      if (key === \"closeTicketOnTransfer\") setCloseTicketOnTransfer(value);\r\n      if (key === \"transferMessage\") setTransferMessage(value);\r\n      if (key === \"greetingAcceptedMessage\") setGreetingAcceptedMessage(value);\r\n      if (key === \"AcceptCallWhatsappMessage\") setAcceptCallWhatsappMessage(value);\r\n      if (key === \"sendQueuePositionMessage\") setSendQueuePositionMessage(value);\r\n      if (key === \"showNotificationPending\") setShowNotificationPending(value);\r\n\r\n    }\r\n  }, [settings]);\r\n\r\n  async function handleChangeUserCreation(value) {\r\n    setUserCreation(value);\r\n    setLoadingUserCreation(true);\r\n    await updateUserCreation({\r\n      key: \"userCreation\",\r\n      value,\r\n    });\r\n    setLoadingUserCreation(false);\r\n  }\r\n\r\n  async function handleChangeUserRating(value) {\r\n    setUserRating(value);\r\n    setLoadingUserRating(true);\r\n    await update({\r\n      column: \"userRating\",\r\n      data: value\r\n    });\r\n    setLoadingUserRating(false);\r\n  }\r\n\r\n  async function handleScheduleType(value) {\r\n    setScheduleType(value);\r\n    setLoadingScheduleType(true);\r\n    await update({\r\n      column: \"scheduleType\",\r\n      data: value\r\n    });\r\n    setLoadingScheduleType(false);\r\n    if (typeof scheduleTypeChanged === \"function\") {\r\n      scheduleTypeChanged(value);\r\n    }\r\n  }\r\n\r\n  async function handleChatBotType(value) {\r\n    setChatBotType(value);\r\n    await update({\r\n      column: \"chatBotType\",\r\n      data: value\r\n    });\r\n    if (typeof scheduleTypeChanged === \"function\") {\r\n      setChatBotType(value);\r\n    }\r\n  }\r\n\r\n  async function handleLGPDMessage(value) {\r\n    setLGPDMessage(value);\r\n    setLoadingLGPDMessage(true);\r\n    await update({\r\n      column: \"lgpdMessage\",\r\n      data: value\r\n    });\r\n    setLoadingLGPDMessage(false);\r\n  }\r\n\r\n  async function handletransferMessage(value) {\r\n    setTransferMessage(value);\r\n    setLoadingTransferMessage(true);\r\n    await update({\r\n      column: \"transferMessage\",\r\n      data: value\r\n    });\r\n    setLoadingTransferMessage(false);\r\n  }\r\n\r\n  async function handleGreetingAcceptedMessage(value) {\r\n    setGreetingAcceptedMessage(value);\r\n    setLoadingGreetingAcceptedMessage(true);\r\n    await update({\r\n      column: \"greetingAcceptedMessage\",\r\n      data: value\r\n    });\r\n    setLoadingGreetingAcceptedMessage(false);\r\n  }\r\n\r\n  async function handleAcceptCallWhatsappMessage(value) {\r\n    setAcceptCallWhatsappMessage(value);\r\n    setLoadingAcceptCallWhatsappMessage(true);\r\n    await update({\r\n      column: \"AcceptCallWhatsappMessage\",\r\n      data: value\r\n    });\r\n    setLoadingAcceptCallWhatsappMessage(false);\r\n  }\r\n\r\n  async function handlesendQueuePositionMessage(value) {\r\n    setSendQueuePositionMessage(value);\r\n    setLoadingSendQueuePositionMessage(true);\r\n    await update({\r\n      column: \"sendQueuePositionMessage\",\r\n      data: value\r\n    });\r\n    setLoadingSendQueuePositionMessage(false);\r\n  }\r\n\r\n  async function handleShowNotificationPending(value) {\r\n    setShowNotificationPending(value);\r\n    setLoadingShowNotificationPending(true);\r\n    await update({\r\n      column: \"showNotificationPending\",\r\n      data: value\r\n    });\r\n    setLoadingShowNotificationPending(false);\r\n  }\r\n\r\n  async function handleLGPDLink(value) {\r\n    setLGPDLink(value);\r\n    setLoadingLGPDLink(true);\r\n    await update({\r\n      column: \"lgpdLink\",\r\n      data: value\r\n    });\r\n    setLoadingLGPDLink(false);\r\n  }\r\n\r\n  async function handleLGPDDeleteMessage(value) {\r\n    setLGPDDeleteMessage(value);\r\n    setLoadingLGPDDeleteMessage(true);\r\n    await update({\r\n      column: \"lgpdDeleteMessage\",\r\n      data: value\r\n    });\r\n    setLoadingLGPDDeleteMessage(false);\r\n  }\r\n\r\n  async function handleLGPDConsent(value) {\r\n    setLGPDConsent(value);\r\n    setLoadingLGPDConsent(true);\r\n    await update({\r\n      column: \"lgpdConsent\",\r\n      data: value\r\n    });\r\n    setLoadingLGPDConsent(false);\r\n  }\r\n\r\n  async function handleLGPDHideNumber(value) {\r\n    setLGPDHideNumber(value);\r\n    setLoadingLGPDHideNumber(true);\r\n    await update({\r\n      column: \"lgpdHideNumber\",\r\n      data: value\r\n    });\r\n    setLoadingLGPDHideNumber(false);\r\n  }\r\n\r\n  async function handleSendGreetingAccepted(value) {\r\n    setSendGreetingAccepted(value);\r\n    setLoadingSendGreetingAccepted(true);\r\n    await update({\r\n      column: \"sendGreetingAccepted\",\r\n      data: value\r\n    });\r\n    setLoadingSendGreetingAccepted(false);\r\n  }\r\n\r\n  async function handleUserRandom(value) {\r\n    setUserRandom(value);\r\n    setLoadingUserRandom(true);\r\n    await update({\r\n      column: \"userRandom\",\r\n      data: value\r\n    });\r\n    setLoadingUserRandom(false);\r\n  }\r\n\r\n  async function handleSettingsTransfTicket(value) {\r\n    setSettingsTransfTicket(value);\r\n    setLoadingSettingsTransfTicket(true);\r\n    await update({\r\n      column: \"sendMsgTransfTicket\",\r\n      data: value\r\n    });\r\n    setLoadingSettingsTransfTicket(false);\r\n  }\r\n\r\n  async function handleAcceptCallWhatsapp(value) {\r\n    setAcceptCallWhatsapp(value);\r\n    setLoadingAcceptCallWhatsapp(true);\r\n    await update({\r\n      column: \"acceptCallWhatsapp\",\r\n      data: value\r\n    });\r\n    setLoadingAcceptCallWhatsapp(false);\r\n  }\r\n\r\n  async function handleSendSignMessage(value) {\r\n    setSendSignMessage(value);\r\n    setLoadingSendSignMessage(true);\r\n    await update({\r\n      column: \"sendSignMessage\",\r\n      data: value\r\n    });\r\n    localStorage.setItem(\"sendSignMessage\", value === \"enabled\" ? true : false); //atualiza localstorage para sessão\r\n    setLoadingSendSignMessage(false);\r\n  }\r\n\r\n  async function handleSendGreetingMessageOneQueues(value) {\r\n    setSendGreetingMessageOneQueues(value);\r\n    setLoadingSendGreetingMessageOneQueues(true);\r\n    await update({\r\n      column: \"sendGreetingMessageOneQueues\",\r\n      data: value\r\n    });\r\n    setLoadingSendGreetingMessageOneQueues(false);\r\n  }\r\n\r\n  async function handleSendQueuePosition(value) {\r\n    setSendQueuePosition(value);\r\n    setLoadingSendQueuePosition(true);\r\n    await update({\r\n      column: \"sendQueuePosition\",\r\n      data: value\r\n    });\r\n    setLoadingSendQueuePosition(false);\r\n  }\r\n\r\n  async function handleSendFarewellWaitingTicket(value) {\r\n    setSendFarewellWaitingTicket(value);\r\n    setLoadingSendFarewellWaitingTicket(true);\r\n    await update({\r\n      column: \"sendFarewellWaitingTicket\",\r\n      data: value\r\n    });\r\n    setLoadingSendFarewellWaitingTicket(false);\r\n  }\r\n\r\n  async function handleAcceptAudioMessageContact(value) {\r\n    setAcceptAudioMessageContact(value);\r\n    setLoadingAcceptAudioMessageContact(true);\r\n    await update({\r\n      column: \"acceptAudioMessageContact\",\r\n      data: value\r\n    });\r\n    setLoadingAcceptAudioMessageContact(false);\r\n  }\r\n\r\n  async function handleEnableLGPD(value) {\r\n    setEnableLGPD(value);\r\n    setLoadingEnableLGPD(true);\r\n    await update({\r\n      column: \"enableLGPD\",\r\n      data: value\r\n    });\r\n    setLoadingEnableLGPD(false);\r\n  }\r\n\r\n  async function handleRequiredTag(value) {\r\n    setRequiredTag(value);\r\n    setLoadingRequiredTag(true);\r\n    await update({\r\n      column: \"requiredTag\",\r\n      data: value,\r\n    });\r\n    setLoadingRequiredTag(false);\r\n  }\r\n\r\n  async function handleCloseTicketOnTransfer(value) {\r\n    setCloseTicketOnTransfer(value);\r\n    setLoadingCloseTicketOnTransfer(true);\r\n    await update({\r\n      column: \"closeTicketOnTransfer\",\r\n      data: value,\r\n    });\r\n    setLoadingCloseTicketOnTransfer(false);\r\n  }\r\n\r\n  async function handleDirectTicketsToWallets(value) {\r\n    setDirectTicketsToWallets(value);\r\n    setLoadingDirectTicketsToWallets(true);\r\n    await update({\r\n      column: \"DirectTicketsToWallets\",\r\n      data: value,\r\n    });\r\n    setLoadingDirectTicketsToWallets(false);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Grid spacing={3} container>\r\n\r\n        {/* CRIAÇÃO DE COMPANY/USERS */}\r\n        {isSuper() ?\r\n          <Grid xs={12} sm={6} md={4} item>\r\n            <FormControl className={classes.selectContainer}>\r\n              <InputLabel id=\"UserCreation-label\">\r\n                {i18n.t(\"settings.settings.options.creationCompanyUser\")}\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"UserCreation-label\"\r\n                value={userCreation}\r\n                onChange={async (e) => {\r\n                  handleChangeUserCreation(e.target.value);\r\n                }}\r\n              >\r\n                <MenuItem value={\"disabled\"}>\r\n                  {i18n.t(\"settings.settings.options.disabled\")}\r\n                </MenuItem>\r\n                <MenuItem value={\"enabled\"}>\r\n                  {i18n.t(\"settings.settings.options.enabled\")}\r\n                </MenuItem>\r\n              </Select>\r\n              <FormHelperText>\r\n                {loadingUserCreation &&\r\n                  i18n.t(\"settings.settings.options.updating\")}\r\n              </FormHelperText>\r\n            </FormControl>\r\n          </Grid>\r\n          : null}\r\n\r\n        {/* AVALIAÇÕES */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"ratings-label\">{i18n.t(\"settings.settings.options.evaluations\")}</InputLabel>\r\n            <Select\r\n              labelId=\"ratings-label\"\r\n              value={userRating}\r\n              onChange={async (e) => {\r\n                handleChangeUserRating(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingUserRating && i18n.t(\"settings.settings.options.evaluations\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* AGENDAMENTO DE EXPEDIENTE */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"schedule-type-label\">\r\n              {i18n.t(\"settings.settings.options.officeScheduling\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"schedule-type-label\"\r\n              value={scheduleType}\r\n              onChange={async (e) => {\r\n                handleScheduleType(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\r\n              <MenuItem value={\"queue\"}>{i18n.t(\"settings.settings.options.queueManagement\")}</MenuItem>\r\n              <MenuItem value={\"company\"}>{i18n.t(\"settings.settings.options.companyManagement\")}</MenuItem>\r\n              <MenuItem value={\"connection\"}>{i18n.t(\"settings.settings.options.connectionManagement\")}</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingScheduleType && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* ENVIAR SAUDAÇÃO AO ACEITAR O TICKET */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"sendGreetingAccepted-label\">\r\n              {i18n.t(\"settings.settings.options.sendGreetingAccepted\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"sendGreetingAccepted-label\"\r\n              value={SendGreetingAccepted}\r\n              onChange={async (e) => {\r\n                handleSendGreetingAccepted(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingSendGreetingAccepted && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* ESCOLHER OPERADOR ALEATORIO */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"userRandom-label\">\r\n              {i18n.t(\"settings.settings.options.userRandom\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"userRandom-label\"\r\n              value={UserRandom}\r\n              onChange={async (e) => {\r\n                handleUserRandom(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingUserRandom && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* ENVIAR MENSAGEM DE TRANSFERENCIA DE SETOR/ATENDENTE */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"sendMsgTransfTicket-label\">\r\n              {i18n.t(\"settings.settings.options.sendMsgTransfTicket\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"sendMsgTransfTicket-label\"\r\n              value={SettingsTransfTicket}\r\n              onChange={async (e) => {\r\n                handleSettingsTransfTicket(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingSettingsTransfTicket && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* TIPO DO BOT */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"schedule-type-label\">{i18n.t(\"settings.settings.options.chatBotType\")}</InputLabel>\r\n            <Select\r\n              labelId=\"schedule-type-label\"\r\n              value={chatBotType}\r\n              onChange={async (e) => {\r\n                handleChatBotType(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"text\"}>Texto</MenuItem>\r\n              {/* <MenuItem value={\"button\"}>{i18n.t(\"settings.settings.options.buttons\")}</MenuItem>\r\n              <MenuItem value={\"list\"}>Lista</MenuItem> */}\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingScheduleType && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* AVISO SOBRE LIGAÇÃO DO WHATSAPP */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"acceptCallWhatsapp-label\">\r\n              {i18n.t(\"settings.settings.options.acceptCallWhatsapp\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"acceptCallWhatsapp-label\"\r\n              value={AcceptCallWhatsapp}\r\n              onChange={async (e) => {\r\n                handleAcceptCallWhatsapp(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingAcceptCallWhatsapp && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* HABILITAR PARA O ATENDENTE RETIRAR O ASSINATURA */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"sendSignMessage-label\">\r\n              {i18n.t(\"settings.settings.options.sendSignMessage\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"sendSignMessage-label\"\r\n              value={sendSignMessage}\r\n              onChange={async (e) => {\r\n                handleSendSignMessage(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingSendSignMessage && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* ENVIAR SAUDAÇÃO QUANDO HOUVER SOMENTE 1 FILA */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"sendGreetingMessageOneQueues-label\">\r\n              {i18n.t(\"settings.settings.options.sendGreetingMessageOneQueues\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"sendGreetingMessageOneQueues-label\"\r\n              value={sendGreetingMessageOneQueues}\r\n              onChange={async (e) => {\r\n                handleSendGreetingMessageOneQueues(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingSendGreetingMessageOneQueues && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* ENVIAR MENSAGEM COM A POSIÇÃO DA FILA */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"sendQueuePosition-label\">\r\n              {i18n.t(\"settings.settings.options.sendQueuePosition\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"sendQueuePosition-label\"\r\n              value={sendQueuePosition}\r\n              onChange={async (e) => {\r\n                handleSendQueuePosition(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingSendQueuePosition && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* ENVIAR MENSAGEM DE DESPEDIDA NO AGUARDANDO */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"sendFarewellWaitingTicket-label\">\r\n              {i18n.t(\"settings.settings.options.sendFarewellWaitingTicket\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"sendFarewellWaitingTicket-label\"\r\n              value={sendFarewellWaitingTicket}\r\n              onChange={async (e) => {\r\n                handleSendFarewellWaitingTicket(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingSendFarewellWaitingTicket && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"acceptAudioMessageContact-label\">\r\n              {i18n.t(\"settings.settings.options.acceptAudioMessageContact\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"acceptAudioMessageContact-label\"\r\n              value={acceptAudioMessageContact}\r\n              onChange={async (e) => {\r\n                handleAcceptAudioMessageContact(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingAcceptAudioMessageContact && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"enableLGPD-label\"> {i18n.t(\"settings.settings.options.enableLGPD\")}</InputLabel>\r\n            <Select\r\n              labelId=\"enableLGPD-label\"\r\n              value={enableLGPD}\r\n              onChange={async (e) => {\r\n                handleEnableLGPD(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\r\n              <MenuItem value={\"enabled\"}>{i18n.t(\"settings.settings.options.enabled\")}</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingEnableLGPD && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"requiredTag-label\"> {i18n.t(\"settings.settings.options.requiredTag\")}</InputLabel>\r\n            <Select\r\n              labelId=\"requiredTag-label\"\r\n              value={requiredTag}\r\n              onChange={async (e) => {\r\n                handleRequiredTag(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\r\n              <MenuItem value={\"enabled\"}>{i18n.t(\"settings.settings.options.enabled\")}</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingRequiredTag && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"closeTicketOnTransfer-label\"> {i18n.t(\"settings.settings.options.closeTicketOnTransfer\")}</InputLabel>\r\n            <Select\r\n              labelId=\"closeTicketOnTransfer-label\"\r\n              value={closeTicketOnTransfer}\r\n              onChange={async (e) => {\r\n                handleCloseTicketOnTransfer(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={false}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\r\n              <MenuItem value={true}>{i18n.t(\"settings.settings.options.enabled\")}</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingCloseTicketOnTransfer && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"showNotificationPending-label\"> {i18n.t(\"settings.settings.options.showNotificationPending\")}</InputLabel>\r\n            <Select\r\n              labelId=\"showNotificationPending-label\"\r\n              value={showNotificationPending}\r\n              onChange={async (e) => {\r\n                handleShowNotificationPending(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={false}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\r\n              <MenuItem value={true}>{i18n.t(\"settings.settings.options.enabled\")}</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingShowNotificationPending && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n        {/* <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"DirectTicketsToWallets-label\"> {i18n.t(\"settings.settings.options.DirectTicketsToWallets\")}</InputLabel>\r\n            <Select\r\n              labelId=\"DirectTicketsToWallets-label\"\r\n              value={directTicketsToWallets}\r\n              onChange={async (e) => {\r\n                handleDirectTicketsToWallets(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={false}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\r\n              <MenuItem value={true}>{i18n.t(\"settings.settings.options.enabled\")}</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingDirectTicketsToWallets && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid> */}\r\n      </Grid>\r\n      <br></br>\r\n      {/*-----------------LGPD-----------------*/}\r\n      {enableLGPD === \"enabled\" && (\r\n        <>\r\n          <Grid spacing={3} container\r\n            style={{ marginBottom: 10 }}>\r\n            <Tabs\r\n              value={0}\r\n              indicatorColor=\"primary\"\r\n              textColor=\"primary\"\r\n              scrollButtons=\"on\"\r\n              variant=\"scrollable\"\r\n              className={classes.tab}\r\n            >\r\n              <Tab\r\n\r\n                label={i18n.t(\"settings.settings.LGPD.title\")} />\r\n\r\n            </Tabs>\r\n          </Grid>\r\n          <Grid spacing={1} container>\r\n            <Grid xs={12} sm={6} md={12} item>\r\n              <FormControl className={classes.selectContainer}>\r\n                <TextField\r\n                  id=\"lgpdMessage\"\r\n                  name=\"lgpdMessage\"\r\n                  margin=\"dense\"\r\n                  multiline\r\n                  rows={3}\r\n                  label={i18n.t(\"settings.settings.LGPD.welcome\")}\r\n                  variant=\"outlined\"\r\n                  value={lgpdMessage}\r\n                  onChange={async (e) => {\r\n                    handleLGPDMessage(e.target.value);\r\n                  }}\r\n                >\r\n                </TextField>\r\n                <FormHelperText>\r\n                  {loadinglgpdMessage && i18n.t(\"settings.settings.options.updating\")}\r\n                </FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid xs={12} sm={6} md={12} item>\r\n              <FormControl className={classes.selectContainer}>\r\n                <TextField\r\n                  id=\"lgpdLink\"\r\n                  name=\"lgpdLink\"\r\n                  margin=\"dense\"\r\n                  label={i18n.t(\"settings.settings.LGPD.linkLGPD\")}\r\n                  variant=\"outlined\"\r\n                  value={lgpdLink}\r\n                  onChange={async (e) => {\r\n                    handleLGPDLink(e.target.value);\r\n                  }}\r\n                >\r\n                </TextField>\r\n                <FormHelperText>\r\n                  {loadingLGPDLink && i18n.t(\"settings.settings.options.updating\")}\r\n                </FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n            {/* LGPD Manter ou nao mensagem deletada pelo contato */}\r\n            <Grid xs={12} sm={6} md={4} item>\r\n              <FormControl className={classes.selectContainer}>\r\n                <InputLabel id=\"lgpdDeleteMessage-label\">{i18n.t(\"settings.settings.LGPD.obfuscateMessageDelete\")}</InputLabel>\r\n                <Select\r\n                  labelId=\"lgpdDeleteMessage-label\"\r\n                  value={lgpdDeleteMessage}\r\n                  onChange={async (e) => {\r\n                    handleLGPDDeleteMessage(e.target.value);\r\n                  }}\r\n                >\r\n                  <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.LGPD.disabled\")}</MenuItem>\r\n                  <MenuItem value={\"enabled\"}>{i18n.t(\"settings.settings.LGPD.enabled\")}</MenuItem>\r\n                </Select>\r\n                <FormHelperText>\r\n                  {loadingLGPDDeleteMessage && i18n.t(\"settings.settings.options.updating\")}\r\n                </FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n            {/* LGPD Sempre solicitar confirmaçao / conscentimento dos dados */}\r\n            <Grid xs={12} sm={6} md={4} item>\r\n              <FormControl className={classes.selectContainer}>\r\n                <InputLabel id=\"lgpdConsent-label\">\r\n                  {i18n.t(\"settings.settings.LGPD.alwaysConsent\")}\r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"lgpdConsent-label\"\r\n                  value={lgpdConsent}\r\n                  onChange={async (e) => {\r\n                    handleLGPDConsent(e.target.value);\r\n                  }}\r\n                >\r\n                  <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.LGPD.disabled\")}</MenuItem>\r\n                  <MenuItem value={\"enabled\"}>{i18n.t(\"settings.settings.LGPD.enabled\")}</MenuItem>\r\n                </Select>\r\n                <FormHelperText>\r\n                  {loadingLGPDConsent && i18n.t(\"settings.settings.options.updating\")}\r\n                </FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n            {/* LGPD Ofuscar número telefone para usuários */}\r\n            <Grid xs={12} sm={6} md={4} item>\r\n              <FormControl className={classes.selectContainer}>\r\n                <InputLabel id=\"lgpdHideNumber-label\">\r\n                  {i18n.t(\"settings.settings.LGPD.obfuscatePhoneUser\")}\r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"lgpdHideNumber-label\"\r\n                  value={lgpdHideNumber}\r\n                  onChange={async (e) => {\r\n                    handleLGPDHideNumber(e.target.value);\r\n                  }}\r\n                >\r\n                  <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.LGPD.disabled\")}</MenuItem>\r\n                  <MenuItem value={\"enabled\"}>{i18n.t(\"settings.settings.LGPD.enabled\")}</MenuItem>\r\n                </Select>\r\n                <FormHelperText>\r\n                  {loadingLGPDHideNumber && i18n.t(\"settings.settings.options.updating\")}\r\n                </FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n      )}\r\n      <Grid spacing={1} container>\r\n        <Grid xs={12} sm={6} md={6} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <TextField\r\n              id=\"transferMessage\"\r\n              name=\"transferMessage\"\r\n              margin=\"dense\"\r\n              multiline\r\n              rows={3}\r\n              label={i18n.t(\"settings.settings.customMessages.transferMessage\")}\r\n              variant=\"outlined\"\r\n              value={transferMessage}\r\n              required={SettingsTransfTicket === \"enabled\"}\r\n              onChange={async (e) => {\r\n                handletransferMessage(e.target.value);\r\n              }}\r\n            >\r\n            </TextField>\r\n            <FormHelperText>\r\n              {loadingTransferMessage && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid xs={12} sm={6} md={6} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <TextField\r\n              id=\"greetingAcceptedMessage\"\r\n              name=\"greetingAcceptedMessage\"\r\n              margin=\"dense\"\r\n              multiline\r\n              rows={3}\r\n              label={i18n.t(\"settings.settings.customMessages.greetingAcceptedMessage\")}\r\n              variant=\"outlined\"\r\n              value={greetingAcceptedMessage}\r\n              required={SendGreetingAccepted === \"enabled\"}\r\n              onChange={async (e) => {\r\n                handleGreetingAcceptedMessage(e.target.value);\r\n              }}\r\n            >\r\n            </TextField>\r\n            <FormHelperText>\r\n              {loadingGreetingAcceptedMessage && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid xs={12} sm={6} md={6} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <TextField\r\n              id=\"AcceptCallWhatsappMessage\"\r\n              name=\"AcceptCallWhatsappMessage\"\r\n              margin=\"dense\"\r\n              multiline\r\n              rows={3}\r\n              label={i18n.t(\"settings.settings.customMessages.AcceptCallWhatsappMessage\")}\r\n              variant=\"outlined\"\r\n              required={AcceptCallWhatsapp === \"disabled\"}\r\n              value={AcceptCallWhatsappMessage}\r\n              onChange={async (e) => {\r\n                handleAcceptCallWhatsappMessage(e.target.value);\r\n              }}\r\n            >\r\n            </TextField>\r\n            <FormHelperText>\r\n              {loadingAcceptCallWhatsappMessage && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid xs={12} sm={6} md={6} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <TextField\r\n              id=\"sendQueuePositionMessage\"\r\n              name=\"sendQueuePositionMessage\"\r\n              margin=\"dense\"\r\n              multiline\r\n              required={sendQueuePosition === \"enabled\"}\r\n              rows={3}\r\n              label={i18n.t(\"settings.settings.customMessages.sendQueuePositionMessage\")}\r\n              variant=\"outlined\"\r\n              value={sendQueuePositionMessage}\r\n              onChange={async (e) => {\r\n                handlesendQueuePositionMessage(e.target.value);\r\n              }}\r\n            >\r\n            </TextField>\r\n            <FormHelperText>\r\n              {loadingSendQueuePositionMessage && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        \r\n              \r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n","const OnlyForSuperUser = ({ user, yes, no }) => user.super ? yes() : no();\r\n\r\nOnlyForSuperUser.defaultProps = {\r\n    user: {},\r\n\tyes: () => null,\r\n\tno: () => null,\r\n};\r\n\r\nexport default OnlyForSuperUser;","import React, { useState } from \"react\";\r\nimport { Dialog } from \"@material-ui/core\";\r\nimport { BlockPicker } from \"react-color\";\r\n\r\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\r\n  const [selectedColor, setSelectedColor] = useState(currentColor);\r\n\r\n  const handleChange = (color) => {\r\n    setSelectedColor(color.hex);\r\n    onChange(color.hex);\r\n  };\r\n\r\n  const handleDialogClose = (event, reason) => {\r\n    if (reason === \"backdropClick\") {\r\n      handleClose();\r\n    }\r\n  };\r\n\r\n  const colors = [\r\n    \"#B80000\",\r\n    \"#DB3E00\",\r\n    \"#FCCB00\",\r\n    \"#008B02\",\r\n    \"#006B76\",\r\n    \"#1273DE\",\r\n    \"#004DCF\",\r\n    \"#5300EB\",\r\n    \"#EB9694\",\r\n    \"#FAD0C3\",\r\n    \"#FEF3BD\",\r\n    \"#C1E1C5\",\r\n    \"#BEDADC\",\r\n    \"#C4DEF6\",\r\n    \"#BED3F3\",\r\n    \"#D4C4FB\",\r\n    \"#4D4D4D\",\r\n    \"#999999\",\r\n    \"#F44E3B\",\r\n    \"#FE9200\",\r\n    \"#FCDC00\",\r\n    \"#DBDF00\",\r\n    \"#A4DD00\",\r\n    \"#68CCCA\",\r\n    \"#73D8FF\",\r\n    \"#AEA1FF\",\r\n    \"#FDA1FF\",\r\n    \"#333333\",\r\n    \"#808080\",\r\n    \"#cccccc\",\r\n    \"#D33115\",\r\n    \"#E27300\",\r\n    \"#FCC400\",\r\n    \"#B0BC00\",\r\n    \"#68BC00\",\r\n    \"#16A5A5\",\r\n    \"#009CE0\",\r\n    \"#7B64FF\",\r\n    \"#FA28FF\",\r\n    \"#666666\",\r\n    \"#B3B3B3\",\r\n    \"#9F0500\",\r\n    \"#C45100\",\r\n    \"#FB9E00\",\r\n    \"#808900\",\r\n    \"#194D33\",\r\n    \"#0C797D\",\r\n    \"#0062B1\",\r\n    \"#653294\",\r\n    \"#AB149E\",\r\n  ];\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={handleDialogClose}\r\n      aria-labelledby=\"simple-dialog-title\"\r\n      open={open}\r\n    >\r\n      <BlockPicker\r\n        width={\"100%\"}\r\n        triangle=\"hide\"\r\n        color={selectedColor}\r\n        colors={colors}\r\n        onChange={handleChange}\r\n        onChangeComplete={color => onChange(color.hex)}\r\n      />\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ColorPicker;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, makeStyles } from \"@material-ui/core\";\r\nimport { ColorBox } from \"material-ui-color\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    btnWrapper: {\r\n        position: \"relative\",\r\n    },\r\n}));\r\n\r\nconst ColorBoxModal = ({ onChange, currentColor, handleClose, open }) => {\r\n\r\n    const classes = useStyles();\r\n    const [selectedColor, setSelectedColor] = useState(currentColor);\r\n\r\n    useEffect(() => {\r\n        setSelectedColor(currentColor);\r\n    }, [currentColor]);\r\n\r\n    const handleOk = () => {\r\n        onChange(selectedColor);\r\n        handleClose();\r\n    };\r\n\r\n    return (\r\n\r\n        <Dialog open={open} onClose={handleClose}>\r\n\r\n            <DialogTitle>Escolha uma cor</DialogTitle>\r\n            <DialogContent>\r\n                <ColorBox\r\n                    disableAlpha={true}\r\n                    hslGradient={false}\r\n                    style={{ margin: '20px auto 0' }}\r\n                    value={selectedColor}\r\n                    onChange={setSelectedColor} />\r\n            </DialogContent>\r\n\r\n            <DialogActions>\r\n\r\n                <Button onClick={handleClose} color=\"primary\">\r\n                    Cancelar\r\n                </Button>\r\n                <Button\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                    className={classes.btnWrapper}\r\n                    onClick={handleOk} >\r\n                    OK\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\nexport default ColorBoxModal;","import React, { useEffect, useState, useContext, useRef } from \"react\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport useSettings from \"../../hooks/useSettings\";\r\nimport { toast } from 'react-toastify';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { grey, blue } from \"@material-ui/core/colors\";\r\nimport OnlyForSuperUser from \"../OnlyForSuperUser\";\r\nimport useAuth from \"../../hooks/useAuth.js/index.js\";\r\n\r\nimport {\r\n  IconButton,\r\n  InputAdornment,\r\n} from \"@material-ui/core\";\r\n\r\nimport { Colorize, AttachFile, Delete } from \"@material-ui/icons\";\r\nimport ColorPicker from \"../ColorPicker\";\r\nimport ColorModeContext from \"../../layout/themeContext\";\r\nimport api from \"../../services/api\";\r\nimport { getBackendUrl } from \"../../config\";\r\n\r\nimport defaultLogoLight from \"../../assets/logo.png\";\r\nimport defaultLogoDark from \"../../assets/logo-black.png\";\r\nimport defaultLogoFavicon from \"../../assets/favicon.ico\";\r\nimport ColorBoxModal from \"../ColorBoxModal/index.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  fixedHeightPaper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: 240,\r\n  },\r\n  tab: {\r\n    borderRadius: 4,\r\n    width: \"100%\",\r\n    \"& .MuiTab-wrapper\": {\r\n      color: \"#128c7e\"\r\n    },\r\n    \"& .MuiTabs-flexContainer\": {\r\n      justifyContent: \"center\"\r\n    }\r\n\r\n\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    marginBottom: 12,\r\n    width: \"100%\",\r\n  },\r\n  cardAvatar: {\r\n    fontSize: \"55px\",\r\n    color: grey[500],\r\n    backgroundColor: \"#ffffff\",\r\n    width: theme.spacing(7),\r\n    height: theme.spacing(7),\r\n  },\r\n  cardTitle: {\r\n    fontSize: \"18px\",\r\n    color: blue[700],\r\n  },\r\n  cardSubtitle: {\r\n    color: grey[600],\r\n    fontSize: \"14px\",\r\n  },\r\n  alignRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n  },\r\n  selectContainer: {\r\n    width: \"100%\",\r\n    textAlign: \"left\",\r\n  },\r\n  colorAdorment: {\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n\r\n  uploadInput: {\r\n    display: \"none\",\r\n  },\r\n\r\n  appLogoLightPreviewDiv: {\r\n    backgroundColor: \"white\",\r\n    padding: \"10px\",\r\n    borderStyle: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"#424242\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  appLogoDarkPreviewDiv: {\r\n    backgroundColor: \"#424242\",\r\n    padding: \"10px\",\r\n    borderStyle: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"white\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  appLogoFaviconPreviewDiv: {\r\n    padding: \"10px\",\r\n    borderStyle: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"black\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  appLogoLightPreviewImg: {\r\n    width: \"100%\",\r\n    maxHeight: 72,\r\n    content: \"url(\" + theme.calculatedLogoLight() + \")\"\r\n  },\r\n\r\n  appLogoDarkPreviewImg: {\r\n    width: \"100%\",\r\n    maxHeight: 72,\r\n    content: \"url(\" + theme.calculatedLogoDark() + \")\"\r\n  },\r\n\r\n  appLogoFaviconPreviewImg: {\r\n    width: \"100%\",\r\n    maxHeight: 72,\r\n    content: \"url(\" + ((theme.appLogoFavicon) ? theme.appLogoFavicon : \"\") + \")\"\r\n  }\r\n}));\r\n\r\nexport default function Whitelabel(props) {\r\n  const { settings } = props;\r\n  const classes = useStyles();\r\n  const [settingsLoaded, setSettingsLoaded] = useState({});\r\n\r\n  const { getCurrentUserInfo } = useAuth();\r\n  const [currentUser, setCurrentUser] = useState({});\r\n\r\n  const { colorMode } = useContext(ColorModeContext);\r\n  const [primaryColorLightModalOpen, setPrimaryColorLightModalOpen] = useState(false);\r\n  const [primaryColorDarkModalOpen, setPrimaryColorDarkModalOpen] = useState(false);\r\n\r\n  const logoLightInput = useRef(null);\r\n  const logoDarkInput = useRef(null);\r\n  const logoFaviconInput = useRef(null);\r\n  const appNameInput = useRef(null);\r\n  const [appName, setAppName] = useState(settingsLoaded.appName || \"\");\r\n\r\n  const { update } = useSettings();\r\n\r\n  function updateSettingsLoaded(key, value) {\r\n    if (key === 'primaryColorLight' || key === 'primaryColorDark' || key === 'appName') {\r\n      localStorage.setItem(key, value);\r\n    };\r\n    const newSettings = { ...settingsLoaded };\r\n    newSettings[key] = value;\r\n    setSettingsLoaded(newSettings);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getCurrentUserInfo().then(\r\n      (u) => {\r\n        setCurrentUser(u);\r\n      }\r\n    );\r\n\r\n    if (Array.isArray(settings) && settings.length) {\r\n      const primaryColorLight = settings.find((s) => s.key === \"primaryColorLight\")?.value;\r\n      const primaryColorDark = settings.find((s) => s.key === \"primaryColorDark\")?.value;\r\n      const appLogoLight = settings.find((s) => s.key === \"appLogoLight\")?.value;\r\n      const appLogoDark = settings.find((s) => s.key === \"appLogoDark\")?.value;\r\n      const appLogoFavicon = settings.find((s) => s.key === \"appLogoFavicon\")?.value;\r\n      const appName = settings.find((s) => s.key === \"appName\")?.value;\r\n\r\n      setAppName(appName || \"\");\r\n      setSettingsLoaded({ ...settingsLoaded, primaryColorLight, primaryColorDark, appLogoLight, appLogoDark, appLogoFavicon, appName });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [settings]);\r\n\r\n  async function handleSaveSetting(key, value) {\r\n\r\n    await update({\r\n      key,\r\n      value,\r\n    });\r\n    updateSettingsLoaded(key, value);\r\n    toast.success(\"Operação atualizada com sucesso.\");\r\n  }\r\n\r\n  const uploadLogo = async (e, mode) => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    const file = e.target.files[0];\r\n    const formData = new FormData();\r\n\r\n    formData.append(\"typeArch\", \"logo\");\r\n    formData.append(\"mode\", mode);\r\n    formData.append(\"file\", file);\r\n\r\n    await api.post(\"/settings-whitelabel/logo\", formData, {\r\n      onUploadProgress: (event) => {\r\n        let progress = Math.round(\r\n          (event.loaded * 100) / event.total\r\n        );\r\n      },\r\n    }).then((response) => {\r\n      updateSettingsLoaded(`appLogo${mode}`, response.data);\r\n      colorMode[`setAppLogo${mode}`](getBackendUrl() + \"/public/\" + response.data);\r\n    }).catch((err) => {\r\n      console.error(\r\n        `Houve um problema ao realizar o upload da imagem.`\r\n      );\r\n      console.log(err);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Grid spacing={3} container>\r\n        {/* <Grid xs={12} item>\r\n                    <Title>Configurações Gerais</Title>\r\n                </Grid> */}\r\n        <OnlyForSuperUser\r\n          user={currentUser}\r\n          yes={() => (\r\n            <>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <FormControl className={classes.selectContainer}>\r\n                  <TextField\r\n                    id=\"primary-color-light-field\"\r\n                    label=\"Cor Primária Modo Claro\"\r\n                    variant=\"standard\"\r\n                    value={settingsLoaded.primaryColorLight || \"\"}\r\n                    onClick={() => setPrimaryColorLightModalOpen(true)}\r\n                    InputProps={{\r\n                      startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                          <div\r\n                            style={{ backgroundColor: settingsLoaded.primaryColorLight }}\r\n                            className={classes.colorAdorment}\r\n                          ></div>\r\n                        </InputAdornment>\r\n                      ),\r\n                      endAdornment: (\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          color=\"default\"\r\n                          onClick={() => setPrimaryColorLightModalOpen(true)}\r\n                        >\r\n                          <Colorize />\r\n                        </IconButton>\r\n                      ),\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n                <ColorBoxModal\r\n                  open={primaryColorLightModalOpen}\r\n                  handleClose={() => setPrimaryColorLightModalOpen(false)}\r\n                  onChange={(color) => {\r\n                    handleSaveSetting(\"primaryColorLight\", `#${color.hex}`);\r\n                    colorMode.setPrimaryColorLight(`#${color.hex}`);\r\n                  }}\r\n\r\n\r\n                  currentColor={settingsLoaded.primaryColorLight}\r\n                />\r\n\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n\r\n                <FormControl className={classes.selectContainer}>\r\n                  <TextField\r\n                    id=\"primary-color-dark-field\"\r\n                    label=\"Cor Primária Modo Escuro\"\r\n                    variant=\"standard\"\r\n                    value={settingsLoaded.primaryColorDark || \"\"}\r\n                    onClick={() => setPrimaryColorDarkModalOpen(true)}\r\n                    InputProps={{\r\n                      startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                          <div\r\n                            style={{ backgroundColor: settingsLoaded.primaryColorDark }}\r\n                            className={classes.colorAdorment}\r\n                          ></div>\r\n                        </InputAdornment>\r\n                      ),\r\n                      endAdornment: (\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          color=\"default\"\r\n                          onClick={() => setPrimaryColorDarkModalOpen(true)}\r\n                        >\r\n                          <Colorize />\r\n                        </IconButton>\r\n                      ),\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n                <ColorBoxModal\r\n                  open={primaryColorDarkModalOpen}\r\n                  handleClose={() => setPrimaryColorDarkModalOpen(false)}\r\n                  onChange={(color) => {\r\n                    handleSaveSetting(\"primaryColorDark\", `#${color.hex}`);\r\n                    colorMode.setPrimaryColorDark(`#${color.hex}`);\r\n                  }}\r\n                  currentColor={settingsLoaded.primaryColorDark}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <FormControl className={classes.selectContainer}>\r\n                  <TextField\r\n                    id=\"appname-field\"\r\n                    label=\"Nome do sistema\"\r\n                    variant=\"standard\"\r\n                    name=\"appName\"\r\n                    value={appName}\r\n                    inputRef={appNameInput}\r\n                    onChange={(e) => {\r\n                      setAppName(e.target.value);\r\n                    }}\r\n                    onBlur={async (_) => {\r\n                      await handleSaveSetting(\"appName\", appName);\r\n                      colorMode.setAppName(appName || \"GBSOFICIAL\");\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <FormControl className={classes.selectContainer}>\r\n                  <TextField\r\n                    id=\"logo-light-upload-field\"\r\n                    label=\"Logotipo claro\"\r\n                    variant=\"standard\"\r\n                    value={settingsLoaded.appLogoLight || \"\"}\r\n                    InputProps={{\r\n                      endAdornment: (\r\n                        <>\r\n                          {settingsLoaded.appLogoLight &&\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              color=\"default\"\r\n                              onClick={() => {\r\n                                handleSaveSetting(\"appLogoLight\", \"\");\r\n                                colorMode.setAppLogoLight(defaultLogoLight);\r\n                              }\r\n                              }\r\n                            >\r\n                              <Delete />\r\n                            </IconButton>\r\n                          }\r\n                          <input\r\n                            type=\"file\"\r\n                            id=\"upload-logo-light-button\"\r\n                            ref={logoLightInput}\r\n                            className={classes.uploadInput}\r\n                            onChange={(e) => uploadLogo(e, \"Light\")}\r\n                          />\r\n                          <label htmlFor=\"upload-logo-light-button\">\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              color=\"default\"\r\n                              onClick={\r\n                                () => {\r\n                                  logoLightInput.current.click();\r\n                                }\r\n                              }\r\n                            >\r\n                              <AttachFile />\r\n                            </IconButton>\r\n                          </label>\r\n                        </>\r\n                      ),\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <FormControl className={classes.selectContainer}>\r\n                  <TextField\r\n                    id=\"logo-dark-upload-field\"\r\n                    label=\"Logotipo escuro\"\r\n                    variant=\"standard\"\r\n                    value={settingsLoaded.appLogoDark || \"\"}\r\n                    InputProps={{\r\n                      endAdornment: (\r\n                        <>\r\n                          {settingsLoaded.appLogoDark &&\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              color=\"default\"\r\n                              onClick={() => {\r\n                                handleSaveSetting(\"appLogoDark\", \"\");\r\n                                colorMode.setAppLogoDark(defaultLogoDark);\r\n                              }\r\n                              }\r\n                            >\r\n                              <Delete />\r\n                            </IconButton>\r\n                          }\r\n                          <input\r\n                            type=\"file\"\r\n                            id=\"upload-logo-dark-button\"\r\n                            ref={logoDarkInput}\r\n                            className={classes.uploadInput}\r\n                            onChange={(e) => uploadLogo(e, \"Dark\")}\r\n                          />\r\n                          <label htmlFor=\"upload-logo-dark-button\">\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              color=\"default\"\r\n                              onClick={\r\n                                () => {\r\n                                  logoDarkInput.current.click();\r\n                                }\r\n                              }\r\n                            >\r\n                              <AttachFile />\r\n                            </IconButton>\r\n                          </label>\r\n                        </>\r\n                      ),\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <FormControl className={classes.selectContainer}>\r\n                  <TextField\r\n                    id=\"logo-favicon-upload-field\"\r\n                    label=\"Favicon\"\r\n                    variant=\"standard\"\r\n                    value={settingsLoaded.appLogoFavicon || \"\"}\r\n                    InputProps={{\r\n                      endAdornment: (\r\n                        <>\r\n                          {settingsLoaded.appLogoFavicon &&\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              color=\"default\"\r\n                              onClick={() => {\r\n                                handleSaveSetting(\"appLogoFavicon\", \"\");\r\n                                colorMode.setAppLogoFavicon(defaultLogoFavicon);\r\n                              }\r\n                              }\r\n                            >\r\n                              <Delete />\r\n                            </IconButton>\r\n                          }\r\n                          <input\r\n                            type=\"file\"\r\n                            id=\"upload-logo-favicon-button\"\r\n                            ref={logoFaviconInput}\r\n                            className={classes.uploadInput}\r\n                            onChange={(e) => uploadLogo(e, \"Favicon\")}\r\n                          />\r\n                          <label htmlFor=\"upload-logo-favicon-button\">\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              color=\"default\"\r\n                              onClick={\r\n                                () => {\r\n                                  logoFaviconInput.current.click();\r\n                                }\r\n                              }\r\n                            >\r\n                              <AttachFile />\r\n                            </IconButton>\r\n                          </label>\r\n                        </>\r\n                      ),\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <div className={classes.appLogoLightPreviewDiv}>\r\n                  <img className={classes.appLogoLightPreviewImg} alt=\"light-logo-preview\" />\r\n                </div>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <div className={classes.appLogoDarkPreviewDiv}>\r\n                  <img className={classes.appLogoDarkPreviewImg} alt=\"dark-logo-preview\" />\r\n                </div>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <div className={classes.appLogoFaviconPreviewDiv}>\r\n                  <img className={classes.appLogoFaviconPreviewImg} alt=\"favicon-preview\" />\r\n                </div>\r\n              </Grid>\r\n            </>\r\n          )}\r\n        />\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport { makeStyles, Paper, Tabs, Tab } from \"@material-ui/core\";\r\n\r\nimport TabPanel from \"../../components/TabPanel\";\r\n\r\nimport SchedulesForm from \"../../components/SchedulesForm\";\r\nimport CompaniesManager from \"../../components/CompaniesManager\";\r\nimport PlansManager from \"../../components/PlansManager\";\r\nimport HelpsManager from \"../../components/HelpsManager\";\r\nimport Options from \"../../components/Settings/Options\";\r\nimport Whitelabel from \"../../components/Settings/Whitelabel\";\r\n\r\nimport { i18n } from \"../../translate/i18n.js\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport useCompanies from \"../../hooks/useCompanies\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nimport OnlyForSuperUser from \"../../components/OnlyForSuperUser\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport useSettings from \"../../hooks/useSettings\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage/index.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flex: 1,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  mainPaper: {\r\n    ...theme.scrollbarStyles,\r\n    overflowY: \"scroll\",\r\n    flex: 1,\r\n  },\r\n  tab: {\r\n    // background: \"#f2f5f3\",\r\n    backgroundColor: theme.mode === 'light' ? \"#f2f2f2\" : \"#7f7f7f\",\r\n    borderRadius: 4,\r\n  },\r\n  paper: {\r\n    ...theme.scrollbarStyles,\r\n    overflowY: \"scroll\",\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n  },\r\n  container: {\r\n    width: \"100%\",\r\n    maxHeight: \"100%\",\r\n  },\r\n  control: {\r\n    padding: theme.spacing(1),\r\n  },\r\n  textfield: {\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nconst SettingsCustom = () => {\r\n  const classes = useStyles();\r\n  const [tab, setTab] = useState(\"options\");\r\n  const [schedules, setSchedules] = useState([]);\r\n  const [company, setCompany] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [settings, setSettings] = useState({});\r\n  const [oldSettings, setOldSettings] = useState({});\r\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\r\n\r\n  const { find, updateSchedules } = useCompanies();\r\n\r\n  //novo hook\r\n  const { getAll: getAllSettings } = useCompanySettings();\r\n  const { getAll: getAllSettingsOld } = useSettings();\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    async function findData() {\r\n      setLoading(true);\r\n      try {\r\n        const companyId = user.companyId;\r\n        const company = await find(companyId);\r\n\r\n        const settingList = await getAllSettings(companyId);\r\n\r\n        const settingListOld = await getAllSettingsOld();\r\n\r\n        setCompany(company);\r\n        setSchedules(company.schedules);\r\n        setSettings(settingList);\r\n        setOldSettings(settingListOld);\r\n\r\n        /*  if (Array.isArray(settingList)) {\r\n           const scheduleType = settingList.find(\r\n             (d) => d.key === \"scheduleType\"\r\n           );\r\n           if (scheduleType) {\r\n             setSchedulesEnabled(scheduleType.value === \"company\");\r\n           }\r\n         } */\r\n        setSchedulesEnabled(settingList.scheduleType === \"company\");\r\n        setCurrentUser(user);\r\n      } catch (e) {\r\n        toast.error(e);\r\n      }\r\n      setLoading(false);\r\n    }\r\n    findData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setTab(newValue);\r\n  };\r\n\r\n  const handleSubmitSchedules = async (data) => {\r\n    setLoading(true);\r\n    try {\r\n      setSchedules(data);\r\n      await updateSchedules({ id: company.id, schedules: data });\r\n      toast.success(\"Horários atualizados com sucesso.\");\r\n    } catch (e) {\r\n      toast.error(e);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const isSuper = () => {\r\n    return currentUser.super;\r\n  };\r\n\r\n  return (\r\n    <MainContainer className={classes.root}>\r\n      {user.profile === \"user\" ?\r\n        <ForbiddenPage />\r\n        :\r\n        <>\r\n          <MainHeader>\r\n            <Title>{i18n.t(\"settings.title\")}</Title>\r\n          </MainHeader>\r\n          <Paper className={classes.mainPaper} elevation={1}>\r\n            <Tabs\r\n              value={tab}\r\n              indicatorColor=\"primary\"\r\n              textColor=\"primary\"\r\n              scrollButtons=\"on\"\r\n              variant=\"scrollable\"\r\n              onChange={handleTabChange}\r\n              className={classes.tab}\r\n            >\r\n              <Tab label={i18n.t(\"settings.tabs.options\")} value={\"options\"} />\r\n              {schedulesEnabled && <Tab label=\"Horários\" value={\"schedules\"} />}\r\n              {isSuper() ? <Tab label=\"Empresas\" value={\"companies\"} /> : null}\r\n              {isSuper() ? <Tab label={i18n.t(\"settings.tabs.plans\")} value={\"plans\"} /> : null}\r\n              {isSuper() ? <Tab label={i18n.t(\"settings.tabs.helps\")} value={\"helps\"} /> : null}\r\n              {isSuper() ? <Tab label=\"Whitelabel\" value={\"whitelabel\"} /> : null}\r\n            </Tabs>\r\n            <Paper className={classes.paper} elevation={0}>\r\n              <TabPanel\r\n                className={classes.container}\r\n                value={tab}\r\n                name={\"schedules\"}\r\n              >\r\n                <SchedulesForm\r\n                  loading={loading}\r\n                  onSubmit={handleSubmitSchedules}\r\n                  initialValues={schedules}\r\n                />\r\n              </TabPanel>\r\n              <OnlyForSuperUser\r\n                user={currentUser}\r\n                yes={() => (\r\n                  <>\r\n                    <TabPanel\r\n                      className={classes.container}\r\n                      value={tab}\r\n                      name={\"companies\"}\r\n                    >\r\n                      <CompaniesManager />\r\n                    </TabPanel>\r\n\r\n                    <TabPanel\r\n                      className={classes.container}\r\n                      value={tab}\r\n                      name={\"plans\"}\r\n                    >\r\n                      <PlansManager />\r\n                    </TabPanel>\r\n\r\n                    <TabPanel\r\n                      className={classes.container}\r\n                      value={tab}\r\n                      name={\"helps\"}\r\n                    >\r\n                      <HelpsManager />\r\n                    </TabPanel>\r\n                    <TabPanel\r\n                      className={classes.container}\r\n                      value={tab}\r\n                      name={\"whitelabel\"}\r\n                    >\r\n                      <Whitelabel\r\n                        settings={oldSettings}\r\n                      />\r\n                    </TabPanel>\r\n                  </>\r\n                )}\r\n              />\r\n              <TabPanel className={classes.container} value={tab} name={\"options\"}>\r\n                <Options\r\n                  settings={settings}\r\n                  oldSettings={oldSettings}\r\n                  user={currentUser}\r\n                  scheduleTypeChanged={(value) =>\r\n                    setSchedulesEnabled(value === \"company\")\r\n                  }\r\n                />\r\n              </TabPanel>\r\n            </Paper>\r\n          </Paper>\r\n        </>}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default SettingsCustom;\r\n","import React from 'react';\r\nimport { at } from 'lodash';\r\nimport { useField } from 'formik';\r\nimport { TextField } from '@material-ui/core';\r\n\r\nexport default function InputField(props) {\r\n  const { errorText, ...rest } = props;\r\n  const [field, meta] = useField(props);\r\n\r\n  function _renderHelperText() {\r\n    const [touched, error] = at(meta, 'touched', 'error');\r\n    if (touched && error) {\r\n      return error;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <TextField\r\n      type=\"text\"\r\n      error={meta.touched && meta.error && true}\r\n      helperText={_renderHelperText()}\r\n      {...field}\r\n      {...rest}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { at } from 'lodash';\r\nimport { useField } from 'formik';\r\nimport {\r\n  InputLabel,\r\n  FormControl,\r\n  Select,\r\n  MenuItem,\r\n  FormHelperText\r\n} from '@material-ui/core';\r\n\r\nfunction SelectField(props) {\r\n  const { label, data, ...rest } = props;\r\n  const [field, meta] = useField(props);\r\n  const { value: selectedValue } = field;\r\n  const [touched, error] = at(meta, 'touched', 'error');\r\n  const isError = touched && error && true;\r\n  function _renderHelperText() {\r\n    if (isError) {\r\n      return <FormHelperText>{error}</FormHelperText>;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <FormControl {...rest} error={isError}>\r\n      <InputLabel>{label}</InputLabel>\r\n      <Select {...field} value={selectedValue ? selectedValue : ''}>\r\n        {data.map((item, index) => (\r\n          <MenuItem key={index} value={item.value}>\r\n            {item.label}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n      {_renderHelperText()}\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nSelectField.defaultProps = {\r\n  data: []\r\n};\r\n\r\nSelectField.propTypes = {\r\n  data: PropTypes.array.isRequired\r\n};\r\n\r\nexport default SelectField;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Grid, Typography } from \"@material-ui/core\";\r\nimport { InputField, SelectField } from \"../../FormFields\";\r\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\r\n\r\nexport default function AddressForm(props) {\r\n\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [billingName, setBillingName] = useState(user.company.name);\r\n  const [addressZipCode, setAddressZipCode] = useState(user.company.document);\r\n  const [addressStreet, setAddressStreet] = useState(user.company.addressStreet);\r\n  const [addressState, setAddressState] = useState(user.company.addressState);\r\n  const [addressCity, setAddressCity] = useState(user.company.addressCity);\r\n\r\n  const {\r\n    formField: {\r\n      firstName,\r\n      address1,\r\n      city,\r\n      state,\r\n      zipcode,\r\n      country,\r\n    },\r\n    setFieldValue\r\n  } = props;\r\n  useEffect(() => {\r\n    setFieldValue(\"firstName\", billingName)\r\n    setFieldValue(\"zipcode\", addressZipCode)\r\n    setFieldValue(\"address2\", addressStreet)\r\n    setFieldValue(\"state\", addressState)\r\n    setFieldValue(\"city\", addressCity)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  return (\r\n    <React.Fragment>\r\n  \r\n      <Grid container spacing={3}>\r\n\r\n        <Grid item xs={6} sm={6}>\r\n          <InputField name={firstName.name} label={firstName.label} fullWidth\r\n            value={billingName}\r\n            onChange={(e) => {\r\n              setBillingName(e.target.value)\r\n              setFieldValue(\"firstName\", e.target.value)\r\n            }}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={6} sm={6}>\r\n          <InputField\r\n            name={zipcode.name}\r\n            label={zipcode.label}\r\n            fullWidth\r\n            value={addressZipCode}\r\n            onChange={(e) => {\r\n              setAddressZipCode(e.target.value)\r\n              setFieldValue(\"zipcode\", e.target.value)\r\n            }}\r\n          />\r\n        </Grid>\r\n        \r\n\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useEffect, useContext } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport StarIcon from '@material-ui/icons/StarBorder';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MinimizeIcon from '@material-ui/icons/Minimize';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport usePlans from \"../../../hooks/usePlans\";\r\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  '@global': {\r\n    ul: {\r\n      margin: 0,\r\n      padding: 0,\r\n      listStyle: 'none',\r\n    },\r\n  },\r\n\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n\r\n  cardHeader: {\r\n    backgroundColor:\r\n      theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[700],\r\n  },\r\n\r\n  cardPricing: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'baseline',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n\r\n  footer: {\r\n    borderTop: `1px solid ${theme.palette.divider}`,\r\n    marginTop: theme.spacing(8),\r\n    paddingTop: theme.spacing(3),\r\n    paddingBottom: theme.spacing(3),\r\n    [theme.breakpoints.up('sm')]: {\r\n      paddingTop: theme.spacing(6),\r\n      paddingBottom: theme.spacing(6),\r\n    },\r\n  },\r\n\r\n  customCard: {\r\n    display: \"flex\",\r\n    marginTop: \"16px\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n  },\r\n\r\n  custom: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n  }\r\n}));\r\n\r\nexport default function Pricing(props) {\r\n  const {\r\n    setFieldValue,\r\n    setActiveStep,\r\n    activeStep,\r\n  } = props;\r\n\r\n  const classes = useStyles();\r\n  const [usersPlans, setUsersPlans] = React.useState(3);\r\n  const [connectionsPlans, setConnectionsPlans] = React.useState(3);\r\n  const [storagePlans, setStoragePlans] = React.useState([]);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      await loadPlans();\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const loadPlans = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const companyId = user.companyId;\r\n      const _planList = await getPlanCompany(undefined, companyId);\r\n\r\n      const planList = _planList.plan;\r\n\r\n      const plans = []\r\n\r\n      plans.push({\r\n        title: planList.name,\r\n        planId: planList.id,\r\n        price: planList.amount,\r\n        description: [\r\n          `${planList.users} Usuários`,\r\n          `${planList.connections} Conexão`,\r\n          `${planList.queues} Filas`\r\n        ],\r\n        users: planList.users,\r\n        connections: planList.connections,\r\n        queues: planList.queues,\r\n        buttonText: 'SELECIONAR',\r\n        buttonVariant: 'outlined',\r\n      })\r\n\r\n      // setStoragePlans(data);\r\n\r\n      setStoragePlans(plans);\r\n    } catch (e) {\r\n      // toast.error(\"Não foi possível carregar a lista de registros\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const [customValuePlans, setCustomValuePlans] = React.useState(49.00);\r\n\r\n  const handleChangeAdd = (event, newValue) => {\r\n    if (newValue < 3) return\r\n\r\n    const newPrice = 11.00;\r\n\r\n    setUsersPlans(newValue);\r\n    setCustomValuePlans(customValuePlans + newPrice);\r\n  }\r\n\r\n  const handleChangeMin = (event, newValue) => {\r\n    if (newValue < 3) return\r\n\r\n    const newPrice = 11;\r\n\r\n    setUsersPlans(newValue);\r\n    setCustomValuePlans(customValuePlans - newPrice);\r\n  }\r\n\r\n  const handleChangeConnectionsAdd = (event, newValue) => {\r\n    if (newValue < 3) return\r\n    const newPrice = 20.00;\r\n    setConnectionsPlans(newValue);\r\n    setCustomValuePlans(customValuePlans + newPrice);\r\n  }\r\n\r\n  const handleChangeConnectionsMin = (event, newValue) => {\r\n    if (newValue < 3) return\r\n    const newPrice = 20;\r\n    setConnectionsPlans(newValue);\r\n    setCustomValuePlans(customValuePlans - newPrice);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Grid container spacing={3}>\r\n        {storagePlans?.map((tier) => (\r\n          // Enterprise card is full width at sm breakpoint\r\n          <Grid item key={tier.title} xs={12} sm={tier.title === 'Enterprise' ? 12 : 6} md={12}>\r\n            <Card>\r\n              <CardHeader\r\n                title={tier.title}\r\n                subheader={tier.subheader}\r\n                titleTypographyProps={{ align: 'center' }}\r\n                subheaderTypographyProps={{ align: 'center' }}\r\n                action={tier.title === 'Pro' ? <StarIcon /> : null}\r\n                className={classes.cardHeader}\r\n              />\r\n              <CardContent>\r\n                <div className={classes.cardPricing}>\r\n                  <Typography component=\"h2\" variant=\"h3\" color=\"textPrimary\">\r\n                    {\r\n                      tier.custom ?\r\n                        <React.Fragment>\r\n                          R${customValuePlans.toLocaleString('pt-br', { minimumFractionDigits: 2 })}\r\n                        </React.Fragment>\r\n                        :\r\n                        <React.Fragment>\r\n                          R${tier.price.toLocaleString('pt-br', { minimumFractionDigits: 2 })}\r\n                        </React.Fragment>\r\n                    }\r\n                  </Typography>\r\n                  <Typography variant=\"h6\" color=\"textSecondary\">\r\n                    /mês\r\n                  </Typography>\r\n                </div>\r\n                <ul>\r\n                  {tier.description.map((line) => (\r\n                    <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={line}>\r\n                      {line}\r\n                    </Typography>\r\n                  ))}\r\n\r\n                  {\r\n                    tier.custom && (\r\n                      <div className={classes.customCard}>\r\n                        <div className={classes.custom}>\r\n                          <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={12}>\r\n\r\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\r\n                              <MinimizeIcon fontSize=\"inherit\" onClick={e => handleChangeMin(e, usersPlans - 1)} />\r\n                            </IconButton>\r\n                            {usersPlans} Usuários\r\n\r\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\r\n                              <AddIcon fontSize=\"inherit\" onClick={e => handleChangeAdd(e, usersPlans + 1)} />\r\n                            </IconButton>\r\n                          </Typography>\r\n                        </div>\r\n\r\n                        <div className={classes.custom}>\r\n                          <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={12}>\r\n\r\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\r\n                              <MinimizeIcon fontSize=\"inherit\" onClick={(e) => handleChangeConnectionsMin(e, connectionsPlans - 1)} />\r\n                            </IconButton>\r\n                            {connectionsPlans} Conexão\r\n\r\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\r\n                              <AddIcon fontSize=\"inherit\" onClick={(e) => handleChangeConnectionsAdd(e, connectionsPlans + 1)} />\r\n                            </IconButton>\r\n                          </Typography>\r\n                        </div>\r\n                      </div>\r\n\r\n                    )\r\n                  }\r\n\r\n                </ul>\r\n              </CardContent>\r\n              <CardActions>\r\n                <Button\r\n                  fullWidth\r\n                  variant={tier.buttonVariant}\r\n                  color=\"primary\"\r\n                  onClick={() => {\r\n                    if (tier.custom) {\r\n                      setFieldValue(\"plan\", JSON.stringify({\r\n                        users: usersPlans,\r\n                        connections: connectionsPlans,\r\n                        price: customValuePlans\r\n                      }));\r\n                    } else {\r\n                      setFieldValue(\"plan\", JSON.stringify(tier));\r\n                    }\r\n\r\n                    setActiveStep(activeStep + 1);\r\n                  }\r\n                  }\r\n                >\r\n                  {tier.buttonText}\r\n                </Button>\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\nexport default makeStyles(theme => ({\r\n  listItem: {\r\n    padding: theme.spacing(1, 0)\r\n  },\r\n  total: {\r\n    fontWeight: '700'\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(2)\r\n  }\r\n}));\r\n","import React from 'react';\r\nimport { Typography, Grid } from '@material-ui/core';\r\nimport useStyles from './styles';\r\n\r\nfunction PaymentDetails(props) {\r\n  const { formValues } = props;\r\n  const classes = useStyles();\r\n  const { plan } = formValues;\r\n\r\n  const newPlan = JSON.parse(plan);\r\n\r\n  const { users, connections, queues } = newPlan;\r\n  return (\r\n    <Grid item xs={12} sm={6}>\r\n      <Typography variant=\"h6\" gutterBottom className={classes.title}>\r\n        Detalhes do plano\r\n      </Typography>\r\n      <Typography gutterBottom>Usuários: {users}</Typography>\r\n      <Typography gutterBottom>Conexão: {connections}</Typography>\r\n      <Typography gutterBottom>Filas: {queues}</Typography>\r\n      <Typography gutterBottom>Cobrança: Mensal</Typography>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default PaymentDetails;\r\n","import React, { useContext } from 'react';\r\nimport { Typography, Grid } from '@material-ui/core';\r\nimport useStyles from './styles';\r\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\r\n\r\nfunction PaymentDetails(props) {\r\n  const { formValues } = props;\r\n  const classes = useStyles();\r\n  const { firstName, address2, city, zipcode, state, country, plan } = formValues;\r\n  const { user } = useContext(AuthContext);\r\n\r\n\r\n  const newPlan = JSON.parse(plan);\r\n  const { price } = newPlan;\r\n\r\n  return (\r\n    <Grid item container direction=\"column\" xs={6} sm={12}>\r\n      <Typography variant=\"h6\" gutterBottom className={classes.title}>\r\n        Informação de pagamento\r\n      </Typography>\r\n      <Grid container>\r\n        <React.Fragment>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>Email:</Typography>\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>{user.email}</Typography>\r\n          </Grid>\r\n        </React.Fragment>\r\n        <React.Fragment>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>Nome:</Typography>\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>{firstName}</Typography>\r\n          </Grid>\r\n        </React.Fragment>\r\n        <React.Fragment>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>CPF/CNPJ:</Typography>\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>{zipcode}</Typography>\r\n          </Grid>\r\n        </React.Fragment>\r\n        <React.Fragment>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>Total:</Typography>\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>R${price.toLocaleString('pt-br', { minimumFractionDigits: 2 })}</Typography>\r\n          </Grid>\r\n        </React.Fragment>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default PaymentDetails;\r\n","import ReviewOrder from './ReviewOrder';\r\nexport default ReviewOrder;\r\n","import React from 'react';\r\nimport { useFormikContext } from 'formik';\r\nimport { Typography, Grid } from '@material-ui/core';\r\nimport ShippingDetails from './ShippingDetails';\r\nimport PaymentDetails from './PaymentDetails';\r\n\r\nexport default function ReviewOrder() {\r\n  const { values: formValues } = useFormikContext();\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Resumo da assinatura\r\n      </Typography>\r\n      <Grid container spacing={2}>\r\n        <ShippingDetails formValues={formValues} />\r\n        <PaymentDetails formValues={formValues} />\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  footer {\r\n    margin-top: 30px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    width: 100%;\r\n\r\n    @media (max-width: 768px) {\r\n      flex-direction: column;\r\n      .checkout-buttons {\r\n        display: flex;\r\n        flex-direction: column-reverse;\r\n        width: 100%;\r\n\r\n        button {\r\n          width: 100%;\r\n          margin-top: 16px;\r\n          margin-left: 0;\r\n        }\r\n      }\r\n    }\r\n\r\n    button {\r\n      margin-left: 16px;\r\n    }\r\n  }\r\n`;\r\nexport const Total = styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n\r\n  span {\r\n    color: #333;\r\n    font-weight: bold;\r\n  }\r\n\r\n  strong {\r\n    color: #333;\r\n    font-size: 28px;\r\n    margin-left: 5px;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    min-width: 100%;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\n\r\nexport const SuccessContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  > h2 {\r\n    text-align: center;\r\n  }\r\n\r\n  > svg {\r\n    margin-top: 16px;\r\n  }\r\n\r\n  > span {\r\n    margin-top: 24px;\r\n    text-align: center;\r\n  }\r\n\r\n  > p,\r\n  strong {\r\n    margin-top: 8px;\r\n    font-size: 9px;\r\n    color: #999;\r\n  }\r\n\r\n  .copy-button {\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    user-select: none;\r\n    min-height: 56px;\r\n    display: inline-flex;\r\n    -webkit-box-pack: center;\r\n    justify-content: center;\r\n    -webkit-box-align: center;\r\n    align-items: center;\r\n    background-color: #f9f9f9;\r\n    color: #000;\r\n    -webkit-appearance: none !important;\r\n    outline: none;\r\n    margin-top: 16px;\r\n    width: 256px;\r\n    font-weight: 600;\r\n    text-transform: uppercase;\r\n    border: none;\r\n\r\n    > span {\r\n      margin-right: 8px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CheckoutWrapper = styled.div`\r\n  width: 100%;\r\n  margin: 0 auto 0;\r\n  max-width: 1110px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  -webkit-box-align: center;\r\n  align-items: center;\r\n  padding: 50px 95px;\r\n  background: #fff;\r\n  @media (max-width: 768px) {\r\n    padding: 16px 24px;\r\n`;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport QRCode from 'react-qr-code';\r\nimport { SuccessContent, Total } from './style';\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\r\nimport { FaCopy, FaCheckCircle } from 'react-icons/fa';\r\nimport { useDate } from \"../../../hooks/useDate\";\r\nimport { toast } from \"react-toastify\";\r\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\r\n\r\nfunction CheckoutSuccess(props) {\r\n\r\n  const { pix } = props;\r\n  const [pixString,] = useState(pix.qrcode.qrcode);\r\n  const [copied, setCopied] = useState(false);\r\n  const history = useHistory();\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n  const { dateToClient } = useDate();\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    if (companyId) {\r\n      // const socket = socketManager.GetSocket();\r\n\r\n      const onCompanyPayment = (data) => {\r\n\r\n        if (data.action === \"CONCLUIDA\") {\r\n          toast.success(`Sua licença foi renovada até ${dateToClient(data.company.dueDate)}!`);\r\n          setTimeout(() => {\r\n            history.push(\"/\");\r\n          }, 4000);\r\n        }\r\n      }\r\n\r\n      socket.on(`company-${companyId}-payment`, onCompanyPayment);\r\n\r\n      return () => {\r\n        socket.off(`company-${companyId}-payment`, onCompanyPayment);\r\n      }\r\n    }\r\n  }, [socket]);\r\n\r\n  const handleCopyQR = () => {\r\n    setTimeout(() => {\r\n      setCopied(false);\r\n    }, 1 * 1000);\r\n    setCopied(true);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Total>\r\n        <span>TOTAL</span>\r\n        <strong>R${pix.valor.original.toLocaleString('pt-br', { minimumFractionDigits: 2 })}</strong>\r\n      </Total>\r\n      <SuccessContent>\r\n        <QRCode value={pixString} />\r\n        <CopyToClipboard text={pixString} onCopy={handleCopyQR}>\r\n          <button className=\"copy-button\" type=\"button\">\r\n            {copied ? (\r\n              <>\r\n                <span>Copiado</span>\r\n                <FaCheckCircle size={18} />\r\n              </>\r\n            ) : (\r\n              <>\r\n                <span>Copiar código QR</span>\r\n                <FaCopy size={18} />\r\n              </>\r\n            )}\r\n          </button>\r\n        </CopyToClipboard>\r\n        <span>\r\n          Para finalizar, basta realizar o pagamento escaneando ou colando o\r\n          código Pix acima :)\r\n        </span>\r\n      </SuccessContent>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default CheckoutSuccess;\r\n","import CheckoutSuccess from './CheckoutSuccess';\r\nexport default CheckoutSuccess;\r\n","export default {\r\n  formId: 'checkoutForm',\r\n  formField: {\r\n    firstName: {\r\n      name: 'firstName',\r\n      label: 'Nome completo*',\r\n      requiredErrorMsg: 'O nome completo é obrigatório'\r\n    },\r\n    lastName: {\r\n      name: 'lastName',\r\n      label: 'Last name*',\r\n      requiredErrorMsg: 'Last name is required'\r\n    },\r\n    address1: {\r\n      name: 'address2',\r\n      label: 'Endereço*',\r\n      requiredErrorMsg: 'O Endereço é obrigatório'\r\n    },\r\n\r\n    city: {\r\n      name: 'city',\r\n      label: 'Cidade*',\r\n      requiredErrorMsg: 'Cidade é obrigatória'\r\n    },\r\n    state: {\r\n      name: 'state',\r\n      label: 'Estado*',\r\n      requiredErrorMsg: 'Cidade é obrigatória'\r\n    },\r\n    zipcode: {\r\n      name: 'zipcode',\r\n      label: 'CPF/CNPJ*',\r\n      requiredErrorMsg: 'CEP é obrigatório',\r\n      invalidErrorMsg: 'Formato de CEP inválido'\r\n    },\r\n    country: {\r\n      name: 'country',\r\n      label: 'País*',\r\n      requiredErrorMsg: 'País é obrigatório'\r\n    },\r\n    useAddressForPaymentDetails: {\r\n      name: 'useAddressForPaymentDetails',\r\n      label: 'Use this address for payment details'\r\n    },\r\n    nameOnCard: {\r\n      name: 'nameOnCard',\r\n      label: 'Name on card*',\r\n      requiredErrorMsg: 'Name on card is required'\r\n    },\r\n    cardNumber: {\r\n      name: 'cardNumber',\r\n      label: 'Card number*',\r\n      requiredErrorMsg: 'Card number is required',\r\n      invalidErrorMsg: 'Card number is not valid (e.g. 4111111111111)'\r\n    },\r\n    expiryDate: {\r\n      name: 'expiryDate',\r\n      label: 'Expiry date*',\r\n      requiredErrorMsg: 'Expiry date is required',\r\n      invalidErrorMsg: 'Expiry date is not valid'\r\n    },\r\n    cvv: {\r\n      name: 'cvv',\r\n      label: 'CVV*',\r\n      requiredErrorMsg: 'CVV is required',\r\n      invalidErrorMsg: 'CVV is invalid (e.g. 357)'\r\n    }\r\n  }\r\n};\r\n","import * as Yup from 'yup';\r\nimport checkoutFormModel from './checkoutFormModel';\r\nconst {\r\n  formField: {\r\n    firstName,\r\n    address1,\r\n    city,\r\n    zipcode,\r\n    country,\r\n  }\r\n} = checkoutFormModel;\r\n\r\n\r\nexport default [\r\n  Yup.object().shape({\r\n    [firstName.name]: Yup.string().required(`${firstName.requiredErrorMsg}`),\r\n\r\n    [zipcode.name]: Yup.string()\r\n      .required(`${zipcode.requiredErrorMsg}`),\r\n  }),\r\n\r\n];\r\n","import checkoutFormModel from './checkoutFormModel';\r\nconst {\r\n  formField: {\r\n    firstName,\r\n    lastName,\r\n    address1,\r\n    city,\r\n    state,\r\n    zipcode,\r\n    country,\r\n    useAddressForPaymentDetails,\r\n    nameOnCard,\r\n    cardNumber,\r\n    cvv\r\n  }\r\n} = checkoutFormModel;\r\n\r\nexport default {\r\n  [firstName.name]: '',\r\n  [lastName.name]: '',\r\n  [address1.name]: '',\r\n  [city.name]: '',\r\n  [state.name]: '',\r\n  [zipcode.name]: '',\r\n  [country.name]: '',\r\n  [useAddressForPaymentDetails.name]: false,\r\n  [nameOnCard.name]: '',\r\n  [cardNumber.name]: '',\r\n  [cvv.name]: ''\r\n};\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nexport default makeStyles(theme => ({\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5)\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end'\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1)\r\n  },\r\n  wrapper: {\r\n    margin: theme.spacing(1),\r\n    position: 'relative'\r\n  },\r\n  buttonProgress: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%'\r\n  }\r\n}));\r\n","import CheckoutPage from './CheckoutPage';\r\nexport default CheckoutPage;\r\n","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  Button,\r\n  Typography,\r\n  CircularProgress,\r\n} from \"@material-ui/core\";\r\nimport { Formik, Form } from \"formik\";\r\n\r\nimport AddressForm from \"./Forms/AddressForm\";\r\nimport PaymentForm from \"./Forms/PaymentForm\";\r\nimport ReviewOrder from \"./ReviewOrder\";\r\nimport CheckoutSuccess from \"./CheckoutSuccess\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { toast } from \"react-toastify\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nimport validationSchema from \"./FormModel/validationSchema\";\r\nimport checkoutFormModel from \"./FormModel/checkoutFormModel\";\r\nimport formInitialValues from \"./FormModel/formInitialValues\";\r\n\r\nimport useStyles from \"./styles\";\r\n\r\nexport default function CheckoutPage(props) {\r\n  const steps = [\"Dados\", \"Personalizar\", \"Revisar\"];\r\n  const { formId, formField } = checkoutFormModel;\r\n\r\n  const classes = useStyles();\r\n  const [activeStep, setActiveStep] = useState(1);\r\n  const [datePayment, setDatePayment] = useState(null);\r\n  const [invoiceId, setinvoiceId] = useState(props.Invoice.id);\r\n  const currentValidationSchema = validationSchema[activeStep];\r\n  const isLastStep = activeStep === steps.length - 1;\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  function _renderStepContent(step, setFieldValue, setActiveStep, values) {\r\n\r\n    switch (step) {\r\n      case 0:\r\n        return <AddressForm formField={formField} values={values} setFieldValue={setFieldValue} />;\r\n      case 1:\r\n        return <PaymentForm\r\n          formField={formField}\r\n          setFieldValue={setFieldValue}\r\n          setActiveStep={setActiveStep}\r\n          activeStep={step}\r\n          invoiceId={invoiceId}\r\n          values={values}\r\n        />;\r\n      case 2:\r\n        return <ReviewOrder />;\r\n      default:\r\n        return <div>Not Found</div>;\r\n    }\r\n  }\r\n\r\n  async function _submitForm(values, actions) {\r\n    try {\r\n      const plan = JSON.parse(values.plan);\r\n      const newValues = {\r\n        firstName: values.firstName,\r\n        lastName: values.lastName,\r\n        address2: values.address2,\r\n        city: values.city,\r\n        state: values.state,\r\n        zipcode: values.zipcode,\r\n        country: values.country,\r\n        useAddressForPaymentDetails: values.useAddressForPaymentDetails,\r\n        nameOnCard: values.nameOnCard,\r\n        cardNumber: values.cardNumber,\r\n        cvv: values.cvv,\r\n        plan: values.plan,\r\n        price: plan.price,\r\n        users: plan.users,\r\n        connections: plan.connections,\r\n        invoiceId: invoiceId\r\n      }\r\n\r\n      const { data } = await api.post(\"/subscription\", newValues);\r\n      setDatePayment(data)\r\n      actions.setSubmitting(false);\r\n      setActiveStep(activeStep + 1);\r\n      toast.success(\"Assinatura realizada com sucesso!, aguardando a realização do pagamento\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }\r\n\r\n  function _handleSubmit(values, actions) {\r\n    if (isLastStep) {\r\n      _submitForm(values, actions);\r\n    } else {\r\n      setActiveStep(activeStep + 1);\r\n      actions.setTouched({});\r\n      actions.setSubmitting(false);\r\n    }\r\n  }\r\n\r\n  function _handleBack() {\r\n    setActiveStep(activeStep - 1);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography component=\"h1\" variant=\"h4\" align=\"center\">\r\n        Falta pouco!\r\n      </Typography>\r\n      <Stepper activeStep={activeStep} className={classes.stepper}>\r\n        {steps.map((label) => (\r\n          <Step key={label}>\r\n            <StepLabel>{label}</StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n      <React.Fragment>\r\n        {activeStep === steps.length ? (\r\n          <CheckoutSuccess pix={datePayment} />\r\n        ) : (\r\n          <Formik\r\n            initialValues={{\r\n              ...user,\r\n              ...formInitialValues\r\n            }}\r\n            validationSchema={currentValidationSchema}\r\n            onSubmit={_handleSubmit}\r\n          >\r\n            {({ isSubmitting, setFieldValue, values }) => (\r\n              <Form id={formId}>\r\n                {_renderStepContent(activeStep, setFieldValue, setActiveStep, values)}\r\n\r\n                <div className={classes.buttons}>\r\n                  {activeStep !== 1 && activeStep !== 0 && (\r\n                    <Button onClick={_handleBack} className={classes.button}>\r\n                      VOLTAR\r\n                    </Button>\r\n                  )}\r\n                  <div className={classes.wrapper}>\r\n                    {activeStep !== 1 && (\r\n                      <Button\r\n                        disabled={isSubmitting}\r\n                        type=\"submit\"\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.button}\r\n                      >\r\n                        {isLastStep ? \"PAGAR\" : \"PRÓXIMO\"}\r\n                      </Button>\r\n                    )}\r\n                    {isSubmitting && (\r\n                      <CircularProgress\r\n                        size={24}\r\n                        className={classes.buttonProgress}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        )}\r\n      </React.Fragment>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useEffect, useRef } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport CheckoutPage from \"../CheckoutPage\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\n\r\nconst ContactModal = ({ open, onClose, Invoice, contactId, initialValues, onSave }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog open={open} onClose={handleClose} maxWidth=\"md\" scroll=\"paper\">\r\n        <DialogContent dividers>\r\n          <CheckoutPage\r\n            Invoice={Invoice}\r\n          />\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactModal;\r\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\r\nimport api from \"../../services/api\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport moment from \"moment\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\n\r\n// Novo componente \"Invoice\"\r\nconst Invoice = ({ invoice, onPayClick }) => {\r\n  const handlePayClick = () => {\r\n    // Aqui você pode abrir o link da fatura com base no \"invoice.detail\"\r\n    // Certifique-se de que \"invoice.detail\" contenha o URL correto da fatura.\r\n    // Exemplo:\r\n    window.open(invoice.linkInvoice, \"_blank\");\r\n  };\r\n\r\n  return (\r\n    <TableRow key={invoice.id}>\r\n      <TableCell align=\"center\">{invoice.detail}</TableCell>\r\n      <TableCell align=\"center\">{invoice.users}</TableCell>\r\n      <TableCell align=\"center\">{invoice.connections}</TableCell>\r\n      <TableCell align=\"center\">\r\n        {moment(invoice.dueDate).format(\"DD/MM/YYYY\")}\r\n      </TableCell> {/* Adicione esta coluna para a data de vencimento */}\r\n      <TableCell align=\"center\">\r\n        {invoice.value ? invoice.value.toLocaleString(\"pt-br\", {\r\n          style: \"currency\",\r\n          currency: \"BRL\",\r\n        }) : 'N/A'}\r\n      </TableCell>\r\n      <TableCell align=\"center\">\r\n        {invoice.status !== \"Pago\" ? (\r\n          <Button\r\n            size=\"small\"\r\n            variant=\"outlined\"\r\n            color=\"secondary\"\r\n            onClick={handlePayClick}\r\n          >\r\n            PAGAR\r\n          </Button>\r\n        ) : (\r\n          <Button size=\"small\" variant=\"outlined\">\r\n            PAGO\r\n          </Button>\r\n        )}\r\n      </TableCell>\r\n    </TableRow>\r\n  );\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_INVOICES\") {\r\n    const invoices = action.payload;\r\n    const newUsers = [];\r\n\r\n    invoices.forEach((user) => {\r\n      const userIndex = state.findIndex((u) => u.id === user.id);\r\n      if (userIndex !== -1) {\r\n        state[userIndex] = user;\r\n      } else {\r\n        newUsers.push(user);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newUsers];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_USERS\") {\r\n    const user = action.payload;\r\n    const userIndex = state.findIndex((u) => u.id === user.id);\r\n\r\n    if (userIndex !== -1) {\r\n      state[userIndex] = user;\r\n      return [...state];\r\n    } else {\r\n      return [user, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_USER\") {\r\n    const userId = action.payload;\r\n\r\n    const userIndex = state.findIndex((u) => u.id === userId);\r\n    if (userIndex !== -1) {\r\n      state.splice(userIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Invoices = () => {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [invoices, dispatch] = useReducer(reducer, []);\r\n  const [storagePlans, setStoragePlans] = React.useState([]);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const handleOpenContactModal = (invoices) => {\r\n    setStoragePlans(invoices);\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchInvoices = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/invoices\", {\r\n            params: { searchParam, pageNumber },\r\n          });\r\n\r\n          dispatch({ type: \"LOAD_INVOICES\", payload: data.invoices });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchInvoices();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber]);\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <SubscriptionModal\r\n        open={contactModalOpen}\r\n        onClose={handleCloseContactModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        Invoice={storagePlans}\r\n        contactId={selectedContactId}\r\n      ></SubscriptionModal>\r\n      {user.profile === \"user\" ?\r\n        <ForbiddenPage />\r\n        :\r\n        <>\r\n          <MainHeader>\r\n            <Title>Faturas ({invoices.length})</Title>\r\n          </MainHeader>\r\n          <Paper\r\n            className={classes.mainPaper}\r\n            variant=\"outlined\"\r\n            onScroll={handleScroll}\r\n          >\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell align=\"center\">Detalhes</TableCell>\r\n                  <TableCell align=\"center\">Usuários</TableCell>\r\n                  <TableCell align=\"center\">Conexões</TableCell>\r\n                  <TableCell align=\"center\">Vencimento</TableCell> {/* Adicione esta coluna */}\r\n                  <TableCell align=\"center\">Valor</TableCell>\r\n                  <TableCell align=\"center\">Ação</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <>\r\n                  {invoices.map((invoice) => (\r\n                    <Invoice\r\n                      key={invoice.id}\r\n                      invoice={invoice}\r\n                    />\r\n                  ))}\r\n                  {loading && <TableRowSkeleton columns={6} />}\r\n                </>\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        </>}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Invoices;","import { createContext } from \"react\";\r\nimport openSocket from \"socket.io-client\";\r\n// import config from \"../../services/config\";\r\n\r\nconst socketManager = {\r\n\tcurrentSocket: null,\r\n\r\n\tGetSocket: function () {\r\n\t\tconst publicToken = localStorage.getItem(\"public-token\");\r\n\r\n\t\tif (publicToken !== this.currentToken) {\r\n\t\t\tif (this.currentSocket) {\r\n\t\t\t\tthis.currentSocket.disconnect();\r\n\t\t\t}\r\n\r\n\t\t\tthis.currentToken = publicToken;\r\n\t\t\tthis.currentSocket = openSocket(process.env.REACT_APP_BACKEND_URL, {\r\n\t\t\t\ttransports: [\"websocket\"],\r\n\t\t\t\tpingTimeout: 18000,\r\n\t\t\t\tpingInterval: 18000,\r\n\t\t\t\tquery: publicToken ? { token: publicToken } : {},\r\n\t\t\t\t// auth: publicToken ? { token: publicToken } : {},\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this.currentSocket;\r\n\t},\r\n\r\n\tonConnect: function (callbackConnect) {\r\n\t\tif (this.currentSocket && this.currentSocket.connected) {\r\n\t\t\tcallbackConnect();\r\n\t\t}\r\n\t\tthis.currentSocket.on(\"connect\", callbackConnect);\r\n\t},\r\n};\r\n\r\nconst SocketContext = createContext()\r\n\r\nexport { SocketContext, socketManager };\r\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport { AccountCircle } from \"@material-ui/icons\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport whatsappIcon from '../../assets/nopicture.png'\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport UserModal from \"../../components/UserModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { SocketContext, socketManager } from \"../../context/Socket/SocketContext\";\r\nimport UserStatusIcon from \"../../components/UserModal/statusIcon\";\r\nimport { getBackendUrl } from \"../../config\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Avatar } from \"@material-ui/core\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\n\r\nconst backendUrl = getBackendUrl();\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_USERS\") {\r\n    const users = action.payload;\r\n    const newUsers = [];\r\n\r\n    users.forEach((user) => {\r\n      const userIndex = state.findIndex((u) => u.id === user.id);\r\n      if (userIndex !== -1) {\r\n        state[userIndex] = user;\r\n      } else {\r\n        newUsers.push(user);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newUsers];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_USERS\") {\r\n    const user = action.payload;\r\n    const userIndex = state.findIndex((u) => u.id === user.id);\r\n\r\n    if (userIndex !== -1) {\r\n      state[userIndex] = user;\r\n      return [...state];\r\n    } else {\r\n      return [user, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_USER\") {\r\n    const userId = action.payload;\r\n\r\n    const userIndex = state.findIndex((u) => u.id === userId);\r\n    if (userIndex !== -1) {\r\n      state.splice(userIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  userAvatar: {\r\n    width: theme.spacing(6),\r\n    height: theme.spacing(6),\r\n  },\r\n  avatarDiv: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  loadingContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(3),\r\n  },\r\n  loadingText: {\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst Users = () => {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingMore, setLoadingMore] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [deletingUser, setDeletingUser] = useState(null);\r\n  const [userModalOpen, setUserModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [users, dispatch] = useReducer(reducer, []);\r\n  const { user: loggedInUser, socket } = useContext(AuthContext)\r\n  const { profileImage } = loggedInUser;\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const { data } = await api.get(\"/users/\", {\r\n          params: { searchParam, pageNumber },\r\n        });\r\n        dispatch({ type: \"LOAD_USERS\", payload: data.users });\r\n        setHasMore(data.hasMore);\r\n      } catch (err) {\r\n        toastError(err);\r\n      } finally {\r\n        setLoading(false);\r\n        setLoadingMore(false);\r\n      }\r\n    };\r\n    fetchUsers();\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    if (loggedInUser) {\r\n      const companyId = loggedInUser.companyId;\r\n      const onCompanyUser = (data) => {\r\n        if (data.action === \"update\" || data.action === \"create\") {\r\n          dispatch({ type: \"UPDATE_USERS\", payload: data.user });\r\n        }\r\n        if (data.action === \"delete\") {\r\n          dispatch({ type: \"DELETE_USER\", payload: +data.userId });\r\n        }\r\n      };\r\n      socket.on(`company-${companyId}-user`, onCompanyUser);\r\n      return () => {\r\n        socket.off(`company-${companyId}-user`, onCompanyUser);\r\n      };\r\n    }\r\n  }, [socket]);\r\n\r\n  const handleOpenUserModal = () => {\r\n    setSelectedUser(null);\r\n    setUserModalOpen(true);\r\n  };\r\n\r\n  const handleCloseUserModal = () => {\r\n    setSelectedUser(null);\r\n    setUserModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditUser = (user) => {\r\n    setSelectedUser(user);\r\n    setUserModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteUser = async (userId) => {\r\n    try {\r\n      await api.delete(`/users/${userId}`);\r\n      toast.success(i18n.t(\"users.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingUser(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setLoadingMore(true);\r\n    setPageNumber((prevPage) => prevPage + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const renderProfileImage = (user) => {\r\n    if (user.id === loggedInUser.id) {\r\n      return (\r\n        <Avatar\r\n          src={`${backendUrl}/public/company${user.companyId}/user/${profileImage ? profileImage : whatsappIcon}`}\r\n          alt={user.name}\r\n          className={classes.userAvatar}\r\n        />\r\n      )\r\n    }\r\n    if (user.id !== loggedInUser.id) {\r\n      return (\r\n        <Avatar\r\n          src={user.profileImage ? `${backendUrl}/public/company${user.companyId}/user/${user.profileImage}` : whatsappIcon}\r\n          alt={user.name}\r\n          className={classes.userAvatar}\r\n        />\r\n      )\r\n    }\r\n    return (\r\n      <AccountCircle />\r\n    )\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingUser &&\r\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${deletingUser.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={() => setConfirmModalOpen(false)}\r\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\r\n      >\r\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <UserModal\r\n        open={userModalOpen}\r\n        onClose={handleCloseUserModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        userId={selectedUser && selectedUser.id}\r\n      />\r\n      {loggedInUser.profile === \"user\" ?\r\n        <ForbiddenPage />\r\n        :\r\n        <>\r\n          <MainHeader>\r\n            <Title>{i18n.t(\"users.title\")} ({users.length})</Title>\r\n            <MainHeaderButtonsWrapper>\r\n              <TextField\r\n                placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n                type=\"search\"\r\n                value={searchParam}\r\n                onChange={handleSearch}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <SearchIcon style={{ color: \"gray\" }} />\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleOpenUserModal}\r\n              >\r\n                {i18n.t(\"users.buttons.add\")}\r\n              </Button>\r\n            </MainHeaderButtonsWrapper>\r\n          </MainHeader>\r\n          <Paper\r\n            className={classes.mainPaper}\r\n            variant=\"outlined\"\r\n            onScroll={handleScroll}\r\n          >\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell align=\"center\">{i18n.t(\"users.table.ID\")}</TableCell>\r\n                  <TableCell align=\"center\">{i18n.t(\"users.table.status\")}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    Avatar\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">{i18n.t(\"users.table.name\")}</TableCell>\r\n                  <TableCell align=\"center\">{i18n.t(\"users.table.email\")}</TableCell>\r\n                  <TableCell align=\"center\">{i18n.t(\"users.table.profile\")}</TableCell>\r\n                  <TableCell align=\"center\">{i18n.t(\"users.table.startWork\")}</TableCell>\r\n                  <TableCell align=\"center\">{i18n.t(\"users.table.endWork\")}</TableCell>\r\n                  <TableCell align=\"center\">{i18n.t(\"users.table.actions\")}</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <>\r\n                  {users.map((user) => (\r\n                    <TableRow key={user.id}>\r\n                      <TableCell align=\"center\">{user.id}</TableCell>\r\n                      <TableCell align=\"center\"><UserStatusIcon user={user} /></TableCell>\r\n                      <TableCell align=\"center\" >\r\n                        <div className={classes.avatarDiv}>\r\n                          {renderProfileImage(user)}\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">{user.name}</TableCell>\r\n                      <TableCell align=\"center\">{user.email}</TableCell>\r\n                      <TableCell align=\"center\">{user.profile}</TableCell>\r\n                      <TableCell align=\"center\">{user.startWork}</TableCell>\r\n                      <TableCell align=\"center\">{user.endWork}</TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => handleEditUser(user)}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={(e) => {\r\n                            setConfirmModalOpen(true);\r\n                            setDeletingUser(user);\r\n                          }}\r\n                        >\r\n                          <DeleteOutlineIcon />\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  {loadingMore && (\r\n                    <TableRow>\r\n                      <TableCell colSpan={9} align=\"center\">\r\n                        <CircularProgress />\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  )}\r\n                </>\r\n              </TableBody>\r\n            </Table>\r\n            {loading && !loadingMore && (\r\n              <div className={classes.loadingContainer}>\r\n                <CircularProgress />\r\n                <span className={classes.loadingText}>{i18n.t(\"loading\")}</span>\r\n              </div>\r\n            )}\r\n          </Paper>\r\n        </>\r\n      }\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport { Dialog, DialogTitle, DialogActions, Button, Box, } from '@material-ui/core';\r\nimport { i18n } from '../../translate/i18n';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport api from \"../../services/api\";\r\nimport { Can } from \"../Can\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport * as XLSX from \"xlsx\";\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport toastError from '../../errors/toastError';\r\nconst useStyles = makeStyles((theme) => ({\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    // \"& > *:not(:last-child)\": {\r\n    //   marginRight: theme.spacing(1),\r\n    // },\r\n    marginTop: 8,\r\n  },\r\n  uploadInput: {\r\n    display: \"none\",\r\n  },\r\n\r\n  btns: {\r\n\r\n    margin: 15,\r\n\r\n  },\r\n  label: {\r\n    padding: 18,\r\n    width: \"100%\",\r\n    textTransform: 'uppercase',\r\n    display: 'block',\r\n    marginTop: 10,\r\n    border: \"solid 2px grey\",\r\n    textAlign: 'center',\r\n    cursor: 'pointer',\r\n    borderRadius: 8\r\n\r\n  },\r\n\r\n}));\r\n\r\nconst ContactImportWpModal = ({ isOpen, handleClose, selectedTags, hideNum, userProfile }) => {\r\n  const classes = useStyles();\r\n  const { user } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const initialContact = { name: \"\", number: \"\", error: \"\" }\r\n\r\n  const [contactsToImport, setContactsToImport] = useState([])\r\n  const [statusMessage, setStatusMessage] = useState(\"\")\r\n  const [currentContact, setCurrentContact] = useState(initialContact)\r\n\r\n  const handleClosed = () => {\r\n    setContactsToImport([])\r\n    setStatusMessage(\"\")\r\n    setCurrentContact(initialContact)\r\n    handleClose()\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (contactsToImport?.length) {\r\n      contactsToImport.map(async (item, index) => {\r\n        setTimeout(async () => {\r\n          try {\r\n            if (index >= contactsToImport?.length - 1) {\r\n              setStatusMessage(`importação concluída com exito a importação`)\r\n              //setContactsToImport([])\r\n              setCurrentContact(initialContact)\r\n\r\n              setTimeout(() => {\r\n                handleClosed()\r\n              }, 15000);\r\n            }\r\n            if (index % 5 === 0) {\r\n\r\n              setStatusMessage(`importação em andamento ${index} de ${contactsToImport?.length} não saia desta tela até concluir a importação`)\r\n              // toast.info(\r\n              // );\r\n            }\r\n            await api.post(`/contactsImport`, {\r\n              name: item.name,\r\n              number: item.number.toString(),\r\n              email: item.email,\r\n            });\r\n\r\n            setCurrentContact({ name: item.name, number: item.number, error: \"success\" })\r\n          } catch (err) {\r\n            setCurrentContact({ name: item.name, number: item.number, error: err })\r\n          }\r\n        }, 330 * index);\r\n      });\r\n    }\r\n  }, [contactsToImport]);\r\n\r\n  const handleOnExportContacts = async (model = false) => {\r\n    const allDatas = []; //const { data } = await api.get(\"/contacts\");\r\n\r\n    let i = 1;\r\n    if (!model) {\r\n      while (i !== 0) {\r\n        const { data } = await api.get(\"/contacts/\", {\r\n          params: { searchParam: \"\", pageNumber: i, contactTag: JSON.stringify(selectedTags) },\r\n        });\r\n        data.contacts.forEach((element) => {\r\n          const tagsContact = element?.tags?.map(tag => tag?.name).join(', '); // Concatenando as tags com vírgula\r\n          const contactWithTags = { ...element, tags: tagsContact }; // Substituindo as tags pelo valor concatenado\r\n          allDatas.push(contactWithTags);\r\n        });\r\n\r\n        const pages = data?.count / 20;\r\n        i++;\r\n        if (i > pages) {\r\n          i = 0;\r\n        }\r\n      }\r\n    } else {\r\n      allDatas.push({\r\n        name: \"João\",\r\n        number: \"5599999999999\",\r\n        email: \"\",\r\n      });\r\n    }\r\n\r\n    const exportData = allDatas.map((e) => {\r\n      return { name: e.name, number: (hideNum && userProfile === \"user\" ? e.isGroup ? e.number : e.number.slice(0, -6) + \"**-**\" + e.number.slice(-2) : e.number), email: e.email, tags: e.tags };\r\n    });\r\n    let wb = XLSX.utils.book_new();\r\n    let ws = XLSX.utils.json_to_sheet(exportData);\r\n    XLSX.utils.book_append_sheet(wb, ws, \"Contatos\");\r\n    XLSX.writeFile(wb, \"backup_contatos.xlsx\");\r\n  };\r\n\r\n  const handleImportChange = (e) => {\r\n    const [file] = e.target.files;\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = (evt) => {\r\n      try {\r\n        const bstr = evt.target.result;\r\n        const wb = XLSX.read(bstr, { type: \"binary\" });\r\n        const wsname = wb.SheetNames[0];\r\n        const ws = wb.Sheets[wsname];\r\n        const data = XLSX.utils.sheet_to_json(ws);\r\n        setContactsToImport(data)\r\n      } catch (err) {\r\n        console.log(err);\r\n        setContactsToImport([]);\r\n      }\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  };\r\n  const handleimportContact = async () => {\r\n    try {\r\n      history.push('/contacts/import');\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog fullWidth open={isOpen} onClose={handleClosed}>\r\n      <DialogTitle>{i18n.t(\"Exportar / Importar contatos\")}</DialogTitle>\r\n      <div>\r\n        <Box style={{ padding: \"0px 10px 10px\" }} >\r\n          <Can\r\n            role={user.profile}\r\n            perform=\"contacts-page:deleteContact\"\r\n            yes={() => (\r\n              <div className={classes.multFieldLine}>\r\n                <Button\r\n                  fullWidth\r\n                  size=\"small\"\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  onClick={() => handleOnExportContacts(false)}\r\n                >\r\n                  {i18n.t(\"contactImportWpModal.title\")}\r\n                </Button>\r\n              </div>\r\n            )}\r\n          />\r\n          <div className={classes.multFieldLine}>\r\n            <Button\r\n              fullWidth\r\n              size=\"small\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              onClick={() => handleOnExportContacts(true)}\r\n            >\r\n              {i18n.t(\"contactImportWpModal.buttons.downloadModel\")}\r\n            </Button>\r\n          </div>\r\n          <div className={classes.multFieldLine}>\r\n            <Button\r\n              fullWidth\r\n              size=\"small\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              onClick={() => handleimportContact()}\r\n            >\r\n              {i18n.t(\"contactImportWpModal.buttons.import\")}\r\n            </Button>\r\n          </div>\r\n          {/* <div className={classes.multFieldLine}>\r\n            <div style={{ minWidth: \"100%\" }}>\r\n              {contactsToImport?.length ?\r\n                <>\r\n                  <div className={classes.label}>\r\n                    <h4>{statusMessage}</h4>\r\n                    {currentContact?.name ?\r\n                      <Button\r\n                        fullWidth\r\n                        disabled\r\n                        size=\"small\"\r\n                        color={currentContact?.error === \"success\" ? \"primary\" : \"error\"}\r\n                        variant=\"text\"\r\n                      >\r\n                        {`${currentContact?.name} => ${currentContact?.number} `}\r\n                      </Button>\r\n                      : <></>}\r\n                  </div>\r\n                </> :\r\n                <>\r\n                  <label className={classes.label} htmlFor=\"contacts\"> <AttachFileIcon /> <div> {i18n.t(\"contactImportWpModal.buttons.import\")}</div> </label>\r\n                  <input className={classes.uploadInput} name='contacts' id='contacts' type=\"file\" accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\r\n                    onChange={handleImportChange}\r\n                  />\r\n                </>\r\n              }\r\n            </div>\r\n          </div> */}\r\n        </Box>\r\n      </div>\r\n\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          {i18n.t(\"contactImportWpModal.buttons.closed\")}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ContactImportWpModal;\r\n","import React, {\r\n    useState,\r\n    useEffect,\r\n    useReducer,\r\n    useContext,\r\n    useRef,\r\n} from \"react\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport BlockIcon from \"@material-ui/icons/Block\";\r\n\r\nimport api from \"../../services/api\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport ContactModal from \"../../components/ContactModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../../components/Can\";\r\nimport NewTicketModal from \"../../components/NewTicketModal\";\r\nimport { TagsFilter } from \"../../components/TagsFilter\";\r\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\r\nimport formatSerializedId from '../../utils/formatSerializedId';\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport {\r\n    ArrowDropDown,\r\n    Backup,\r\n    ContactPhone,\r\n} from \"@material-ui/icons\";\r\nimport { Menu, MenuItem } from \"@material-ui/core\";\r\n\r\nimport ContactImportWpModal from \"../../components/ContactImportWpModal\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\n\r\nconst reducer = (state, action) => {\r\n    if (action.type === \"LOAD_CONTACTS\") {\r\n        const contacts = action.payload;\r\n        const newContacts = [];\r\n\r\n        contacts.forEach((contact) => {\r\n            const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n            if (contactIndex !== -1) {\r\n                state[contactIndex] = contact;\r\n            } else {\r\n                newContacts.push(contact);\r\n            }\r\n        });\r\n\r\n        return [...state, ...newContacts];\r\n    }\r\n\r\n    if (action.type === \"UPDATE_CONTACTS\") {\r\n        const contact = action.payload;\r\n        const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n\r\n        if (contactIndex !== -1) {\r\n            state[contactIndex] = contact;\r\n            return [...state];\r\n        } else {\r\n            return [contact, ...state];\r\n        }\r\n    }\r\n\r\n    if (action.type === \"DELETE_CONTACT\") {\r\n        const contactId = action.payload;\r\n\r\n        const contactIndex = state.findIndex((c) => c.id === contactId);\r\n        if (contactIndex !== -1) {\r\n            state.splice(contactIndex, 1);\r\n        }\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"RESET\") {\r\n        return [];\r\n    }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    mainPaper: {\r\n        flex: 1,\r\n        padding: theme.spacing(1),\r\n        overflowY: \"scroll\",\r\n        ...theme.scrollbarStyles,\r\n    },\r\n}));\r\n\r\nconst Contacts = () => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n    //   const socketManager = useContext(SocketContext);\r\n    const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [pageNumber, setPageNumber] = useState(1);\r\n    const [searchParam, setSearchParam] = useState(\"\");\r\n    const [contacts, dispatch] = useReducer(reducer, []);\r\n    const [selectedContactId, setSelectedContactId] = useState(null);\r\n    const [contactModalOpen, setContactModalOpen] = useState(false);\r\n\r\n    const [importContactModalOpen, setImportContactModalOpen] = useState(false);\r\n    const [deletingContact, setDeletingContact] = useState(null);\r\n    const [ImportContacts, setImportContacts] = useState(null);\r\n    \r\n    const [blockingContact, setBlockingContact] = useState(null);\r\n    const [unBlockingContact, setUnBlockingContact] = useState(null);\r\n    const [confirmOpen, setConfirmOpen] = useState(false);\r\n    const [exportContact, setExportContact] = useState(false);\r\n    const [confirmChatsOpen, setConfirmChatsOpen] = useState(false);\r\n    const [hasMore, setHasMore] = useState(false);\r\n    const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\r\n    const [contactTicket, setContactTicket] = useState({});\r\n    const fileUploadRef = useRef(null);\r\n    const [selectedTags, setSelectedTags] = useState([]);\r\n    const { setCurrentTicket } = useContext(TicketsContext);\r\n\r\n    const [importWhatsappId, setImportWhatsappId] = useState()\r\n\r\n\r\n    const { getAll: getAllSettings } = useCompanySettings();\r\n    const [hideNum, setHideNum] = useState(false);\r\n    const [enableLGPD, setEnableLGPD] = useState(false);\r\n    useEffect(() => {\r\n\r\n        async function fetchData() {\r\n\r\n            const settingList = await getAllSettings(user.companyId);\r\n\r\n            for (const [key, value] of Object.entries(settingList)) {\r\n                \r\n                if (key === \"enableLGPD\") setEnableLGPD(value === \"enabled\");\r\n                if (key === \"lgpdHideNumber\") setHideNum(value === \"enabled\");\r\n                \r\n              }\r\n\r\n            // if (settingHideNumber.lgpdHideNumber === \"enabled\") {\r\n            //     setHideNum(true);\r\n            // }\r\n        }\r\n        fetchData();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    const handleImportExcel = async () => {\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append(\"file\", fileUploadRef.current.files[0]);\r\n            await api.request({\r\n                url: `/contacts/upload`,\r\n                method: \"POST\",\r\n                data: formData,\r\n            });\r\n            history.go(0);\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: \"RESET\" });\r\n        setPageNumber(1);\r\n    }, [searchParam, selectedTags]);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        const delayDebounceFn = setTimeout(() => {\r\n            const fetchContacts = async () => {\r\n                try {\r\n                    const { data } = await api.get(\"/contacts/\", {\r\n                        params: { searchParam, pageNumber, contactTag: JSON.stringify(selectedTags) },\r\n                    });\r\n                    dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\r\n                    setHasMore(data.hasMore);\r\n                    setLoading(false);\r\n                } catch (err) {\r\n                    toastError(err);\r\n                }\r\n            };\r\n            fetchContacts();\r\n        }, 500);\r\n        return () => clearTimeout(delayDebounceFn);\r\n    }, [searchParam, pageNumber, selectedTags]);\r\n\r\n    useEffect(() => {\r\n        const companyId = user.companyId;\r\n        //    const socket = socketManager.GetSocket();\r\n\r\n        const onContactEvent = (data) => {\r\n            if (data.action === \"update\" || data.action === \"create\") {\r\n                dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\r\n            }\r\n\r\n            if (data.action === \"delete\") {\r\n                dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\r\n            }\r\n        };\r\n        socket.on(`company-${companyId}-contact`, onContactEvent);\r\n\r\n        return () => {\r\n            socket.off(`company-${companyId}-contact`, onContactEvent);\r\n        };\r\n    }, [socket]);\r\n\r\n    const handleSelectTicket = (ticket) => {\r\n        const code = uuidv4();\r\n        const { id, uuid } = ticket;\r\n        setCurrentTicket({ id, uuid, code });\r\n    }\r\n\r\n    const handleCloseOrOpenTicket = (ticket) => {\r\n        setNewTicketModalOpen(false);\r\n        if (ticket !== undefined && ticket.uuid !== undefined) {\r\n            handleSelectTicket(ticket);\r\n            history.push(`/tickets/${ticket.uuid}`);\r\n        }\r\n    };\r\n\r\n    const handleSelectedTags = (selecteds) => {\r\n        const tags = selecteds.map((t) => t.id);\r\n        setSelectedTags(tags);\r\n    };\r\n\r\n    const handleSearch = (event) => {\r\n        setSearchParam(event.target.value.toLowerCase());\r\n    };\r\n\r\n    const handleOpenContactModal = () => {\r\n        setSelectedContactId(null);\r\n        setContactModalOpen(true);\r\n    };\r\n\r\n    const handleCloseContactModal = () => {\r\n        setSelectedContactId(null);\r\n        setContactModalOpen(false);\r\n    };\r\n\r\n    const hadleEditContact = (contactId) => {\r\n        setSelectedContactId(contactId);\r\n        setContactModalOpen(true);\r\n    };\r\n\r\n    const handleDeleteContact = async (contactId) => {\r\n        try {\r\n            await api.delete(`/contacts/${contactId}`);\r\n            toast.success(i18n.t(\"contacts.toasts.deleted\"));\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        setDeletingContact(null);\r\n        setSearchParam(\"\");\r\n        setPageNumber(1);\r\n    };\r\n\r\n    const handleBlockContact = async (contactId) => {\r\n        try {\r\n            await api.put(`/contacts/block/${contactId}`, { active: false });\r\n            toast.success(\"Contato bloqueado\");\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        setDeletingContact(null);\r\n        setSearchParam(\"\");\r\n        setPageNumber(1);\r\n        setBlockingContact(null);\r\n    };\r\n\r\n    const handleUnBlockContact = async (contactId) => {\r\n        try {\r\n            await api.put(`/contacts/block/${contactId}`, { active: true });\r\n            toast.success(\"Contato desbloqueado\");\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        setDeletingContact(null);\r\n        setSearchParam(\"\");\r\n        setPageNumber(1);\r\n        setUnBlockingContact(null);\r\n    };\r\n\r\n    const onSave = (whatsappId) => {\r\n        setImportWhatsappId(whatsappId)\r\n    }\r\n\r\n\r\n    const handleimportContact = async () => {\r\n        setImportContactModalOpen(false)\r\n\r\n        try {\r\n            await api.post(\"/contacts/import\", { whatsappId: importWhatsappId });\r\n            history.go(0);\r\n            setImportContactModalOpen(false);\r\n        } catch (err) {\r\n            toastError(err);\r\n            setImportContactModalOpen(false);\r\n        }\r\n    };\r\n\r\n    const handleimportChats = async () => {\r\n        try {\r\n            await api.post(\"/contacts/import/chats\");\r\n            history.go(0);\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    const loadMore = () => {\r\n        setPageNumber((prevState) => prevState + 1);\r\n    };\r\n\r\n    const handleScroll = (e) => {\r\n        if (!hasMore || loading) return;\r\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n            loadMore();\r\n        }\r\n    };\r\n\r\n    // function getDateLastMessage(contact) {\r\n    //     if (!contact) return null;\r\n    //     if (!contact.tickets) return null;\r\n\r\n    //     if (contact.tickets.length > 0) {\r\n    //         const date = new Date(contact.tickets[contact.tickets.length - 1].updatedAt);\r\n\r\n    //         const day = date.getDate() > 9 ? date.getDate() : `0${date.getDate()}`;\r\n    //         const month = date.getMonth() + 1 > 9 ? date.getMonth() + 1 : `0${date.getMonth() + 1}`;\r\n    //         const year = date.getFullYear();\r\n    //         const hours = date.getHours() > 9 ? date.getHours() : `0${date.getHours()}`;\r\n    //         const minutes = date.getMinutes() > 9 ? date.getMinutes() : `0${date.getMinutes()}`;\r\n\r\n    //         return `${day}/${month}/${year} ${hours}:${minutes}`;\r\n    //     }\r\n\r\n    //     return null;\r\n    // }\r\n\r\n\r\n    return (\r\n\r\n        <MainContainer className={classes.mainContainer}>\r\n            <NewTicketModal\r\n                modalOpen={newTicketModalOpen}\r\n                initialContact={contactTicket}\r\n                onClose={(ticket) => {\r\n                    handleCloseOrOpenTicket(ticket);\r\n                }}\r\n            />\r\n            <ContactModal\r\n                open={contactModalOpen}\r\n                onClose={handleCloseContactModal}\r\n                aria-labelledby=\"form-dialog-title\"\r\n                contactId={selectedContactId}\r\n            ></ContactModal>\r\n            {/* <ContactImportModal \r\n                open={ImportContacts}\r\n                onClose={setConfirmOpen}\r\n                onSave={handleimportContact}\r\n            /> */}\r\n            <ConfirmationModal\r\n                title={\r\n                    deletingContact\r\n                        ? `${i18n.t(\r\n                            \"contacts.confirmationModal.deleteTitle\"\r\n                        )} ${deletingContact.name}?`\r\n                        : blockingContact\r\n                            ? `Bloquear Contato ${blockingContact.name}?`\r\n                            : unBlockingContact\r\n                                ? `Desbloquear Contato ${unBlockingContact.name}?`\r\n                                : ImportContacts\r\n                                    ? `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\r\n                                    : `${i18n.t(\"contactListItems.confirmationModal.importTitlte\")}`\r\n                }\r\n                onSave={onSave}\r\n                isCellPhone={ImportContacts}\r\n                open={confirmOpen}\r\n                onClose={setConfirmOpen}\r\n                onConfirm={(e) =>\r\n                    deletingContact\r\n                        ? handleDeleteContact(deletingContact.id)\r\n                        : blockingContact\r\n                            ? handleBlockContact(blockingContact.id)\r\n                            : unBlockingContact\r\n                                ? handleUnBlockContact(unBlockingContact.id)\r\n                                : ImportContacts\r\n                                    ? handleimportContact()\r\n                                    : handleImportExcel()\r\n                }\r\n            >\r\n                {exportContact\r\n                    ?\r\n                    `${i18n.t(\"contacts.confirmationModal.exportContact\")}`\r\n                    : deletingContact\r\n                        ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\r\n                        : blockingContact\r\n                            ? `${i18n.t(\"contacts.confirmationModal.blockContact\")}`\r\n                            : unBlockingContact\r\n                                ? `${i18n.t(\"contacts.confirmationModal.unblockContact\")}`\r\n                                : ImportContacts\r\n                                    ? `Escolha de qual conexão deseja importar`\r\n                                    : `${i18n.t(\r\n                                        \"contactListItems.confirmationModal.importMessage\"\r\n                                    )}`}\r\n            </ConfirmationModal>\r\n            <ConfirmationModal\r\n                title={i18n.t(\"contacts.confirmationModal.importChat\")}\r\n                open={confirmChatsOpen}\r\n                onClose={setConfirmChatsOpen}\r\n                onConfirm={(e) => handleimportChats()}\r\n            >\r\n                {i18n.t(\"contacts.confirmationModal.wantImport\")}\r\n            </ConfirmationModal>\r\n            <MainHeader>\r\n                <Title>{i18n.t(\"contacts.title\")} ({contacts.length})</Title>\r\n                <MainHeaderButtonsWrapper>\r\n                    <TagsFilter\r\n                        onFiltered={handleSelectedTags}\r\n                    />\r\n                    <TextField\r\n                        placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n                        type=\"search\"\r\n                        value={searchParam}\r\n                        onChange={handleSearch}\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                                <InputAdornment position=\"start\">\r\n                                    <SearchIcon color=\"secondary\" />\r\n                                </InputAdornment>\r\n                            ),\r\n                        }}\r\n                    />\r\n                    <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\r\n                        {(popupState) => (\r\n                            <React.Fragment>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    {...bindTrigger(popupState)}\r\n                                >\r\n                                    Importar / Exportar\r\n                                    <ArrowDropDown />\r\n                                </Button>\r\n                                <Menu {...bindMenu(popupState)}>\r\n                                    <MenuItem\r\n                                        onClick={() => {\r\n                                            setConfirmOpen(true);\r\n                                            setImportContacts(true);\r\n                                            popupState.close();\r\n                                        }}\r\n                                    >\r\n                                        <ContactPhone\r\n                                            fontSize=\"small\"\r\n                                            color=\"primary\"\r\n                                            style={{\r\n                                                marginRight: 10,\r\n                                            }}\r\n                                        />\r\n                                        {i18n.t(\"contacts.menu.importYourPhone\")}\r\n                                    </MenuItem>\r\n                                    <MenuItem\r\n                                        onClick={() => { setImportContactModalOpen(true) }}\r\n\r\n                                    >\r\n                                        <Backup\r\n                                            fontSize=\"small\"\r\n                                            color=\"primary\"\r\n                                            style={{\r\n                                                marginRight: 10,\r\n                                            }}\r\n                                        />\r\n                                        {i18n.t(\"contacts.menu.importToExcel\")}\r\n\r\n                                    </MenuItem>\r\n                                    {/* {<MenuItem>\r\n                        \r\n                                       <CSVLink\r\n                                            className={classes.csvbtn}\r\n                                            separator=\";\"\r\n                                            filename={'contacts.csv'}\r\n                                            data={\r\n                                                contacts.map((contact) => ({\r\n                                                    number: hideNum && user.profile === \"user\" ? contact.isGroup ? contact.number : formatSerializedId(contact.number).slice(0,-6)+\"**-**\"+ contact.number.slice(-2): contact.isGroup ? contact.number : formatSerializedId(contact.number),\r\n                                                    firstName: contact.name.split(' ')[0],\r\n                                                    lastname: String(contact.name).replace(contact.name.split(' ')[0],''),\r\n                                                    tags: contact?.tags?.name\r\n                                                }))\r\n\r\n                                            }\r\n                                            \r\n                                            >\r\n                                        \r\n                                        <CloudDownload fontSize=\"small\"\r\n                                            color=\"primary\"\r\n                                            style={{\r\n                                                marginRight: 10,\r\n                                            \r\n                                                }}                                                \r\n                                        />        \r\n                                        Exportar Excel                                \r\n                                   </CSVLink>\r\n                                        \r\n                                    </MenuItem> } */}\r\n                                </Menu>\r\n                            </React.Fragment>\r\n                        )}\r\n                    </PopupState>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={handleOpenContactModal}\r\n                    >\r\n                        {i18n.t(\"contacts.buttons.add\")}\r\n                    </Button>\r\n                </MainHeaderButtonsWrapper>\r\n            </MainHeader>\r\n\r\n            {importContactModalOpen && (\r\n                <ContactImportWpModal\r\n                    isOpen={importContactModalOpen}\r\n                    handleClose={() => setImportContactModalOpen(false)}\r\n                    selectedTags={selectedTags}\r\n                    hideNum={hideNum}\r\n                    userProfile={user.profile}\r\n                />\r\n            )}\r\n            <Paper\r\n                className={classes.mainPaper}\r\n                variant=\"outlined\"\r\n                onScroll={handleScroll}\r\n            >\r\n                <>\r\n                    <input\r\n                        style={{ display: \"none\" }}\r\n                        id=\"upload\"\r\n                        name=\"file\"\r\n                        type=\"file\"\r\n                        accept=\".xls,.xlsx\"\r\n                        onChange={() => {\r\n                            setConfirmOpen(true);\r\n                        }}\r\n                        ref={fileUploadRef}\r\n                    />\r\n                </>\r\n                <Table size=\"small\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell padding=\"checkbox\" />\r\n                            <TableCell>\r\n                                {i18n.t(\"contacts.table.name\")}\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                                {i18n.t(\"contacts.table.whatsapp\")}\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                                {i18n.t(\"contacts.table.email\")}\r\n                            </TableCell>\r\n                            {/* <TableCell align=\"center\">\r\n                                {i18n.t(\"contacts.table.lastMessage\")}\r\n                            </TableCell> */}\r\n                            <TableCell align=\"center\">\r\n                                {i18n.t(\"contacts.table.whatsapp\")}\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">{\"Status\"}</TableCell>\r\n                            <TableCell align=\"center\">\r\n                                {i18n.t(\"contacts.table.actions\")}\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        <>\r\n                            {contacts.map((contact) => (\r\n                                <TableRow key={contact.id}>\r\n                                    <TableCell style={{ paddingRight: 0 }}>\r\n                                        {<Avatar src={`${contact?.urlPicture}`} />}\r\n                                    </TableCell>\r\n                                    <TableCell>{contact.name}</TableCell>\r\n                                    <TableCell align=\"center\">\r\n                                        {((enableLGPD && hideNum && user.profile === \"user\")\r\n                                            ? contact.isGroup\r\n                                                ? contact.number :\r\n                                                formatSerializedId(contact?.number) === null ? contact.number.slice(0, -6) + \"**-**\" + contact?.number.slice(-2) :\r\n                                                    formatSerializedId(contact?.number)?.slice(0, -6) + \"**-**\" + contact?.number?.slice(-2) :\r\n                                                    contact.isGroup ? contact.number : formatSerializedId(contact?.number)\r\n                                        )}\r\n                                    </TableCell>\r\n                                    <TableCell align=\"center\">\r\n                                        {contact.email}\r\n                                    </TableCell>\r\n                                    {/* <TableCell align=\"center\">\r\n                                        {getDateLastMessage(contact)}\r\n                                    </TableCell> */}\r\n                                    <TableCell>{contact?.whatsapp?.name}</TableCell>\r\n                                    <TableCell align=\"center\">\r\n                                        {contact.active ? (\r\n                                            <CheckCircleIcon\r\n                                                style={{ color: \"green\" }}\r\n                                                fontSize=\"small\"\r\n                                            />\r\n                                        ) : (\r\n                                            <CancelIcon\r\n                                                style={{ color: \"red\" }}\r\n                                                fontSize=\"small\"\r\n                                            />\r\n                                        )}\r\n                                    </TableCell>\r\n                                    <TableCell align=\"center\">\r\n                                        <IconButton\r\n                                            size=\"small\"\r\n                                            disabled={!contact.active}\r\n                                            onClick={() => {\r\n                                                setContactTicket(contact);\r\n                                                setNewTicketModalOpen(true);\r\n                                                // handleSaveTicket(contact.id);\r\n                                            }}\r\n                                        >\r\n                                            {contact.channel === \"whatsapp\" && (<WhatsApp style={{ color: \"green\" }} />)}\r\n                                            {contact.channel === \"instagram\" && (<Instagram style={{ color: \"purple\" }} />)}\r\n                                            {contact.channel === \"facebook\" && (<Facebook style={{ color: \"blue\" }} />)}\r\n                                        </IconButton>\r\n\r\n                                        <IconButton\r\n                                            size=\"small\"\r\n                                            onClick={() =>\r\n                                                hadleEditContact(contact.id)\r\n                                            }\r\n                                        >\r\n                                            <EditIcon color=\"secondary\" />\r\n                                        </IconButton>\r\n                                        <IconButton\r\n                                            size=\"small\"\r\n                                            onClick={\r\n                                                contact.active\r\n                                                    ? () => {\r\n                                                        setConfirmOpen(true);\r\n                                                        setBlockingContact(\r\n                                                            contact\r\n                                                        );\r\n                                                    }\r\n                                                    : () => {\r\n                                                        setConfirmOpen(true);\r\n                                                        setUnBlockingContact(\r\n                                                            contact\r\n                                                        );\r\n                                                    }\r\n                                            }\r\n                                        >\r\n                                            {contact.active ? (\r\n                                                <BlockIcon color=\"secondary\" />\r\n                                            ) : (\r\n                                                <CheckCircleIcon color=\"secondary\" />\r\n                                            )}\r\n                                        </IconButton>\r\n                                        <Can\r\n                                            role={user.profile}\r\n                                            perform=\"contacts-page:deleteContact\"\r\n                                            yes={() => (\r\n                                                <IconButton\r\n                                                    size=\"small\"\r\n                                                    onClick={(e) => {\r\n                                                        setConfirmOpen(true);\r\n                                                        setDeletingContact(\r\n                                                            contact\r\n                                                        );\r\n                                                    }}\r\n                                                >\r\n                                                    <DeleteOutlineIcon color=\"secondary\" />\r\n                                                </IconButton>\r\n                                            )}\r\n                                        />\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                            {loading && <TableRowSkeleton avatar columns={6} />}\r\n                        </>\r\n                    </TableBody>\r\n                </Table>\r\n            </Paper>\r\n        </MainContainer >\r\n    );\r\n};\r\n\r\nexport default Contacts;","export default __webpack_public_path__ + \"static/media/upload.c42899bb.gif\";","import { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport { read, utils } from \"xlsx\";\r\nimport {\r\n  Button,\r\n  FormControlLabel,\r\n  FormGroup,\r\n  MenuItem,\r\n  Select,\r\n  Switch,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n} from \"@material-ui/core\";\r\nimport api from \"../../services/api\";\r\nimport upload from \"../../assets/upload.gif\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport useWindowDimensions from \"../../hooks/useWindowDimensions\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nfunction WorksheetToDatagrid(ws) {\r\n  /* create an array of arrays */\r\n  const rows = utils.sheet_to_json(ws, { header: 1, defval: \"\" });\r\n\r\n  /* create column array */\r\n  const range = utils.decode_range(ws[\"!ref\"] || \"A1\");\r\n  const columns = Array.from({ length: range.e.c + 1 }, (_, i) => ({\r\n    key: String(i), // RDG will access row[\"0\"], row[\"1\"], etc\r\n    name: utils.encode_col(i), // the column labels will be A, B, etc\r\n    //editor: textEditor // enable cell editing\r\n  }));\r\n\r\n  return { rows, columns }; // these can be fed to setRows / setColumns\r\n}\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  xlsTable: {\r\n    width: \"100%\",\r\n  },\r\n  tableContainer: {\r\n    flex: 1,\r\n    padding: 1,\r\n    overflowX: \"auto\",\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  actions: {\r\n    padding: 2,\r\n    border: \"1px solid #CCC\",\r\n    boxShadow: \"1px 1px 5px #CCC\",\r\n    marginTop: 2,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n  },\r\n  importOptions: {\r\n    padding: 2,\r\n    border: \"1px solid #CCC\",\r\n    boxShadow: \"1px 1px 5px #CCC\",\r\n    marginTop: 2,\r\n    marginBottom: 2,\r\n  },\r\n  error: {\r\n    color: \"red\",\r\n    marginTop: 1,\r\n  },\r\n  buttonImport: {\r\n    marginRight: 1,\r\n  },\r\n  select: {\r\n    minWidth: 200,\r\n  },\r\n  backButtonContainer: {\r\n    textAlign: \"center\",\r\n    marginTop: 20,\r\n  },\r\n}));\r\n\r\nconst ContactImport = () => {\r\n  const size = useWindowDimensions();\r\n\r\n  const [rows, setRows] = useState(null);\r\n  const [columns, setColumns] = useState(null);\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [contactFieldsAvailable, setContactFieldsAvailable] = useState([]);\r\n  const [columnValue, setColumnValue] = useState({});\r\n  const [selectedFields, setSelectedFields] = useState({}); // Para rastrear seleções únicas\r\n\r\n  const [openingFile, setOpeningFile] = useState(false);\r\n  const [selection, setSelection] = useState({});\r\n  const [invalidFile, setInvalidFile] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [countCreated, setCountCreated] = useState(0);\r\n  const [countIgnored, setCountIgnored] = useState(0);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [imported, setImported] = useState(false);\r\n  const [selectedRows, setSelectedRows] = useState({});\r\n  const [validateContact, setValidateContact] = useState(false);\r\n  const contactFields = [\r\n    { id: \"name\", label: \"Nome\", required: true },\r\n    { id: \"number\", label: \"Número\", required: true },\r\n    { id: \"email\", label: \"E-mail\", required: false },\r\n    { id: \"tags\", label: \"Tags\", required: false },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    setContactFieldsAvailable(contactFields);\r\n  }, []);\r\n\r\n  const processImport = async () => {\r\n    setUploading(true);\r\n\r\n    console.log(selection)\r\n\r\n    if (!selection.number) {\r\n      toastError(\"Não foi selecionado o campo de número do contato\");\r\n      setUploading(false);\r\n      return;\r\n    }\r\n\r\n    if (!selection.name) {\r\n      toastError(\"Não foi selecionado o campo de nome do contato\");\r\n      setUploading(false);\r\n      return;\r\n    }\r\n\r\n    if (Object.keys(selectedRows).length === 0) {\r\n      toastError(\"Nenhum contato selecionado\");\r\n      setUploading(false);\r\n      return;\r\n    }\r\n\r\n    if (rows?.length > 1) {\r\n      for (let index = 1; index < rows.length; index++) {\r\n        if (selectedRows[index]) { // Importar apenas as linhas selecionadas\r\n          const item = rows[index];\r\n          const contactData = {};\r\n\r\n          for (let columnIndex = 0; columnIndex < columns.length; columnIndex++) {\r\n            const column = columns[columnIndex];\r\n            const selectedField = columnValue[column.key];\r\n\r\n            if (selectedField) {\r\n              contactData[selectedField] = item[columnIndex];\r\n            }\r\n          }\r\n          // Verificar se os campos obrigatórios estão presentes\r\n          const missingRequiredFields = contactFields.some(field => field.required && !contactData[field.id]);\r\n\r\n          if (missingRequiredFields) {\r\n            setCountIgnored(prevCount => prevCount + 1);\r\n            continue;\r\n          }\r\n\r\n          try {\r\n            const data = await api.post('/contactsImport', {\r\n              ...contactData,\r\n              validateContact: validateContact ? \"true\" : \"false\",\r\n            });\r\n\r\n            if (data.status === 200) {\r\n              setCountCreated(prevCount => prevCount + 1);\r\n            } else {\r\n              setCountIgnored(prevCount => prevCount + 1);\r\n            }\r\n          } catch (error) {\r\n            setCountIgnored(prevCount => prevCount + 1);\r\n          }\r\n        }\r\n      }\r\n      setValidateContact(false);\r\n      setSelectedRows({});\r\n      setImported(true);\r\n      setUploading(false);\r\n      \r\n      if (countIgnored === 0) {\r\n        toast.success(\"Importação realizada com sucesso\");\r\n      } else {\r\n        toast.alert(\"Importação realizada com sucesso, mas houveram alguns erros\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const onChangeFile = (acceptedFiles) => {\r\n    if (acceptedFiles.length === 0) return;\r\n    setOpeningFile(true);\r\n    setInvalidFile(false);\r\n    setImported(false);\r\n    setUploading(false);\r\n    const file = acceptedFiles[0];\r\n    const reader = new FileReader();\r\n    reader.onload = function (e) {\r\n      try {\r\n        const data = e.target.result;\r\n        const wb = read(data);\r\n        const ws = wb.Sheets[wb.SheetNames[0]];\r\n        const { rows, columns } = WorksheetToDatagrid(ws);\r\n        setRows(rows);\r\n        setColumns(columns);\r\n        setOpeningFile(false);\r\n      } catch (e) {\r\n        console.error(e);\r\n        setInvalidFile(true);\r\n        setOpeningFile(false);\r\n      }\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  };\r\n\r\n  const handleSelectChange = (event) => {\r\n    const newValue = event.target.value;\r\n    const columnKey = event.target.name;\r\n  \r\n    // Remover antiga seleção\r\n    if (columnValue[columnKey]) {\r\n      const oldValue = columnValue[columnKey];\r\n      setSelectedFields((prevSelectedFields) => {\r\n        const newSelectedFields = { ...prevSelectedFields };\r\n        delete newSelectedFields[oldValue];\r\n        return newSelectedFields;\r\n      });\r\n    }\r\n  \r\n    // Se o novo valor for vazio, limpar a seleção\r\n    if (newValue === \"\") {\r\n      setColumnValue((prevColumnValue) => {\r\n        const newColumnValue = { ...prevColumnValue };\r\n        delete newColumnValue[columnKey];\r\n        return newColumnValue;\r\n      });\r\n      setSelection((prevSelection) => {\r\n        const newSelection = { ...prevSelection };\r\n        Object.keys(newSelection).forEach((key) => {\r\n          if (newSelection[key] === columnKey) {\r\n            delete newSelection[key];\r\n          }\r\n        });\r\n        return newSelection;\r\n      });\r\n      return;\r\n    }\r\n  \r\n    // Verificar se o novo valor já foi selecionado\r\n    if (selectedFields[newValue]) {\r\n      toastError(`O campo ${newValue} já foi selecionado.`);\r\n      return;\r\n    }\r\n  \r\n    // Atualizar seleção\r\n    setSelection((selection) => ({ ...selection, [newValue]: columnKey }));\r\n    setSelectedFields((prevSelectedFields) => ({ ...prevSelectedFields, [newValue]: columnKey }));\r\n    setColumnValue((columnValue) => ({ ...columnValue, [columnKey]: newValue }));\r\n  };\r\n  \r\n\r\n  const renderSelectbox = (column) => {\r\n    return (\r\n      <Select value={columnValue[column.key]} name={column.key} onChange={handleSelectChange}>\r\n        <MenuItem value=\"\">&nbsp;</MenuItem>\r\n        {contactFieldsAvailable.map((contactField) => (\r\n          <MenuItem value={contactField.id}>{contactField.label}</MenuItem>\r\n        ))}\r\n      </Select>\r\n    );\r\n  };\r\n\r\n  const renderXls = () => {\r\n    return (\r\n      <TableContainer className={classes.tableContainer} style={{ height: size.height * 0.75 }}>\r\n        <Table stickyHeader>\r\n          <TableHead key={columns.length}>\r\n            <TableRow>\r\n              <TableCell>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={Object.keys(selectedRows).length === rows.length - 1} // Se todas as linhas, exceto a primeira, estiverem marcadas\r\n                  onChange={(event) => {\r\n                    const isChecked = event.target.checked;\r\n                    const newSelectedRows = {};\r\n                    if (isChecked) {\r\n                      // Marcar todas as linhas, exceto a primeira\r\n                      for (let i = 1; i < rows.length; i++) {\r\n                        newSelectedRows[i] = true;\r\n                      }\r\n                    }\r\n                    setSelectedRows(newSelectedRows);\r\n                  }}\r\n                />\r\n              </TableCell>\r\n              {columns.map((column) => (\r\n                <TableCell key={column.key}>{column.name}</TableCell>\r\n              ))}\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell></TableCell>\r\n              {columns.map((column) => (\r\n                <TableCell key={column.key}>{renderSelectbox(column)}</TableCell>\r\n              ))}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows.map((row, rowIndex) => (\r\n              <TableRow key={rowIndex}>\r\n                {rowIndex !== 0 && (\r\n                  <TableCell>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={!!selectedRows[rowIndex]}\r\n                      onChange={() => {\r\n                        setSelectedRows((prevSelectedRows) => ({\r\n                          ...prevSelectedRows,\r\n                          [rowIndex]: !prevSelectedRows[rowIndex],\r\n                        }));\r\n                      }}\r\n                    />\r\n                  </TableCell>\r\n                )}\r\n                {rowIndex !== 0 && (\r\n                  row.map((column, columnIndex) => (\r\n                    <TableCell key={columnIndex}>{column}</TableCell>\r\n                  ))\r\n                )}\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    );\r\n  };\r\n\r\n\r\n  const handleCloseImport = async () => {\r\n    try {\r\n      history.push(\"/contacts\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const renderContent = () => {\r\n    return (\r\n      <div>\r\n        <div className={classes.importOptions}>\r\n          <FormGroup row style={{ width: '100%', display: 'flex', justifyContent: 'space-around' }}>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch checked={validateContact} onChange={(event) => setValidateContact(event.target.checked)} color=\"primary\" />\r\n              }\r\n              label=\"Validar contatos no WhatsApp\"\r\n            />\r\n          </FormGroup>\r\n        </div>\r\n        {renderXls()}\r\n        <div className={classes.actions}>\r\n          {uploading && <div>Importando... Aguarde</div>}\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disabled={uploading}\r\n            className={classes.buttonImport}\r\n            onClick={() => processImport()}\r\n          >\r\n            Importar contatos\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            disabled={uploading}\r\n            onClick={() => {\r\n              setRows(null);\r\n              setColumns(null);\r\n            }}\r\n          >\r\n            Cancelar\r\n          </Button>\r\n          {error && <div className={classes.error}>{error}</div>}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    onDrop: onChangeFile,\r\n    maxFiles: 1,\r\n  });\r\n\r\n  return (\r\n    <div style={{ alignContent: \"center\" }}>\r\n      {imported && (\r\n        <div>\r\n          <ul>\r\n            <li>{countCreated} contatos criados</li>\r\n            <li>{countIgnored} contatos ignorados (número inválido ou não marcados para atualizar)</li>\r\n          </ul>\r\n        </div>\r\n      )}\r\n      {openingFile && <div>Processando arquivo...</div>}\r\n      {invalidFile && <div>Arquivo inválido!</div>}\r\n      {!imported && rows && columns ? renderContent() : (\r\n        <>\r\n          <div\r\n            {...getRootProps()}\r\n            className=\"uploaderDrop\"\r\n            style={{\r\n              borderRadius: 20,\r\n              maxWidth: 500,\r\n              margin: \"20px auto\",\r\n              border: \"3px dotted #ddd\",\r\n              padding: 20,\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              flexDirection: \"column\",\r\n            }}\r\n          >\r\n            <img src={upload} height={200} alt=\"Upload\" />\r\n            <h5>Clique ou arraste um arquivo</h5>\r\n            <p style={{ color: \"#e74c3c\", fontWeight: \"bold\", textAlign: \"center\" }}>\r\n              * Importante: Arquivos somente com extensões são aceitas: xls, xslx, csv, txt\r\n            </p>\r\n          </div>\r\n\r\n          <input {...getInputProps()} />\r\n\r\n          <div className={classes.backButtonContainer}>\r\n            <Button variant=\"contained\" color=\"secondary\" disabled={uploading} onClick={handleCloseImport}>\r\n              Voltar\r\n            </Button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactImport;\r\n","import { Paper } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport React from \"react\";\r\nimport ContactImport from \"../../components/ContactImport\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    mainPaper: {\r\n        flex: 1,\r\n        padding: 1,\r\n        borderRadius: 0,\r\n        overflowY: \"scroll\",\r\n        padding: 1,\r\n        ...theme.scrollbarStylesSoftBig\r\n    },\r\n}));\r\n\r\nconst ContactImportPage = () => {\r\n    const classes = useStyles();\r\n    return <MainContainer className={classes.mainContainer}>\r\n        <MainHeader>\r\n            <Title>Importar contatos de arquivo</Title>\r\n        </MainHeader>\r\n        <Paper\r\n            className={classes.mainPaper}\r\n            variant=\"outlined\">\r\n            <ContactImport />\r\n        </Paper>\r\n    </MainContainer>\r\n}\r\n\r\nexport default ContactImportPage;","import React, { Fragment, useContext, useEffect, useMemo, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport {  ReportProblem, VisibilityOutlined } from \"@mui/icons-material\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { toast } from \"react-toastify\";\r\nimport { yellow } from \"@mui/material/colors\";\r\nimport { Avatar, CardHeader, Divider, List, ListItem, ListItemAvatar, ListItemText, Paper, Typography, Card, makeStyles, Container, Badge, Grid, Tooltip } from \"@material-ui/core\";\r\nimport { format, isSameDay, parseISO } from \"date-fns\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport { getBackendUrl } from \"../../config\";\r\n\r\nconst backendUrl = getBackendUrl();\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  main: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  cardHeader: {\r\n    width: \"380px\",\r\n    height: \"78px\",\r\n    padding: 10,\r\n    backgroundColor: \"#DCDCDC\",\r\n  },\r\n  cardHeaderPending: {\r\n    width: \"380px\",\r\n    height: \"78px\",\r\n    padding: 10,\r\n    backgroundColor: \"#C0C0C0\",\r\n  },\r\n  card: {\r\n    height: \"300px\",\r\n    width: \"380px\",\r\n    margin: \"3px\",\r\n    borderRadius: 5,\r\n    flex: 1,\r\n    maxHeight: \"100%\",\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n    borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  changeWarap: {\r\n    width: '380px',\r\n    padding: 0,\r\n    margin: 0\r\n  },\r\n  pending: {\r\n    color: yellow[600],\r\n    fontSize: '20px'\r\n  },\r\n  connectionTag: {\r\n    background: \"green\",\r\n    color: \"#FFF\",\r\n    marginRight: 1,\r\n    padding: 1,\r\n    fontWeight: 'bold',\r\n    // paddingLeft: 5,\r\n    // paddingRight: 5,\r\n    borderRadius: 3,\r\n    fontSize: \"0.6em\",\r\n    // whiteSpace: \"nowrap\"\r\n  },\r\n  lastMessageTime: {\r\n    justifySelf: \"flex-end\",\r\n    textAlign: \"right\",\r\n    position: \"relative\",\r\n    // top: -30,\r\n    marginRight: \"1px\",\r\n    color: grey[400],\r\n  },\r\n\r\n  lastMessageTimeUnread: {\r\n    justifySelf: \"flex-end\",\r\n    textAlign: \"right\",\r\n    position: \"relative\",\r\n    // top: -30,\r\n    color: \"green\",\r\n    fontWeight: \"bold\",\r\n    marginRight: \"1px\",\r\n  },\r\n  pending: {\r\n    color: yellow[600],\r\n    fontSize: '20px'\r\n  },\r\n}));\r\n\r\nconst DashboardManage = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [tickets, setTickets] = useState([]);\r\n  const [update, setUpdate] = useState(false);\r\n  const [ticketNot, setTicketNot] = useState(0);\r\n  const companyId = user.companyId;\r\n\r\n\r\n  const userQueueIds = user.queues.map((q) => q.id);\r\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\r\n\r\n \r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/usersMoments\");\r\n        setTickets(data);\r\n        setUpdate(!update);\r\n      } catch (err) {\r\n        if (err.response?.status !== 500) {\r\n          toastError(err);\r\n        } else {\r\n          toast.error(`${i18n.t(\"frontEndErrors.getUsers\")}`);\r\n        }\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketManager.GetSocket();\r\n  \r\n    // const onConnect = () => {\r\n    //   socket.emit(\"joinChatBox\", `${ticketId}`);\r\n    // }\r\n    const onAppMessage = (data) => {\r\n      if (data.action === \"create\" || data.action === \"update\" || data.action === \"delete\") {\r\n        (async () => {\r\n          try {\r\n            const { data } = await api.get(\"/usersMoments\");\r\n            setTickets(data);\r\n            setUpdate(!update);\r\n          } catch (err) {\r\n            if (err.response?.status !== 500) {\r\n              toastError(err);\r\n            } else {\r\n              toast.error(`${i18n.t(\"frontEndErrors.getUsers\")}`);\r\n            }\r\n          }\r\n        })();\r\n      }\r\n    }\r\n  \r\n    // socket.on(\"connect\", onConnect);\r\n    socket.on(`company-${companyId}-ticket`, onAppMessage)\r\n    socket.on(`company-${companyId}-appMessage`, onAppMessage);\r\n  \r\n    return () => {\r\n      // socket.off(\"connect\", onConnect);\r\n      socket.off(`company-${companyId}-ticket`, onAppMessage)\r\n      socket.off(`company-${companyId}-appMessage`, onAppMessage);\r\n    };\r\n  }, [socket]);\r\n\r\n  const Moments = useMemo(() => {\r\n    if (tickets && tickets.length > 0) {\r\n      const ticketsByUser = tickets.reduce((userTickets, ticket) => {\r\n        const user = ticket.user;\r\n\r\n        if (user) {\r\n          const userIndex = userTickets.findIndex((group) => group.user.id === user.id);\r\n          if (userIndex === -1) {\r\n            userTickets.push({\r\n              user,\r\n              userTickets: [ticket],\r\n            });\r\n          } else {\r\n            userTickets[userIndex].userTickets.push(ticket);\r\n          }\r\n        }\r\n        return userTickets;\r\n      }, []);\r\n\r\n      return ticketsByUser.map((group, index) => (\r\n        <Grid item key={index}>\r\n          <div padding={20} className={classes.main} key={index}>\r\n            <div className={classes.changeWarap}>\r\n              <Paper elevation={3} className={classes.cardHeader}>\r\n                <CardHeader\r\n                  style={{ maxWidth: '380px', width: '100%' }}\r\n                  avatar={<Avatar alt={`${group.user.profileImage}`} src={group.user.profileImage ? `${backendUrl}/public/company${companyId}/user/${group.user.profileImage}` : null} />}\r\n                  title={(\r\n                    <span>{group?.user?.name || \"Pendentes\"} <br />\r\n                      {`Atendimentos: ${group.userTickets?.length}`}\r\n                    </span>\r\n                  )}\r\n                />\r\n              </Paper>\r\n              <Paper square elevation={1} className={classes.card}>\r\n                {group.userTickets.map((ticket) => (\r\n                  <List style={{ paddingTop: 0 }} key={ticket.id}>\r\n                    <ListItem dense button>\r\n                      <ListItemAvatar>\r\n                        <Avatar alt={`${ticket.contact.urlPicture}`} src={`${ticket.contact.urlPicture}`} />\r\n                      </ListItemAvatar>\r\n                      <ListItemText\r\n                        disableTypography\r\n                        primary={ticket?.contact?.name?.length > 30 ? ticket?.contact?.name.substring(0, 25) + '...' : ticket?.contact?.name}\r\n                        secondary={\r\n                          <Fragment>\r\n                            <div>\r\n                              <Typography\r\n                                style={{ display: 'inline' }}\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                              >\r\n                                {`${ticket.lastMessage?.length > 30 ? String(ticket.lastMessage).substring(0, 27) + '...' : ticket.lastMessage}`}\r\n                              </Typography>\r\n                            </div>\r\n                            <Badge className={classes.connectionTag}>{ticket?.whatsapp?.name}</Badge>\r\n                            <Badge style={{ backgroundColor: ticket.queue?.color || \"#7c7c7c\" }} className={classes.connectionTag}>{ticket.queue?.name.toUpperCase() || \"SEM FILA\"}</Badge>\r\n                          </Fragment>\r\n                        }\r\n                      />\r\n                      <Typography\r\n                        className={Number(ticket.unreadMessages) > 0 ? classes.lastMessageTimeUnread : classes.lastMessageTime}\r\n                        component=\"span\"\r\n                        variant=\"body2\"\r\n                      >\r\n                        {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\r\n                          <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\r\n                        ) : (\r\n                          <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\r\n                        )}\r\n                      </Typography>\r\n                      {(user.profile === \"admin\" || ticket.userId === user.id) && (\r\n                        <Tooltip title=\"Acessar Ticket\">\r\n                          <VisibilityOutlined\r\n                            onClick={() => history.push(`/tickets/${ticket.uuid}`)}\r\n                            fontSize=\"small\"\r\n                            style={{\r\n                              color: grey[500],\r\n                              cursor: \"pointer\",\r\n                              marginRight: 5,\r\n                              bottom: \"-15px\"\r\n                            }}\r\n                          />\r\n                        </Tooltip>\r\n                      )}\r\n                    </ListItem>\r\n                    <Divider variant=\"inset\" component=\"li\" />\r\n                  </List>\r\n                ))}\r\n              </Paper>\r\n            </div>\r\n          </div>\r\n        </Grid>\r\n      )\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }, [update]);\r\n\r\n  const MomentsPending = useMemo(() => {\r\n    if (tickets && tickets.length > 0) {\r\n      const pendingTickets = tickets.filter((ticket) => !ticket.user);\r\n\r\n      return (\r\n        <Grid item >\r\n          <div className={classes.main}>\r\n            <div padding={2} className={classes.changeWarap}>\r\n              <Paper elevation={3} className={classes.cardHeaderPending}>\r\n                <CardHeader\r\n                  style={{ maxWidth: '380px', width: '100%' }}\r\n                  avatar={<Avatar />}\r\n                  title={(\r\n                    <span>{\"Pendentes\"}\r\n                      <ReportProblem className={classes.pending} />\r\n                      <div>\r\n                        Atendimentos: {pendingTickets?.length}\r\n                      </div>\r\n                    </span>\r\n                  )}\r\n                />\r\n              </Paper>\r\n              <Paper square elevation={1} className={classes.card}>\r\n                {pendingTickets.map((ticket) => (\r\n                  <List style={{ paddingTop: 0 }} key={ticket.id}>\r\n                    <ListItem dense button>\r\n                      <ListItemAvatar>\r\n                        <Avatar alt={`${ticket.contact.urlPicture}`} src={`${ticket.contact.urlPicture}`} />\r\n                      </ListItemAvatar>\r\n                      <ListItemText\r\n                        disableTypography\r\n                        primary={ticket?.contact?.name}\r\n                        secondary={\r\n                          <Fragment>\r\n                            <div>\r\n                              <Typography\r\n                                style={{ display: 'inline' }}\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                              >\r\n                                {`${ticket.lastMessage?.length > 30 ? String(ticket.lastMessage).substring(0, 27) + '...' : ticket.lastMessage}`}\r\n                              </Typography>\r\n                            </div>\r\n                            <Badge className={classes.connectionTag}>{ticket?.whatsapp?.name}</Badge>\r\n                            <Badge style={{ backgroundColor: ticket.queue?.color || \"#7c7c7c\" }} className={classes.connectionTag}>{ticket.queue?.name.toUpperCase() || \"SEM FILA\"}</Badge>\r\n                          </Fragment>\r\n                        }\r\n                      />\r\n                      <Typography\r\n                        className={Number(ticket.unreadMessages) > 0 ? classes.lastMessageTimeUnread : classes.lastMessageTime}\r\n                        component=\"span\"\r\n                        variant=\"body2\"\r\n                      >\r\n                        {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\r\n                          <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\r\n                        ) : (\r\n                          <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\r\n                        )}\r\n                      </Typography>\r\n                    </ListItem>\r\n                    <Divider variant=\"inset\" component=\"li\" />\r\n                  </List>\r\n                ))}\r\n              </Paper>\r\n            </div>\r\n          </div>\r\n        </Grid>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }, [update]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Grid container spacing={2}>\r\n        {Moments}\r\n        {MomentsPending}\r\n      </Grid>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default DashboardManage;\r\n","import React, { useContext } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport MomentsUser from \"../../components/MomentsUser\";\r\n// import MomentsQueues from \"../../components/MomentsQueues\";\r\n\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport { Grid, Paper } from \"@material-ui/core\";\r\nimport Title from \"../../components/Title\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1),\r\n    paddingLeft: \"5px\",\r\n    maxWidth: \"100%\"\r\n  },\r\n  mainPaper: {\r\n    display: \"flex\",\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n    alignItems: \"center\"\r\n  },\r\n  fixedHeightPaper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: 100,\r\n  },\r\n  chatPapper: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n  },\r\n  contactsHeader: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    padding: \"0px 6px 6px 6px\",\r\n  }\r\n}));\r\n\r\nconst ChatMoments = () => {\r\n  const classes = useStyles();\r\n  const { user } = useContext(AuthContext)\r\n  return (\r\n\r\n    user.profile === \"user\" && user.allowRealTime === \"disabled\" ?\r\n      <ForbiddenPage />\r\n      :\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container justifyContent=\"center\" alignItems=\"flex-start\">\r\n          <Grid xs={12} sm={8} xl={4} item >\r\n            <Title>{\"Painel de Atendimentos\"}</Title>\r\n          </Grid>\r\n          <Grid style={{ width: \"100%\", height: \"100vh\" }} item >\r\n            <Paper\r\n              className={classes.mainPaper}\r\n              variant=\"outlined\"\r\n              style={{ maxWidth: \"100%\" }}\r\n            >\r\n              <MomentsUser />\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n  );\r\n};\r\n\r\nexport default ChatMoments;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n\tTooltip,\r\n\tTypography,\r\n} from \"@material-ui/core\";\r\n\r\n\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmainPaper: {\r\n\t\tflex: 1,\r\n\t\tpadding: theme.spacing(1),\r\n\t\toverflowY: \"scroll\",\r\n\t\t...theme.scrollbarStyles,\r\n\t},\r\n\tcustomTableCell: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n\ttooltip: {\r\n\t\tbackgroundColor: \"#f5f5f9\",\r\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tborder: \"1px solid #dadde9\",\r\n\t\tmaxWidth: 450,\r\n\t},\r\n\ttooltipPopper: {\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t},\r\n}));\r\n\r\nconst ToolTip = ({ title, content, children }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tarrow\r\n      // placement=\"bottom\"\r\n\t\t\tclasses={{\r\n\t\t\t\ttooltip: classes.tooltip,\r\n\t\t\t\tpopper: classes.tooltipPopper,\r\n\t\t\t}}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Tooltip>\r\n\t);\r\n};\r\n\r\nexport default ToolTip","import React, { Fragment, useContext, useEffect, useRef, useState } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport StepContent from \"@material-ui/core/StepContent\";\r\nimport api from \"../../services/api\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport { CircularProgress, Grid, IconButton, InputLabel, MenuItem, Select, Checkbox } from \"@material-ui/core\";\r\nimport { Formik, Field, FieldArray } from \"formik\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { toast } from \"react-toastify\";\r\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\r\nimport CustomToolTip from \"../ToolTips\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport { FormControlLabel, FormControl } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport useQueues from \"../../hooks/useQueues\";\r\nimport UserStatusIcon from \"../UserModal/statusIcon\";\r\n\r\nconst QueueSchema = Yup.object().shape({\r\n  options: Yup.array()\r\n    .of(\r\n      Yup.object().shape({\r\n        name: Yup.string().min(4, \"too short\").required(\"Required\"),\r\n      })\r\n    )\r\n    .required(\"Must have friends\"),\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  greetingMessage: {\r\n    cursor: \"pointer\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n  Box: {\r\n    cursor: \"pointer\",\r\n    alignItems: \"center\",\r\n  },\r\n  textField1: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  customHeight: {\r\n    height: '48px',\r\n  },\r\n}));\r\n\r\nfunction getStepContent(step) {\r\n  return <VerticalLinearStepper chatBotId={step} />;\r\n}\r\n\r\nexport default function VerticalLinearStepper(props) {\r\n  const initialState = {\r\n    name: \"\",\r\n    greetingMessage: \"\",\r\n    options: [],\r\n    closeTicket: false,\r\n    optQueueId: \"\"\r\n  };\r\n\r\n  const classes = useStyles();\r\n  const [activeStep, setActiveStep] = useState(-1);\r\n  const [steps, setSteps] = useState(initialState);\r\n  const [loading, setLoading] = useState(false);\r\n  const [isStepContent, setIsStepContent] = useState(true);\r\n  const [isNameEdit, setIsNamedEdit] = useState(null);\r\n  const [isGreetingMessageEdit, setGreetingMessageEdit] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [queues, setQueues] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [integrations, setIntegrations] = useState([]);\r\n  const [file, setFile] = useState([]);\r\n  const { user, socket } = useContext(AuthContext);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\r\n  const [selectedQueueOption, setSelectedQueueOption] = useState(\"\");\r\n\r\n  const { findAll: findAllQueues } = useQueues();\r\n  const [allQueues, setAllQueues] = useState([]);\r\n  const [userOptions, setUserOptions] = useState([]);\r\n  const isMounted = useRef(true);\r\n\r\n  const companyId = user.companyId;\r\n\r\n  const handleSaveBot = async (values) => {\r\n    try {\r\n      if (props.chatBotId) {\r\n        await api.put(`/chatbot/${props.chatBotId}`, values);\r\n      } else {\r\n        await api.post(\"/chatbot\", values);\r\n      }\r\n      toast.success(\"Bot saved successfully\");\r\n      // setActiveStep(-1)\r\n      const { data } = await api.get(`/chatbot/${props.chatBotId}`);\r\n\r\n      setSteps(initialState);\r\n      setSteps(data);\r\n      setIsNamedEdit(null);\r\n      setGreetingMessageEdit(null);\r\n\r\n      setSteps(data);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      const loadQueues = async () => {\r\n        const list = await findAllQueues();\r\n        setAllQueues(list);\r\n        setQueues(list);\r\n\r\n      };\r\n      loadQueues();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/files/\", {\r\n          params: { companyId }\r\n        });\r\n\r\n        setFile(data.files);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (searchParam.length < 3) {\r\n      setLoading(false);\r\n      setSelectedQueueOption(\"\");\r\n      return;\r\n    }\r\n    const delayDebounceFn = setTimeout(() => {\r\n      //setLoading(true);\r\n      const fetchUsers = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/users/\");\r\n          setUserOptions(data.users);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n\r\n      fetchUsers();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/queueIntegration\", {\r\n          params: { companyId }\r\n        });\r\n\r\n        setIntegrations(data.queueIntegrations);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchList = async () => {\r\n        try {\r\n          const { data } = await api.get(`/chatbot/${props.chatBotId}`);\r\n\r\n          if (data?.user)\r\n            setSelectedUser(data.user);\r\n\r\n          if (data.optQueueId !== null && data.optQueueId !== undefined)\r\n            setSelectedQueueOption(data.optQueueId)\r\n\r\n          setSteps(data);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      };\r\n      fetchList();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [props.chatBotId]);\r\n\r\n  useEffect(() => {\r\n    if (steps.options[activeStep])\r\n      setSelectedQueueOption(steps.options[activeStep]?.optQueueId)\r\n\r\n    if (activeStep === isNameEdit) {\r\n      setIsStepContent(false);\r\n    } else {\r\n      setIsStepContent(true);\r\n    }\r\n  }, [isNameEdit, activeStep]);\r\n\r\n  const handleCloseConfirmationModal = () => {\r\n    setConfirmModalOpen(false);\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  const filterOptions = createFilterOptions({\r\n    trim: true,\r\n  });\r\n\r\n  const handleDeleteQueue = async (queueId) => {\r\n    try {\r\n      await api.delete(`/chatbot/${queueId}`);\r\n      const { data } = await api.get(`/chatbot/${props.chatBotId}`);\r\n      setSteps(initialState);\r\n      setSteps(data);\r\n      setIsNamedEdit(null);\r\n      setGreetingMessageEdit(null);\r\n      setSteps(data);\r\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ConfirmationModal\r\n        title={\r\n          selectedQueue &&\r\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${selectedQueue.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={handleCloseConfirmationModal}\r\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\r\n      >\r\n        {i18n.t(\"Tem certeza? Todas as opções internas também serão excluídas\")}\r\n      </ConfirmationModal>\r\n\r\n      {!loading && (\r\n        <div>\r\n          <Formik\r\n            initialValues={steps}\r\n            validateOnChange={false}\r\n            enableReinitialize={true}\r\n            validationSchema={QueueSchema}\r\n            render={({\r\n              touched,\r\n              errors,\r\n              isSubmitting,\r\n              values,\r\n              setFieldValue,\r\n            }) => (\r\n              <FieldArray name=\"options\">\r\n                {({ push, remove }) => (\r\n                  <>\r\n                    <Stepper\r\n                      nonLinear\r\n                      activeStep={activeStep}\r\n                      orientation=\"vertical\"\r\n                    >\r\n                      {values.options &&\r\n                        values.options.length > 0 &&\r\n                        values.options.map((info, index) => (\r\n                          <Step\r\n                            key={`${info.id ? info.id : index}-options`}\r\n                            onClick={() => setActiveStep(index)}\r\n                          >\r\n                            <StepLabel key={`${info.id}-options`}>\r\n                              {isNameEdit !== index &&\r\n                                steps.options[index]?.name ? (\r\n                                <div\r\n                                  className={classes.greetingMessage}\r\n                                  variant=\"body1\"\r\n                                >\r\n                                  {values.options[index].name}\r\n\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    onClick={() => {\r\n                                      setIsNamedEdit(index);\r\n                                      setIsStepContent(false);\r\n                                    }}\r\n                                  >\r\n                                    <EditIcon />\r\n                                  </IconButton>\r\n\r\n                                  <IconButton\r\n                                    onClick={() => {\r\n                                      setSelectedQueue(info);\r\n                                      setConfirmModalOpen(true);\r\n                                    }}\r\n                                    size=\"small\"\r\n                                  >\r\n                                    <DeleteOutline />\r\n                                  </IconButton>\r\n                                </div>\r\n                              ) : (\r\n                                <Grid container spacing={2}>\r\n                                  <Grid xs={12} md={12} item>\r\n                                    <Field\r\n                                      as={TextField}\r\n                                      name={`options[${index}].name`}\r\n                                      variant=\"outlined\"\r\n                                      margin=\"dense\"\r\n                                      label={i18n.t(\"queueModal.form.greetingMessage\")}\r\n                                      color=\"primary\"\r\n                                      disabled={isSubmitting}\r\n                                      autoFocus\r\n                                      fullWidth\r\n                                      error={\r\n                                        touched?.options?.[index]?.name &&\r\n                                        Boolean(errors.options?.[index]?.name)\r\n                                      }\r\n                                    //className={classes.textField}\r\n                                    />\r\n                                  </Grid>\r\n                                  <Grid xs={12} md={8} item>\r\n                                    <FormControl\r\n                                      variant=\"outlined\"\r\n                                      margin=\"dense\"\r\n                                      className={classes.FormControl}\r\n                                      fullWidth\r\n                                    >\r\n                                      <InputLabel id=\"queueType-selection-label\">{i18n.t(\"queueModal.form.queueType\")}</InputLabel>\r\n                                      <Field\r\n                                        as={Select}\r\n                                        name={`options[${index}].queueType`}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                        labelId=\"queueType-selection-label\"\r\n                                        label={i18n.t(\"queueModal.form.queueType\")}\r\n                                        error={touched?.options?.[index]?.queueType &&\r\n                                          Boolean(errors?.options?.[index]?.queueType)}\r\n                                      // helpertext={touched?.options?.[index]?.queueType && errors?.options?.[index]?.queueType}\r\n                                      // value={`chatbots[${index}].queueType`}\r\n                                      //className={classes.textField1}\r\n                                      >\r\n                                        <MenuItem value={\"text\"}>Texto</MenuItem>\r\n                                        <MenuItem value={\"attendent\"}>Atendente</MenuItem>\r\n                                        <MenuItem value={\"queue\"}>Fila</MenuItem>\r\n                                        <MenuItem value={\"integration\"}>Integração</MenuItem>\r\n                                        <MenuItem value={\"file\"}>Arquivo</MenuItem>\r\n                                      </Field>\r\n                                    </FormControl>\r\n                                  </Grid>\r\n                                  <Grid xs={12} md={4} item>\r\n                                    <FormControlLabel\r\n                                      control={\r\n                                        <Field\r\n                                          as={Checkbox}\r\n                                          color=\"primary\"\r\n                                          name={`options[${index}].closeTicket`}\r\n                                          checked={values.options[index].closeTicket || false}\r\n                                        />\r\n                                      }\r\n                                      labelPlacement=\"top\"\r\n                                      label={i18n.t(\"queueModal.form.closeTicket\")}\r\n                                    />\r\n                                    <IconButton\r\n                                      size=\"small\"\r\n                                      onClick={() =>\r\n                                        values.options[index].name\r\n                                          ? handleSaveBot(values)\r\n                                          : null\r\n                                      }\r\n                                      disabled={isSubmitting}\r\n                                    >\r\n                                      <SaveIcon />\r\n                                    </IconButton>\r\n\r\n                                    <IconButton\r\n                                      size=\"small\"\r\n                                      onClick={() => remove(index)}\r\n                                      disabled={isSubmitting}\r\n                                    >\r\n                                      <DeleteOutline />\r\n                                    </IconButton>\r\n                                  </Grid>\r\n                                </Grid>\r\n                              )}\r\n                            </StepLabel>\r\n\r\n                            {isStepContent && steps.options[index] && (\r\n                              <StepContent>\r\n                                <>\r\n                                  <CustomToolTip\r\n                                    title=\"A mensagem é obrigatória para seguir ao próximo nível\"\r\n                                    content=\"Se a mensagem não estiver definida, o bot não seguirá adiante\"\r\n                                  >\r\n                                    <HelpOutlineOutlinedIcon\r\n                                      color=\"secondary\"\r\n                                      style={{ marginLeft: \"4px\" }}\r\n                                      fontSize=\"small\"\r\n                                    />\r\n                                  </CustomToolTip>\r\n                                  {isGreetingMessageEdit !== index ? (\r\n                                    <div className={classes.greetingMessage}>\r\n                                      <Typography\r\n                                        color=\"textSecondary\"\r\n                                        variant=\"body1\"\r\n                                      >\r\n                                        Message:\r\n                                      </Typography>\r\n\r\n                                      {values.options[index].greetingMessage}\r\n\r\n                                      <IconButton\r\n                                        size=\"small\"\r\n                                        onClick={() =>\r\n                                          setGreetingMessageEdit(index)\r\n                                        }\r\n                                      >\r\n                                        <EditIcon />\r\n                                      </IconButton>\r\n                                    </div>\r\n                                  ) : (\r\n                                    <Grid spacing={2} container>\r\n                                      <div\r\n                                        className={classes.greetingMessage}\r\n                                      >\r\n                                        {steps.options[index].queueType === \"text\" && (\r\n                                          <Grid xs={12} md={12} item>\r\n                                            <Field\r\n                                              as={TextField}\r\n                                              name={`options[${index}].greetingMessage`}\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              color=\"primary\"\r\n                                              fullWidth\r\n                                              multiline\r\n                                              error={\r\n                                                touched.greetingMessage &&\r\n                                                Boolean(errors.greetingMessage)\r\n                                              }\r\n                                              helperText={\r\n                                                touched.greetingMessage &&\r\n                                                errors.greetingMessage\r\n                                              }\r\n                                              className={classes.textField}\r\n                                            />\r\n\r\n                                          </Grid>\r\n                                        )}\r\n                                      </div>\r\n\r\n                                      {steps.options[index].queueType === \"queue\" && (\r\n                                        <>\r\n                                          <Grid xs={12} md={12} item>\r\n                                            <Field\r\n                                              as={TextField}\r\n                                              name={`options[${index}].greetingMessage`}\r\n                                              label={i18n.t(\"queueModal.form.message\")}\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              multiline\r\n                                              error={\r\n                                                touched.greetingMessage &&\r\n                                                Boolean(errors.greetingMessage)\r\n                                              }\r\n                                              helperText={\r\n                                                touched.greetingMessage &&\r\n                                                errors.greetingMessage\r\n                                              }\r\n                                              className={classes.textField}\r\n                                            />\r\n                                          </Grid>\r\n                                          <Grid xs={12} md={8} item>\r\n                                            <FormControl\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              className={classes.FormControl}\r\n                                              fullWidth\r\n                                            >\r\n                                              <InputLabel id=\"queue-selection-label\">{i18n.t(\"queueModal.form.queue\")}</InputLabel>\r\n                                              <Field\r\n                                                as={Select}\r\n                                                name={`options[${index}].optQueueId`}\r\n                                                labelId=\"queue-selection-label\"\r\n                                                label={i18n.t(\"queueModal.form.queue\")}\r\n                                                error={touched?.options?.[index]?.optQueueId &&\r\n                                                  Boolean(errors?.options?.[index]?.optQueueId)}\r\n                                                helpertext={touched?.options?.[index]?.optQueueId && errors?.options?.[index]?.optQueueId}\r\n                                                // value={`options[${index}].optQueueId`}\r\n                                                fullWidth\r\n                                                variant=\"outlined\"\r\n                                                margin=\"dense\"\r\n                                              >\r\n                                                {queues.map(queue => (\r\n                                                  <MenuItem key={queue.id} value={queue.id}>\r\n                                                    {queue.name}\r\n                                                  </MenuItem>\r\n                                                ))}\r\n                                              </Field>\r\n                                            </FormControl>\r\n                                          </Grid>\r\n                                        </>\r\n                                      )}\r\n                                      {steps.options[index].queueType === \"attendent\" && (\r\n                                        <>\r\n                                          <Grid xs={12} md={12} item>\r\n                                            <Field\r\n                                              as={TextField}\r\n                                              name={`options[${index}].greetingMessage`}\r\n                                              label={i18n.t(\"queueModal.form.message\")}\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              multiline\r\n                                              error={\r\n                                                touched.greetingMessage &&\r\n                                                Boolean(errors.greetingMessage)\r\n                                              }\r\n                                              helperText={\r\n                                                touched.greetingMessage &&\r\n                                                errors.greetingMessage\r\n                                              }\r\n                                              className={classes.textField}\r\n                                            />\r\n                                          </Grid>\r\n                                          {/* SELECIONAR USUARIO */}\r\n                                          <Grid xs={12} md={4} item>\r\n                                            <Autocomplete\r\n                                              style={{ marginTop: '8px' }}\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              getOptionLabel={(option) => `${option.name}`}\r\n                                              value={steps.options[index].user}\r\n                                              onChange={(e, newValue) => {\r\n                                                setSelectedUser(newValue);\r\n                                                if (newValue != null) {\r\n                                                  setFieldValue(`options[${index}].optUserId`, newValue.id);\r\n                                                } else {\r\n                                                  setFieldValue(`options[${index}].optUserId`, null);\r\n\r\n                                                }\r\n                                                if (newValue != null && Array.isArray(newValue.queues)) {\r\n                                                  if (newValue.queues.length === 1) {\r\n                                                    setSelectedQueueOption(newValue.queues[0].id);\r\n                                                    setFieldValue(`options[${index}].optQueueId`, newValue.queues[0].id);\r\n                                                  }\r\n                                                  setQueues(newValue.queues);\r\n\r\n                                                } else {\r\n                                                  setQueues(allQueues);\r\n                                                  setSelectedQueueOption(\"\");\r\n                                                }\r\n                                              }}\r\n                                              options={userOptions}\r\n                                              filterOptions={filterOptions}\r\n                                              freeSolo\r\n                                              fullWidth\r\n                                              autoHighlight\r\n                                              noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\r\n                                              loading={loading}\r\n                                              size=\"small\"\r\n                                              renderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\r\n                                              renderInput={(params) => (\r\n                                                <TextField\r\n                                                  {...params}\r\n                                                  label={i18n.t(\"transferTicketModal.fieldLabel\")}\r\n                                                  variant=\"outlined\"\r\n                                                  onChange={(e) => setSearchParam(e.target.value)}\r\n                                                  InputProps={{\r\n                                                    ...params.InputProps,\r\n                                                    endAdornment: (\r\n                                                      <Fragment>\r\n                                                        {loading ? (\r\n                                                          <CircularProgress color=\"inherit\" size={20} />\r\n                                                        ) : null}\r\n                                                        {params.InputProps.endAdornment}\r\n                                                      </Fragment>\r\n                                                    ),\r\n                                                  }}\r\n                                                />\r\n                                              )}\r\n                                            />\r\n                                          </Grid>\r\n                                          <Grid xs={12} md={4} item>\r\n                                            <FormControl\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              className={classes.formControl}\r\n                                            >\r\n                                              <InputLabel>\r\n                                                {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\r\n                                              </InputLabel>\r\n                                              <Select\r\n                                                value={selectedQueueOption}\r\n                                                onChange={(e) => {\r\n                                                  setSelectedQueueOption(e.target.value)\r\n                                                  setFieldValue(`options[${index}].optQueueId`, e.target.value);\r\n                                                }}\r\n                                                label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\r\n                                              >\r\n                                                {queues.map((queue) => (\r\n                                                  <MenuItem key={queue.id} value={queue.id}>\r\n                                                    {queue.name}\r\n                                                  </MenuItem>\r\n                                                ))}\r\n                                              </Select>\r\n                                            </FormControl>\r\n                                          </Grid>\r\n                                        </>\r\n                                      )}\r\n                                      {steps.options[index].queueType === \"integration\" && (\r\n                                        <>\r\n                                          <Grid xs={12} md={12} item>\r\n                                            <Field\r\n                                              as={TextField}\r\n                                              name={`options[${index}].greetingMessage`}\r\n                                              label={i18n.t(\"queueModal.form.message\")}\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              multiline\r\n                                              error={\r\n                                                touched.greetingMessage &&\r\n                                                Boolean(errors.greetingMessage)\r\n                                              }\r\n                                              helperText={\r\n                                                touched.greetingMessage &&\r\n                                                errors.greetingMessage\r\n                                              }\r\n                                              className={classes.textField}\r\n                                            />\r\n                                          </Grid>\r\n                                          <Grid xs={12} md={8} item>\r\n                                            <FormControl\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              className={classes.formControl}\r\n                                            >\r\n                                              <InputLabel id=\"optIntegrationId-selection-label\">\r\n                                                {i18n.t(\"queueModal.form.integration\")}\r\n                                              </InputLabel>\r\n                                              <Field\r\n                                                as={Select}\r\n                                                name={`options[${index}].optIntegrationId`}\r\n                                                labelId=\"optIntegrationId-selection-label\"\r\n                                                label={i18n.t(\"queueModal.form.integration\")}\r\n                                                variant=\"outlined\"\r\n                                                margin=\"dense\"\r\n                                                fullWidth\r\n                                                error={touched?.options?.[index]?.optIntegrationId &&\r\n                                                  Boolean(errors?.options?.[index]?.optIntegrationId)}\r\n                                                helpertext={touched?.options?.[index]?.optIntegrationId && errors?.options?.[index]?.optIntegrationId}\r\n                                              // value={`options[${index}].optQueueId`}\r\n                                              >\r\n                                                {integrations.map(integration => (\r\n                                                  <MenuItem key={integration.id} value={integration.id}>\r\n                                                    {integration.name}\r\n                                                  </MenuItem>\r\n                                                ))}\r\n                                              </Field>\r\n                                            </FormControl>\r\n                                          </Grid>\r\n                                        </>\r\n                                      )}\r\n                                      {steps.options[index].queueType === \"file\" && (\r\n                                        <>\r\n                                          <Grid xs={12} md={12} item>\r\n                                            <Field\r\n                                              as={TextField}\r\n                                              name={`options[${index}].greetingMessage`}\r\n                                              label={i18n.t(\"queueModal.form.message\")}\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              multiline\r\n                                              error={\r\n                                                touched.greetingMessage &&\r\n                                                Boolean(errors.greetingMessage)\r\n                                              }\r\n                                              helperText={\r\n                                                touched.greetingMessage &&\r\n                                                errors.greetingMessage\r\n                                              }\r\n                                              className={classes.textField}\r\n                                            />\r\n                                          </Grid>\r\n\r\n                                          <Grid xs={12} md={8} item>\r\n                                            <FormControl\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              className={classes.formControl}\r\n                                            >\r\n                                              <InputLabel id=\"optFileId-selection-label\">\r\n                                                {i18n.t(\"queueModal.form.file\")}\r\n                                              </InputLabel>\r\n                                              <Field\r\n                                                as={Select}\r\n                                                name={`options[${index}].optFileId`}\r\n                                                labelId=\"optFileId-selection-label\"\r\n                                                label={i18n.t(\"queueModal.form.file\")}\r\n                                                error={touched?.options?.[index]?.optFileId &&\r\n                                                  Boolean(errors?.options?.[index]?.optFileId)}\r\n                                                helpertext={touched?.options?.[index]?.optFileId && errors?.options?.[index]?.optFileId}\r\n                                                // value={`options[${index}].optQueueId`}\r\n                                                variant=\"outlined\"\r\n                                                margin=\"dense\"\r\n                                              >\r\n                                                {file.map(f => (\r\n                                                  <MenuItem key={f.id} value={f.id}>\r\n                                                    {f.name}\r\n                                                  </MenuItem>\r\n                                                ))}\r\n                                              </Field>\r\n                                            </FormControl>\r\n                                          </Grid>\r\n                                        </>\r\n                                      )}\r\n                                      <Grid xs={2} md={4} item>\r\n                                        <IconButton\r\n                                          size=\"small\"\r\n                                          onClick={() => handleSaveBot(values)}\r\n                                          disabled={isSubmitting}\r\n                                          style={{ marginTop: '8px' }}\r\n                                        >\r\n                                          {\" \"}\r\n                                          <SaveIcon />\r\n                                        </IconButton>\r\n                                      </Grid>\r\n                                    </Grid>\r\n\r\n                                  )}\r\n                                  {getStepContent(info.id)}\r\n                                </>\r\n                              </StepContent>\r\n                            )}\r\n                          </Step>\r\n                        ))}\r\n\r\n                      <Step>\r\n                        <StepLabel\r\n                          onClick={() =>\r\n                            push({\r\n                              name: undefined,\r\n                              greetingMessage: undefined,\r\n                            })\r\n                          }\r\n                        >\r\n                          {i18n.t(\"fileModal.buttons.fileOptions\")}\r\n                        </StepLabel>\r\n                      </Step>\r\n                    </Stepper>\r\n                  </>\r\n                )}\r\n              </FieldArray>\r\n            )}\r\n          />\r\n        </div>\r\n      )\r\n      }\r\n    </div >\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef, useContext, Fragment } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { FormControl, FormControlLabel, Grid, InputLabel, MenuItem, Paper, Select, Tab, Tabs } from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport { isArray } from \"lodash\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport ColorPicker from \"../ColorPicker\";\r\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\r\nimport { Colorize } from \"@material-ui/icons\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport StepContent from \"@material-ui/core/StepContent\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport Checkbox from '@mui/material/Checkbox';\r\n\r\nimport OptionsChatBot from \"../ChatBots/options\";\r\nimport CustomToolTip from \"../ToolTips\";\r\n\r\nimport SchedulesForm from \"../SchedulesForm\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport useQueues from \"../../hooks/useQueues\";\r\nimport UserStatusIcon from \"../UserModal/statusIcon\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport ColorBoxModal from \"../ColorBoxModal\";\r\n// import { ColorBox } from \"material-ui-color\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  textField1: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  colorAdorment: {\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n  greetingMessage: {\r\n    cursor: \"pointer\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n  custom: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n}));\r\n\r\nconst QueueSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  color: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\r\n  greetingMessage: Yup.string(),\r\n  chatbots: Yup.array()\r\n    .of(\r\n      Yup.object().shape({\r\n        name: Yup.string().min(4, \"too short\").required(\"Required\"),\r\n      })\r\n    )\r\n    .required(\"Must have friends\"),\r\n});\r\n\r\nconst QueueModal = ({ open, onClose, queueId, onEdit }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    color: \"\",\r\n    greetingMessage: \"\",\r\n    chatbots: [],\r\n    outOfHoursMessage: \"\",\r\n    orderQueue: \"\",\r\n    tempoRoteador: 0,\r\n    ativarRoteador: false,\r\n    integrationId: \"\",\r\n    fileListId: \"\",\r\n    closeTicket: false\r\n  };\r\n\r\n  const [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\r\n  const [queue, setQueue] = useState(initialState);\r\n  const greetingRef = useRef();\r\n  const [activeStep, setActiveStep] = useState(null);\r\n  const [selectedQueue, setSelectedQueue] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [isStepContent, setIsStepContent] = useState(true);\r\n  const [isNameEdit, setIsNamedEdit] = useState(null);\r\n  const [isGreetingMessageEdit, setGreetingMessageEdit] = useState(null);\r\n  const [queues, setQueues] = useState([]);\r\n\r\n  const [integrations, setIntegrations] = useState([]);\r\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\r\n  const [tab, setTab] = useState(0);\r\n  const [file, setFile] = useState(null);\r\n  const { user, socket } = useContext(AuthContext);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [selectedQueueOption, setSelectedQueueOption] = useState(\"\");\r\n  const { findAll: findAllQueues } = useQueues();\r\n  const [allQueues, setAllQueues] = useState([]);\r\n  const [userOptions, setUserOptions] = useState([]);\r\n  const isMounted = useRef(true);\r\n\r\n  const initialStateSchedule = [\r\n    { weekday: i18n.t(\"queueModal.serviceHours.monday\"), weekdayEn: \"monday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.tuesday\"), weekdayEn: \"tuesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.wednesday\"), weekdayEn: \"wednesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.thursday\"), weekdayEn: \"thursday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.friday\"), weekdayEn: \"friday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\r\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\r\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" }\r\n  ];\r\n\r\n\r\n  const [schedules, setSchedules] = useState(initialStateSchedule);\r\n\r\n  const companyId = user.companyId;\r\n\r\n  const { get: getSetting } = useCompanySettings();\r\n  const [showOpenAi, setShowOpenAi] = useState(false);\r\n  const [showIntegrations, setShowIntegrations] = useState(false);\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n\r\n      setShowOpenAi(planConfigs.plan.useOpenAi);\r\n      setShowIntegrations(planConfigs.plan.useIntegrations);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n\r\n      const setting = await getSetting({\r\n        \"column\": \"scheduleType\"\r\n      });\r\n      if (setting.scheduleType === \"queue\") setSchedulesEnabled(true);\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/files/\", {\r\n          params: { companyId }\r\n        });\r\n\r\n        setFile(data.files);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!queueId) return;\r\n      try {\r\n        const { data } = await api.get(`/queue/${queueId}`);\r\n\r\n        setQueue((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n\r\n        if (isArray(data.schedules) && data.schedules.length > 0)\r\n          setSchedules(data.schedules);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      setQueue({\r\n        name: \"\",\r\n        color: \"\",\r\n        greetingMessage: \"\",\r\n        chatbots: [],\r\n        outOfHoursMessage: \"\",\r\n        orderQueue: \"\",\r\n        tempoRoteador: \"\",\r\n        ativarRoteador: false,\r\n        integrationId: \"\",\r\n        fileListId: \"\",\r\n        closeTicket: false\r\n      });\r\n    };\r\n  }, [queueId, open]);\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      const loadQueues = async () => {\r\n        const list = await findAllQueues();\r\n        setAllQueues(list);\r\n        setQueues(list);\r\n\r\n      };\r\n      loadQueues();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (searchParam.length < 3) {\r\n      setLoading(false);\r\n      setSelectedQueueOption(\"\");\r\n      return;\r\n    }\r\n    const delayDebounceFn = setTimeout(() => {\r\n      //setLoading(true);\r\n      const fetchUsers = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/users/\");\r\n          setUserOptions(data.users);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n\r\n      fetchUsers();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/queueIntegration\");\r\n\r\n        setIntegrations(data.queueIntegrations);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n\r\n    if (activeStep) {\r\n      setSelectedQueueOption(queue.chatbots[activeStep]?.optQueueId)\r\n    }\r\n\r\n    if (activeStep === isNameEdit) {\r\n      setIsStepContent(false);\r\n    } else {\r\n      setIsStepContent(true);\r\n    }\r\n  }, [isNameEdit, activeStep]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setIsNamedEdit(null);\r\n    setActiveStep(null);\r\n    setGreetingMessageEdit(null);\r\n  };\r\n\r\n  const handleSaveSchedules = async (values) => {\r\n    toast.success(\"Clique em salvar para registar as alterações\");\r\n    setSchedules(values);\r\n    setTab(0);\r\n  };\r\n\r\n  const filterOptions = createFilterOptions({\r\n    trim: true,\r\n  });\r\n\r\n  const handleCloseConfirmationModal = () => {\r\n    setConfirmModalOpen(false);\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  const handleDeleteQueue = async (optionsId) => {\r\n    try {\r\n      await api.delete(`/chatbot/${optionsId}`);\r\n      const { data } = await api.get(`/queue/${queueId}`);\r\n      setQueue(initialState);\r\n      setQueue(data);\r\n\r\n      setIsNamedEdit(null);\r\n      setGreetingMessageEdit(null);\r\n      toast.success(`${i18n.t(\"queues.toasts.deleted\")}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleSaveQueue = async (values) => {\r\n    try {\r\n      if (queueId) {\r\n        await api.put(`/queue/${queueId}`, { ...values, schedules });\r\n      } else {\r\n        await api.post(\"/queue\", { ...values, schedules });\r\n      }\r\n\r\n      toast.success(`${i18n.t(\"queues.toasts.success\")}`);\r\n      handleClose();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleSaveBot = async (values) => {\r\n    try {\r\n      if (queueId) {\r\n        const { data } = await api.put(`/queue/${queueId}`, values);\r\n        if (data.chatbots && data.chatbots.length) {\r\n          onEdit(data);\r\n          setQueue(data);\r\n        }\r\n      } else {\r\n        const { data } = await api.post(\"/queue\", values);\r\n        if (data.chatbots && data.chatbots.length) {\r\n          setQueue(data);\r\n          onEdit(data);\r\n          handleClose();\r\n        }\r\n      }\r\n\r\n      setIsNamedEdit(null)\r\n      setGreetingMessageEdit(null)\r\n      toast.success(`${i18n.t(\"queues.toasts.success\")}`);\r\n\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  // const renderColorBox = (open, handleClose, color, handleColorChange) => {\r\n  //   return (\r\n  //     <Dialog open={open} onClose={handleClose}>\r\n\r\n  //       <DialogTitle>Escolha uma cor</DialogTitle>\r\n  //       <DialogContent>\r\n  //         <ColorBox\r\n  //           disableAlpha={true}\r\n  //           hslGradient={false}\r\n  //           style={{ margin: '20px auto 0' }}\r\n  //           value={color}\r\n  //           onChange={handleColorChange} />\r\n  //       </DialogContent>\r\n  //       <DialogActions>\r\n  //         <Button onClick={handleClose} color=\"primary\">\r\n  //           Cancelar\r\n  //         </Button>\r\n  //         <Button\r\n  //           color=\"primary\"\r\n  //           variant=\"contained\"\r\n  //           className={classes.btnWrapper}\r\n  //           onClick={handleClose} >\r\n  //           OK\r\n  //         </Button>\r\n  //       </DialogActions>\r\n  //     </Dialog>\r\n  //   )\r\n  // }\r\n  return (\r\n    <div className={classes.root}>\r\n      <ConfirmationModal\r\n        title={\r\n          selectedQueue &&\r\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${selectedQueue.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={handleCloseConfirmationModal}\r\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\r\n      >\r\n        {i18n.t(\"queueModal.title.confirmationDelete\")}\r\n      </ConfirmationModal>\r\n      <Dialog\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n        open={open}\r\n        onClose={handleClose}\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle>\r\n          {queueId\r\n            ? `${i18n.t(\"queueModal.title.edit\")}`\r\n            : `${i18n.t(\"queueModal.title.add\")}`}\r\n        </DialogTitle>\r\n        <Tabs\r\n          value={tab}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          onChange={(e, v) => setTab(v)}\r\n          aria-label=\"disabled tabs example\"\r\n        >\r\n          <Tab label={i18n.t(\"queueModal.title.queueData\")} />\r\n          {schedulesEnabled && <Tab label={i18n.t(\"queueModal.title.text\")} />}\r\n        </Tabs>\r\n        {tab === 0 && (\r\n          <Formik\r\n            initialValues={queue}\r\n            validateOnChange={false}\r\n            enableReinitialize={true}\r\n            validationSchema={QueueSchema}\r\n            onSubmit={(values, actions) => {\r\n              setTimeout(() => {\r\n                handleSaveQueue(values);\r\n                actions.setSubmitting(false);\r\n              }, 400);\r\n            }}\r\n          >\r\n            {({ setFieldValue, touched, errors, isSubmitting, values }) => (\r\n              <Form>\r\n                <DialogContent dividers>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"queueModal.form.name\")}\r\n                    autoFocus\r\n                    name=\"name\"\r\n                    error={touched.name && Boolean(errors.name)}\r\n                    helperText={touched.name && errors.name}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    className={classes.textField}\r\n                  />\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"queueModal.form.color\")}\r\n                    name=\"color\"\r\n                    id=\"color\"\r\n                    onFocus={() => {\r\n                      setColorPickerModalOpen(true);\r\n                      greetingRef.current.focus();\r\n                    }}\r\n                    error={touched.color && Boolean(errors.color)}\r\n                    helperText={touched.color && errors.color}\r\n                    InputProps={{\r\n                      startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                          <div\r\n                            style={{ backgroundColor: values.color }}\r\n                            className={classes.colorAdorment}\r\n                          ></div>\r\n                        </InputAdornment>\r\n                      ),\r\n                      endAdornment: (\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          color=\"default\"\r\n                          onClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\r\n                        >\r\n                          <Colorize />\r\n\r\n                        </IconButton>\r\n                      ),\r\n                    }}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                  />\r\n                  <ColorBoxModal\r\n                    open={colorPickerModalOpen}\r\n                    handleClose={() => setColorPickerModalOpen(false)}\r\n                    onChange={(color) => {\r\n                      setFieldValue(\"color\", `#${color.hex}`);\r\n                    }}\r\n                    currentColor={values.color}\r\n                  />\r\n                  \r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"queueModal.form.orderQueue\")}\r\n                    name=\"orderQueue\"\r\n                    type=\"orderQueue\"\r\n                    error={touched.orderQueue && Boolean(errors.orderQueue)}\r\n                    helperText={touched.orderQueue && errors.orderQueue}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    className={classes.textField1}\r\n                  />\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Field\r\n                        as={Switch}\r\n                        color=\"primary\"\r\n                        name=\"closeTicket\"\r\n                        checked={values.closeTicket}\r\n                      />\r\n                    }\r\n                    label={i18n.t(\"queueModal.form.closeTicket\")}\r\n                  />\r\n                  <div>\r\n                    <FormControlLabel\r\n                      control={\r\n                        <Field\r\n                          as={Switch}\r\n                          color=\"primary\"\r\n                          name=\"ativarRoteador\"\r\n                          checked={values.ativarRoteador}\r\n                        />\r\n                      }\r\n                      label={i18n.t(\"queueModal.form.rotate\")}\r\n                    />\r\n                    <Field\r\n                      as={Select}\r\n                      label={i18n.t(\"queueModal.form.timeRotate\")}\r\n                      name=\"tempoRoteador\"\r\n                      id=\"tempoRoteador\"\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      className={classes.selectField}\r\n                    >\r\n                      <MenuItem value=\"0\" selected disabled>{i18n.t(\"queueModal.form.timeRotate\")}</MenuItem>\r\n                      <MenuItem value=\"2\">2 minutos</MenuItem>\r\n                      <MenuItem value=\"5\">5 minutos</MenuItem>\r\n                      <MenuItem value=\"10\">10 minutos</MenuItem>\r\n                      <MenuItem value=\"15\">15 minutos</MenuItem>\r\n                      <MenuItem value=\"30\">30 minutos</MenuItem>\r\n                      <MenuItem value=\"45\">45 minutos</MenuItem>\r\n                      <MenuItem value=\"60\">60 minutos</MenuItem>\r\n                    </Field>\r\n                  </div>\r\n                  <div>\r\n                    {showIntegrations && (\r\n                      <FormControl\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        className={classes.FormControl}\r\n                        fullWidth\r\n                      >\r\n                        <InputLabel id=\"integrationId-selection-label\">\r\n                          {i18n.t(\"queueModal.form.integrationId\")}\r\n                        </InputLabel>\r\n                        <Field\r\n                          as={Select}\r\n                          label={i18n.t(\"queueModal.form.integrationId\")}\r\n                          name=\"integrationId\"\r\n                          id=\"integrationId\"\r\n                          placeholder={i18n.t(\"queueModal.form.integrationId\")}\r\n                          labelId=\"integrationId-selection-label\"\r\n                          value={values.integrationId || \"\"}\r\n                        >\r\n                          <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\r\n                          {integrations.map((integration) => (\r\n                            <MenuItem key={integration.id} value={integration.id}>\r\n                              {integration.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Field>\r\n\r\n                      </FormControl>\r\n                    )}\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      className={classes.FormControl}\r\n                      fullWidth\r\n                    >\r\n                      <InputLabel id=\"fileListId-selection-label\">{i18n.t(\"queueModal.form.fileListId\")}</InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"queueModal.form.fileListId\")}\r\n                        name=\"fileListId\"\r\n                        id=\"fileListId\"\r\n                        placeholder={i18n.t(\"queueModal.form.fileListId\")}\r\n                        labelId=\"fileListId-selection-label\"\r\n                        value={values.fileListId || \"\"}\r\n                      >\r\n                        <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\r\n                        {file.map(f => (\r\n                          <MenuItem key={f.id} value={f.id}>\r\n                            {f.name}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Field>\r\n                    </FormControl>\r\n                  </div>\r\n                  <div>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"queueModal.form.greetingMessage\")}\r\n                      type=\"greetingMessage\"\r\n                      multiline\r\n                      inputRef={greetingRef}\r\n                      minRows={5}\r\n                      fullWidth\r\n                      name=\"greetingMessage\"\r\n                      error={\r\n                        touched.greetingMessage && Boolean(errors.greetingMessage)\r\n                      }\r\n                      helperText={\r\n                        touched.greetingMessage && errors.greetingMessage\r\n                      }\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                    />\r\n                    {schedulesEnabled && (\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"queueModal.form.outOfHoursMessage\")}\r\n                        type=\"outOfHoursMessage\"\r\n                        multiline\r\n                        rows={5}\r\n                        fullWidth\r\n                        required={schedulesEnabled}\r\n                        name=\"outOfHoursMessage\"\r\n                        error={\r\n                          touched.outOfHoursMessage &&\r\n                          Boolean(errors.outOfHoursMessage)\r\n                        }\r\n                        helperText={\r\n                          touched.outOfHoursMessage && errors.outOfHoursMessage\r\n                        }\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n\r\n                  <Typography variant=\"subtitle1\">\r\n                    {i18n.t(\"queueModal.bot.title\")}\r\n                    <CustomToolTip\r\n                      title={i18n.t(\"queueModal.bot.toolTipTitle\")}\r\n                      content={i18n.t(\"queueModal.bot.toolTip\")}\r\n                    >\r\n                      <HelpOutlineOutlinedIcon\r\n                        style={{ marginLeft: \"14px\" }}\r\n                        fontSize=\"small\"\r\n                      />\r\n                    </CustomToolTip>\r\n                  </Typography>\r\n\r\n                  <div>\r\n                    <FieldArray name=\"chatbots\">\r\n                      {({ push, remove }) => (\r\n                        <>\r\n                          <Stepper\r\n                            nonLinear\r\n                            activeStep={activeStep}\r\n                            orientation=\"vertical\"\r\n                          >\r\n                            {values.chatbots &&\r\n                              values.chatbots.length > 0 &&\r\n                              values.chatbots.map((info, index) => (\r\n                                <Step\r\n                                  key={`${info.id ? info.id : index}-chatbots`}\r\n                                  onClick={() => setActiveStep(index)}\r\n                                >\r\n                                  <StepLabel key={`${info.id}-chatbots`}>\r\n                                    {isNameEdit !== index &&\r\n                                      queue.chatbots[index]?.name ? (\r\n                                      <div\r\n                                        className={classes.greetingMessage}\r\n                                        variant=\"body1\"\r\n                                      >\r\n                                        {values.chatbots[index].name}\r\n\r\n                                        <IconButton\r\n                                          size=\"small\"\r\n                                          onClick={() => {\r\n                                            setIsNamedEdit(index);\r\n                                            setIsStepContent(false);\r\n                                          }}\r\n                                        >\r\n                                          <EditIcon />\r\n                                        </IconButton>\r\n\r\n                                        <IconButton\r\n                                          onClick={() => {\r\n                                            setSelectedQueue(info);\r\n                                            setConfirmModalOpen(true);\r\n                                          }}\r\n                                          size=\"small\"\r\n                                        >\r\n                                          <DeleteOutline />\r\n                                        </IconButton>\r\n                                      </div>\r\n                                    ) : (\r\n                                      <Grid spacing={2} container>\r\n                                        <Grid xs={12} md={12} item>\r\n\r\n                                          <Field\r\n                                            as={TextField}\r\n                                            name={`chatbots[${index}].name`}\r\n                                            variant=\"outlined\"\r\n                                            margin=\"dense\"\r\n                                            color=\"primary\"\r\n                                            label={i18n.t(\"queueModal.form.greetingMessage\")}\r\n                                            disabled={isSubmitting}\r\n                                            autoFocus\r\n                                            fullWidth\r\n                                            size=\"small\"\r\n                                            error={\r\n                                              touched?.chatbots?.[index]?.name &&\r\n                                              Boolean(\r\n                                                errors.chatbots?.[index]?.name\r\n                                              )\r\n                                            }\r\n                                            className={classes.textField}\r\n                                          />\r\n                                        </Grid>\r\n                                        <Grid xs={12} md={8} item>\r\n                                          <FormControl\r\n                                            variant=\"outlined\"\r\n                                            margin=\"dense\"\r\n                                            className={classes.formControl}\r\n                                            fullWidth\r\n                                          >\r\n                                            <InputLabel id=\"queueType-selection-label\">{i18n.t(\"queueModal.form.queueType\")}</InputLabel>\r\n\r\n                                            <Field\r\n                                              as={Select}\r\n                                              name={`chatbots[${index}].queueType`}\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              labelId=\"queueType-selection-label\"\r\n                                              label={i18n.t(\"queueModal.form.queueType\")}\r\n                                              error={touched?.chatbots?.[index]?.queueType &&\r\n                                                Boolean(errors?.chatbots?.[index]?.queueType)}\r\n                                            // helpertext={touched?.chatbots?.[index]?.queueType && errors?.chatbots?.[index]?.queueType}\r\n                                            // value={`chatbots[${index}].queueType`}\r\n                                            >\r\n                                              <MenuItem value={\"text\"}>{i18n.t(\"queueModal.bot.text\")}</MenuItem>\r\n                                              <MenuItem value={\"attendent\"}>{i18n.t(\"queueModal.bot.attendent\")}</MenuItem>\r\n                                              <MenuItem value={\"queue\"}>{i18n.t(\"queueModal.bot.queue\")}</MenuItem>\r\n                                              <MenuItem value={\"integration\"}>{i18n.t(\"queueModal.bot.integration\")}</MenuItem>\r\n                                              <MenuItem value={\"file\"}>{i18n.t(\"queueModal.bot.file\")}</MenuItem>\r\n                                            </Field>\r\n                                          </FormControl>\r\n                                        </Grid>\r\n\r\n                                        <Grid xs={12} md={4} item>\r\n                                          <FormControlLabel\r\n                                            control={\r\n                                              <Field\r\n                                                as={Checkbox}\r\n                                                color=\"primary\"\r\n                                                name={`chatbots[${index}].closeTicket`}\r\n                                                checked={values.chatbots[index].closeTicket || false}\r\n                                              />\r\n                                            }\r\n                                            labelPlacement=\"top\"\r\n                                            label={i18n.t(\"queueModal.form.closeTicket\")}\r\n                                          />\r\n\r\n                                          <IconButton\r\n                                            size=\"small\"\r\n                                            onClick={() =>\r\n                                              values.chatbots[index].name\r\n                                                ? handleSaveBot(values)\r\n                                                : null\r\n                                            }\r\n                                            disabled={isSubmitting}\r\n                                          >\r\n                                            <SaveIcon />\r\n                                          </IconButton>\r\n\r\n                                          <IconButton\r\n                                            size=\"small\"\r\n                                            onClick={() => remove(index)}\r\n                                            disabled={isSubmitting}\r\n                                          >\r\n                                            <DeleteOutline />\r\n                                          </IconButton>\r\n                                        </Grid>\r\n                                      </Grid>\r\n                                    )}\r\n                                  </StepLabel>\r\n\r\n                                  {isStepContent && queue.chatbots[index] && (\r\n                                    <StepContent>\r\n                                      <>\r\n                                        {isGreetingMessageEdit !== index ? (\r\n                                          <div\r\n                                            className={classes.greetingMessage}\r\n                                          >\r\n                                            <Typography\r\n                                              color=\"textSecondary\"\r\n                                              variant=\"body1\"\r\n                                            >\r\n                                              Message:\r\n                                            </Typography>\r\n\r\n                                            {\r\n                                              values.chatbots[index]\r\n                                                .greetingMessage\r\n                                            }\r\n\r\n                                            {!queue.chatbots[index]\r\n                                              ?.greetingMessage && (\r\n                                                <CustomToolTip\r\n                                                  title={i18n.t(\"queueModal.bot.toolTipMessageTitle\")}\r\n                                                  content={i18n.t(\"queueModal.bot.toolTipMessageContent\")}\r\n                                                >\r\n                                                  <HelpOutlineOutlinedIcon\r\n                                                    color=\"secondary\"\r\n                                                    style={{ marginLeft: \"4px\" }}\r\n                                                    fontSize=\"small\"\r\n                                                  />\r\n                                                </CustomToolTip>\r\n                                              )}\r\n\r\n                                            <IconButton\r\n                                              size=\"small\"\r\n                                              onClick={() =>\r\n                                                setGreetingMessageEdit(index)\r\n                                              }\r\n                                            >\r\n                                              <EditIcon />\r\n                                            </IconButton>\r\n                                          </div>\r\n                                        ) : (\r\n                                          <Grid spacing={2} container>\r\n                                            <div\r\n                                              className={classes.greetingMessage}\r\n                                            >\r\n                                              {queue.chatbots[index].queueType === \"text\" && (\r\n                                                <Grid xs={12} md={12} item>\r\n                                                  <Field\r\n                                                    as={TextField}\r\n                                                    name={`chatbots[${index}].greetingMessage`}\r\n                                                    label={i18n.t(\"queueModal.form.message\")}\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    fullWidth\r\n                                                    multiline\r\n                                                    error={\r\n                                                      touched.greetingMessage &&\r\n                                                      Boolean(errors.greetingMessage)\r\n                                                    }\r\n                                                    helperText={\r\n                                                      touched.greetingMessage &&\r\n                                                      errors.greetingMessage\r\n                                                    }\r\n                                                    className={classes.textField}\r\n                                                  />\r\n\r\n                                                </Grid>\r\n                                              )}\r\n                                            </div>\r\n                                            {queue.chatbots[index].queueType === \"queue\" && (\r\n                                              <>\r\n                                                <Grid xs={12} md={12} item>\r\n                                                  <Field\r\n                                                    as={TextField}\r\n                                                    name={`chatbots[${index}].greetingMessage`}\r\n                                                    label={i18n.t(\"queueModal.form.message\")}\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    fullWidth\r\n                                                    multiline\r\n                                                    error={\r\n                                                      touched.greetingMessage &&\r\n                                                      Boolean(errors.greetingMessage)\r\n                                                    }\r\n                                                    helperText={\r\n                                                      touched.greetingMessage &&\r\n                                                      errors.greetingMessage\r\n                                                    }\r\n                                                    className={classes.textField}\r\n                                                  />\r\n                                                </Grid>\r\n                                                <Grid xs={12} md={8} item>\r\n                                                  <FormControl\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    className={classes.FormControl}\r\n                                                    fullWidth\r\n                                                  >\r\n                                                    <InputLabel id=\"queue-selection-label\">{i18n.t(\"queueModal.form.queue\")}</InputLabel>\r\n                                                    <Field\r\n                                                      as={Select}\r\n                                                      name={`chatbots[${index}].optQueueId`}\r\n                                                      error={touched?.chatbots?.[index]?.optQueueId &&\r\n                                                        Boolean(errors?.chatbots?.[index]?.optQueueId)}\r\n                                                      helpertext={touched?.chatbots?.[index]?.optQueueId && errors?.chatbots?.[index]?.optQueueId}\r\n                                                      // value={`chatbots[${index}].optQueueId`}\r\n                                                      className={classes.textField1}\r\n                                                    >\r\n                                                      {queues.map(queue => (\r\n                                                        <MenuItem key={queue.id} value={queue.id}>\r\n                                                          {queue.name}\r\n                                                        </MenuItem>\r\n                                                      ))}\r\n                                                    </Field>\r\n                                                  </FormControl>\r\n                                                </Grid>\r\n                                              </>\r\n                                            )}\r\n                                            {queue.chatbots[index].queueType === \"attendent\" && (\r\n                                              <>\r\n                                                <Grid xs={12} md={12} item>\r\n                                                  <Field\r\n                                                    as={TextField}\r\n                                                    name={`chatbots[${index}].greetingMessage`}\r\n                                                    label={i18n.t(\"queueModal.form.message\")}\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    fullWidth\r\n                                                    multiline\r\n                                                    error={\r\n                                                      touched.greetingMessage &&\r\n                                                      Boolean(errors.greetingMessage)\r\n                                                    }\r\n                                                    helperText={\r\n                                                      touched.greetingMessage &&\r\n                                                      errors.greetingMessage\r\n                                                    }\r\n                                                    className={classes.textField}\r\n                                                  />\r\n                                                </Grid>\r\n                                                {/* SELECIONAR USUARIO */}\r\n                                                <Grid xs={12} md={4} item>\r\n                                                  <Autocomplete\r\n                                                    style={{ marginTop: '8px' }}\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    getOptionLabel={(option) => `${option.name}`}\r\n                                                    value={queue.chatbots[index].user}\r\n                                                    onChange={(e, newValue) => {\r\n                                                      if (newValue != null) {\r\n                                                        setFieldValue(`chatbots[${index}].optUserId`, newValue.id);\r\n                                                      } else {\r\n                                                        setFieldValue(`chatbots[${index}].optUserId`, null);\r\n\r\n                                                      }\r\n                                                      if (newValue != null && Array.isArray(newValue.queues)) {\r\n                                                        if (newValue.queues.length === 1) {\r\n                                                          setSelectedQueueOption(newValue.queues[0].id);\r\n                                                          setFieldValue(`chatbots[${index}].optQueueId`, newValue.queues[0].id);\r\n                                                        }\r\n                                                        setQueues(newValue.queues);\r\n\r\n                                                      } else {\r\n                                                        setQueues(allQueues);\r\n                                                        setSelectedQueueOption(\"\");\r\n                                                      }\r\n                                                    }}\r\n                                                    options={userOptions}\r\n                                                    filterOptions={filterOptions}\r\n                                                    freeSolo\r\n                                                    fullWidth\r\n                                                    autoHighlight\r\n                                                    noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\r\n                                                    loading={loading}\r\n                                                    size=\"small\"\r\n                                                    renderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\r\n                                                    renderInput={(params) => (\r\n                                                      <TextField\r\n                                                        {...params}\r\n                                                        label={i18n.t(\"transferTicketModal.fieldLabel\")}\r\n                                                        variant=\"outlined\"\r\n                                                        onChange={(e) => setSearchParam(e.target.value)}\r\n                                                        InputProps={{\r\n                                                          ...params.InputProps,\r\n                                                          endAdornment: (\r\n                                                            <Fragment>\r\n                                                              {loading ? (\r\n                                                                <CircularProgress color=\"inherit\" size={20} />\r\n                                                              ) : null}\r\n                                                              {params.InputProps.endAdornment}\r\n                                                            </Fragment>\r\n                                                          ),\r\n                                                        }}\r\n                                                      />\r\n                                                    )}\r\n                                                  />\r\n                                                </Grid>\r\n                                                <Grid xs={12} md={4} item>\r\n                                                  <FormControl\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    fullWidth\r\n                                                    className={classes.formControl}\r\n                                                  >\r\n                                                    <InputLabel>\r\n                                                      {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\r\n                                                    </InputLabel>\r\n                                                    <Select\r\n                                                      value={selectedQueueOption}\r\n                                                      onChange={(e) => {\r\n                                                        setSelectedQueueOption(e.target.value)\r\n                                                        setFieldValue(`chatbots[${index}].optQueueId`, e.target.value);\r\n                                                      }}\r\n                                                      label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\r\n                                                    >\r\n                                                      {queues.map((queue) => (\r\n                                                        <MenuItem key={queue.id} value={queue.id}>\r\n                                                          {queue.name}\r\n                                                        </MenuItem>\r\n                                                      ))}\r\n                                                    </Select>\r\n                                                  </FormControl>\r\n                                                </Grid>\r\n                                              </>\r\n                                            )}\r\n                                            {queue.chatbots[index].queueType === \"integration\" && (\r\n                                              <>\r\n                                                <Grid xs={12} md={12} item>\r\n                                                  <Field\r\n                                                    as={TextField}\r\n                                                    name={`chatbots[${index}].greetingMessage`}\r\n                                                    label={i18n.t(\"queueModal.form.message\")}\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    fullWidth\r\n                                                    multiline\r\n                                                    error={\r\n                                                      touched.greetingMessage &&\r\n                                                      Boolean(errors.greetingMessage)\r\n                                                    }\r\n                                                    helperText={\r\n                                                      touched.greetingMessage &&\r\n                                                      errors.greetingMessage\r\n                                                    }\r\n                                                    className={classes.textField}\r\n                                                  />\r\n                                                </Grid>\r\n                                                <Grid xs={12} md={8} item>\r\n                                                  <FormControl\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    className={classes.FormControl}\r\n                                                    fullWidth\r\n                                                  >\r\n                                                    <InputLabel id=\"optIntegrationId-selection-label\">{i18n.t(\"queueModal.form.integration\")}</InputLabel>\r\n                                                    <Field\r\n                                                      as={Select}\r\n                                                      name={`chatbots[${index}].optIntegrationId`}\r\n                                                      error={touched?.chatbots?.[index]?.optIntegrationId &&\r\n                                                        Boolean(errors?.chatbots?.[index]?.optIntegrationId)}\r\n                                                      helpertext={touched?.chatbots?.[index]?.optIntegrationId && errors?.chatbots?.[index]?.optIntegrationId}\r\n                                                      // value={`chatbots[${index}].optQueueId`}\r\n                                                      className={classes.textField1}\r\n                                                    >\r\n                                                      {integrations.map(integration => (\r\n                                                        <MenuItem key={integration.id} value={integration.id}>\r\n                                                          {integration.name}\r\n                                                        </MenuItem>\r\n                                                      ))}\r\n                                                    </Field>\r\n                                                  </FormControl>\r\n                                                </Grid>\r\n                                              </>\r\n                                            )}\r\n                                            {queue.chatbots[index].queueType === \"file\" && (\r\n                                              <>\r\n                                                <Grid xs={12} md={12} item>\r\n                                                  <Field\r\n                                                    as={TextField}\r\n                                                    name={`chatbots[${index}].greetingMessage`}\r\n                                                    label={i18n.t(\"queueModal.form.message\")}\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    fullWidth\r\n                                                    multiline\r\n                                                    error={\r\n                                                      touched.greetingMessage &&\r\n                                                      Boolean(errors.greetingMessage)\r\n                                                    }\r\n                                                    helperText={\r\n                                                      touched.greetingMessage &&\r\n                                                      errors.greetingMessage\r\n                                                    }\r\n                                                    className={classes.textField}\r\n                                                  />\r\n                                                </Grid>\r\n                                                <InputLabel>{\"Selecione um Arquivo\"}</InputLabel>\r\n                                                <Field\r\n                                                  as={Select}\r\n                                                  name={`chatbots[${index}].optFileId`}\r\n                                                  error={touched?.chatbots?.[index]?.optFileId &&\r\n                                                    Boolean(errors?.chatbots?.[index]?.optFileId)}\r\n                                                  helpertext={touched?.chatbots?.[index]?.optFileId && errors?.chatbots?.[index]?.optFileId}\r\n                                                  className={classes.textField1}\r\n                                                >\r\n                                                  {file.map(f => (\r\n                                                    <MenuItem key={f.id} value={f.id}>\r\n                                                      {f.name}\r\n                                                    </MenuItem>\r\n                                                  ))}\r\n                                                </Field>\r\n                                              </>\r\n                                            )}\r\n                                            <IconButton\r\n                                              size=\"small\"\r\n                                              onClick={() =>\r\n                                                handleSaveBot(values)\r\n                                              }\r\n                                              disabled={isSubmitting}\r\n                                            >\r\n                                              {\" \"}\r\n                                              <SaveIcon />\r\n                                            </IconButton>\r\n                                          </Grid>\r\n                                        )}\r\n\r\n                                        <OptionsChatBot chatBotId={info.id} />\r\n                                      </>\r\n                                    </StepContent>\r\n                                  )}\r\n                                </Step>\r\n                              ))}\r\n\r\n                            <Step>\r\n                              <StepLabel\r\n                                onClick={() => push({ name: \"\", value: \"\" })}\r\n                              >\r\n                                {i18n.t(\"queueModal.bot.addOptions\")}\r\n                              </StepLabel>\r\n                            </Step>\r\n                          </Stepper>\r\n                        </>\r\n                      )}\r\n                    </FieldArray>\r\n                  </div>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                  <Button\r\n                    onClick={handleClose}\r\n                    // color=\"secondary\"\r\n                    disabled={isSubmitting}\r\n                  // variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"queueModal.buttons.cancel\")}\r\n                  </Button>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    color=\"primary\"\r\n                    disabled={isSubmitting}\r\n                    variant=\"contained\"\r\n                    className={classes.btnWrapper}\r\n                  >\r\n                    {queueId\r\n                      ? `${i18n.t(\"queueModal.buttons.okEdit\")}`\r\n                      : `${i18n.t(\"queueModal.buttons.okAdd\")}`}\r\n                    {isSubmitting && (\r\n                      <CircularProgress\r\n                        size={24}\r\n                        className={classes.buttonProgress}\r\n                      />\r\n                    )}\r\n                  </Button>\r\n                </DialogActions>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        )}\r\n        {tab === 1 && (\r\n          <Paper style={{ padding: 20 }}>\r\n            <SchedulesForm\r\n              loading={false}\r\n              onSubmit={handleSaveSchedules}\r\n              initialValues={schedules}\r\n              labelSaveButton={i18n.t(\"whatsappModal.buttons.okAdd\")}\r\n            />\r\n          </Paper>\r\n        )}\r\n      </Dialog>\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default QueueModal;","import React, { useEffect, useReducer, useState, useContext } from \"react\";\r\n\r\nimport {\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport Title from \"../../components/Title\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\r\nimport QueueModal from \"../../components/QueueModal\";\r\nimport { toast } from \"react-toastify\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  customTableCell: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n}));\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_QUEUES\") {\r\n    const queues = action.payload;\r\n    const newQueues = [];\r\n\r\n    queues.forEach((queue) => {\r\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\r\n      if (queueIndex !== -1) {\r\n        state[queueIndex] = queue;\r\n      } else {\r\n        newQueues.push(queue);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newQueues];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_QUEUES\") {\r\n    const queue = action.payload;\r\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\r\n\r\n    if (queueIndex !== -1) {\r\n      state[queueIndex] = queue;\r\n      return [...state];\r\n    } else {\r\n      return [queue, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_QUEUE\") {\r\n    const queueId = action.payload;\r\n    const queueIndex = state.findIndex((q) => q.id === queueId);\r\n    if (queueIndex !== -1) {\r\n      state.splice(queueIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst Queues = () => {\r\n  const classes = useStyles();\r\n\r\n  const [queues, dispatch] = useReducer(reducer, []);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\r\n  const [selectedQueue, setSelectedQueue] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n  const companyId = user.companyId;\r\n\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n      try {\r\n        const { data } = await api.get(\"/queue\");\r\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\r\n\r\n        setLoading(false);\r\n      } catch (err) {\r\n        toastError(err);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n\r\n    const onQueueEvent = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\r\n      }\r\n    };\r\n    socket.on(`company-${companyId}-queue`, onQueueEvent);\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-queue`, onQueueEvent);\r\n    };\r\n  }, [socket, companyId]);\r\n\r\n  const handleOpenQueueModal = () => {\r\n    setQueueModalOpen(true);\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  const handleCloseQueueModal = () => {\r\n    setQueueModalOpen(false);\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  const handleEditQueue = (queue) => {\r\n    setSelectedQueue(queue);\r\n    setQueueModalOpen(true);\r\n  };\r\n\r\n  const handleCloseConfirmationModal = () => {\r\n    setConfirmModalOpen(false);\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  const handleDeleteQueue = async (queueId) => {\r\n    try {\r\n      await api.delete(`/queue/${queueId}`);\r\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          selectedQueue &&\r\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${selectedQueue.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={handleCloseConfirmationModal}\r\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\r\n      >\r\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <QueueModal\r\n        open={queueModalOpen}\r\n        onClose={handleCloseQueueModal}\r\n        queueId={selectedQueue?.id}\r\n        onEdit={(res) => {\r\n          if (res) {\r\n            setTimeout(() => {\r\n              handleEditQueue(res)\r\n            }, 500)\r\n          }\r\n        }}\r\n      />\r\n      {user.profile === \"user\" ?\r\n        <ForbiddenPage />\r\n        :\r\n        <>\r\n          <MainHeader>\r\n            <Title>{i18n.t(\"queues.title\")} ({queues.length})</Title>\r\n            <MainHeaderButtonsWrapper>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleOpenQueueModal}\r\n              >\r\n                {i18n.t(\"queues.buttons.add\")}\r\n              </Button>\r\n            </MainHeaderButtonsWrapper>\r\n          </MainHeader>\r\n          <Paper className={classes.mainPaper} variant=\"outlined\">\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"queues.table.ID\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"queues.table.name\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"queues.table.color\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"queues.table.orderQueue\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"queues.table.greeting\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"queues.table.actions\")}\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <>\r\n                  {queues.map((queue) => (\r\n                    <TableRow key={queue.id}>\r\n                      <TableCell align=\"center\">{queue.id}</TableCell>\r\n                      <TableCell align=\"center\">{queue.name}</TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <div className={classes.customTableCell}>\r\n                          <span\r\n                            style={{\r\n                              backgroundColor: queue.color,\r\n                              width: 60,\r\n                              height: 20,\r\n                              alignSelf: \"center\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <div className={classes.customTableCell}>\r\n                          <Typography\r\n                            style={{ width: 300, align: \"center\" }}\r\n                            noWrap\r\n                            variant=\"body2\"\r\n                          >\r\n                            {queue.orderQueue}\r\n                          </Typography>\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <div className={classes.customTableCell}>\r\n                          <Typography\r\n                            style={{ width: 300, align: \"center\" }}\r\n                            noWrap\r\n                            variant=\"body2\"\r\n                          >\r\n                            {queue.greetingMessage}\r\n                          </Typography>\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => handleEditQueue(queue)}\r\n                        >\r\n                          <Edit />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => {\r\n                            setSelectedQueue(queue);\r\n                            setConfirmModalOpen(true);\r\n                          }}\r\n                        >\r\n                          <DeleteOutline />\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  {loading && <TableRowSkeleton columns={4} />}\r\n                </>\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        </>}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Queues;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { Colorize } from \"@material-ui/icons\";\r\nimport { ColorBox } from 'material-ui-color';\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { FormControl, IconButton, InputAdornment, InputLabel, MenuItem, Select } from \"@material-ui/core\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\tmultFieldLine: {\r\n\t\tdisplay: \"flex\",\r\n\t\t\"& > *:not(:last-child)\": {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n\tcolorAdorment: {\r\n\t\twidth: 20,\r\n\t\theight: 20,\r\n\t},\r\n}));\r\n\r\nconst TagSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(3, \"Mensagem muito curta\")\r\n\t\t.required(\"Obrigatório\")\r\n});\r\n\r\nconst TagModal = ({ open, onClose, tagId, kanban }) => {\r\n\tconst classes = useStyles();\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\r\n\tconst [lanes, setLanes] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [selectedLane, setSelectedLane] = useState([]);\r\n\tconst [selectedRollbackLane, setSelectedRollbackLane] = useState([]);\r\n\r\n\r\n\tconst initialState = {\r\n\t\tname: \"\",\r\n\t\tcolor: getRandomHexColor(),\r\n\t\tkanban: kanban,\r\n\t\ttimeLane: 0,\r\n\t\tnextLaneId: 0,\r\n\t\tgreetingMessageLane: \"\",\r\n\t\trollbackLaneId: 0,\r\n\t};\r\n\r\n\tconst [tag, setTag] = useState(initialState);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\tconst delayDebounceFn = setTimeout(() => {\r\n\t\t\tconst fetchTags = async () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst { data } = await api.get(\"/tags/\", {\r\n\t\t\t\t\t\tparams: { kanban: 1, tagId },\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetLanes(data.tags);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\ttoastError(err);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tfetchTags();\r\n\t\t}, 500);\r\n\t\treturn () => clearTimeout(delayDebounceFn);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\ttry {\r\n\t\t\t(async () => {\r\n\t\t\t\tif (!tagId) return;\r\n\r\n\t\t\t\tconst { data } = await api.get(`/tags/${tagId}`);\r\n\t\t\t\tsetTag(prevState => {\r\n\t\t\t\t\treturn { ...prevState, ...data };\r\n\t\t\t\t});\r\n\t\t\t\tif (data.nextLaneId) {\r\n\t\t\t\t\tsetSelectedLane(data.nextLaneId);\r\n\t\t\t\t}\r\n\t\t\t\tif (data.rollbackLaneId) {\r\n\t\t\t\t\tsetSelectedRollbackLane(data.rollbackLaneId);\r\n\t\t\t\t}\r\n\t\t\t})()\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t}, [tagId, open]);\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetTag(initialState);\r\n\t\tsetColorPickerModalOpen(false);\r\n\t\tonClose();\r\n\t};\r\n\r\n\tconst handleSaveTag = async values => {\r\n\t\tconst tagData = { ...values, userId: user?.id, kanban: kanban, nextLaneId: selectedLane || null, rollbackLaneId: selectedRollbackLane || null };\r\n\r\n\t\ttry {\r\n\t\t\tif (tagId) {\r\n\t\t\t\tawait api.put(`/tags/${tagId}`, tagData);\r\n\t\t\t} else {\r\n\t\t\t\tawait api.post(\"/tags\", tagData);\r\n\t\t\t}\r\n\t\t\ttoast.success(kanban === 0 ? `${i18n.t(\"tagModal.success\")}` : `${i18n.t(\"tagModal.successKanban\")}`);\r\n\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\thandleClose();\r\n\t};\r\n\r\n\tfunction getRandomHexColor() {\r\n\t\t// Gerar valores aleatórios para os componentes de cor\r\n\t\tconst red = Math.floor(Math.random() * 256); // Valor entre 0 e 255\r\n\t\tconst green = Math.floor(Math.random() * 256); // Valor entre 0 e 255\r\n\t\tconst blue = Math.floor(Math.random() * 256); // Valor entre 0 e 255\r\n\r\n\t\t// Converter os componentes de cor em uma cor hexadecimal\r\n\t\tconst hexColor = `#${red.toString(16).padStart(2, '0')}${green.toString(16).padStart(2, '0')}${blue.toString(16).padStart(2, '0')}`;\r\n\r\n\t\treturn hexColor;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tmaxWidth=\"md\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tscroll=\"paper\"\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{(tagId ? (kanban === 0 ? `${i18n.t(\"tagModal.title.edit\")}` : `${i18n.t(\"tagModal.title.editKanban\")}`) :\r\n\t\t\t\t\t\t(kanban === 0 ? `${i18n.t(\"tagModal.title.add\")}` : `${i18n.t(\"tagModal.title.addKanban\")}`))\r\n\t\t\t\t\t}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={tag}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={TagSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveTag(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.name\")}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, name: e.target.value }))}\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.color\")}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\r\n\t\t\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tstartAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t{colorPickerModalOpen && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ColorBox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisableAlpha={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thslGradient={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '20px auto 0' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={tag.color}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTag(prev => ({ ...prev, color: `#${val.hex}` }));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t{kanban === 1 && (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.timeLane\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"timeLane\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.timeLane && Boolean(errors.timeLane)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.timeLane && errors.timeLane}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, timeLane: e.target.value }))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"whatsapp-selection-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.form.nextLaneId\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.nextLaneId\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\"tagModal.form.nextLaneId\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"whatsapp-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"nextLaneId\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"nextLaneId\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ left: \"-7px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.nextLaneId && Boolean(errors.nextLaneId)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedLane}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSelectedLane(e.target.value || null)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={null}>&nbsp;</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lanes &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlanes.map((lane) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={lane.id} value={lane.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lane.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.greetingMessageLane\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"greetingMessageLane\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={5}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.greetingMessageLane && Boolean(errors.greetingMessageLane)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.greetingMessageLane && errors.greetingMessageLane}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, greetingMessageLane: e.target.value }))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"whatsapp-selection-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.form.rollbackLaneId\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.rollbackLaneId\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\"tagModal.form.rollbackLaneId\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"whatsapp-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"rollbackLaneId\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"rollbackLaneId\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ left: \"-7px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.rollbackLaneId && Boolean(errors.rollbackLaneId)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedRollbackLane}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSelectedRollbackLane(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={null}>&nbsp;</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lanes &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlanes.map((lane) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={lane.id} value={lane.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lane.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{tagId\r\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"tagModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"tagModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TagModal;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  Modal,\r\n  Backdrop,\r\n  Fade,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport api from \"../../services/api\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n    borderRadius: \"8px\",\r\n    overflow: \"auto\",\r\n    maxHeight: \"80vh\",\r\n  },\r\n  closeButton: {\r\n    position: \"absolute\",\r\n    top: theme.spacing(1),\r\n    right: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst handleRemoveContactTag = async (contactId, tagId) => {\r\n  await api.delete(`/tags-contacts/${tagId}/${contactId}`);\r\n}\r\n\r\nconst ContactTagListModal = ({ open, onClose, tag }) => {\r\n  const classes = useStyles();\r\n  const [tagList, setTagList] = useState(tag.contacts);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    console.log(\"tagList\", tagList)\r\n  }, [tagList])\r\n\r\n  useEffect(() => {\r\n    // const socket = socketManager.GetSocket(user.companyId, user.id);\r\n\r\n    const onCompanyTags = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        if (data.tag.id === tag.id && data.tag?.contacts?.length > 0) {\r\n          setTagList(data.tag.contacts);\r\n        }\r\n        if (data.tag.id === tag.id && data.tag?.contacts?.length === 0) {\r\n          setTagList([]);\r\n          onClose();\r\n        }\r\n      }\r\n    };\r\n    socket.on(`company${user.companyId}-tag`, onCompanyTags);\r\n\r\n    return () => {\r\n      socket.off(`company${user.companyId}-tag`, onCompanyTags);\r\n    };\r\n  }, []); // Dependência do estado auxiliar updateFlag\r\n\r\n  return tagList.length > 0 ? (\r\n    <Modal\r\n      className={classes.modal}\r\n      open={open}\r\n      onClose={onClose}\r\n      closeAfterTransition\r\n      BackdropComponent={Backdrop}\r\n      BackdropProps={{\r\n        timeout: 500,\r\n      }}\r\n    >\r\n      <Fade in={open}>\r\n        <div className={classes.paper}>\r\n          <IconButton className={classes.closeButton} onClick={onClose}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n          <h2 id=\"transition-modal-title\">{tag.name} - Contatos</h2>\r\n          <TableContainer component={Paper}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>ID</TableCell>\r\n                  <TableCell>Nome</TableCell>\r\n                  <TableCell>Nmero</TableCell>\r\n                  <TableCell>Ações</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {tagList?.map((contact) => (\r\n                  <TableRow key={contact.id}>\r\n                    <TableCell>{contact.id}</TableCell>\r\n                    <TableCell>{contact.name}</TableCell>\r\n                    <TableCell>{contact.number}</TableCell>\r\n                    <TableCell>\r\n                      <IconButton onClick={() => handleRemoveContactTag(contact.id, tag.id)}>\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </div>\r\n      </Fade>\r\n    </Modal>\r\n  ) : (\r\n    <></>\r\n  )\r\n};\r\n\r\nexport default ContactTagListModal;\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useReducer,\r\n  useContext,\r\n  useRef,\r\n} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport TagModal from \"../../components/TagModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Chip, Tooltip } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { MoreHoriz } from \"@material-ui/icons\";\r\nimport ContactTagListModal from \"../../components/ContactTagListModal\";\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOAD_TAGS\":\r\n      return [...state, ...action.payload];\r\n    case \"UPDATE_TAGS\":\r\n      const tag = action.payload;\r\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\r\n\r\n      if (tagIndex !== -1) {\r\n        state[tagIndex] = tag;\r\n        return [...state];\r\n      } else {\r\n        return [tag, ...state];\r\n      }\r\n    case \"DELETE_TAGS\":\r\n      const tagId = action.payload;\r\n      return state.filter((tag) => tag.id !== tagId);\r\n    case \"RESET\":\r\n      return [];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Tags = () => {\r\n  const classes = useStyles();\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [selectedTagContacts, setSelectedTagContacts] = useState([]);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedTagName, setSelectedTagName] = useState(\"\");\r\n  const [selectedTag, setSelectedTag] = useState(null);\r\n  const [deletingTag, setDeletingTag] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [tags, dispatch] = useReducer(reducer, []);\r\n  const [tagModalOpen, setTagModalOpen] = useState(false);\r\n  const pageNumberRef = useRef(1);\r\n\r\n  useEffect(() => {\r\n    const fetchMoreTags = async () => {\r\n      try {\r\n        const { data } = await api.get(\"/tags/\", {\r\n          params: { searchParam, pageNumber, kanban: 0 },\r\n        });\r\n        dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\r\n        setHasMore(data.hasMore);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n\r\n    if (pageNumber > 0) {\r\n      setLoading(true);\r\n      fetchMoreTags();\r\n    }\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const onCompanyTags = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tag });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_TAGS\", payload: +data.tagId });\r\n      }\r\n    };\r\n    socket.on(`company${user.companyId}-tag`, onCompanyTags);\r\n\r\n    return () => {\r\n      socket.off(`company${user.companyId}-tag`, onCompanyTags);\r\n    };\r\n  }, [socket, user.companyId]);\r\n\r\n  const handleOpenTagModal = () => {\r\n    setSelectedTag(null);\r\n    setTagModalOpen(true);\r\n  };\r\n\r\n  const handleCloseTagModal = () => {\r\n    setSelectedTag(null);\r\n    setTagModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    const newSearchParam = event.target.value.toLowerCase();\r\n    setSearchParam(newSearchParam);\r\n    setPageNumber(1);\r\n    dispatch({ type: \"RESET\" });\r\n  };\r\n\r\n  const handleEditTag = (tag) => {\r\n    setSelectedTag(tag);\r\n    setTagModalOpen(true);\r\n  };\r\n\r\n  const handleShowContacts = (contacts, tag) => {\r\n    setSelectedTagContacts(contacts);\r\n    setContactModalOpen(true);\r\n    setSelectedTagName(tag);\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setContactModalOpen(false);\r\n    setSelectedTagContacts([]);\r\n    setSelectedTagName(\"\");\r\n  };\r\n\r\n  const handleDeleteTag = async (tagId) => {\r\n    try {\r\n      await api.delete(`/tags/${tagId}`);\r\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingTag(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      {contactModalOpen && (\r\n        <ContactTagListModal\r\n          open={contactModalOpen}\r\n          onClose={handleCloseContactModal}\r\n          tag={selectedTagName}\r\n        />\r\n      )}\r\n      <ConfirmationModal\r\n        title={deletingTag && `${i18n.t(\"tags.confirmationModal.deleteTitle\")}`}\r\n        open={confirmModalOpen}\r\n        onClose={() => setConfirmModalOpen(false)}\r\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\r\n      >\r\n        {i18n.t(\"tags.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <TagModal\r\n        open={tagModalOpen}\r\n        onClose={handleCloseTagModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        tagId={selectedTag && selectedTag.id}\r\n        kanban={0}\r\n      />\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"tags.title\")} ({tags.length})</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: \"gray\" }} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenTagModal}\r\n          >\r\n            {i18n.t(\"tags.buttons.add\")}\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">{i18n.t(\"tags.table.id\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"tags.table.name\")}</TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"tags.table.contacts\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"tags.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {tags.map((tag) => (\r\n                <TableRow key={tag.id}>\r\n                  <TableCell align=\"center\">{tag.id}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <Chip\r\n                      variant=\"outlined\"\r\n                      style={{\r\n                        backgroundColor: tag.color,\r\n                        textShadow: \"1px 1px #000\",\r\n                        color: \"white\",\r\n                      }}\r\n                      label={tag.name}\r\n                      size=\"small\"\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {tag?.contacts?.length}\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleShowContacts(tag?.contacts, tag)}\r\n                      disabled={tag?.contacts?.length === 0}\r\n                    >\r\n                      <MoreHoriz />\r\n                    </IconButton>\r\n                  </TableCell>\r\n\r\n                  <TableCell align=\"center\">\r\n                    <IconButton size=\"small\" onClick={() => handleEditTag(tag)}>\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingTag(tag);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n\r\n              {loading && <TableRowSkeleton key=\"skeleton\" columns={4} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Tags;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { Button, CircularProgress, Grid, TextField, Typography } from \"@material-ui/core\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport axios from \"axios\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n    paddingBottom: 100\r\n  },\r\n  mainHeader: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  elementMargin: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  formContainer: {\r\n    maxWidth: 500,\r\n  },\r\n  textRight: {\r\n    textAlign: \"right\"\r\n  }\r\n}));\r\n\r\nconst MessagesAPI = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [formMessageTextData,] = useState({ token: '', number: '', body: '', userId: '', queueId: '' })\r\n  const [formMessageMediaData,] = useState({ token: '', number: '', medias: '', body:'', userId: '', queueId: '' })\r\n  const [file, setFile] = useState({})\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useExternalApi) {\r\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const getEndpoint = () => {\r\n    return process.env.REACT_APP_BACKEND_URL + '/api/messages/send'\r\n  }\r\n\r\n  const handleSendTextMessage = async (values) => {\r\n    const { number, body, userId, queueId } = values;\r\n    const data = { number, body, userId, queueId };\r\n    try {\r\n      await axios.request({\r\n        url: getEndpoint(),\r\n        method: 'POST',\r\n        data,\r\n        headers: {\r\n          'Content-type': 'application/json',\r\n          'Authorization': `Bearer ${values.token}` \r\n        }\r\n      })\r\n      toast.success('Mensagem enviada com sucesso');\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }\r\n\r\n  const handleSendMediaMessage = async (values) => {\r\n    try {\r\n      const firstFile = file[0];\r\n      const data = new FormData();\r\n      data.append('number', values.number);\r\n      data.append('body', values.body ? values.body: firstFile.name);\r\n      data.append('userId', values.userId);\r\n      data.append('queueId', values.queueId);\r\n      data.append('medias', firstFile);\r\n      await axios.request({\r\n        url: getEndpoint(),\r\n        method: 'POST',\r\n        data,\r\n        headers: {\r\n          'Content-type': 'multipart/form-data',\r\n          'Authorization': `Bearer ${values.token}`\r\n        }\r\n      })\r\n      toast.success('Mensagem enviada com sucesso');\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }\r\n\r\n  const renderFormMessageText = () => {\r\n    return (\r\n      <Formik\r\n        initialValues={formMessageTextData}\r\n        enableReinitialize={true}\r\n        onSubmit={(values, actions) => {\r\n          setTimeout(async () => {\r\n            await handleSendTextMessage(values);\r\n            actions.setSubmitting(false);\r\n            actions.resetForm()\r\n          }, 400);\r\n        }}\r\n        className={classes.elementMargin}\r\n      >\r\n        {({ isSubmitting }) => (\r\n          <Form className={classes.formContainer}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.token\")}\r\n                  name=\"token\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.number\")}\r\n                  name=\"number\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.body\")}\r\n                  name=\"body\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}  md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.userId\")}\r\n                  name=\"userId\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}  md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.queueId\")}\r\n                  name=\"queueId\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} className={classes.textRight}>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {isSubmitting ? (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  ) : 'Enviar'}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    )\r\n  }\r\n\r\n  const renderFormMessageMedia = () => {\r\n    return (\r\n      <Formik\r\n        initialValues={formMessageMediaData}\r\n        enableReinitialize={true}\r\n        onSubmit={(values, actions) => {\r\n          setTimeout(async () => {\r\n            await handleSendMediaMessage(values);\r\n            actions.setSubmitting(false);\r\n            actions.resetForm()\r\n            document.getElementById('medias').files = null\r\n            document.getElementById('medias').value = null\r\n          }, 400);\r\n        }}\r\n        className={classes.elementMargin}\r\n      >\r\n        {({ isSubmitting }) => (\r\n          <Form className={classes.formContainer}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.mediaMessage.token\")}\r\n                  name=\"token\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.mediaMessage.number\")}\r\n                  name=\"number\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.body\")}\r\n                  name=\"body\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}  md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.userId\")}\r\n                  name=\"userId\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}  md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.queueId\")}\r\n                  name=\"queueId\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <input type=\"file\" name=\"medias\" id=\"medias\" required onChange={(e) => setFile(e.target.files)} />\r\n              </Grid>\r\n              <Grid item xs={12} className={classes.textRight}>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {isSubmitting ? (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  ) : 'Enviar'}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Paper\r\n      className={classes.mainPaper}\r\n      style={{marginLeft: \"5px\"}}\r\n      // className={classes.elementMargin}\r\n      variant=\"outlined\"\r\n    >\r\n      <Typography variant=\"h5\">\r\n        {i18n.t(\"messagesAPI.API.title\")}\r\n      </Typography>\r\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\r\n      {i18n.t(\"messagesAPI.API.methods.title\")}\r\n      </Typography>\r\n      <Typography component=\"div\">\r\n        <ol>\r\n          <li>{i18n.t(\"messagesAPI.API.methods.messagesText\")}</li>\r\n          <li>{i18n.t(\"messagesAPI.API.methods.messagesMidia\")}</li>\r\n        </ol>\r\n      </Typography>\r\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\r\n      {i18n.t(\"messagesAPI.API.instructions.title\")}\r\n      </Typography>\r\n      <Typography className={classes.elementMargin} component=\"div\">\r\n        <b>{i18n.t(\"messagesAPI.API.instructions.comments\")}</b><br />\r\n        <ul>\r\n          <li>{i18n.t(\"messagesAPI.API.instructions.comments1\")}</li>\r\n          <li>\r\n          {i18n.t(\"messagesAPI.API.instructions.comments2\")}\r\n            <ul>\r\n              <li>{i18n.t(\"messagesAPI.API.instructions.codeCountry\")}</li>\r\n              <li>{i18n.t(\"messagesAPI.API.instructions.code\")}</li>\r\n              <li>{i18n.t(\"messagesAPI.API.instructions.number\")}</li>\r\n            </ul>\r\n          </li>\r\n        </ul>\r\n      </Typography>\r\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\r\n      {i18n.t(\"messagesAPI.API.text.title\")}\r\n      </Typography>\r\n      <Grid container>\r\n        <Grid item xs={12} sm={6}>\r\n          <Typography className={classes.elementMargin} component=\"div\">\r\n            <p>{i18n.t(\"messagesAPI.API.text.instructions\")}</p>\r\n            <b>Endpoint: </b> {getEndpoint()} <br />\r\n            <b>Método: </b> POST <br />\r\n            <b>Headers: </b> Authorization Bearer (token registrado) e Content-Type (application/json) <br />\r\n            <b>Body: </b> {\"{\"} <br></br>\r\n             \"number\": \"558599999999\" <br></br>\r\n             \"body\": \"Message\" <br></br> \r\n             \"userId\": ID usuário ou \"\" <br></br>\r\n             \"queueId\": ID Fila ou \"\"<br></br>\r\n             \"sendSignature\": Assinar mensagem - true/false <br></br>\r\n             \"closeTicket\": Encerrar o ticket - true/false<br></br>\r\n             {\"}\"} \r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <Typography className={classes.elementMargin}>\r\n            <b>Teste de Envio</b>\r\n          </Typography>\r\n          {renderFormMessageText()}\r\n        </Grid>\r\n      </Grid>\r\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\r\n      {i18n.t(\"messagesAPI.API.media.title\")}\r\n      </Typography>\r\n      <Grid container>\r\n        <Grid item xs={12} sm={6}>\r\n          <Typography className={classes.elementMargin} component=\"div\">\r\n            <p>{i18n.t(\"messagesAPI.API.media.instructions\")}</p>\r\n            <b>Endpoint: </b> {getEndpoint()} <br />\r\n            <b>Método: </b> POST <br />\r\n            <b>Headers: </b> Authorization Bearer (token cadastrado) e Content-Type (multipart/form-data) <br />\r\n            <b>FormData: </b> <br />\r\n            <ul>\r\n              <li>\r\n                <b>number: </b> 558599999999\r\n              </li>\r\n              <li>\r\n                <b>body:</b> Message\r\n              </li>\r\n              <li>\r\n                <b>userId:</b> ID usuário ou \"\"\r\n              </li>\r\n              <li>\r\n                <b>queueId:</b> ID da fila ou \"\"\r\n              </li>\r\n              <li>\r\n                <b>medias: </b> arquivo\r\n              </li>\r\n              <li>\r\n                <b>sendSignature:</b> Assinar mensagem true/false\r\n              </li>\r\n              <li>\r\n                <b>closeTicket:</b> Encerrar ticket true/false\r\n              </li>\r\n            </ul>\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <Typography className={classes.elementMargin}>\r\n            <b>Teste de Envio</b>\r\n          </Typography>\r\n          {renderFormMessageMedia()}\r\n        </Grid>\r\n      </Grid>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default MessagesAPI;","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { makeStyles, Paper, Typography, Modal, IconButton } from \"@material-ui/core\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport useHelps from \"../../hooks/useHelps\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mainPaperContainer: {\r\n    overflowY: 'auto',\r\n    maxHeight: 'calc(100vh - 200px)',\r\n  },\r\n  mainPaper: {\r\n    width: '100%',\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))',\r\n    gap: theme.spacing(3),\r\n    padding: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  helpPaper: {\r\n    position: 'relative',\r\n    width: '100%',\r\n    minHeight: '340px',\r\n    padding: theme.spacing(2),\r\n    boxShadow: theme.shadows[3],\r\n    borderRadius: theme.spacing(1),\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    maxWidth: '340px',\r\n  },\r\n  paperHover: {\r\n    transition: 'transform 0.3s, box-shadow 0.3s',\r\n    '&:hover': {\r\n      transform: 'scale(1.03)',\r\n      boxShadow: `0 0 8px`,\r\n      color: theme.palette.primary.main,\r\n    },\r\n  },\r\n  videoThumbnail: {\r\n    width: '100%',\r\n    height: 'calc(100% - 56px)',\r\n    objectFit: 'cover',\r\n    borderRadius: `${theme.spacing(1)}px ${theme.spacing(1)}px 0 0`,\r\n  },\r\n  videoTitle: {\r\n    marginTop: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  videoDescription: {\r\n    maxHeight: '100px',\r\n    overflow: 'hidden',\r\n  },\r\n  videoModal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  videoModalContent: {\r\n    outline: 'none',\r\n    width: '90%',\r\n    maxWidth: 1024,\r\n    aspectRatio: '16/9',\r\n    position: 'relative',\r\n    backgroundColor: 'white',\r\n    borderRadius: theme.spacing(1),\r\n    overflow: 'hidden',\r\n  },\r\n}));\r\n\r\nconst Helps = () => {\r\n  const classes = useStyles();\r\n  const [records, setRecords] = useState([]);\r\n  const { list } = useHelps();\r\n  const [selectedVideo, setSelectedVideo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const helps = await list();\r\n      setRecords(helps);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const openVideoModal = (video) => {\r\n    setSelectedVideo(video);\r\n  };\r\n\r\n  const closeVideoModal = () => {\r\n    setSelectedVideo(null);\r\n  };\r\n\r\n  const handleModalClose = useCallback((event) => {\r\n    if (event.key === \"Escape\") {\r\n      closeVideoModal();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleModalClose);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleModalClose);\r\n    };\r\n  }, [handleModalClose]);\r\n\r\n  const renderVideoModal = () => {\r\n    return (\r\n      <Modal\r\n        open={Boolean(selectedVideo)}\r\n        onClose={closeVideoModal}\r\n        className={classes.videoModal}\r\n      >\r\n        <div className={classes.videoModalContent}>\r\n          {selectedVideo && (\r\n            <iframe\r\n              style={{ width: \"100%\", height: \"100%\", position: \"absolute\", top: 0, left: 0 }}\r\n              src={`https://www.youtube.com/embed/${selectedVideo}`}\r\n              title=\"YouTube video player\"\r\n              frameBorder=\"0\"\r\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n              allowFullScreen\r\n            />\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    );\r\n  };\r\n\r\n  const renderHelps = () => {\r\n    return (\r\n      <>\r\n        <div className={`${classes.mainPaper} ${classes.mainPaperContainer}`}>\r\n          {records.length ? records.map((record, key) => (\r\n            <Paper key={key} className={`${classes.helpPaper} ${classes.paperHover}`} onClick={() => openVideoModal(record.video)}>\r\n              <img\r\n                src={`https://img.youtube.com/vi/${record.video}/mqdefault.jpg`}\r\n                alt=\"Thumbnail\"\r\n                className={classes.videoThumbnail}\r\n              />\r\n              <Typography variant=\"button\" className={classes.videoTitle}>\r\n                {record.title}\r\n              </Typography>\r\n              <Typography variant=\"caption\" className={classes.videoDescription}>\r\n                {record.description}\r\n              </Typography>\r\n            </Paper>\r\n          )) : null}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"helps.title\")} ({records.length})</Title>\r\n        <MainHeaderButtonsWrapper></MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <div className={classes.mainPaper}>\r\n        {renderHelps()}\r\n      </div>\r\n      {renderVideoModal()}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Helps;","import React, { useState, useEffect } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n}));\r\n\r\nconst ContactListSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n});\r\n\r\nconst ContactListModal = ({ open, onClose, contactListId }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n  };\r\n\r\n  const [contactList, setContactList] = useState(initialState);\r\n\r\n  useEffect(() => {\r\n    const fetchContactList = async () => {\r\n      if (!contactListId) return;\r\n      try {\r\n        const { data } = await api.get(`/contact-lists/${contactListId}`);\r\n        setContactList((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n\r\n    fetchContactList();\r\n  }, [contactListId, open]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setContactList(initialState);\r\n  };\r\n\r\n  const handleSaveContactList = async (values) => {\r\n    const contactListData = { ...values };\r\n    try {\r\n      if (contactListId) {\r\n        await api.put(`/contact-lists/${contactListId}`, contactListData);\r\n      } else {\r\n        await api.post(\"/contact-lists\", contactListData);\r\n      }\r\n      toast.success(i18n.t(\"contactList.dialog\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"xs\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {contactListId\r\n            ? `${i18n.t(\"contactLists.dialog.edit\")}`\r\n            : `${i18n.t(\"contactLists.dialog.add\")}`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={contactList}\r\n          enableReinitialize={true}\r\n          validationSchema={ContactListSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveContactList(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <div className={classes.multFieldLine}>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"contactLists.dialog.name\")}\r\n                    autoFocus\r\n                    name=\"name\"\r\n                    error={touched.name && Boolean(errors.name)}\r\n                    helperText={touched.name && errors.name}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                </div>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactLists.dialog.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {contactListId\r\n                    ? `${i18n.t(\"contactLists.dialog.okEdit\")}`\r\n                    : `${i18n.t(\"contactLists.dialog.okAdd\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactListModal;\r\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\nimport DownloadIcon from \"@material-ui/icons/GetApp\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport ContactListDialog from \"../../components/ContactListDialog\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CONTACTLISTS\") {\r\n    const contactLists = action.payload;\r\n    const newContactLists = [];\r\n\r\n    contactLists.forEach((contactList) => {\r\n      const contactListIndex = state.findIndex((u) => u.id === contactList.id);\r\n      if (contactListIndex !== -1) {\r\n        state[contactListIndex] = contactList;\r\n      } else {\r\n        newContactLists.push(contactList);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newContactLists];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CONTACTLIST\") {\r\n    const contactList = action.payload;\r\n    const contactListIndex = state.findIndex((u) => u.id === contactList.id);\r\n\r\n    if (contactListIndex !== -1) {\r\n      state[contactListIndex] = contactList;\r\n      return [...state];\r\n    } else {\r\n      return [contactList, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CONTACTLIST\") {\r\n    const contactListId = action.payload;\r\n\r\n    const contactListIndex = state.findIndex((u) => u.id === contactListId);\r\n    if (contactListIndex !== -1) {\r\n      state.splice(contactListIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst ContactLists = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedContactList, setSelectedContactList] = useState(null);\r\n  const [deletingContactList, setDeletingContactList] = useState(null);\r\n  const [contactListModalOpen, setContactListModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [contactLists, dispatch] = useReducer(reducer, []);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContactLists = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/contact-lists/\", {\r\n            params: { searchParam, pageNumber },\r\n          });\r\n          dispatch({ type: \"LOAD_CONTACTLISTS\", payload: data.records });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContactLists();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onContactListEvent = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_CONTACTLIST\", payload: data.record });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_CONTACTLIST\", payload: +data.id });\r\n      }\r\n    };\r\n\r\n    socket.on(`company-${companyId}-ContactList`, onContactListEvent);\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-ContactList`, onContactListEvent);\r\n    };\r\n  }, []);\r\n\r\n  const handleOpenContactListModal = () => {\r\n    setSelectedContactList(null);\r\n    setContactListModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactListModal = () => {\r\n    setSelectedContactList(null);\r\n    setContactListModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditContactList = (contactList) => {\r\n    setSelectedContactList(contactList);\r\n    setContactListModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteContactList = async (contactListId) => {\r\n    try {\r\n      await api.delete(`/contact-lists/${contactListId}`);\r\n      toast.success(i18n.t(\"contactLists.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingContactList(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const goToContacts = (id) => {\r\n    history.push(`/contact-lists/${id}/contacts`);\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContactList &&\r\n          `${i18n.t(\"contactLists.confirmationModal.deleteTitle\")} ${deletingContactList.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteContactList(deletingContactList.id)}\r\n      >\r\n        {i18n.t(\"contactLists.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <ContactListDialog\r\n        open={contactListModalOpen}\r\n        onClose={handleCloseContactListModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        contactListId={selectedContactList && selectedContactList.id}\r\n      />\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} sm={8} item>\r\n            <Title>{i18n.t(\"contactLists.title\")}</Title>\r\n          </Grid>\r\n          <Grid xs={12} sm={4} item>\r\n            <Grid spacing={2} container>\r\n              <Grid xs={7} sm={6} item>\r\n                <TextField\r\n                  fullWidth\r\n                  placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n                  type=\"search\"\r\n                  value={searchParam}\r\n                  onChange={handleSearch}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <SearchIcon style={{ color: \"gray\" }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid xs={5} sm={6} item>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={handleOpenContactListModal}\r\n                >\r\n                  {i18n.t(\"contactLists.buttons.add\")}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">{i18n.t(\"contactLists.table.name\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"contactLists.table.contacts\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"contactLists.table.actions\")}</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {contactLists.map((contactList) => (\r\n                <TableRow key={contactList.id}>\r\n                  <TableCell align=\"center\">{contactList.name}</TableCell>\r\n                  <TableCell align=\"center\">{contactList.contactsCount || 0}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <a href={planilhaExemplo} download=\"planilha.xlsx\">\r\n                      <IconButton size=\"small\" title=\"Baixar Planilha Exemplo\">\r\n                        <DownloadIcon />\r\n                      </IconButton>\r\n                    </a>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => goToContacts(contactList.id)}\r\n                    >\r\n                      <PeopleIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleEditContactList(contactList)}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingContactList(contactList);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={3} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default ContactLists;\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  number: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\r\n  email: Yup.string().email(\"Invalid email\"),\r\n});\r\n\r\nconst ContactListItemModal = ({\r\n  open,\r\n  onClose,\r\n  contactId,\r\n  initialValues,\r\n  onSave,\r\n}) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const {\r\n    user: { companyId },\r\n  } = useContext(AuthContext);\r\n  const { contactListId } = useParams();\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    number: \"\",\r\n    email: \"\",\r\n  };\r\n\r\n  const [contact, setContact] = useState(initialState);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchContact = async () => {\r\n      if (initialValues) {\r\n        setContact((prevState) => {\r\n          return { ...prevState, ...initialValues };\r\n        });\r\n      }\r\n\r\n      if (!contactId) return;\r\n\r\n      try {\r\n        const { data } = await api.get(`/contact-list-items/${contactId}`);\r\n        if (isMounted.current) {\r\n          setContact(data);\r\n        }\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n\r\n    fetchContact();\r\n  }, [contactId, open, initialValues]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setContact(initialState);\r\n  };\r\n\r\n  const handleSaveContact = async (values) => {\r\n    try {\r\n      if (contactId) {\r\n        await api.put(`/contact-list-items/${contactId}`, {\r\n          ...values,\r\n          companyId,\r\n          contactListId,\r\n        });\r\n        handleClose();\r\n      } else {\r\n        const { data } = await api.post(\"/contact-list-items\", {\r\n          ...values,\r\n          companyId,\r\n          contactListId,\r\n        });\r\n        if (onSave) {\r\n          onSave(data);\r\n        }\r\n        handleClose();\r\n      }\r\n      toast.success(i18n.t(\"contactModal.success\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {contactId\r\n            ? `${i18n.t(\"contactModal.title.edit\")}`\r\n            : `${i18n.t(\"contactModal.title.add\")}`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={contact}\r\n          enableReinitialize={true}\r\n          validationSchema={ContactSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveContact(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ values, errors, touched, isSubmitting }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <Typography variant=\"subtitle1\" gutterBottom>\r\n                  {i18n.t(\"contactModal.form.mainInfo\")}\r\n                </Typography>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"contactModal.form.name\")}\r\n                  name=\"name\"\r\n                  autoFocus\r\n                  error={touched.name && Boolean(errors.name)}\r\n                  helperText={touched.name && errors.name}\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  className={classes.textField}\r\n                />\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"contactModal.form.number\")}\r\n                  name=\"number\"\r\n                  error={touched.number && Boolean(errors.number)}\r\n                  helperText={touched.number && errors.number}\r\n                  placeholder=\"5513912344321\"\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                />\r\n                <div>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"contactModal.form.email\")}\r\n                    name=\"email\"\r\n                    error={touched.email && Boolean(errors.email)}\r\n                    helperText={touched.email && errors.email}\r\n                    placeholder=\"Email address\"\r\n                    fullWidth\r\n                    margin=\"dense\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                </div>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {contactId\r\n                    ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\r\n                    : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactListItemModal;\r\n","import api from \"../../services/api\";\r\n\r\nconst useContactLists = () => {\r\n  const save = async (data) => {\r\n    const { data: responseData } = await api.request({\r\n      url: \"/contact-lists\",\r\n      method: \"POST\",\r\n      data,\r\n    });\r\n    return responseData;\r\n  };\r\n\r\n  const update = async (data) => {\r\n    const { data: responseData } = await api.request({\r\n      url: `/contact-lists/${data.id}`,\r\n      method: \"PUT\",\r\n      data,\r\n    });\r\n    return responseData;\r\n  };\r\n\r\n  const deleteRecord = async (id) => {\r\n    const { data } = await api.request({\r\n      url: `/contact-lists/${id}`,\r\n      method: \"DELETE\",\r\n    });\r\n    return data;\r\n  };\r\n\r\n  const findById = async (id) => {\r\n    const { data } = await api.request({\r\n      url: `/contact-lists/${id}`,\r\n      method: \"GET\",\r\n    });\r\n    return data;\r\n  };\r\n\r\n  const list = async (params) => {\r\n    const { data } = await api.request({\r\n      url: \"/contact-lists/list\",\r\n      method: \"GET\",\r\n      params,\r\n    });\r\n    return data;\r\n  };\r\n\r\n  return {\r\n    findById,\r\n    save,\r\n    update,\r\n    deleteRecord,\r\n    list,\r\n  };\r\n};\r\n\r\nexport default useContactLists;\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useReducer,\r\n  useContext,\r\n  useRef,\r\n} from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport BlockIcon from \"@material-ui/icons/Block\";\r\n\r\nimport api from \"../../services/api\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport ContactListItemModal from \"../../components/ContactListItemModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../../components/Can\";\r\nimport useContactLists from \"../../hooks/useContactLists\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CONTACTS\") {\r\n    const contacts = action.payload;\r\n    const newContacts = [];\r\n\r\n    contacts.forEach((contact) => {\r\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n      if (contactIndex !== -1) {\r\n        state[contactIndex] = contact;\r\n      } else {\r\n        newContacts.push(contact);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newContacts];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CONTACTS\") {\r\n    const contact = action.payload;\r\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n\r\n    if (contactIndex !== -1) {\r\n      state[contactIndex] = contact;\r\n      return [...state];\r\n    } else {\r\n      return [contact, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CONTACT\") {\r\n    const contactId = action.payload;\r\n\r\n    const contactIndex = state.findIndex((c) => c.id === contactId);\r\n    if (contactIndex !== -1) {\r\n      state.splice(contactIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst ContactListItems = () => {\r\n  const classes = useStyles();\r\n\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const { contactListId } = useParams();\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [contacts, dispatch] = useReducer(reducer, []);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [contactListItemModalOpen, setContactListItemModalOpen] =\r\n    useState(false);\r\n  const [deletingContact, setDeletingContact] = useState(null);\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [contactList, setContactList] = useState({});\r\n  const fileUploadRef = useRef(null);\r\n\r\n  const { findById: findContactList } = useContactLists();\r\n\r\n  useEffect(() => {\r\n    findContactList(contactListId).then((data) => {\r\n      setContactList(data);\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [contactListId]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(`contact-list-items`, {\r\n            params: { searchParam, pageNumber, contactListId },\r\n          });\r\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber, contactListId]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onCompanyContactLists = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.record });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.id });\r\n      }\r\n\r\n      if (data.action === \"reload\") {\r\n        dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\r\n      }\r\n    }\r\n    socket.on(`company-${companyId}-ContactListItem`, onCompanyContactLists);\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-ContactListItem`, onCompanyContactLists);\r\n    };\r\n  }, [contactListId]);\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleOpenContactListItemModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactListItemModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactListItemModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactListItemModalOpen(false);\r\n  };\r\n\r\n  const hadleEditContact = (contactId) => {\r\n    setSelectedContactId(contactId);\r\n    setContactListItemModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteContact = async (contactId) => {\r\n    try {\r\n      await api.delete(`/contact-list-items/${contactId}`);\r\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingContact(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const handleImportContacts = async () => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", fileUploadRef.current.files[0]);\r\n      await api.request({\r\n        url: `contact-lists/${contactListId}/upload`,\r\n        method: \"POST\",\r\n        data: formData,\r\n      });\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const goToContactLists = () => {\r\n    history.push(\"/contact-lists\");\r\n  };\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      <ContactListItemModal\r\n        open={contactListItemModalOpen}\r\n        onClose={handleCloseContactListItemModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        contactId={selectedContactId}\r\n      ></ContactListItemModal>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContact\r\n            ? `${i18n.t(\"contactListItems.confirmationModal.deleteTitle\")} ${deletingContact.name\r\n            }?`\r\n            : `${i18n.t(\"contactListItems.confirmationModal.importTitlte\")}`\r\n        }\r\n        open={confirmOpen}\r\n        onClose={setConfirmOpen}\r\n        onConfirm={() =>\r\n          deletingContact\r\n            ? handleDeleteContact(deletingContact.id)\r\n            : handleImportContacts()\r\n        }\r\n      >\r\n        {deletingContact ? (\r\n          `${i18n.t(\"contactListItems.confirmationModal.deleteMessage\")}`\r\n        ) : (\r\n          <>\r\n            {i18n.t(\"contactListItems.confirmationModal.importMessage\")}\r\n            <a href={planilhaExemplo} download=\"planilha.xlsx\">\r\n              Clique aqui para baixar planilha exemplo.\r\n            </a>\r\n          </>\r\n        )}\r\n      </ConfirmationModal>\r\n      {\r\n        user.profile === \"user\" ?\r\n          <ForbiddenPage />\r\n          :\r\n          <>\r\n            <MainHeader>\r\n              <Grid style={{ width: \"99.6%\" }} container>\r\n                <Grid xs={12} sm={5} item>\r\n                  <Title>{contactList.name}</Title>\r\n                </Grid>\r\n                <Grid xs={12} sm={7} item>\r\n                  <Grid spacing={2} container>\r\n                    <Grid xs={12} sm={6} item>\r\n                      <TextField\r\n                        fullWidth\r\n                        placeholder={i18n.t(\"contactListItems.searchPlaceholder\")}\r\n                        type=\"search\"\r\n                        value={searchParam}\r\n                        onChange={handleSearch}\r\n                        InputProps={{\r\n                          startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                              <SearchIcon style={{ color: \"gray\" }} />\r\n                            </InputAdornment>\r\n                          ),\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid xs={4} sm={2} item>\r\n                      <Button\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={goToContactLists}\r\n                      >\r\n                        {i18n.t(\"contactListItems.buttons.lists\")}\r\n                      </Button>\r\n                    </Grid>\r\n                    <Grid xs={4} sm={2} item>\r\n                      <Button\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={() => {\r\n                          fileUploadRef.current.value = null;\r\n                          fileUploadRef.current.click();\r\n                        }}\r\n                      >\r\n                        {i18n.t(\"contactListItems.buttons.import\")}\r\n                      </Button>\r\n                    </Grid>\r\n                    <Grid xs={4} sm={2} item>\r\n                      <Button\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={handleOpenContactListItemModal}\r\n                      >\r\n                        {i18n.t(\"contactListItems.buttons.add\")}\r\n                      </Button>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </MainHeader>\r\n            <Paper\r\n              className={classes.mainPaper}\r\n              variant=\"outlined\"\r\n              onScroll={handleScroll}\r\n            >\r\n              <>\r\n                <input\r\n                  style={{ display: \"none\" }}\r\n                  id=\"upload\"\r\n                  name=\"file\"\r\n                  type=\"file\"\r\n                  accept=\".xls,.xlsx\"\r\n                  onChange={() => {\r\n                    setConfirmOpen(true);\r\n                  }}\r\n                  ref={fileUploadRef}\r\n                />\r\n              </>\r\n              <Table size=\"small\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell align=\"center\" style={{ width: \"0%\" }}>\r\n                      #\r\n                    </TableCell>\r\n                    <TableCell>{i18n.t(\"contactListItems.table.name\")}</TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"contactListItems.table.number\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"contactListItems.table.email\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"contactListItems.table.actions\")}\r\n                    </TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  <>\r\n                    {contacts.map((contact) => (\r\n                      <TableRow key={contact.id}>\r\n                        <TableCell align=\"center\" style={{ width: \"0%\" }}>\r\n                          <IconButton>\r\n                            {contact.isWhatsappValid ? (\r\n                              <CheckCircleIcon\r\n                                titleAccess=\"Whatsapp Válido\"\r\n                                htmlColor=\"green\"\r\n                              />\r\n                            ) : (\r\n                              <BlockIcon\r\n                                titleAccess=\"Whatsapp Inválido\"\r\n                                htmlColor=\"grey\"\r\n                              />\r\n                            )}\r\n                          </IconButton>\r\n                        </TableCell>\r\n                        <TableCell>{contact.name}</TableCell>\r\n                        <TableCell align=\"center\">{contact.number}</TableCell>\r\n                        <TableCell align=\"center\">{contact.email}</TableCell>\r\n                        <TableCell align=\"center\">\r\n                          <IconButton\r\n                            size=\"small\"\r\n                            onClick={() => hadleEditContact(contact.id)}\r\n                          >\r\n                            <EditIcon />\r\n                          </IconButton>\r\n                          <Can\r\n                            role={user.profile}\r\n                            perform=\"contacts-page:deleteContact\"\r\n                            yes={() => (\r\n                              <IconButton\r\n                                size=\"small\"\r\n                                onClick={() => {\r\n                                  setConfirmOpen(true);\r\n                                  setDeletingContact(contact);\r\n                                }}\r\n                              >\r\n                                <DeleteOutlineIcon />\r\n                              </IconButton>\r\n                            )}\r\n                          />\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                    {loading && <TableRowSkeleton columns={4} />}\r\n                  </>\r\n                </TableBody>\r\n              </Table>\r\n            </Paper>\r\n          </>}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default ContactListItems;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport {\r\n\tButton,\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogTitle,\r\n\tCircularProgress,\r\n\tSelect,\r\n\tInputLabel,\r\n\tMenuItem,\r\n\tFormControl,\r\n\tTextField,\r\n\tInputAdornment,\r\n\tIconButton,\r\n\tFormControlLabel,\r\n\tSwitch\r\n} from '@material-ui/core';\r\n\r\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\tmultFieldLine: {\r\n\t\tdisplay: \"flex\",\r\n\t\t\"& > *:not(:last-child)\": {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n}));\r\n\r\nconst CompanySchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Too Short!\")\r\n\t\t.max(50, \"Too Long!\")\r\n\t\t.required(\"Nome é obrigatório\"),\r\n\temail: Yup.string().email(\"Email é inválido\").required(\"E-mail é obrigatório\"),\r\n\tnumberAttendants: Yup.number(),\r\n\tnumberConections: Yup.number(),\r\n});\r\n\r\nconst CompanyModal = ({ open, onClose, companyId }) => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst initialState = {\r\n\t\tname: \"\",\r\n\t\temail: \"\",\r\n\t\tpasswordDefault: \"\",\r\n\t\tnumberAttendants: 1,\r\n\t\tnumberConections: 1,\r\n\t\tstatus: false\r\n\t};\r\n\r\n\tconst [company, setCompany] = useState(initialState);\r\n\tconst [showPassword, setShowPassword] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchCompany = async () => {\r\n\t\t\tif (!companyId) return;\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(`/companies/listPlan/${companyId}`);\r\n\t\t\t\tsetCompany(prevState => {\r\n\t\t\t\t\treturn { ...prevState, ...data };\r\n\t\t\t\t});\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchCompany();\r\n\t}, [companyId, open]);\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetCompany(initialState);\r\n\t};\r\n\r\n\tconst handleSaveCompany = async values => {\r\n\t\tconst companyData = { ...values };\r\n\t\ttry {\r\n\t\t\tif (companyId) {\r\n\t\t\t\tawait api.put(`/companies/${companyId}`, companyData);\r\n\t\t\t} else {\r\n\t\t\t\tawait api.post(\"/companies\", companyData);\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"companyModal.success\"));\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\thandleClose();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tmaxWidth=\"xs\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tscroll=\"paper\"\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{companyId\r\n\t\t\t\t\t\t? `${i18n.t(\"companyModal.title.edit\")}`\r\n\t\t\t\t\t\t: `${i18n.t(\"companyModal.title.add\")}`}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={company}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={CompanySchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveCompany(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ values, touched, errors, isSubmitting }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.name\")}\r\n\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\tas={Switch}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"status\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={values.status}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlabel={\"Ativo\"}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.email\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tname=\"passwordDefault\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.passwordDefault\")}\r\n\t\t\t\t\t\t\t\t\t\terror={touched.passwordDefault && Boolean(errors.passwordDefault)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.passwordDefault && errors.passwordDefault}\r\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\r\n\t\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{/* <div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.numberAttendants\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"numberAttendants\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.numberAttendants && Boolean(errors.numberAttendants)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.numberAttendants && errors.numberAttendants}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t// console.log('touched', touched)\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('value', values)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t{/* <div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.numberConections\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"numberConections\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.numberConections && Boolean(errors.numberConections)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.numberConections && errors.numberConections}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"companyModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{companyId\r\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"companyModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"companyModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CompanyModal;\r\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\n\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport CompanyModal from \"../../components/CompaniesModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport moment from \"moment\";\r\n\r\nconst reducer = (state, action) => {\r\n    if (action.type === \"LOAD_COMPANIES\") {\r\n        const companies = action.payload;\r\n        const newCompanies = [];\r\n\r\n        companies.forEach((company) => {\r\n            const companyIndex = state.findIndex((u) => u.id === company.id);\r\n            if (companyIndex !== -1) {\r\n                state[companyIndex] = company;\r\n            } else {\r\n                newCompanies.push(company);\r\n            }\r\n        });\r\n\r\n        return [...state, ...newCompanies];\r\n    }\r\n\r\n    if (action.type === \"UPDATE_COMPANIES\") {\r\n        const company = action.payload;\r\n        const companyIndex = state.findIndex((u) => u.id === company.id);\r\n\r\n        if (companyIndex !== -1) {\r\n            state[companyIndex] = company;\r\n            return [...state];\r\n        } else {\r\n            return [company, ...state];\r\n        }\r\n    }\r\n\r\n    if (action.type === \"DELETE_COMPANIES\") {\r\n        const companyId = action.payload;\r\n\r\n        const companyIndex = state.findIndex((u) => u.id === companyId);\r\n        if (companyIndex !== -1) {\r\n            state.splice(companyIndex, 1);\r\n        }\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"RESET\") {\r\n        return [];\r\n    }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    mainPaper: {\r\n        flex: 1,\r\n        padding: theme.spacing(1),\r\n        overflowY: \"scroll\",\r\n        ...theme.scrollbarStyles,\r\n    },\r\n}));\r\n\r\nconst Companies = () => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [pageNumber, setPageNumber] = useState(1);\r\n    const [hasMore, setHasMore] = useState(false);\r\n    const [selectedCompany, setSelectedCompany] = useState(null);\r\n    const [deletingCompany, setDeletingCompany] = useState(null);\r\n    const [companyModalOpen, setCompanyModalOpen] = useState(false);\r\n    const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n    const [searchParam, setSearchParam] = useState(\"\");\r\n    const [companies, dispatch] = useReducer(reducer, []);\r\n    const { dateToClient, datetimeToClient } = useDate();\r\n\r\n    // const { getPlanCompany } = usePlans();\r\n  //   const socketManager = useContext(SocketContext);\r\n    const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            if (!user.super) {\r\n                toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n                setTimeout(() => {\r\n                    history.push(`/`)\r\n                }, 1000);\r\n            }\r\n        }\r\n        fetchData();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: \"RESET\" });\r\n        setPageNumber(1);\r\n    }, [searchParam]);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        const delayDebounceFn = setTimeout(() => {\r\n            const fetchCompanies = async () => {\r\n                try {\r\n                    const { data } = await api.get(\"/companiesPlan/\", {\r\n                        params: { searchParam, pageNumber },\r\n                    });\r\n                    dispatch({ type: \"LOAD_COMPANIES\", payload: data.companies });\r\n                    setHasMore(data.hasMore);\r\n                    setLoading(false);\r\n                } catch (err) {\r\n                    toastError(err);\r\n                }\r\n            };\r\n            fetchCompanies();\r\n        }, 500);\r\n        return () => clearTimeout(delayDebounceFn);\r\n    }, [searchParam, pageNumber]);\r\n\r\n//     useEffect(() => {\r\n//         const companyId = user.companyId;\r\n//   //    const socket = socketManager.GetSocket();\r\n//         // const socket = socketConnection();\r\n\r\n//         return () => {\r\n//             socket.disconnect();\r\n//         };\r\n//     }, []);\r\n\r\n    const handleOpenCompanyModal = () => {\r\n        setSelectedCompany(null);\r\n        setCompanyModalOpen(true);\r\n    };\r\n\r\n    const handleCloseCompanyModal = () => {\r\n        setSelectedCompany(null);\r\n        setCompanyModalOpen(false);\r\n    };\r\n\r\n    const handleSearch = (event) => {\r\n        setSearchParam(event.target.value.toLowerCase());\r\n    };\r\n\r\n    const handleEditCompany = (company) => {\r\n        setSelectedCompany(company);\r\n        setCompanyModalOpen(true);\r\n    };\r\n\r\n    const handleDeleteCompany = async (companyId) => {\r\n        try {\r\n            await api.delete(`/companies/${companyId}`);\r\n            toast.success(i18n.t(\"compaies.toasts.deleted\"));\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        setDeletingCompany(null);\r\n        setSearchParam(\"\");\r\n        setPageNumber(1);\r\n    };\r\n\r\n    const loadMore = () => {\r\n        setPageNumber((prevState) => prevState + 1);\r\n    };\r\n\r\n    const handleScroll = (e) => {\r\n        if (!hasMore || loading) return;\r\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n            loadMore();\r\n        }\r\n    };\r\n\r\n    const renderStatus = (row) => {\r\n        return row.status === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const renderPlanValue = (row) => {\r\n        return row.planId !== null ? row.plan.amount ? row.plan.amount.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00' : \"-\";\r\n    };\r\n\r\n    const renderWhatsapp = (row) => {\r\n        return row.useWhatsapp === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const renderFacebook = (row) => {\r\n        return row.useFacebook === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const renderInstagram = (row) => {\r\n        return row.useInstagram === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const renderCampaigns = (row) => {\r\n        return row.useCampaigns === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const renderSchedules = (row) => {\r\n        return row.useSchedules === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const renderInternalChat = (row) => {\r\n        return row.useInternalChat === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const renderExternalApi = (row) => {\r\n        return row.useExternalApi === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const rowStyle = (record) => {\r\n        if (moment(record.dueDate).isValid()) {\r\n            const now = moment();\r\n            const dueDate = moment(record.dueDate);\r\n            const diff = dueDate.diff(now, \"days\");\r\n            if (diff >= 1 && diff <= 5) {\r\n                return { backgroundColor: \"#fffead\" };\r\n            }\r\n            if (diff <= 0) {\r\n                return { backgroundColor: \"#fa8c8c\" };\r\n            }\r\n            // else {\r\n            //   return { backgroundColor: \"#affa8c\" };\r\n            // }\r\n        }\r\n        return {};\r\n    };\r\n\r\n    return (\r\n        <MainContainer>\r\n            <ConfirmationModal\r\n                title={\r\n                    deletingCompany &&\r\n                    `${i18n.t(\"compaies.confirmationModal.deleteTitle\")} ${deletingCompany.name}?`\r\n                }\r\n                open={confirmModalOpen}\r\n                onClose={setConfirmModalOpen}\r\n                onConfirm={() => handleDeleteCompany(deletingCompany.id)}\r\n            >\r\n                {i18n.t(\"compaies.confirmationModal.deleteMessage\")}\r\n            </ConfirmationModal>\r\n            <CompanyModal\r\n                open={companyModalOpen}\r\n                onClose={handleCloseCompanyModal}\r\n                aria-labelledby=\"form-dialog-title\"\r\n                companyId={selectedCompany && selectedCompany.id}\r\n            />\r\n            <MainHeader>\r\n                <Title>{i18n.t(\"compaies.title\")} ({companies.length})</Title>\r\n                {/* <MainHeaderButtonsWrapper>\r\n                    <TextField\r\n                        placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n                        type=\"search\"\r\n                        value={searchParam}\r\n                        onChange={handleSearch}\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                                <InputAdornment position=\"start\">\r\n                                    <SearchIcon style={{ color: \"gray\" }} />\r\n                                </InputAdornment>\r\n                            ),\r\n                        }}\r\n                    />\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={handleOpenCompanyModal}\r\n                    >\r\n                        {i18n.t(\"compaies.buttons.add\")}\r\n                    </Button>\r\n                </MainHeaderButtonsWrapper> */}\r\n            </MainHeader>\r\n            <Paper\r\n                className={classes.mainPaper}\r\n                variant=\"outlined\"\r\n                onScroll={handleScroll}\r\n            >\r\n                <Table size=\"small\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.ID\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.status\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.name\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.email\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.namePlan\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.value\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.createdAt\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.dueDate\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.lastLogin\")}</TableCell>\r\n                            <TableCell align=\"center\">Tamanho da pasta</TableCell>\r\n                            <TableCell align=\"center\">Total de arquivos</TableCell>\r\n                            <TableCell align=\"center\">Ultimo update</TableCell>\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.numberAttendants\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.numberConections\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.numberQueues\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useWhatsapp\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useFacebook\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useInstagram\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useCampaigns\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useExternalApi\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useInternalChat\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useSchedules\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.actions\")}</TableCell> */}\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        <>\r\n                            {companies.map((company) => (\r\n                                <TableRow style={rowStyle(company)} key={company.id}>\r\n                                    <TableCell align=\"center\">{company.id}</TableCell>\r\n                                    <TableCell align=\"center\">{renderStatus(company.status)}</TableCell>\r\n                                    <TableCell align=\"center\">{company.name}</TableCell>\r\n                                    <TableCell align=\"center\">{company.email}</TableCell>\r\n                                    <TableCell align=\"center\">{company?.plan?.name}</TableCell>\r\n                                    <TableCell align=\"center\">R$ {renderPlanValue(company)}</TableCell>\r\n                                    <TableCell align=\"center\">{dateToClient(company.createdAt)}</TableCell>\r\n                                    <TableCell align=\"center\">{dateToClient(company.dueDate)}<br /><span>{company.recurrence}</span></TableCell>\r\n                                    <TableCell align=\"center\">{datetimeToClient(company.lastLogin)}</TableCell>\r\n                                    <TableCell align=\"center\">{company.folderSize}</TableCell>\r\n                                    <TableCell align=\"center\">{company.numberFileFolder}</TableCell>\r\n                                    <TableCell align=\"center\">{datetimeToClient(company.updatedAtFolder)}</TableCell>\r\n                                    {/* <TableCell align=\"center\">{company.plan.users}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{company.plan.connections}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{company.plan.queues}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{renderWhatsapp(company.plan.useWhatsapp)}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{renderFacebook(company.plan.useFacebook)}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{renderInstagram(company.plan.useInstagram)}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{renderCampaigns(company.plan.useCampaigns)}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{renderExternalApi(company.plan.useExternalApi)}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{renderInternalChat(company.plan.useInternalChat)}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{renderSchedules(company.plan.useSchedules)}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">\r\n                                        <IconButton\r\n                                            size=\"small\"\r\n                                            onClick={() => handleEditCompany(company)}\r\n                                        >\r\n                                            <EditIcon />\r\n                                        </IconButton>\r\n\r\n                                        <IconButton\r\n                                            size=\"small\"\r\n                                            onClick={(e) => {\r\n                                                setConfirmModalOpen(true);\r\n                                                setDeletingCompany(company);\r\n                                            }}\r\n                                        >\r\n                                            <DeleteOutlineIcon />\r\n                                        </IconButton>\r\n                                    </TableCell> */}\r\n                                </TableRow>\r\n                            ))}\r\n                            {loading && <TableRowSkeleton columns={4} />}\r\n                        </>\r\n                    </TableBody>\r\n                </Table>\r\n            </Paper>\r\n        </MainContainer>\r\n    );\r\n};\r\n\r\nexport default Companies;\r\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { head } from \"lodash\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\n\r\nimport {\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nconst path = require('path');\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  colorAdorment: {\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n}));\r\n\r\nconst QuickeMessageSchema = Yup.object().shape({\r\n  shortcode: Yup.string().required(\"Obrigatório\"),\r\n  //   message: Yup.string().required(\"Obrigatório\"),\r\n});\r\n\r\nconst QuickMessageDialog = ({ open, onClose, quickemessageId, reload }) => {\r\n  const classes = useStyles();\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const messageInputRef = useRef();\r\n\r\n  const initialState = {\r\n    shortcode: \"\",\r\n    message: \"\",\r\n    geral: false,\r\n    status: true,\r\n  };\r\n\r\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n  const [quickemessage, setQuickemessage] = useState(initialState);\r\n  const [attachment, setAttachment] = useState(null);\r\n  const attachmentFile = useRef(null);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      (async () => {\r\n        if (!quickemessageId) return;\r\n\r\n        const { data } = await api.get(`/quick-messages/${quickemessageId}`);\r\n\r\n        setQuickemessage((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n      })();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }, [quickemessageId, open]);\r\n\r\n  const handleClose = () => {\r\n    setQuickemessage(initialState);\r\n    setAttachment(null);\r\n    onClose();\r\n  };\r\n\r\n  const handleAttachmentFile = (e) => {\r\n    const file = head(e.target.files);\r\n    if (file) {\r\n      setAttachment(file);\r\n    }\r\n  };\r\n\r\n  const handleSaveQuickeMessage = async (values) => {\r\n\r\n    const quickemessageData = { ...values, isMedia: true, mediaPath: attachment ? String(attachment.name).replace(/ /g, \"_\") : values.mediaPath ? path.basename(values.mediaPath).replace(/ /g, \"_\") : null };\r\n\r\n    try {\r\n      if (quickemessageId) {\r\n        await api.put(`/quick-messages/${quickemessageId}`, quickemessageData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"typeArch\", \"quickMessage\");\r\n          formData.append(\"file\", attachment);\r\n          await api.post(\r\n            `/quick-messages/${quickemessageId}/media-upload`,\r\n            formData\r\n          );\r\n        }\r\n      } else {\r\n        const { data } = await api.post(\"/quick-messages\", quickemessageData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"typeArch\", \"quickMessage\");\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/quick-messages/${data.id}/media-upload`, formData);\r\n        }\r\n      }\r\n      toast.success(i18n.t(\"quickMessages.toasts.success\"));\r\n      if (typeof reload == \"function\") {\r\n        reload();\r\n      }\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  const deleteMedia = async () => {\r\n    if (attachment) {\r\n      setAttachment(null);\r\n      attachmentFile.current.value = null;\r\n    }\r\n\r\n    if (quickemessage.mediaPath) {\r\n      await api.delete(`/quick-messages/${quickemessage.id}/media-upload`);\r\n      setQuickemessage((prev) => ({\r\n        ...prev,\r\n        mediaPath: null,\r\n      }));\r\n      toast.success(i18n.t(\"quickMessages.toasts.deleted\"));\r\n      if (typeof reload == \"function\") {\r\n        reload();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleClickMsgVar = async (msgVar, setValueFunc) => {\r\n    const el = messageInputRef.current;\r\n    const firstHalfText = el.value.substring(0, el.selectionStart);\r\n    const secondHalfText = el.value.substring(el.selectionEnd);\r\n    const newCursorPos = el.selectionStart + msgVar.length;\r\n\r\n    setValueFunc(\"message\", `${firstHalfText}${msgVar}${secondHalfText}`);\r\n\r\n    await new Promise(r => setTimeout(r, 100));\r\n    messageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ConfirmationModal\r\n        title={i18n.t(\"quickMessages.confirmationModal.deleteTitle\")}\r\n        open={confirmationOpen}\r\n        onClose={() => setConfirmationOpen(false)}\r\n        onConfirm={deleteMedia}\r\n      >\r\n        {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"xs\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {quickemessageId\r\n            ? `${i18n.t(\"quickMessages.dialog.edit\")}`\r\n            : `${i18n.t(\"quickMessages.dialog.add\")}`}\r\n        </DialogTitle>\r\n        <div style={{ display: \"none\" }}>\r\n          <input\r\n            type=\"file\"\r\n            // accept=\"Image/*, Video/*\"\r\n            ref={attachmentFile}\r\n            onChange={(e) => handleAttachmentFile(e)}\r\n          />\r\n        </div>\r\n        <Formik\r\n          initialValues={quickemessage}\r\n          enableReinitialize={true}\r\n          validationSchema={QuickeMessageSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveQuickeMessage(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting, setFieldValue, values }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <Grid spacing={2} container>\r\n                  <Grid xs={12} item>\r\n                    <Field\r\n                      as={TextField}\r\n                      autoFocus\r\n                      label={i18n.t(\"quickMessages.dialog.shortcode\")}\r\n                      name=\"shortcode\"\r\n                      disabled={quickemessageId && values.visao && !values.geral && values.userId !== user.id}\r\n                      error={touched.shortcode && Boolean(errors.shortcode)}\r\n                      helperText={touched.shortcode && errors.shortcode}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={12} item>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"quickMessages.dialog.message\")}\r\n                      name=\"message\"\r\n                      inputRef={messageInputRef}\r\n                      error={touched.message && Boolean(errors.message)}\r\n                      helperText={touched.message && errors.message}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      disabled={quickemessageId && values.visao && !values.geral && values.userId !== user.id}\r\n                      multiline={true}\r\n                      rows={7}\r\n                      fullWidth\r\n                    // disabled={quickemessage.mediaPath || attachment ? true : false}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <MessageVariablesPicker\r\n                      disabled={isSubmitting || (quickemessageId && values.visao && !values.geral && values.userId !== user.id)}\r\n                      onClick={value => handleClickMsgVar(value, setFieldValue)}\r\n                    />\r\n                  </Grid>\r\n                  {/* {(profile === \"admin\" || profile === \"supervisor\") && ( */}\r\n                  <Grid xs={12} item>\r\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\r\n                      <InputLabel id=\"geral-selection-label\">\r\n                        {i18n.t(\"quickMessages.dialog.visao\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"quickMessages.dialog.visao\")}\r\n                        placeholder={i18n.t(\"quickMessages.dialog.visao\")}\r\n                        labelId=\"visao-selection-label\"\r\n                        id=\"visao\"\r\n                        disabled={quickemessageId && values.visao && !values.geral && values.userId !== user.id}\r\n                        name=\"visao\"\r\n                        onChange={(e) => {\r\n                          setFieldValue(\"visao\", e.target.value === \"true\");\r\n                        }}\r\n                        error={touched.visao && Boolean(errors.visao)}\r\n                        value={values.visao ? \"true\" : \"false\"} // Converte o valor booleano para string\r\n                      >\r\n                        <MenuItem value={\"true\"}>{i18n.t(\"announcements.active\")}</MenuItem>\r\n                        <MenuItem value={\"false\"}>{i18n.t(\"announcements.inactive\")}</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                    {/* Renderização condicional do novo item */}\r\n                    {values.visao === true && (\r\n                      <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\r\n                        <InputLabel id=\"geral-selection-label\">\r\n                          {i18n.t(\"quickMessages.dialog.geral\")}\r\n                        </InputLabel>\r\n                        <Field\r\n                          as={Select}\r\n                          label={i18n.t(\"quickMessages.dialog.geral\")}\r\n                          placeholder={i18n.t(\"quickMessages.dialog.geral\")}\r\n                          labelId=\"novo-item-selection-label\"\r\n                          id=\"geral\"\r\n                          name=\"geral\"\r\n                          disabled={quickemessageId && values.visao && !values.geral && values.userId !== user.id}\r\n                          value={values.geral ? \"true\" : \"false\"} // Converte o valor booleano para string\r\n                          error={touched.geral && Boolean(errors.geral)}\r\n                        >\r\n                          <MenuItem value={\"true\"}>{i18n.t(\"announcements.active\")}</MenuItem>\r\n                          <MenuItem value={\"false\"}>{i18n.t(\"announcements.inactive\")}</MenuItem>\r\n                        </Field>\r\n                      </FormControl>\r\n                    )}\r\n                  </Grid>\r\n                  {/* )} */}\r\n                  {(quickemessage.mediaPath || attachment) && (\r\n                    <Grid xs={12} item>\r\n                      <Button startIcon={<AttachFileIcon />}>\r\n                        {attachment ? attachment.name : quickemessage.mediaName}\r\n                      </Button>\r\n                      <IconButton\r\n                        onClick={() => setConfirmationOpen(true)}\r\n                        color=\"secondary\"\r\n                        disabled={quickemessageId && values.visao && !values.geral && values.userId !== user.id}\r\n                      >\r\n                        <DeleteOutlineIcon color=\"secondary\" />\r\n                      </IconButton>\r\n                    </Grid>\r\n                  )}\r\n                </Grid>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                {!attachment && !quickemessage.mediaPath && (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={() => attachmentFile.current.click()}\r\n                    disabled={isSubmitting || (quickemessageId && values.visao && !values.geral && values.userId !== user.id)}\r\n                    variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"quickMessages.buttons.attach\")}\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"quickMessages.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting || (quickemessageId && values.visao && !values.geral && values.userId !== user.id)}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {quickemessageId\r\n                    ? `${i18n.t(\"quickMessages.buttons.edit\")}`\r\n                    : `${i18n.t(\"quickMessages.buttons.add\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuickMessageDialog;","import React, { useState, useEffect, useReducer, useContext, useCallback } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport QuickMessageDialog from \"../../components/QuickMessageDialog\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { isArray } from \"lodash\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_QUICKMESSAGES\") {\r\n    const quickmessages = action.payload;\r\n    const newQuickmessages = [];\r\n\r\n    if (isArray(quickmessages)) {\r\n      quickmessages.forEach((quickemessage) => {\r\n        const quickemessageIndex = state.findIndex(\r\n          (u) => u.id === quickemessage.id\r\n        );\r\n        if (quickemessageIndex !== -1) {\r\n          state[quickemessageIndex] = quickemessage;\r\n        } else {\r\n          newQuickmessages.push(quickemessage);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newQuickmessages];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_QUICKMESSAGES\") {\r\n    const quickemessage = action.payload;\r\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessage.id);\r\n\r\n    if (quickemessageIndex !== -1) {\r\n      state[quickemessageIndex] = quickemessage;\r\n      return [...state];\r\n    } else {\r\n      return [quickemessage, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_QUICKMESSAGE\") {\r\n    const quickemessageId = action.payload;\r\n\r\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessageId);\r\n    if (quickemessageIndex !== -1) {\r\n      state.splice(quickemessageIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Quickemessages = () => {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedQuickemessage, setSelectedQuickemessage] = useState(null);\r\n  const [deletingQuickemessage, setDeletingQuickemessage] = useState(null);\r\n  const [quickemessageModalOpen, setQuickMessageDialogOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [quickemessages, dispatch] = useReducer(reducer, []);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const { profile } = user;\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchQuickemessages();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onQuickMessageEvent = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_QUICKMESSAGES\", payload: data.record });\r\n      }\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_QUICKMESSAGE\", payload: +data.id });\r\n      }\r\n    };\r\n    socket.on(`company-${companyId}-quickemessage`, onQuickMessageEvent);\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-quickemessage`, onQuickMessageEvent);\r\n    };\r\n  }, [socket]);\r\n\r\n  const fetchQuickemessages = async () => {\r\n    try {\r\n      const companyId = user.companyId;\r\n      //const searchParam = ({ companyId, userId: user.id });\r\n      const { data } = await api.get(\"/quick-messages\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n\r\n      dispatch({ type: \"LOAD_QUICKMESSAGES\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenQuickMessageDialog = () => {\r\n    setSelectedQuickemessage(null);\r\n    setQuickMessageDialogOpen(true);\r\n  };\r\n\r\n  const handleCloseQuickMessageDialog = () => {\r\n    setSelectedQuickemessage(null);\r\n    setQuickMessageDialogOpen(false);\r\n    //window.location.reload();\r\n    fetchQuickemessages();\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditQuickemessage = (quickemessage) => {\r\n    setSelectedQuickemessage(quickemessage);\r\n    setQuickMessageDialogOpen(true);\r\n  };\r\n\r\n  const handleDeleteQuickemessage = async (quickemessageId) => {\r\n    try {\r\n      await api.delete(`/quick-messages/${quickemessageId}`);\r\n      toast.success(i18n.t(\"quickemessages.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingQuickemessage(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n    fetchQuickemessages();\r\n    dispatch({ type: \"RESET\" });\r\n\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={deletingQuickemessage && `${i18n.t(\"quickMessages.confirmationModal.deleteTitle\")} ${deletingQuickemessage.shortcode}?`}\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteQuickemessage(deletingQuickemessage.id)}\r\n      >\r\n        {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <QuickMessageDialog\r\n        resetPagination={() => {\r\n          setPageNumber(1);\r\n          fetchQuickemessages();\r\n        }}\r\n        open={quickemessageModalOpen}\r\n        onClose={handleCloseQuickMessageDialog}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        quickemessageId={selectedQuickemessage && selectedQuickemessage.id}\r\n      />\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} sm={8} item>\r\n            <Title>{i18n.t(\"quickMessages.title\")}</Title>\r\n          </Grid>\r\n          <Grid xs={12} sm={4} item>\r\n            <Grid spacing={2} container>\r\n              <Grid xs={6} sm={6} item>\r\n                <TextField\r\n                  fullWidth\r\n                  placeholder={i18n.t(\"quickMessages.searchPlaceholder\")}\r\n                  type=\"search\"\r\n                  value={searchParam}\r\n                  onChange={handleSearch}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <SearchIcon style={{ color: \"gray\" }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid xs={6} sm={6} item>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  onClick={handleOpenQuickMessageDialog}\r\n                  color=\"primary\"\r\n                >\r\n                  {i18n.t(\"quickMessages.buttons.add\")}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"quickMessages.table.shortcode\")}\r\n              </TableCell>\r\n\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"quickMessages.table.mediaName\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"quickMessages.table.status\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"quickMessages.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {quickemessages.map((quickemessage) => (\r\n                <TableRow key={quickemessage.id}>\r\n                  <TableCell align=\"center\">{quickemessage.shortcode}</TableCell>\r\n\r\n                  <TableCell align=\"center\">\r\n                    {quickemessage.mediaName ?? i18n.t(\"quickMessages.noAttachment\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {quickemessage.geral === true ? (\r\n                      <CheckCircleIcon style={{ color: 'green' }} />\r\n                    ) : (\r\n                      ''\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleEditQuickemessage(quickemessage)}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingQuickemessage(quickemessage);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={5} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Quickemessages;","import React, { useContext } from \"react\";\r\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\r\n\r\nimport { AuthContext } from \"../context/Auth/AuthContext\";\r\nimport BackdropLoading from \"../components/BackdropLoading\";\r\n\r\nconst Route = ({ component: Component, isPrivate = false, ...rest }) => {\r\n\tconst { isAuth, loading } = useContext(AuthContext);\r\n\r\n\tif (!isAuth && isPrivate) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{loading && <BackdropLoading />}\r\n\t\t\t\t<Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\tif (isAuth && !isPrivate) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{loading && <BackdropLoading />}\r\n\t\t\t\t<Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading && <BackdropLoading />}\r\n\t\t\t<RouterRoute {...rest} component={Component} />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Route;\r\n","import React, { useState, useEffect, useReducer, useCallback, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\n// import MessageModal from \"../../components/MessageModal\"\r\nimport ScheduleModal from \"../../components/ScheduleModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport moment from \"moment\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\r\nimport \"moment/locale/pt-br\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport \"./Schedules.css\"; // Importe o arquivo CSS\r\n\r\n// Defina a função getUrlParam antes de usá-la\r\nfunction getUrlParam(paramName) {\r\n  const searchParams = new URLSearchParams(window.location.search);\r\n  return searchParams.get(paramName);\r\n}\r\n\r\nconst eventTitleStyle = {\r\n  fontSize: \"14px\", // Defina um tamanho de fonte menor\r\n  overflow: \"hidden\", // Oculte qualquer conteúdo excedente\r\n  whiteSpace: \"nowrap\", // Evite a quebra de linha do texto\r\n  textOverflow: \"ellipsis\", // Exiba \"...\" se o texto for muito longo\r\n};\r\n\r\nconst localizer = momentLocalizer(moment);\r\nvar defaultMessages = {\r\n  date: \"Data\",\r\n  time: \"Hora\",\r\n  event: \"Evento\",\r\n  allDay: \"Dia Todo\",\r\n  week: \"Semana\",\r\n  work_week: \"Agendamentos\",\r\n  day: \"Dia\",\r\n  month: \"Mês\",\r\n  previous: \"Anterior\",\r\n  next: \"Próximo\",\r\n  yesterday: \"Ontem\",\r\n  tomorrow: \"Amanhã\",\r\n  today: \"Hoje\",\r\n  agenda: \"Agenda\",\r\n  noEventsInRange: \"Não há agendamentos no período.\",\r\n  showMore: function showMore(total) {\r\n    return \"+\" + total + \" mais\";\r\n  }\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_SCHEDULES\") {\r\n    const schedules = action.payload;\r\n    const newSchedules = [];\r\n\r\n    schedules.forEach((schedule) => {\r\n      const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\r\n      if (scheduleIndex !== -1) {\r\n        state[scheduleIndex] = schedule;\r\n      } else {\r\n        newSchedules.push(schedule);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newSchedules];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_SCHEDULES\") {\r\n    const schedule = action.payload;\r\n    const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\r\n\r\n    if (scheduleIndex !== -1) {\r\n      state[scheduleIndex] = schedule;\r\n      return [...state];\r\n    } else {\r\n      return [schedule, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_SCHEDULE\") {\r\n    const scheduleId = action.payload;\r\n\r\n    const scheduleIndex = state.findIndex((s) => s.id === scheduleId);\r\n    if (scheduleIndex !== -1) {\r\n      state.splice(scheduleIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  calendarToolbar: {\r\n    '& .rbc-toolbar-label': {\r\n      color: theme.mode === \"light\" ? theme.palette.light : \"white\",\r\n    },\r\n    '& .rbc-btn-group button': {\r\n      color: theme.mode === \"light\" ? theme.palette.light : \"white\",\r\n      '&:hover': {\r\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000',\r\n      },\r\n      '&:active': {\r\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000',\r\n      },\r\n      '&:focus': {\r\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000',\r\n      },\r\n      '&.rbc-active': {\r\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000',\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst Schedules = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\r\n  const [deletingSchedule, setDeletingSchedule] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [schedules, dispatch] = useReducer(reducer, []);\r\n  const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\r\n  const [contactId, setContactId] = useState(+getUrlParam(\"contactId\"));\r\n\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useSchedules) {\r\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [user, history, getPlanCompany]);\r\n\r\n  const fetchSchedules = useCallback(async () => {\r\n    try {\r\n      const { data } = await api.get(\"/schedules\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n\r\n      dispatch({ type: \"LOAD_SCHEDULES\", payload: data.schedules });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }, [searchParam, pageNumber]);\r\n\r\n  const handleOpenScheduleModalFromContactId = useCallback(() => {\r\n    if (contactId) {\r\n      handleOpenScheduleModal();\r\n    }\r\n  }, [contactId]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchSchedules();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [\r\n    searchParam,\r\n    pageNumber,\r\n    contactId,\r\n    fetchSchedules,\r\n    handleOpenScheduleModalFromContactId,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    // handleOpenScheduleModalFromContactId();\r\n    // const socket = socketManager.GetSocket(user.companyId, user.id);\r\n\r\n\r\n    const onCompanySchedule = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_SCHEDULES\", payload: data.schedule });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_SCHEDULE\", payload: +data.scheduleId });\r\n      }\r\n    }\r\n\r\n    socket.on(`company${user.companyId}-schedule`, onCompanySchedule)\r\n\r\n    return () => {\r\n      socket.off(`company${user.companyId}-schedule`, onCompanySchedule)\r\n    };\r\n  }, [socket]);\r\n\r\n  const cleanContact = () => {\r\n    setContactId(\"\");\r\n  };\r\n\r\n  const handleOpenScheduleModal = () => {\r\n    setSelectedSchedule(null);\r\n    setScheduleModalOpen(true);\r\n  };\r\n\r\n  const handleCloseScheduleModal = () => {\r\n    setSelectedSchedule(null);\r\n    setScheduleModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditSchedule = (schedule) => {\r\n    setSelectedSchedule(schedule);\r\n    setScheduleModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteSchedule = async (scheduleId) => {\r\n    try {\r\n      await api.delete(`/schedules/${scheduleId}`);\r\n      toast.success(i18n.t(\"schedules.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingSchedule(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n    await fetchSchedules();\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const truncate = (str, len) => {\r\n    if (str.length > len) {\r\n      return str.substring(0, len) + \"...\";\r\n    }\r\n    return str;\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingSchedule &&\r\n          `${i18n.t(\"schedules.confirmationModal.deleteTitle\")}`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={() => setConfirmModalOpen(false)}\r\n        onConfirm={() => handleDeleteSchedule(deletingSchedule.id)}\r\n      >\r\n        {i18n.t(\"schedules.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      {scheduleModalOpen && (\r\n        <ScheduleModal\r\n          open={scheduleModalOpen}\r\n          onClose={handleCloseScheduleModal}\r\n          reload={fetchSchedules}\r\n          // aria-labelledby=\"form-dialog-title\"\r\n          scheduleId={\r\n            selectedSchedule ? selectedSchedule.id : null\r\n          }\r\n          contactId={contactId}\r\n          cleanContact={cleanContact}\r\n        />\r\n      )}\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"schedules.title\")} ({schedules.length})</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: \"gray\" }} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenScheduleModal}\r\n          >\r\n            {i18n.t(\"schedules.buttons.add\")}\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper className={classes.mainPaper} variant=\"outlined\" onScroll={handleScroll}>\r\n        <Calendar\r\n          messages={defaultMessages}\r\n          formats={{\r\n            agendaDateFormat: \"DD/MM ddd\",\r\n            weekdayFormat: \"dddd\"\r\n          }}\r\n          localizer={localizer}\r\n          events={schedules.map((schedule) => ({\r\n            title: (\r\n              <div key={schedule.id} className=\"event-container\">\r\n                <div style={eventTitleStyle}>{schedule?.contact?.name}</div>\r\n                <DeleteOutlineIcon\r\n                  onClick={() => handleDeleteSchedule(schedule.id)}\r\n                  className=\"delete-icon\"\r\n                />\r\n                <EditIcon\r\n                  onClick={() => {\r\n                    handleEditSchedule(schedule);\r\n                    setScheduleModalOpen(true);\r\n                  }}\r\n                  className=\"edit-icon\"\r\n                />\r\n              </div>\r\n            ),\r\n            start: new Date(schedule.sendAt),\r\n            end: new Date(schedule.sendAt),\r\n          }))}\r\n          startAccessor=\"start\"\r\n          endAccessor=\"end\"\r\n          style={{ height: 500 }}\r\n          className={classes.calendarToolbar}\r\n        />\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Schedules;","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport { head } from \"lodash\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport Chip from '@material-ui/core/Chip';\r\nimport { isNil } from \"lodash\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport moment from \"moment\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport {\r\n  Box,\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Tab,\r\n  Tabs,\r\n} from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport UserStatusIcon from \"../UserModal/statusIcon\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport useQueues from \"../../hooks/useQueues\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\n\r\nconst CampaignSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n});\r\n\r\nconst CampaignModal = ({\r\n  open,\r\n  onClose,\r\n  campaignId,\r\n  initialValues,\r\n  onSave,\r\n  resetPagination,\r\n}) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { companyId } = user;\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    message1: \"\",\r\n    message2: \"\",\r\n    message3: \"\",\r\n    message4: \"\",\r\n    message5: \"\",\r\n    confirmationMessage1: \"\",\r\n    confirmationMessage2: \"\",\r\n    confirmationMessage3: \"\",\r\n    confirmationMessage4: \"\",\r\n    confirmationMessage5: \"\",\r\n    status: \"INATIVA\", // INATIVA, PROGRAMADA, EM_ANDAMENTO, CANCELADA, FINALIZADA,\r\n    confirmation: false,\r\n    scheduledAt: \"\",\r\n    //whatsappId: \"\",\r\n    contactListId: \"\",\r\n    tagListId: \"Nenhuma\",\r\n    companyId,\r\n    statusTicket: \"closed\",\r\n    openTicket: \"disabled\"\r\n  };\r\n\r\n  const [campaign, setCampaign] = useState(initialState);\r\n  const [whatsapps, setWhatsapps] = useState([]);\r\n  const [selectedWhatsapps, setSelectedWhatsapps] = useState([]);\r\n  const [whatsappId, setWhatsappId] = useState(false);\r\n\r\n  const [contactLists, setContactLists] = useState([]);\r\n  const [tagLists, setTagLists] = useState([]);\r\n  const [messageTab, setMessageTab] = useState(0);\r\n  const [attachment, setAttachment] = useState(null);\r\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n  const [campaignEditable, setCampaignEditable] = useState(true);\r\n  const attachmentFile = useRef(null);\r\n\r\n\r\n  const [options, setOptions] = useState([]);\r\n  const [queues, setQueues] = useState([]);\r\n  const [allQueues, setAllQueues] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [selectedQueue, setSelectedQueue] = useState(null);\r\n  const { findAll: findAllQueues } = useQueues();\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      const loadQueues = async () => {\r\n        const list = await findAllQueues();\r\n        setAllQueues(list);\r\n        setQueues(list);\r\n\r\n      };\r\n      loadQueues();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (searchParam.length < 3) {\r\n      setLoading(false);\r\n      setSelectedQueue(\"\");\r\n      return;\r\n    }\r\n    const delayDebounceFn = setTimeout(() => {\r\n      setLoading(true);\r\n      const fetchUsers = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/users/\");\r\n          setOptions(data.users);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n\r\n      fetchUsers();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      if (initialValues) {\r\n        setCampaign((prevState) => {\r\n          return { ...prevState, ...initialValues };\r\n        });\r\n      }\r\n\r\n      api\r\n        .get(`/contact-lists/list`, { params: { companyId } })\r\n        .then(({ data }) => setContactLists(data));\r\n\r\n      api\r\n        .get(`/whatsapp`, { params: { companyId, session: 0 } })\r\n        .then(({ data }) => {\r\n          // Mapear os dados recebidos da API para adicionar a propriedade 'selected'\r\n          const mappedWhatsapps = data.map((whatsapp) => ({\r\n            ...whatsapp,\r\n            selected: false,\r\n          }));\r\n\r\n          setWhatsapps(mappedWhatsapps);\r\n        });\r\n\r\n      api.get(`/tags/list`, { params: { companyId, kanban: 0 } })\r\n        .then(({ data }) => {\r\n          const fetchedTags = data;\r\n          // Perform any necessary data transformation here\r\n          const formattedTagLists = fetchedTags\r\n            .filter(tag => tag.contacts.length > 0)  // Filtra as tags com contacts.length > 0\r\n            .map((tag) => ({\r\n              id: tag.id,\r\n              name: `${tag.name} (${tag.contacts.length})`,\r\n            }));\r\n\r\n          setTagLists(formattedTagLists);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error retrieving tags:\", error);\r\n        });\r\n\r\n      if (!campaignId) return;\r\n\r\n      api.get(`/campaigns/${campaignId}`).then(({ data }) => {\r\n\r\n        if (data?.user)\r\n          setSelectedUser(data.user);\r\n\r\n        if (data?.queue)\r\n          setSelectedQueue(data.queue.id)\r\n\r\n        if (data?.whatsappId) {\r\n          // const selectedWhatsapps = data.whatsappId.split(\",\");\r\n          setWhatsappId(data.whatsappId);\r\n        }\r\n        setCampaign((prev) => {\r\n          let prevCampaignData = Object.assign({}, prev);\r\n\r\n          Object.entries(data).forEach(([key, value]) => {\r\n            if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\r\n              prevCampaignData[key] = moment(value).format(\"YYYY-MM-DDTHH:mm\");\r\n            } else {\r\n              prevCampaignData[key] = value === null ? \"\" : value;\r\n            }\r\n          });\r\n\r\n          return prevCampaignData;\r\n        });\r\n      });\r\n    }\r\n  }, [campaignId, open, initialValues, companyId]);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const now = moment();\r\n    const scheduledAt = moment(campaign.scheduledAt);\r\n    const moreThenAnHour =\r\n      !Number.isNaN(scheduledAt.diff(now)) && scheduledAt.diff(now, \"hour\") > 1;\r\n    const isEditable =\r\n      campaign.status === \"INATIVA\" ||\r\n      (campaign.status === \"PROGRAMADA\" && moreThenAnHour);\r\n\r\n    setCampaignEditable(isEditable);\r\n  }, [campaign.status, campaign.scheduledAt]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setCampaign(initialState);\r\n  };\r\n\r\n  const handleAttachmentFile = (e) => {\r\n    const file = head(e.target.files);\r\n    if (file) {\r\n      setAttachment(file);\r\n    }\r\n  };\r\n\r\n  const handleSaveCampaign = async (values) => {\r\n    try {\r\n      const dataValues = {\r\n        ...values,  // Merge the existing values object\r\n        whatsappId: whatsappId,\r\n        userId: selectedUser?.id || null,\r\n        queueId: selectedQueue || null\r\n      };\r\n      \r\n      Object.entries(values).forEach(([key, value]) => {\r\n        if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\r\n          dataValues[key] = moment(value).format(\"YYYY-MM-DD HH:mm:ss\");\r\n        } else {\r\n          dataValues[key] = value === \"\" ? null : value;\r\n        }\r\n      });\r\n\r\n      if (campaignId) {\r\n        await api.put(`/campaigns/${campaignId}`, dataValues);\r\n\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/campaigns/${campaignId}/media-upload`, formData);\r\n        }\r\n        handleClose();\r\n      } else {\r\n        const { data } = await api.post(\"/campaigns\", dataValues);\r\n\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/campaigns/${data.id}/media-upload`, formData);\r\n        }\r\n        if (onSave) {\r\n          onSave(data);\r\n        }\r\n        handleClose();\r\n      }\r\n      toast.success(i18n.t(\"campaigns.toasts.success\"));\r\n    } catch (err) {\r\n      console.log(err);\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const deleteMedia = async () => {\r\n    if (attachment) {\r\n      setAttachment(null);\r\n      attachmentFile.current.value = null;\r\n    }\r\n\r\n    if (campaign.mediaPath) {\r\n      await api.delete(`/campaigns/${campaign.id}/media-upload`);\r\n      setCampaign((prev) => ({ ...prev, mediaPath: null, mediaName: null }));\r\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\r\n    }\r\n  };\r\n\r\n  const renderMessageField = (identifier) => {\r\n    return (\r\n      <Field\r\n        as={TextField}\r\n        id={identifier}\r\n        name={identifier}\r\n        fullWidth\r\n        rows={5}\r\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\r\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\r\n        multiline={true}\r\n        variant=\"outlined\"\r\n        helperText=\"Utilize variáveis como {nome}, {numero}, {email} ou defina variáveis personalizadas.\"\r\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\r\n      />\r\n    );\r\n  };\r\n\r\n  const renderConfirmationMessageField = (identifier) => {\r\n    return (\r\n      <Field\r\n        as={TextField}\r\n        id={identifier}\r\n        name={identifier}\r\n        fullWidth\r\n        rows={5}\r\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\r\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\r\n        multiline={true}\r\n        variant=\"outlined\"\r\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\r\n      />\r\n    );\r\n  };\r\n\r\n  const cancelCampaign = async () => {\r\n    try {\r\n      await api.post(`/campaigns/${campaign.id}/cancel`);\r\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\r\n      setCampaign((prev) => ({ ...prev, status: \"CANCELADA\" }));\r\n      resetPagination();\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  const restartCampaign = async () => {\r\n    try {\r\n      await api.post(`/campaigns/${campaign.id}/restart`);\r\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\r\n      setCampaign((prev) => ({ ...prev, status: \"EM_ANDAMENTO\" }));\r\n      resetPagination();\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  const filterOptions = createFilterOptions({\r\n    trim: true,\r\n  });\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ConfirmationModal\r\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\r\n        open={confirmationOpen}\r\n        onClose={() => setConfirmationOpen(false)}\r\n        onConfirm={deleteMedia}\r\n      >\r\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        fullWidth\r\n        maxWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {campaignEditable ? (\r\n            <>\r\n              {campaignId\r\n                ? `${i18n.t(\"campaigns.dialog.update\")}`\r\n                : `${i18n.t(\"campaigns.dialog.new\")}`}\r\n            </>\r\n          ) : (\r\n            <>{`${i18n.t(\"campaigns.dialog.readonly\")}`}</>\r\n          )}\r\n        </DialogTitle>\r\n        <div style={{ display: \"none\" }}>\r\n          <input\r\n            type=\"file\"\r\n            ref={attachmentFile}\r\n            onChange={(e) => handleAttachmentFile(e)}\r\n          />\r\n        </div>\r\n        <Formik\r\n          initialValues={campaign}\r\n          enableReinitialize={true}\r\n          validationSchema={CampaignSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveCampaign(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ values, errors, touched, isSubmitting }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <Grid spacing={2} container>\r\n                  <Grid xs={12} md={4} item>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"campaigns.dialog.form.name\")}\r\n                      name=\"name\"\r\n                      error={touched.name && Boolean(errors.name)}\r\n                      helperText={touched.name && errors.name}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.textField}\r\n                      disabled={!campaignEditable}\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"confirmation-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.confirmation\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"campaigns.dialog.form.confirmation\")}\r\n                        placeholder={i18n.t(\r\n                          \"campaigns.dialog.form.confirmation\"\r\n                        )}\r\n                        labelId=\"confirmation-selection-label\"\r\n                        id=\"confirmation\"\r\n                        name=\"confirmation\"\r\n                        error={\r\n                          touched.confirmation && Boolean(errors.confirmation)\r\n                        }\r\n                        disabled={!campaignEditable}\r\n                      >\r\n                        <MenuItem value={false}>Desabilitada</MenuItem>\r\n                        <MenuItem value={true}>Habilitada</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"contactList-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.contactList\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"campaigns.dialog.form.contactList\")}\r\n                        placeholder={i18n.t(\r\n                          \"campaigns.dialog.form.contactList\"\r\n                        )}\r\n                        labelId=\"contactList-selection-label\"\r\n                        id=\"contactListId\"\r\n                        name=\"contactListId\"\r\n                        error={\r\n                          touched.contactListId && Boolean(errors.contactListId)\r\n                        }\r\n                        disabled={!campaignEditable}\r\n                      >\r\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\r\n                        {contactLists &&\r\n                          contactLists.map((contactList) => (\r\n                            <MenuItem\r\n                              key={contactList.id}\r\n                              value={contactList.id}\r\n                            >\r\n                              {contactList.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"tagList-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.tagList\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"campaigns.dialog.form.tagList\")}\r\n                        placeholder={i18n.t(\"campaigns.dialog.form.tagList\")}\r\n                        labelId=\"tagList-selection-label\"\r\n                        id=\"tagListId\"\r\n                        name=\"tagListId\"\r\n                        error={touched.tagListId && Boolean(errors.tagListId)}\r\n                        disabled={!campaignEditable}\r\n                      >\r\n                        {/* <MenuItem value=\"\">Nenhuma</MenuItem> */}\r\n                        {Array.isArray(tagLists) &&\r\n                          tagLists.map((tagList) => (\r\n                            <MenuItem key={tagList.id} value={tagList.id}>\r\n                              {tagList.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"whatsapp-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        // multiple\r\n                        label={i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n                        placeholder={i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n                        labelId=\"whatsapp-selection-label\"\r\n                        id=\"whatsappIds\"\r\n                        name=\"whatsappIds\"\r\n                        required\r\n                        error={touched.whatsappId && Boolean(errors.whatsappId)}\r\n                        disabled={!campaignEditable}\r\n                        value={whatsappId}\r\n                        onChange={(event) => {\r\n                          console.log(event.target.value)\r\n                          setWhatsappId(event.target.value)\r\n                        }}\r\n                        // renderValue={(selected) => (\r\n                        //   <div>\r\n                        //     {selected.map((value) => (\r\n                        //       <Chip key={value} label={whatsapps.find((whatsapp) => whatsapp.id === value).name} />\r\n                        //     ))}\r\n                        //   </div>\r\n                        // )}\r\n                      >\r\n                        {whatsapps &&\r\n                          whatsapps.map((whatsapp) => (\r\n                            <MenuItem key={whatsapp.id} value={whatsapp.id}>\r\n                              {whatsapp.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n\r\n                  <Grid xs={12} md={4} item>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"campaigns.dialog.form.scheduledAt\")}\r\n                      name=\"scheduledAt\"\r\n                      error={touched.scheduledAt && Boolean(errors.scheduledAt)}\r\n                      helperText={touched.scheduledAt && errors.scheduledAt}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      type=\"datetime-local\"\r\n                      InputLabelProps={{\r\n                        shrink: true,\r\n                      }}\r\n                      fullWidth\r\n                      className={classes.textField}\r\n                      disabled={!campaignEditable}\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"openTicket-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.openTicket\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"campaigns.dialog.form.openTicket\")}\r\n                        placeholder={i18n.t(\r\n                          \"campaigns.dialog.form.openTicket\"\r\n                        )}\r\n                        labelId=\"openTicket-selection-label\"\r\n                        id=\"openTicket\"\r\n                        name=\"openTicket\"\r\n                        error={\r\n                          touched.openTicket && Boolean(errors.openTicket)\r\n                        }\r\n                        disabled={!campaignEditable}\r\n                      >\r\n                        <MenuItem value={\"enabled\"}>{i18n.t(\"campaigns.dialog.form.enabledOpenTicket\")}</MenuItem>\r\n                        <MenuItem value={\"disabled\"}>{i18n.t(\"campaigns.dialog.form.disabledOpenTicket\")}</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  {/* SELECIONAR USUARIO */}\r\n                  <Grid xs={12} md={4} item>\r\n                    <Autocomplete\r\n                      style={{ marginTop: '8px' }}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      className={classes.formControl}\r\n                      getOptionLabel={(option) => `${option.name}`}\r\n                      value={selectedUser}\r\n                      size=\"small\"\r\n                      onChange={(e, newValue) => {\r\n                        setSelectedUser(newValue);\r\n                        if (newValue != null && Array.isArray(newValue.queues)) {\r\n                          if (newValue.queues.length === 1) {\r\n                            setSelectedQueue(newValue.queues[0].id);\r\n                          }\r\n                          setQueues(newValue.queues);\r\n\r\n                        } else {\r\n                          setQueues(allQueues);\r\n                          setSelectedQueue(\"\");\r\n                        }\r\n                      }}\r\n                      options={options}\r\n                      filterOptions={filterOptions}\r\n                      freeSolo\r\n                      fullWidth\r\n                      autoHighlight\r\n                      disabled={!campaignEditable || values.openTicket === 'disabled'}\r\n                      noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\r\n                      loading={loading}\r\n                      renderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\r\n                      renderInput={(params) => (\r\n                        <TextField\r\n                          {...params}\r\n                          label={i18n.t(\"transferTicketModal.fieldLabel\")}\r\n                          variant=\"outlined\"\r\n                          onChange={(e) => setSearchParam(e.target.value)}\r\n                          InputProps={{\r\n                            ...params.InputProps,\r\n                            endAdornment: (\r\n                              <React.Fragment>\r\n                                {loading ? (\r\n                                  <CircularProgress color=\"inherit\" size={20} />\r\n                                ) : null}\r\n                                {params.InputProps.endAdornment}\r\n                              </React.Fragment>\r\n                            ),\r\n                          }}\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel>\r\n                        {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\r\n                      </InputLabel>\r\n                      <Select\r\n                        value={selectedQueue}\r\n                        onChange={(e) => setSelectedQueue(e.target.value)}\r\n                        label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\r\n                        required={!isNil(selectedUser)}\r\n                        disabled={!campaignEditable || values.openTicket === 'disabled'}\r\n                      >\r\n                        {queues.map((queue) => (\r\n                          <MenuItem key={queue.id} value={queue.id}>\r\n                            {queue.name}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"statusTicket-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.statusTicket\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"campaigns.dialog.form.statusTicket\")}\r\n                        placeholder={i18n.t(\r\n                          \"campaigns.dialog.form.statusTicket\"\r\n                        )}\r\n                        labelId=\"statusTicket-selection-label\"\r\n                        id=\"statusTicket\"\r\n                        name=\"statusTicket\"\r\n                        error={\r\n                          touched.statusTicket && Boolean(errors.statusTicket)\r\n                        }\r\n                        disabled={!campaignEditable || values.openTicket === 'disabled'}\r\n                      >\r\n                        <MenuItem value={\"closed\"}>{i18n.t(\"campaigns.dialog.form.closedTicketStatus\")}</MenuItem>\r\n                        <MenuItem value={\"pending\"}>{i18n.t(\"campaigns.dialog.form.pendingTicketStatus\")}</MenuItem>\r\n                        <MenuItem value={\"open\"}>{i18n.t(\"campaigns.dialog.form.openTicketStatus\")}</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n\r\n                  <Grid xs={12} item>\r\n                    <Tabs\r\n                      value={messageTab}\r\n                      indicatorColor=\"primary\"\r\n                      textColor=\"primary\"\r\n                      onChange={(e, v) => setMessageTab(v)}\r\n                      variant=\"fullWidth\"\r\n                      centered\r\n                      style={{\r\n                        background: \"#f2f2f2\",\r\n                        border: \"1px solid #e6e6e6\",\r\n                        borderRadius: 2,\r\n                      }}\r\n                    >\r\n                      <Tab label=\"Msg. 1\" index={0} />\r\n                      <Tab label=\"Msg. 2\" index={1} />\r\n                      <Tab label=\"Msg. 3\" index={2} />\r\n                      <Tab label=\"Msg. 4\" index={3} />\r\n                      <Tab label=\"Msg. 5\" index={4} />\r\n                    </Tabs>\r\n                    <Box style={{ paddingTop: 20, border: \"none\" }}>\r\n                      {messageTab === 0 && (\r\n                        <>\r\n                          {values.confirmation ? (\r\n                            <Grid spacing={2} container>\r\n                              <Grid xs={12} md={8} item>\r\n                                <>{renderMessageField(\"message1\")}</>\r\n                              </Grid>\r\n                              <Grid xs={12} md={4} item>\r\n                                <>\r\n                                  {renderConfirmationMessageField(\r\n                                    \"confirmationMessage1\"\r\n                                  )}\r\n                                </>\r\n                              </Grid>\r\n                            </Grid>\r\n                          ) : (\r\n                            <>{renderMessageField(\"message1\")}</>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                      {messageTab === 1 && (\r\n                        <>\r\n                          {values.confirmation ? (\r\n                            <Grid spacing={2} container>\r\n                              <Grid xs={12} md={8} item>\r\n                                <>{renderMessageField(\"message2\")}</>\r\n                              </Grid>\r\n                              <Grid xs={12} md={4} item>\r\n                                <>\r\n                                  {renderConfirmationMessageField(\r\n                                    \"confirmationMessage2\"\r\n                                  )}\r\n                                </>\r\n                              </Grid>\r\n                            </Grid>\r\n                          ) : (\r\n                            <>{renderMessageField(\"message2\")}</>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                      {messageTab === 2 && (\r\n                        <>\r\n                          {values.confirmation ? (\r\n                            <Grid spacing={2} container>\r\n                              <Grid xs={12} md={8} item>\r\n                                <>{renderMessageField(\"message3\")}</>\r\n                              </Grid>\r\n                              <Grid xs={12} md={4} item>\r\n                                <>\r\n                                  {renderConfirmationMessageField(\r\n                                    \"confirmationMessage3\"\r\n                                  )}\r\n                                </>\r\n                              </Grid>\r\n                            </Grid>\r\n                          ) : (\r\n                            <>{renderMessageField(\"message3\")}</>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                      {messageTab === 3 && (\r\n                        <>\r\n                          {values.confirmation ? (\r\n                            <Grid spacing={2} container>\r\n                              <Grid xs={12} md={8} item>\r\n                                <>{renderMessageField(\"message4\")}</>\r\n                              </Grid>\r\n                              <Grid xs={12} md={4} item>\r\n                                <>\r\n                                  {renderConfirmationMessageField(\r\n                                    \"confirmationMessage4\"\r\n                                  )}\r\n                                </>\r\n                              </Grid>\r\n                            </Grid>\r\n                          ) : (\r\n                            <>{renderMessageField(\"message4\")}</>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                      {messageTab === 4 && (\r\n                        <>\r\n                          {values.confirmation ? (\r\n                            <Grid spacing={2} container>\r\n                              <Grid xs={12} md={8} item>\r\n                                <>{renderMessageField(\"message5\")}</>\r\n                              </Grid>\r\n                              <Grid xs={12} md={4} item>\r\n                                <>\r\n                                  {renderConfirmationMessageField(\r\n                                    \"confirmationMessage5\"\r\n                                  )}\r\n                                </>\r\n                              </Grid>\r\n                            </Grid>\r\n                          ) : (\r\n                            <>{renderMessageField(\"message5\")}</>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                    </Box>\r\n                  </Grid>\r\n                  {(campaign.mediaPath || attachment) && (\r\n                    <Grid xs={12} item>\r\n                      <Button startIcon={<AttachFileIcon />}>\r\n                        {attachment != null\r\n                          ? attachment.name\r\n                          : campaign.mediaName}\r\n                      </Button>\r\n                      {campaignEditable && (\r\n                        <IconButton\r\n                          onClick={() => setConfirmationOpen(true)}\r\n                          color=\"primary\"\r\n                        >\r\n                          <DeleteOutlineIcon color=\"secondary\" />\r\n                        </IconButton>\r\n                      )}\r\n                    </Grid>\r\n                  )}\r\n                </Grid>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                {campaign.status === \"CANCELADA\" && (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={() => restartCampaign()}\r\n                    variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"campaigns.dialog.buttons.restart\")}\r\n                  </Button>\r\n                )}\r\n                {campaign.status === \"EM_ANDAMENTO\" && (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={() => cancelCampaign()}\r\n                    variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"campaigns.dialog.buttons.cancel\")}\r\n                  </Button>\r\n                )}\r\n                {!attachment && !campaign.mediaPath && campaignEditable && (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={() => attachmentFile.current.click()}\r\n                    disabled={isSubmitting}\r\n                    variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"campaigns.dialog.buttons.attach\")}\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"campaigns.dialog.buttons.close\")}\r\n                </Button>\r\n                {(campaignEditable || campaign.status === \"CANCELADA\") && (\r\n                  <Button\r\n                    type=\"submit\"\r\n                    color=\"primary\"\r\n                    disabled={isSubmitting}\r\n                    variant=\"contained\"\r\n                    className={classes.btnWrapper}\r\n                  >\r\n                    {campaignId\r\n                      ? `${i18n.t(\"campaigns.dialog.buttons.edit\")}`\r\n                      : `${i18n.t(\"campaigns.dialog.buttons.add\")}`}\r\n                    {isSubmitting && (\r\n                      <CircularProgress\r\n                        size={24}\r\n                        className={classes.buttonProgress}\r\n                      />\r\n                    )}\r\n                  </Button>\r\n                )}\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CampaignModal;","/* eslint-disable no-unused-vars */\r\n\r\nimport React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DescriptionIcon from \"@material-ui/icons/Description\";\r\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\r\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport CampaignModal from \"../../components/CampaignModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { isArray } from \"lodash\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CAMPAIGNS\") {\r\n    const campaigns = action.payload;\r\n    const newCampaigns = [];\r\n\r\n    if (isArray(campaigns)) {\r\n      campaigns.forEach((campaign) => {\r\n        const campaignIndex = state.findIndex((u) => u.id === campaign.id);\r\n        if (campaignIndex !== -1) {\r\n          state[campaignIndex] = campaign;\r\n        } else {\r\n          newCampaigns.push(campaign);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newCampaigns];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\r\n    const campaign = action.payload;\r\n    const campaignIndex = state.findIndex((u) => u.id === campaign.id);\r\n\r\n    if (campaignIndex !== -1) {\r\n      state[campaignIndex] = campaign;\r\n      return [...state];\r\n    } else {\r\n      return [campaign, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CAMPAIGN\") {\r\n    const campaignId = action.payload;\r\n\r\n    const campaignIndex = state.findIndex((u) => u.id === campaignId);\r\n    if (campaignIndex !== -1) {\r\n      state.splice(campaignIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    // padding: theme.spacing(1),\r\n    padding: theme.padding,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Campaigns = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\r\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\r\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [showCampaigns, setShowCampaigns] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [campaigns, dispatch] = useReducer(reducer, []);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n  const { datetimeToClient } = useDate();\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useCampaigns) {\r\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchCampaigns();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onCompanyCampaign = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_CAMPAIGNS\", payload: data.record });\r\n      }\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_CAMPAIGN\", payload: +data.id });\r\n      }\r\n    }\r\n\r\n    socket.on(`company-${companyId}-campaign`, onCompanyCampaign);\r\n    return () => {\r\n      socket.off(`company-${companyId}-campaign`, onCompanyCampaign);\r\n    };\r\n  }, [user]);\r\n\r\n  const fetchCampaigns = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/campaigns/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_CAMPAIGNS\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenCampaignModal = () => {\r\n    setSelectedCampaign(null);\r\n    setCampaignModalOpen(true);\r\n  };\r\n\r\n  const handleCloseCampaignModal = () => {\r\n    setSelectedCampaign(null);\r\n    setCampaignModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditCampaign = (campaign) => {\r\n    setSelectedCampaign(campaign);\r\n    setCampaignModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteCampaign = async (campaignId) => {\r\n    try {\r\n      await api.delete(`/campaigns/${campaignId}`);\r\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingCampaign(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const formatStatus = (val) => {\r\n    switch (val) {\r\n      case \"INATIVA\":\r\n        return \"Inativa\";\r\n      case \"PROGRAMADA\":\r\n        return \"Programada\";\r\n      case \"EM_ANDAMENTO\":\r\n        return \"Em Andamento\";\r\n      case \"CANCELADA\":\r\n        return \"Cancelada\";\r\n      case \"FINALIZADA\":\r\n        return \"Finalizada\";\r\n      default:\r\n        return val;\r\n    }\r\n  };\r\n\r\n  const cancelCampaign = async (campaign) => {\r\n    try {\r\n      await api.post(`/campaigns/${campaign.id}/cancel`);\r\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\r\n      setPageNumber(1);\r\n      fetchCampaigns();\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  const restartCampaign = async (campaign) => {\r\n    try {\r\n      await api.post(`/campaigns/${campaign.id}/restart`);\r\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\r\n      setPageNumber(1);\r\n      fetchCampaigns();\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingCampaign &&\r\n          `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${deletingCampaign.name}?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteCampaign(deletingCampaign.id)}\r\n      >\r\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      {campaignModalOpen && (\r\n        <CampaignModal\r\n          resetPagination={() => {\r\n            setPageNumber(1);\r\n            fetchCampaigns();\r\n          }}\r\n          open={campaignModalOpen}\r\n          onClose={handleCloseCampaignModal}\r\n          aria-labelledby=\"form-dialog-title\"\r\n          campaignId={selectedCampaign && selectedCampaign.id}\r\n        />\r\n      )}\r\n      {\r\n        user.profile === \"user\"?\r\n          <ForbiddenPage />\r\n          :\r\n          <>\r\n            <MainHeader>\r\n              <Grid style={{ width: \"99.6%\" }} container>\r\n                <Grid xs={12} sm={8} item>\r\n                  <Title>{i18n.t(\"campaigns.title\")}</Title>\r\n                </Grid>\r\n                <Grid xs={12} sm={4} item>\r\n                  <Grid spacing={2} container>\r\n                    <Grid xs={6} sm={6} item>\r\n                      <TextField\r\n                        fullWidth\r\n                        placeholder={i18n.t(\"campaigns.searchPlaceholder\")}\r\n                        type=\"search\"\r\n                        value={searchParam}\r\n                        onChange={handleSearch}\r\n                        InputProps={{\r\n                          startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                              <SearchIcon style={{ color: \"gray\" }} />\r\n                            </InputAdornment>\r\n                          ),\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid xs={6} sm={6} item>\r\n                      <Button\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        onClick={handleOpenCampaignModal}\r\n                        color=\"primary\"\r\n                      >\r\n                        {i18n.t(\"campaigns.buttons.add\")}\r\n                      </Button>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </MainHeader>\r\n            <Paper\r\n              className={classes.mainPaper}\r\n              variant=\"outlined\"\r\n              onScroll={handleScroll}\r\n            >\r\n              <Table size=\"small\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.name\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.status\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.contactList\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.whatsapp\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.scheduledAt\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.completedAt\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.confirmation\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.actions\")}\r\n                    </TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  <>\r\n                    {campaigns.map((campaign) => (\r\n                      <TableRow key={campaign.id}>\r\n                        <TableCell align=\"center\">{campaign.name}</TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {formatStatus(campaign.status)}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {campaign.contactListId\r\n                            ? campaign.contactList.name\r\n                            : \"Não definida\"}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {campaign.whatsappId\r\n                            ? campaign.whatsapp.name\r\n                            : \"Não definido\"}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {campaign.scheduledAt\r\n                            ? datetimeToClient(campaign.scheduledAt)\r\n                            : \"Sem agendamento\"}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {campaign.completedAt\r\n                            ? datetimeToClient(campaign.completedAt)\r\n                            : \"Não concluída\"}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {campaign.confirmation ? \"Habilitada\" : \"Desabilitada\"}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {campaign.status === \"EM_ANDAMENTO\" && (\r\n                            <IconButton\r\n                              onClick={() => cancelCampaign(campaign)}\r\n                              title=\"Parar Campanha\"\r\n                              size=\"small\"\r\n                            >\r\n                              <PauseCircleOutlineIcon />\r\n                            </IconButton>\r\n                          )}\r\n                          {campaign.status === \"CANCELADA\" && (\r\n                            <IconButton\r\n                              onClick={() => restartCampaign(campaign)}\r\n                              title=\"Parar Campanha\"\r\n                              size=\"small\"\r\n                            >\r\n                              <PlayCircleOutlineIcon />\r\n                            </IconButton>\r\n                          )}\r\n                          <IconButton\r\n                            onClick={() =>\r\n                              history.push(`/campaign/${campaign.id}/report`)\r\n                            }\r\n                            size=\"small\"\r\n                          >\r\n                            <DescriptionIcon />\r\n                          </IconButton>\r\n                          <IconButton\r\n                            size=\"small\"\r\n                            onClick={() => handleEditCampaign(campaign)}\r\n                          >\r\n                            <EditIcon />\r\n                          </IconButton>\r\n\r\n                          <IconButton\r\n                            size=\"small\"\r\n                            onClick={(e) => {\r\n                              setConfirmModalOpen(true);\r\n                              setDeletingCampaign(campaign);\r\n                            }}\r\n                          >\r\n                            <DeleteOutlineIcon />\r\n                          </IconButton>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                    {loading && <TableRowSkeleton columns={8} />}\r\n                  </>\r\n                </TableBody>\r\n              </Table>\r\n            </Paper>\r\n          </>}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Campaigns;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Field } from \"formik\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport api from \"../../services/api\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    // padding: theme.padding,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  textRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  tabPanelsContainer: {\r\n    // padding: theme.spacing(2),\r\n    padding: theme.padding,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    marginBottom: 12,\r\n  },\r\n\r\n}));\r\n\r\nconst initialSettings = {\r\n  messageInterval: 20,\r\n  longerIntervalAfter: 20,\r\n  greaterInterval: 60,\r\n  variables: [],\r\n  sabado: \"false\",\r\n  domingo: \"false\",\r\n  startHour: \"09:00\",\r\n  endHour: \"18:00\"\r\n};\r\n\r\nconst CampaignsConfig = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [settings, setSettings] = useState(initialSettings);\r\n  const [showVariablesForm, setShowVariablesForm] = useState(false);\r\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n  const [selectedKey, setSelectedKey] = useState(null);\r\n  const [variable, setVariable] = useState({ key: \"\", value: \"\" });\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [sabado, setSabado] = React.useState(false);\r\n  const [domingo, setDomingo] = React.useState(false);\r\n\r\n  const [startHour, setStartHour] = useState(\"08:00\");\r\n  const [endHour, setEndHour] = useState(\"19:00\");\r\n\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useCampaigns) {\r\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    api.get(\"/campaign-settings\").then(({ data }) => {\r\n      const settingsList = [];\r\n      if (Array.isArray(data) && data.length > 0) {\r\n        data.forEach((item) => {\r\n          settingsList.push([item.key, item.value]);\r\n          if (item.key === \"sabado\") setSabado(item?.value === \"true\");\r\n          if (item.key === \"domingo\") setDomingo(item?.value === \"true\");\r\n          if (item.key === \"startHour\") setStartHour(item?.value);\r\n          if (item.key === \"endHour\") setEndHour(item?.value);\r\n\r\n        });\r\n        setSettings(Object.fromEntries(settingsList));\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const handleOnChangeVariable = (e) => {\r\n    if (e.target.value !== null) {\r\n      const changedProp = {};\r\n      changedProp[e.target.name] = e.target.value;\r\n      setVariable((prev) => ({ ...prev, ...changedProp }));\r\n    }\r\n  };\r\n\r\n  const handleOnChangeSettings = (e) => {\r\n    const changedProp = {};\r\n    changedProp[e.target.name] = e.target.value;\r\n    setSettings((prev) => ({ ...prev, ...changedProp }));\r\n  };\r\n\r\n  const addVariable = () => {\r\n    setSettings((prev) => {\r\n      if (!Array.isArray(prev.variables)) {\r\n        // Lidar com o caso em que prev.variables não é um array\r\n        return { ...prev, variables: [Object.assign({}, variable)] };\r\n      }\r\n      const variablesExists = settings.variables.filter(\r\n        (v) => v.key === variable.key\r\n      );\r\n      const variables = prev.variables;\r\n      if (variablesExists.length === 0) {\r\n        variables.push(Object.assign({}, variable));\r\n        setVariable({ key: \"\", value: \"\" });\r\n      }\r\n      return { ...prev, variables };\r\n    });\r\n  };\r\n\r\n  const removeVariable = () => {\r\n    const newList = settings.variables.filter((v) => v.key !== selectedKey);\r\n    setSettings((prev) => ({ ...prev, variables: newList }));\r\n    setSelectedKey(null);\r\n  };\r\n\r\n  const saveSettings = async () => {\r\n    await api.post(\"/campaign-settings\", { settings });\r\n    toast.success(\"Configurações salvas\");\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    if (event.target.name === \"sabado\") {\r\n      setSabado(event.target.checked);\r\n    }\r\n    if (event.target.name === \"domingo\") {\r\n      setDomingo(event.target.checked);\r\n    }\r\n  };\r\n\r\n  const handleSaveTimeMass = async () => {\r\n    let settings = {\r\n      sabado: sabado,\r\n      domingo: domingo,\r\n      startHour: startHour,\r\n      endHour: endHour\r\n    }\r\n\r\n    try {\r\n      await api.post(`/campaign-settings/`, { settings });\r\n\r\n      toast.success(i18n.t(\"settings.success\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\r\n        open={confirmationOpen}\r\n        onClose={() => setConfirmationOpen(false)}\r\n        onConfirm={removeVariable}\r\n      >\r\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      {\r\n        user.profile === \"user\" ?\r\n          <ForbiddenPage />\r\n          :\r\n          <>\r\n            <MainHeader>\r\n              <Grid style={{ width: \"99.6%\" }} container>\r\n                <Grid xs={12} item>\r\n                  <Title>{i18n.t(\"campaignsConfig.title\")}</Title>\r\n                </Grid>\r\n              </Grid>\r\n            </MainHeader>\r\n\r\n            <Paper className={classes.mainPaper} variant=\"outlined\">\r\n\r\n              {/* <Typography component={\"h1\"}>Período de Disparo das Campanhas &nbsp;</Typography>\r\n        <Paper className={classes.paper}>\r\n          <TextField\r\n            id=\"buttonText\"\r\n            label=\"Começar o envio que hora?\"\r\n            margin=\"dense\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            value={startHour}\r\n            onChange={(e) => setStartHour(e.target.value)}\r\n            style={{ marginRight: \"10px\" }}\r\n          />\r\n\r\n          <TextField\r\n            id=\"buttonText\"\r\n            label=\"Terminar o envio que hora?\"\r\n            margin=\"dense\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            value={endHour}\r\n            onChange={(e) => setEndHour(e.target.value)}\r\n            style={{ marginRight: \"10px\" }}\r\n          />\r\n\r\n          <FormControlLabel\r\n            control={<Checkbox checked={sabado} onChange={handleChange} name=\"sabado\" />}\r\n            label=\"Sábado\"\r\n          />\r\n\r\n          <FormControlLabel\r\n            control={<Checkbox checked={domingo} onChange={handleChange} name=\"domingo\" />}\r\n            label=\"Domigo\"\r\n          />\r\n\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.button}\r\n            onClick={() => {\r\n              handleSaveTimeMass();\r\n            }}\r\n            style={{ marginRight: \"10px\" }}\r\n          >\r\n            Salvar\r\n          </Button>\r\n\r\n        </Paper> */}\r\n\r\n              <Box className={classes.tabPanelsContainer}>\r\n                <Grid spacing={1} container>\r\n                  <Grid xs={12} item>\r\n                    <Typography component={\"h1\"}>Intervalos &nbsp;</Typography>\r\n                  </Grid>\r\n\r\n                  {/* TEMPO ENTRE DISPAROS */}\r\n                  {/* <Grid xs={12} md={3} item>\r\n              <FormControl\r\n                variant=\"outlined\"\r\n                className={classes.formControl}\r\n                fullWidth\r\n              >\r\n                <InputLabel id=\"messageInterval-label\">\r\n                  Tempo entre Disparos\r\n                </InputLabel>\r\n                <Select\r\n                  name=\"messageInterval\"\r\n                  id=\"messageInterval\"\r\n                  labelId=\"messageInterval-label\"\r\n                  label=\"Intervalo Randômico de Disparo\"\r\n                  value={settings.messageInterval}\r\n                  onChange={(e) => handleOnChangeSettings(e)}\r\n                >\r\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\r\n                  <MenuItem value={5}>5 segundos</MenuItem>\r\n                  <MenuItem value={10}>10 segundos</MenuItem>\r\n                  <MenuItem value={15}>15 segundos</MenuItem>\r\n                  <MenuItem value={20}>20 segundos</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid> */}\r\n\r\n                  <Grid xs={12} md={3} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      className={classes.formControl}\r\n                      fullWidth\r\n                    >\r\n                      <InputLabel id=\"messageInterval-label\">\r\n                        {i18n.t(\"campaigns.settings.randomInterval\")}\r\n                      </InputLabel>\r\n                      <Select\r\n                        name=\"messageInterval\"\r\n                        id=\"messageInterval\"\r\n                        labelId=\"messageInterval-label\"\r\n                        label={i18n.t(\"campaigns.settings.randomInterval\")}\r\n                        value={settings.messageInterval}\r\n                        onChange={(e) => handleOnChangeSettings(e)}\r\n                      >\r\n                        <MenuItem value={0}>{i18n.t(\"campaigns.settings.noBreak\")}</MenuItem>\r\n                        <MenuItem value={5}>5 segundos</MenuItem>\r\n                        <MenuItem value={10}>10 segundos</MenuItem>\r\n                        <MenuItem value={15}>15 segundos</MenuItem>\r\n                        <MenuItem value={20}>20 segundos</MenuItem>\r\n                        <MenuItem value={30}>30 segundos</MenuItem>\r\n                        <MenuItem value={60}>40 segundos</MenuItem>\r\n                        <MenuItem value={70}>60 segundos</MenuItem>\r\n                        <MenuItem value={80}>80 segundos</MenuItem>\r\n                        <MenuItem value={100}>100 segundos</MenuItem>\r\n                        <MenuItem value={120}>120 segundos</MenuItem>                                                `` ``\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid xs={12} md={3} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      className={classes.formControl}\r\n                      fullWidth\r\n                    >\r\n                      <InputLabel id=\"longerIntervalAfter-label\">\r\n                        {i18n.t(\"campaigns.settings.intervalGapAfter\")}\r\n                      </InputLabel>\r\n                      <Select\r\n                        name=\"longerIntervalAfter\"\r\n                        id=\"longerIntervalAfter\"\r\n                        labelId=\"longerIntervalAfter-label\"\r\n                        label={i18n.t(\"campaigns.settings.intervalGapAfter\")}\r\n                        value={settings.longerIntervalAfter}\r\n                        onChange={(e) => handleOnChangeSettings(e)}\r\n                      >\r\n                        <MenuItem value={0}>{i18n.t(\"campaigns.settings.undefined\")}</MenuItem>\r\n                        <MenuItem value={5}>5 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\r\n                        <MenuItem value={10}>10 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\r\n                        <MenuItem value={15}>15 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\r\n                        <MenuItem value={20}>20 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\r\n                        <MenuItem value={30}>30 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\r\n                        <MenuItem value={40}>40 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\r\n                        <MenuItem value={50}>50 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\r\n                        <MenuItem value={60}>60 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid xs={12} md={3} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      className={classes.formControl}\r\n                      fullWidth\r\n                    >\r\n                      <InputLabel id=\"greaterInterval-label\">\r\n                        {i18n.t(\"campaigns.settings.laggerTriggerRange\")}\r\n                      </InputLabel>\r\n                      <Select\r\n                        name=\"greaterInterval\"\r\n                        id=\"greaterInterval\"\r\n                        labelId=\"greaterInterval-label\"\r\n                        label={i18n.t(\"campaigns.settings.laggerTriggerRange\")}\r\n                        value={settings.greaterInterval}\r\n                        onChange={(e) => handleOnChangeSettings(e)}\r\n                      >\r\n                        <MenuItem value={0}>{i18n.t(\"campaigns.settings.noBreak\")}</MenuItem>\r\n                        <MenuItem value={20}>20 segundos</MenuItem>\r\n                        <MenuItem value={30}>30 segundos</MenuItem>\r\n                        <MenuItem value={40}>40 segundos</MenuItem>\r\n                        <MenuItem value={50}>50 segundos</MenuItem>\r\n                        <MenuItem value={60}>60 segundos</MenuItem>\r\n                        <MenuItem value={70}>70 segundos</MenuItem>\r\n                        <MenuItem value={80}>80 segundos</MenuItem>\r\n                        <MenuItem value={90}>90 segundos</MenuItem>\r\n                        <MenuItem value={100}>100 segundos</MenuItem>\r\n                        <MenuItem value={110}>110 segundos</MenuItem>\r\n                        <MenuItem value={120}>120 segundos</MenuItem>\r\n                        <MenuItem value={130}>130 segundos</MenuItem>\r\n                        <MenuItem value={140}>140 segundos</MenuItem>\r\n                        <MenuItem value={150}>150 segundos</MenuItem>\r\n                        <MenuItem value={160}>160 segundos</MenuItem>\r\n                        <MenuItem value={170}>170 segundos</MenuItem>\r\n                        <MenuItem value={180}>180 segundos</MenuItem>\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid xs={12} className={classes.textRight} item>\r\n                    {/* <Button\r\n                onClick={() => setShowVariablesForm(!showVariablesForm)}\r\n                color=\"primary\"\r\n                style={{ marginRight: 10 }}\r\n              >\r\n                {i18n.t(\"campaigns.settings.addVar\")}\r\n              </Button> */}\r\n                    <Button\r\n                      onClick={saveSettings}\r\n                      color=\"primary\"\r\n                      variant=\"contained\"\r\n                    >\r\n                      {i18n.t(\"campaigns.settings.save\")}\r\n                    </Button>\r\n                  </Grid>\r\n                  {/* {showVariablesForm && (\r\n              <>\r\n                <Grid xs={12} md={6} item>\r\n                  <TextField\r\n                    label={i18n.t(\"campaigns.settings.shortcut\")}\r\n                    variant=\"outlined\"\r\n                    value={variable.key}\r\n                    name=\"key\"\r\n                    onChange={handleOnChangeVariable}\r\n                    fullWidth\r\n                  />\r\n                </Grid>\r\n                <Grid xs={12} md={6} item>\r\n                  <TextField\r\n                    label={i18n.t(\"campaigns.settings.content\")}\r\n                    variant=\"outlined\"\r\n                    value={variable.value}\r\n                    name=\"value\"\r\n                    onChange={handleOnChangeVariable}\r\n                    fullWidth\r\n                  />\r\n                </Grid>\r\n                <Grid xs={12} className={classes.textRight} item>\r\n                  <Button\r\n                    onClick={() => setShowVariablesForm(!showVariablesForm)}\r\n                    color=\"primary\"\r\n                    style={{ marginRight: 10 }}\r\n                  >\r\n                    {i18n.t(\"campaigns.settings.close\")}\r\n                  </Button>\r\n                  <Button\r\n                    onClick={addVariable}\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                  >\r\n                    {i18n.t(\"campaigns.settings.add\")}\r\n                  </Button>\r\n                </Grid>\r\n              </>\r\n            )}\r\n            {settings.variables.length > 0 && (\r\n              <Grid xs={12} className={classes.textRight} item>\r\n                <Table size=\"small\">\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ width: \"1%\" }}></TableCell>\r\n                      <TableCell>{i18n.t(\"campaigns.settings.shortcut\")}\r\n                      </TableCell>\r\n                      <TableCell>{i18n.t(\"campaigns.settings.content\")}</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {Array.isArray(settings.variables) &&\r\n                      settings.variables.map((v, k) => (\r\n                        <TableRow key={k}>\r\n                          <TableCell>\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              onClick={() => {\r\n                                setSelectedKey(v.key);\r\n                                setConfirmationOpen(true);\r\n                              }}\r\n                            >\r\n                              <DeleteOutlineIcon />\r\n                            </IconButton>\r\n                          </TableCell>\r\n                          <TableCell>{\"{\" + v.key + \"}\"}</TableCell>\r\n                          <TableCell>{v.value}</TableCell>\r\n                        </TableRow>\r\n                      ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </Grid>\r\n            )} */}\r\n                </Grid>\r\n              </Box>\r\n            </Paper>\r\n          </>}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default CampaignsConfig;\r\n","import React from \"react\";\r\n\r\nimport { Avatar, Card, CardHeader, Typography } from \"@material-ui/core\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { grey } from '@material-ui/core/colors';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcardAvatar: {\r\n\t\tfontSize: '55px',\r\n\t\tcolor: grey[500],\r\n\t\tbackgroundColor: '#ffffff',\r\n\t\twidth: theme.spacing(7),\r\n\t\theight: theme.spacing(7)\r\n\t},\r\n\tcardTitle: {\r\n\t\tfontSize: '18px',\r\n\t\tcolor: theme.palette.text.primary\r\n\t},\r\n\tcardSubtitle: {\r\n\t\tcolor: grey[600],\r\n\t\tfontSize: '14px'\r\n\t}\r\n}));\r\n\r\nexport default function CardCounter(props) {\r\n    const { icon, title, value, loading } = props\r\n\tconst classes = useStyles();\r\n    return ( !loading ? \r\n        <Card>\r\n            <CardHeader\r\n                avatar={\r\n                    <Avatar className={classes.cardAvatar}>\r\n                        {icon}\r\n                    </Avatar>\r\n                }\r\n                title={\r\n                    <Typography variant=\"h6\" component=\"h2\" className={classes.cardTitle}>\r\n                        { title }\r\n                    </Typography>\r\n                }\r\n                subheader={\r\n                    <Typography variant=\"subtitle1\" component=\"p\" className={classes.cardSubtitle}>\r\n                        { value }\r\n                    </Typography>\r\n                }\r\n            />\r\n        </Card>\r\n        : <Skeleton variant=\"rect\" height={80} />\r\n    )\r\n    \r\n}","import React, { useEffect, useRef, useState, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { toast } from \"react-toastify\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport { Grid, LinearProgress, Typography } from \"@material-ui/core\";\r\nimport api from \"../../services/api\";\r\nimport { has, get, isNull } from \"lodash\";\r\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\r\nimport GroupIcon from \"@material-ui/icons/Group\";\r\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\r\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\r\nimport DoneIcon from \"@material-ui/icons/Done\";\r\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport ListAltIcon from \"@material-ui/icons/ListAlt\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    // padding: theme.spacing(2),\r\n    padding: theme.padding,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  textRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  tabPanelsContainer: {\r\n    // padding: theme.spacing(2),\r\n    padding: theme.padding,\r\n  },\r\n}));\r\n\r\nconst CampaignReport = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const { campaignId } = useParams();\r\n\r\n  const [campaign, setCampaign] = useState({});\r\n  const [validContacts, setValidContacts] = useState(0);\r\n  const [delivered, setDelivered] = useState(0);\r\n  const [confirmationRequested, setConfirmationRequested] = useState(0);\r\n  const [confirmed, setConfirmed] = useState(0);\r\n  const [percent, setPercent] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const mounted = useRef(true);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n  const { datetimeToClient } = useDate();\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useCampaigns) {\r\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (mounted.current) {\r\n      findCampaign();\r\n    }\r\n\r\n    return () => {\r\n      mounted.current = false;\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (mounted.current && has(campaign, \"shipping\")) {\r\n      if (has(campaign, \"contactList\")) {\r\n        const contactList = get(campaign, \"contactList\");\r\n        const valids = contactList.contacts.filter((c) => c.isWhatsappValid);\r\n        setValidContacts(valids.length);\r\n      }\r\n\r\n      if (has(campaign, \"shipping\")) {\r\n        const contacts = get(campaign, \"shipping\");\r\n        const delivered = contacts.filter((c) => !isNull(c.deliveredAt));\r\n        const confirmationRequested = contacts.filter(\r\n          (c) => !isNull(c.confirmationRequestedAt)\r\n        );\r\n        const confirmed = contacts.filter(\r\n          (c) => !isNull(c.deliveredAt) && !isNull(c.confirmationRequestedAt)\r\n        );\r\n        setDelivered(delivered.length);\r\n        setConfirmationRequested(confirmationRequested.length);\r\n        setConfirmed(confirmed.length);\r\n        setDelivered(delivered.length);\r\n      }\r\n    }\r\n  }, [campaign]);\r\n\r\n  useEffect(() => {\r\n    setPercent((delivered / validContacts) * 100);\r\n  }, [delivered, validContacts]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onCampaignEvent = (data) => {\r\n\r\n      if (data.record.id === +campaignId) {\r\n        setCampaign(data.record);\r\n\r\n        if (data.record.status === \"FINALIZADA\") {\r\n          setTimeout(() => {\r\n            findCampaign();\r\n          }, 5000);\r\n        }\r\n      }\r\n    };\r\n    socket.on(`company-${companyId}-campaign`, onCampaignEvent);\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-campaign`, onCampaignEvent);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [campaignId]);\r\n\r\n  const findCampaign = async () => {\r\n    setLoading(true);\r\n    const { data } = await api.get(`/campaigns/${campaignId}`);\r\n    setCampaign(data);\r\n    setLoading(false);\r\n  };\r\n\r\n  const formatStatus = (val) => {\r\n    switch (val) {\r\n      case \"INATIVA\":\r\n        return i18n.t(\"campaignReport.inactive\");\r\n      case \"PROGRAMADA\":\r\n        return i18n.t(\"campaignReport.scheduled\");\r\n      case \"EM_ANDAMENTO\":\r\n        return i18n.t(\"campaignReport.process\");\r\n      case \"CANCELADA\":\r\n        return i18n.t(\"campaignReport.cancelled\");\r\n      case \"FINALIZADA\":\r\n        return i18n.t(\"campaignReport.finished\");\r\n      default:\r\n        return val;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} item>\r\n            <Title>{i18n.t(\"campaignReport.title\")} {campaign.name || i18n.t(\"campaignReport.campaign\")}</Title>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper className={classes.mainPaper} variant=\"outlined\">\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          Status: {formatStatus(campaign.status)} {delivered} de {validContacts}\r\n        </Typography>\r\n        <Grid spacing={2} container>\r\n          <Grid xs={12} item>\r\n            <LinearProgress\r\n              variant=\"determinate\"\r\n              style={{ height: 15, borderRadius: 3, margin: \"20px 0\" }}\r\n              value={percent}\r\n            />\r\n          </Grid>\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<GroupIcon fontSize=\"inherit\" />}\r\n              title={i18n.t(\"campaignReport.validContacts\")}\r\n              value={validContacts}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n          {campaign.confirmation && (\r\n            <>\r\n              <Grid xs={12} md={4} item>\r\n                <CardCounter\r\n                  icon={<DoneIcon fontSize=\"inherit\" />}\r\n                  title={i18n.t(\"campaignReport.confirmationsRequested\")}\r\n                  value={confirmationRequested}\r\n                  loading={loading}\r\n                />\r\n              </Grid>\r\n              <Grid xs={12} md={4} item>\r\n                <CardCounter\r\n                  icon={<DoneAllIcon fontSize=\"inherit\" />}\r\n                  title={i18n.t(\"campaignReport.confirmations\")}\r\n                  value={confirmed}\r\n                  loading={loading}\r\n                />\r\n              </Grid>\r\n            </>\r\n          )}\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<CheckCircleIcon fontSize=\"inherit\" />}\r\n              title={i18n.t(\"campaignReport.deliver\")}\r\n              value={delivered}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n          {campaign.whatsappId && (\r\n            <Grid xs={12} md={4} item>\r\n              <CardCounter\r\n                icon={<WhatsAppIcon fontSize=\"inherit\" />}\r\n                title={i18n.t(\"campaignReport.connection\")}\r\n                value={campaign.whatsapp.name}\r\n                loading={loading}\r\n              />\r\n            </Grid>\r\n          )}\r\n          {campaign.contactListId && (\r\n            <Grid xs={12} md={4} item>\r\n              <CardCounter\r\n                icon={<ListAltIcon fontSize=\"inherit\" />}\r\n                title={i18n.t(\"campaignReport.contactLists\")}\r\n                value={campaign.contactList.name}\r\n                loading={loading}\r\n              />\r\n            </Grid>\r\n          )}\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<ScheduleIcon fontSize=\"inherit\" />}\r\n              title={i18n.t(\"campaignReport.schedule\")}\r\n              value={datetimeToClient(campaign.scheduledAt)}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<EventAvailableIcon fontSize=\"inherit\" />}\r\n              title={i18n.t(\"campaignReport.conclusion\")}\r\n              value={datetimeToClient(campaign.completedAt)}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default CampaignReport;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { head } from \"lodash\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport {\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  colorAdorment: {\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n}));\r\n\r\nconst AnnouncementSchema = Yup.object().shape({\r\n  title: Yup.string().required(\"Obrigatório\"),\r\n  text: Yup.string().required(\"Obrigatório\"),\r\n});\r\n\r\nconst AnnouncementModal = ({ open, onClose, announcementId, reload }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    title: \"\",\r\n    text: \"\",\r\n    priority: 3,\r\n    status: true,\r\n  };\r\n\r\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n  const [announcement, setAnnouncement] = useState(initialState);\r\n  const [attachment, setAttachment] = useState(null);\r\n  const attachmentFile = useRef(null);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      (async () => {\r\n        if (!announcementId) return;\r\n\r\n        const { data } = await api.get(`/announcements/${announcementId}`);\r\n        setAnnouncement((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n      })();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }, [announcementId, open]);\r\n\r\n  const handleClose = () => {\r\n    setAnnouncement(initialState);\r\n    setAttachment(null);\r\n    onClose();\r\n  };\r\n\r\n  const handleAttachmentFile = (e) => {\r\n    const file = head(e.target.files);\r\n    if (file) {\r\n      setAttachment(file);\r\n    }\r\n  };\r\n\r\n  const handleSaveAnnouncement = async (values) => {\r\n    const announcementData = { ...values };\r\n    try {\r\n      if (announcementId) {\r\n        await api.put(`/announcements/${announcementId}`, announcementData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"typeArch\", \"announcements\");\r\n          formData.append(\"file\", attachment);\r\n          await api.post(\r\n            `/announcements/${announcementId}/media-upload`,\r\n            formData\r\n          );\r\n        }\r\n      } else {\r\n        const { data } = await api.post(\"/announcements\", announcementData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"typeArch\", \"announcements\");\r\n          formData.append(\"file\", attachment);\r\n\r\n          await api.post(`/announcements/${data.id}/media-upload`, formData);\r\n        }\r\n      }\r\n      toast.success(i18n.t(\"announcements.toasts.success\"));\r\n      if (typeof reload == \"function\") {\r\n        reload();\r\n      }\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  const deleteMedia = async () => {\r\n    if (attachment) {\r\n      setAttachment(null);\r\n      attachmentFile.current.value = null;\r\n    }\r\n\r\n    if (announcement.mediaPath) {\r\n      await api.delete(`/announcements/${announcement.id}/media-upload`);\r\n      setAnnouncement((prev) => ({\r\n        ...prev,\r\n        mediaPath: null,\r\n      }));\r\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\r\n      if (typeof reload == \"function\") {\r\n        reload();\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ConfirmationModal\r\n        title={i18n.t(\"announcements.confirmationModal.deleteTitle\")}\r\n        open={confirmationOpen}\r\n        onClose={() => setConfirmationOpen(false)}\r\n        onConfirm={deleteMedia}\r\n      >\r\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"xs\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {announcementId\r\n            ? `${i18n.t(\"announcements.dialog.edit\")}`\r\n            : `${i18n.t(\"announcements.dialog.add\")}`}\r\n        </DialogTitle>\r\n        <div style={{ display: \"none\" }}>\r\n          <input\r\n            type=\"file\"\r\n            accept=\".png,.jpg,.jpeg\"\r\n            ref={attachmentFile}\r\n            onChange={(e) => handleAttachmentFile(e)}\r\n          />\r\n        </div>\r\n        <Formik\r\n          initialValues={announcement}\r\n          enableReinitialize={true}\r\n          validationSchema={AnnouncementSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveAnnouncement(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting, values }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <Grid spacing={2} container>\r\n                  <Grid xs={12} item>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"announcements.dialog.form.title\")}\r\n                      name=\"title\"\r\n                      error={touched.title && Boolean(errors.title)}\r\n                      helperText={touched.title && errors.title}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={12} item>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"announcements.dialog.form.text\")}\r\n                      name=\"text\"\r\n                      error={touched.text && Boolean(errors.text)}\r\n                      helperText={touched.text && errors.text}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      multiline={true}\r\n                      rows={7}\r\n                      fullWidth\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={12} item>\r\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\r\n                      <InputLabel id=\"status-selection-label\">\r\n                        {i18n.t(\"announcements.dialog.form.status\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"announcements.dialog.form.status\")}\r\n                        placeholder={i18n.t(\"announcements.dialog.form.status\")}\r\n                        labelId=\"status-selection-label\"\r\n                        id=\"status\"\r\n                        name=\"status\"\r\n                        error={touched.status && Boolean(errors.status)}\r\n                      >\r\n                        <MenuItem value={true}>{i18n.t(\"announcements.dialog.form.active\")}</MenuItem>\r\n                        <MenuItem value={false}>{i18n.t(\"announcements.dialog.form.inactive\")}</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid xs={12} item>\r\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\r\n                      <InputLabel id=\"priority-selection-label\">\r\n                        {i18n.t(\"announcements.dialog.form.priority\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"announcements.dialog.form.priority\")}\r\n                        placeholder={i18n.t(\r\n                          \"announcements.dialog.form.priority\"\r\n                        )}\r\n                        labelId=\"priority-selection-label\"\r\n                        id=\"priority\"\r\n                        name=\"priority\"\r\n                        error={touched.priority && Boolean(errors.priority)}\r\n                      >\r\n                        <MenuItem value={1}>{i18n.t(\"announcements.dialog.form.high\")}</MenuItem>\r\n                        <MenuItem value={2}>{i18n.t(\"announcements.dialog.form.medium\")}</MenuItem>\r\n                        <MenuItem value={3}>{i18n.t(\"announcements.dialog.form.low\")}</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  {(announcement.mediaPath || attachment) && (\r\n                    <Grid xs={12} item>\r\n                      <Button startIcon={<AttachFileIcon />}>\r\n                        {attachment ? attachment.name : announcement.mediaName}\r\n                      </Button>\r\n                      <IconButton\r\n                        onClick={() => setConfirmationOpen(true)}\r\n                        color=\"secondary\"\r\n                      >\r\n                        <DeleteOutlineIcon />\r\n                      </IconButton>\r\n                    </Grid>\r\n                  )}\r\n                </Grid>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                {!attachment && !announcement.mediaPath && (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={() => attachmentFile.current.click()}\r\n                    disabled={isSubmitting}\r\n                    variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"announcements.dialog.buttons.attach\")}\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"announcements.dialog.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {announcementId\r\n                    ? `${i18n.t(\"announcements.dialog.buttons.edit\")}`\r\n                    : `${i18n.t(\"announcements.dialog.buttons.add\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnnouncementModal;\r\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport AnnouncementModal from \"../../components/AnnouncementModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { isArray } from \"lodash\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\r\n    const announcements = action.payload;\r\n    const newAnnouncements = [];\r\n\r\n    if (isArray(announcements)) {\r\n      announcements.forEach((announcement) => {\r\n        const announcementIndex = state.findIndex(\r\n          (u) => u.id === announcement.id\r\n        );\r\n        if (announcementIndex !== -1) {\r\n          state[announcementIndex] = announcement;\r\n        } else {\r\n          newAnnouncements.push(announcement);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newAnnouncements];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\r\n    const announcement = action.payload;\r\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\r\n\r\n    if (announcementIndex !== -1) {\r\n      state[announcementIndex] = announcement;\r\n      return [...state];\r\n    } else {\r\n      return [announcement, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\r\n    const announcementId = action.payload;\r\n\r\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\r\n    if (announcementIndex !== -1) {\r\n      state.splice(announcementIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    // padding: theme.spacing(1),\r\n    padding: theme.padding,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Announcements = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n//   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedAnnouncement, setSelectedAnnouncement] = useState(null);\r\n  const [deletingAnnouncement, setDeletingAnnouncement] = useState(null);\r\n  const [announcementModalOpen, setAnnouncementModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [announcements, dispatch] = useReducer(reducer, []);\r\n\r\n  // trava para nao acessar pagina que não pode  \r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      if (!user.super) {\r\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchAnnouncements();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    if (user.companyId) {\r\n//    const socket = socketManager.GetSocket();\r\n\r\n      const onCompanyAnnouncement = (data) => {\r\n        if (data.action === \"update\" || data.action === \"create\") {\r\n          dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\r\n        }\r\n        if (data.action === \"delete\") {\r\n          dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\r\n        }\r\n      }\r\n\r\n      socket.on(`company-announcement`, onCompanyAnnouncement);\r\n      return () => {\r\n        socket.off(`company-announcement`, onCompanyAnnouncement);\r\n      }\r\n    }\r\n  }, [user]);\r\n\r\n  const fetchAnnouncements = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/announcements/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenAnnouncementModal = () => {\r\n    setSelectedAnnouncement(null);\r\n    setAnnouncementModalOpen(true);\r\n  };\r\n\r\n  const handleCloseAnnouncementModal = () => {\r\n    setSelectedAnnouncement(null);\r\n    setAnnouncementModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditAnnouncement = (announcement) => {\r\n    setSelectedAnnouncement(announcement);\r\n    setAnnouncementModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteAnnouncement = async (announcement) => {\r\n    try {\r\n      if (announcement.mediaName)\r\n        await api.delete(`/announcements/${announcement.id}/media-upload`);\r\n\r\n      await api.delete(`/announcements/${announcement.id}`);\r\n\r\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingAnnouncement(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const translatePriority = (val) => {\r\n    if (val === 1) {\r\n      return \"Alta\";\r\n    }\r\n    if (val === 2) {\r\n      return \"Média\";\r\n    }\r\n    if (val === 3) {\r\n      return \"Baixa\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer >\r\n      <ConfirmationModal\r\n        title={\r\n          deletingAnnouncement &&\r\n          `${i18n.t(\"announcements.confirmationModal.deleteTitle\")} ${deletingAnnouncement.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteAnnouncement(deletingAnnouncement)}\r\n      >\r\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <AnnouncementModal\r\n        resetPagination={() => {\r\n          setPageNumber(1);\r\n          fetchAnnouncements();\r\n        }}\r\n        open={announcementModalOpen}\r\n        onClose={handleCloseAnnouncementModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        announcementId={selectedAnnouncement && selectedAnnouncement.id}\r\n      />\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} sm={8} item>\r\n            <Title>{i18n.t(\"announcements.title\")} ({announcements.length})</Title>\r\n          </Grid>\r\n          <Grid xs={12} sm={4} item>\r\n            <Grid spacing={2} container>\r\n              <Grid xs={6} sm={6} item>\r\n                <TextField\r\n                  fullWidth\r\n                  placeholder={i18n.t(\"announcements.searchPlaceholder\")}\r\n                  type=\"search\"\r\n                  value={searchParam}\r\n                  onChange={handleSearch}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <SearchIcon style={{ color: \"gray\" }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid xs={6} sm={6} item>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  onClick={handleOpenAnnouncementModal}\r\n                  color=\"primary\"\r\n                >\r\n                  {i18n.t(\"announcements.buttons.add\")}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"announcements.table.title\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"announcements.table.priority\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"announcements.table.mediaName\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"announcements.table.status\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"announcements.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {announcements.map((announcement) => (\r\n                <TableRow key={announcement.id}>\r\n                  <TableCell align=\"center\">{announcement.title}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {translatePriority(announcement.priority)}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {announcement.mediaName ?? i18n.t(\"quickMessages.noAttachment\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {announcement.status ? i18n.t(\"announcements.active\") : i18n.t(\"announcements.inactive\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleEditAnnouncement(announcement)}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingAnnouncement(announcement);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={5} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer >\r\n  )\r\n};\r\n\r\nexport default Announcements;\r\n","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  Chip,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemSecondaryAction,\r\n  ListItemText,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\n\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport api from \"../../services/api\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    position: \"relative\",\r\n    flex: 1,\r\n    height: \"calc(100% - 58px)\",\r\n    overflow: \"hidden\",\r\n    borderRadius: 0,\r\n    backgroundColor: theme.mode === 'light' ? \"#f2f2f2\" : \"#7f7f7f\",\r\n  },\r\n  chatList: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    position: \"relative\",\r\n    flex: 1,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  listItemActive: {\r\n    cursor: \"pointer\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    borderLeft: \"6px solid #002d6e\",\r\n  },\r\n  listItem: {\r\n    cursor: \"pointer\",\r\n    backgroundColor: theme.palette.background.color,\r\n  },\r\n}));\r\n\r\nexport default function ChatList({\r\n  chats,\r\n  handleSelectChat,\r\n  handleDeleteChat,\r\n  handleEditChat,\r\n  pageInfo,\r\n  loading,\r\n}) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { datetimeToClient } = useDate();\r\n\r\n  const [confirmationModal, setConfirmModalOpen] = useState(false);\r\n  const [selectedChat, setSelectedChat] = useState({});\r\n\r\n  const { id } = useParams();\r\n\r\n  const goToMessages = async (chat) => {\r\n    if (unreadMessages(chat) > 0) {\r\n      try {\r\n        await api.post(`/chats/${chat.id}/read`, { userId: user.id });\r\n      } catch (err) {}\r\n    }\r\n\r\n    if (id !== chat.uuid) {\r\n      history.push(`/chats/${chat.uuid}`);\r\n      handleSelectChat(chat);\r\n    }\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    handleDeleteChat(selectedChat);\r\n  };\r\n\r\n  const unreadMessages = (chat) => {\r\n    const currentUser = chat.users.find((u) => u.userId === user.id);\r\n    return currentUser.unreads;\r\n  };\r\n\r\n  const getPrimaryText = (chat) => {\r\n    const mainText = chat.title;\r\n    const unreads = unreadMessages(chat);\r\n    return (\r\n      <>\r\n        {mainText}\r\n        {unreads > 0 && (\r\n          <Chip\r\n            size=\"small\"\r\n            style={{ marginLeft: 5 }}\r\n            label={unreads}\r\n            color=\"secondary\"\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const getSecondaryText = (chat) => {\r\n    return chat.lastMessage !== \"\"\r\n      ? `${datetimeToClient(chat.updatedAt)}: ${chat.lastMessage}`\r\n      : \"\";\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ConfirmationModal\r\n        title={\"Excluir Conversa\"}\r\n        open={confirmationModal}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={handleDelete}\r\n      >\r\n        Esta ação não pode ser revertida, confirmar?\r\n      </ConfirmationModal>\r\n      <div className={classes.mainContainer}>\r\n        <div className={classes.chatList}>\r\n          <List>\r\n            {Array.isArray(chats) &&\r\n              chats.length > 0 &&\r\n              chats.map((chat, key) => (\r\n                <ListItem\r\n                  onClick={() => goToMessages(chat)}\r\n                  key={key}\r\n                  className={chat.uuid === id ? classes.listItemActive : classes.listItem}\r\n                  // style={getItemStyle(chat)}\r\n                  button\r\n                >\r\n                  <ListItemText\r\n                    primary={getPrimaryText(chat)}\r\n                    secondary={getSecondaryText(chat)}\r\n                  />\r\n                  {chat.ownerId === user.id && (\r\n                    <ListItemSecondaryAction>\r\n                      <IconButton\r\n                        onClick={() => {\r\n                          goToMessages(chat).then(() => {\r\n                            handleEditChat(chat);\r\n                          });\r\n                        }}\r\n                        edge=\"end\"\r\n                        aria-label=\"delete\"\r\n                        size=\"small\"\r\n                        style={{ marginRight: 5 }}\r\n                      >\r\n                        <EditIcon />\r\n                      </IconButton>\r\n                      <IconButton\r\n                        onClick={() => {\r\n                          setSelectedChat(chat);\r\n                          setConfirmModalOpen(true);\r\n                        }}\r\n                        edge=\"end\"\r\n                        aria-label=\"delete\"\r\n                        size=\"small\"\r\n                      >\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    </ListItemSecondaryAction>\r\n                  )}\r\n                </ListItem>\r\n              ))}\r\n          </List>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  Box,\r\n  FormControl,\r\n  IconButton,\r\n  Input,\r\n  InputAdornment,\r\n  makeStyles,\r\n  Paper,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\nimport api from \"../../services/api\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    position: \"relative\",\r\n    flex: 1,\r\n    overflow: \"hidden\",\r\n    borderRadius: 0,\r\n    height: \"100%\",\r\n    borderLeft: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  messageList: {\r\n    position: \"relative\",\r\n    overflowY: \"auto\",\r\n    height: \"100%\",\r\n    ...theme.scrollbarStyles,\r\n    backgroundColor: theme.mode === 'light' ? \"#f2f2f2\" : \"#7f7f7f\",\r\n  },\r\n  inputArea: {\r\n    position: \"relative\",\r\n    height: \"auto\",\r\n  },\r\n  input: {\r\n    padding: \"20px\",\r\n  },\r\n  buttonSend: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  boxLeft: {\r\n    padding: \"10px 10px 5px\",\r\n    margin: \"10px\",\r\n    position: \"relative\",\r\n    backgroundColor: \"#ffffff\",\r\n    color: \"#303030\",\r\n    maxWidth: 300,\r\n    borderRadius: 10,\r\n    borderBottomLeftRadius: 0,\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  boxRight: {\r\n    padding: \"10px 10px 5px\",\r\n    margin: \"10px 10px 10px auto\",\r\n    position: \"relative\",\r\n    backgroundColor: \"#dcf8c6\",\r\n    color: \"#303030\",\r\n    textAlign: \"right\",\r\n    maxWidth: 300,\r\n    borderRadius: 10,\r\n    borderBottomRightRadius: 0,\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n}));\r\n\r\nexport default function ChatMessages({\r\n  chat,\r\n  messages,\r\n  handleSendMessage,\r\n  handleLoadMore,\r\n  scrollToBottomRef,\r\n  pageInfo,\r\n  loading,\r\n}) {\r\n  const classes = useStyles();\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { datetimeToClient } = useDate();\r\n  const baseRef = useRef();\r\n\r\n  const [contentMessage, setContentMessage] = useState(\"\");\r\n\r\n  const scrollToBottom = () => {\r\n    if (baseRef.current) {\r\n      baseRef.current.scrollIntoView({});\r\n    }\r\n  };\r\n\r\n  const unreadMessages = (chat) => {\r\n    if (chat !== undefined) {\r\n      const currentUser = chat.users.find((u) => u.userId === user.id);\r\n      return currentUser.unreads > 0;\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (unreadMessages(chat) > 0) {\r\n      try {\r\n        api.post(`/chats/${chat.id}/read`, { userId: user.id });\r\n      } catch (err) {}\r\n    }\r\n    scrollToBottomRef.current = scrollToBottom;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleScroll = (e) => {\r\n    const { scrollTop } = e.currentTarget;\r\n    if (!pageInfo.hasMore || loading) return;\r\n    if (scrollTop < 600) {\r\n      handleLoadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.mainContainer}>\r\n      <div onScroll={handleScroll} className={classes.messageList}>\r\n        {Array.isArray(messages) &&\r\n          messages.map((item, key) => {\r\n            if (item.senderId === user.id) {\r\n              return (\r\n                <Box key={key} className={classes.boxRight}>\r\n                  <Typography variant=\"subtitle2\">\r\n                    {item.sender.name}\r\n                  </Typography>\r\n                  {item.message}\r\n                  <Typography variant=\"caption\" display=\"block\">\r\n                    {datetimeToClient(item.createdAt)}\r\n                  </Typography>\r\n                </Box>\r\n              );\r\n            } else {\r\n              return (\r\n                <Box key={key} className={classes.boxLeft}>\r\n                  <Typography variant=\"subtitle2\">\r\n                    {item.sender.name}\r\n                  </Typography>\r\n                  {item.message}\r\n                  <Typography variant=\"caption\" display=\"block\">\r\n                    {datetimeToClient(item.createdAt)}\r\n                  </Typography>\r\n                </Box>\r\n              );\r\n            }\r\n          })}\r\n        <div ref={baseRef}></div>\r\n      </div>\r\n      <div className={classes.inputArea}>\r\n        <FormControl variant=\"outlined\" fullWidth>\r\n          <Input\r\n            multiline\r\n            value={contentMessage}\r\n            onKeyUp={(e) => {\r\n              if (e.key === \"Enter\" && contentMessage.trim() !== \"\") {\r\n                handleSendMessage(contentMessage);\r\n                setContentMessage(\"\");\r\n              }\r\n            }}\r\n            onChange={(e) => setContentMessage(e.target.value)}\r\n            className={classes.input}\r\n            endAdornment={\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  onClick={() => {\r\n                    if (contentMessage.trim() !== \"\") {\r\n                      handleSendMessage(contentMessage);\r\n                      setContentMessage(\"\");\r\n                    }\r\n                  }}\r\n                  className={classes.buttonSend}\r\n                >\r\n                  <SendIcon />\r\n                </IconButton>\r\n              </InputAdornment>\r\n            }\r\n          />\r\n        </FormControl>\r\n      </div>\r\n    </Paper>\r\n  );\r\n}","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\n\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Grid,\r\n  makeStyles,\r\n  Paper,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport ChatList from \"./ChatList\";\r\nimport ChatMessages from \"./ChatMessages\";\r\nimport { UsersFilter } from \"../../components/UsersFilter\";\r\nimport api from \"../../services/api\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\nimport { has, isObject } from \"lodash\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    position: \"relative\",\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n    height: `calc(100% - 48px)`,\r\n    overflowY: \"hidden\",\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    height: \"100%\",\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n    background: theme.palette.background.color,\r\n  },\r\n  gridItem: {\r\n    height: \"100%\",\r\n  },\r\n  gridItemTab: {\r\n    height: \"92%\",\r\n    width: \"100%\",\r\n  },\r\n  btnContainer: {\r\n    textAlign: \"right\",\r\n    padding: 10,\r\n  },\r\n}));\r\n\r\nexport function ChatModal({\r\n  open,\r\n  chat,\r\n  type,\r\n  handleClose,\r\n  handleLoadNewChat,\r\n}) {\r\n  const [users, setUsers] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setTitle(\"\");\r\n    setUsers([]);\r\n    if (type === \"edit\") {\r\n      const userList = chat.users.map((u) => ({\r\n        id: u.user.id,\r\n        name: u.user.name,\r\n      }));\r\n      setUsers(userList);\r\n      setTitle(chat.title);\r\n    }\r\n  }, [chat, open, type]);\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      if (type === \"edit\") {\r\n        await api.put(`/chats/${chat.id}`, {\r\n          users,\r\n          title,\r\n        });\r\n      } else {\r\n        const { data } = await api.post(\"/chats\", {\r\n          users,\r\n          title,\r\n        });\r\n        handleLoadNewChat(data);\r\n      }\r\n      handleClose();\r\n    } catch (err) { }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">{i18n.t(\"chatInternal.modal.title\")}</DialogTitle>\r\n      <DialogContent>\r\n        <Grid spacing={2} container>\r\n          <Grid xs={12} style={{ padding: 18 }} item>\r\n            <TextField\r\n              label=\"Título\"\r\n              placeholder=\"Título\"\r\n              value={title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              fullWidth\r\n            />\r\n          </Grid>\r\n          <Grid xs={12} item>\r\n            <UsersFilter\r\n              onFiltered={(users) => setUsers(users)}\r\n              initialUsers={users}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          {i18n.t(\"chatInternal.modal.cancel\")}\r\n        </Button>\r\n        <Button\r\n          onClick={handleSave}\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          disabled={users === undefined || users.length === 0 || title === null || title === \"\" || title === undefined}\r\n        >\r\n          {i18n.t(\"chatInternal.modal.save\")}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction Chat(props) {\r\n  const classes = useStyles();\r\n  const { user, socket } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const [showDialog, setShowDialog] = useState(false);\r\n  const [dialogType, setDialogType] = useState(\"new\");\r\n  const [currentChat, setCurrentChat] = useState({});\r\n  const [chats, setChats] = useState([]);\r\n  const [chatsPageInfo, setChatsPageInfo] = useState({ hasMore: false });\r\n  const [messages, setMessages] = useState([]);\r\n  const [messagesPageInfo, setMessagesPageInfo] = useState({ hasMore: false });\r\n  const [messagesPage, setMessagesPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [tab, setTab] = useState(0);\r\n  const isMounted = useRef(true);\r\n  const scrollToBottomRef = useRef();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      findChats().then((data) => {\r\n        const { records } = data;\r\n        if (records.length > 0) {\r\n          setChats(records);\r\n          setChatsPageInfo(data);\r\n\r\n          if (id && records.length) {\r\n            const chat = records.find((r) => r.uuid === id);\r\n            selectChat(chat);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\r\n      findMessages(currentChat.id).then(() => {\r\n        if (typeof scrollToBottomRef.current === \"function\") {\r\n          setTimeout(() => {\r\n            scrollToBottomRef.current();\r\n          }, 300);\r\n        }\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentChat]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketConnection({ companyId, userId: user.id });\r\n\r\n    const onChatUser = (data) => {\r\n\r\n      console.log(data)\r\n      if (data.action === \"create\") {\r\n        setChats((prev) => [data.record, ...prev]);\r\n      }\r\n      if (data.action === \"update\") {\r\n        const changedChats = chats.map((chat) => {\r\n          if (chat.id === data.record.id) {\r\n            setCurrentChat(data.record);\r\n            return {\r\n              ...data.record,\r\n            };\r\n          }\r\n          return chat;\r\n        });\r\n        setChats(changedChats);\r\n      }\r\n    }\r\n    const onChat = (data) => {\r\n      if (data.action === \"delete\") {\r\n        const filteredChats = chats.filter((c) => c.id !== +data.id);\r\n        setChats(filteredChats);\r\n        setMessages([]);\r\n        setMessagesPage(1);\r\n        setMessagesPageInfo({ hasMore: false });\r\n        setCurrentChat({});\r\n        history.push(\"/chats\");\r\n      }\r\n    }\r\n\r\n    const onCurrentChat = (data) => {\r\n      if (data.action === \"new-message\") {\r\n        setMessages((prev) => [...prev, data.newMessage]);\r\n        const changedChats = chats.map((chat) => {\r\n          if (chat.id === data.newMessage.chatId) {\r\n            return {\r\n              ...data.chat,\r\n            };\r\n          }\r\n          return chat;\r\n        });\r\n        setChats(changedChats);\r\n        scrollToBottomRef.current();\r\n      }\r\n\r\n      if (data.action === \"update\") {\r\n        const changedChats = chats.map((chat) => {\r\n          if (chat.id === data.chat.id) {\r\n            return {\r\n              ...data.chat,\r\n            };\r\n          }\r\n          return chat;\r\n        });\r\n        setChats(changedChats);\r\n        scrollToBottomRef.current();\r\n      }\r\n    }\r\n\r\n    socket.on(`company-${companyId}-chat-user-${user.id}`, onChatUser);\r\n    socket.on(`company-${companyId}-chat`, onChat);\r\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\r\n      socket.on(`company-${companyId}-chat-${currentChat.id}`, onCurrentChat);\r\n    }\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-chat-user-${user.id}`, onChatUser);\r\n      socket.off(`company-${companyId}-chat`, onChat);\r\n      if (isObject(currentChat) && has(currentChat, \"id\")) {\r\n        socket.off(`company-${companyId}-chat-${currentChat.id}`, onCurrentChat);\r\n      }\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentChat]);\r\n\r\n  const selectChat = (chat) => {\r\n    try {\r\n      setMessages([]);\r\n      setMessagesPage(1);\r\n      setCurrentChat(chat);\r\n      setTab(1);\r\n    } catch (err) { }\r\n  };\r\n\r\n  const sendMessage = async (contentMessage) => {\r\n    setLoading(true);\r\n    try {\r\n      await api.post(`/chats/${currentChat.id}/messages`, {\r\n        message: contentMessage,\r\n      });\r\n    } catch (err) { }\r\n    setLoading(false);\r\n  };\r\n\r\n  const deleteChat = async (chat) => {\r\n    try {\r\n      await api.delete(`/chats/${chat.id}`);\r\n    } catch (err) { }\r\n  };\r\n\r\n  const findMessages = async (chatId) => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await api.get(\r\n        `/chats/${chatId}/messages?pageNumber=${messagesPage}`\r\n      );\r\n      setMessagesPage((prev) => prev + 1);\r\n      setMessagesPageInfo(data);\r\n      setMessages((prev) => [...data.records, ...prev]);\r\n    } catch (err) { }\r\n    setLoading(false);\r\n  };\r\n\r\n  const loadMoreMessages = async () => {\r\n    if (!loading) {\r\n      findMessages(currentChat.id);\r\n    }\r\n  };\r\n\r\n  const findChats = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/chats\");\r\n      return data;\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const renderGrid = () => {\r\n    return (\r\n      <Grid className={classes.gridContainer} container>\r\n        <Grid className={classes.gridItem} md={3} item>\r\n          {/* {user.profile === \"admin\" && ( */}\r\n          <div className={classes.btnContainer}>\r\n            <Button\r\n              onClick={() => {\r\n                setDialogType(\"new\");\r\n                setShowDialog(true);\r\n              }}\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n            >\r\n              {i18n.t(\"chatInternal.new\")}\r\n            </Button>\r\n          </div>\r\n          {/* )} */}\r\n          <ChatList\r\n            chats={chats}\r\n            pageInfo={chatsPageInfo}\r\n            loading={loading}\r\n            handleSelectChat={(chat) => selectChat(chat)}\r\n            handleDeleteChat={(chat) => deleteChat(chat)}\r\n            handleEditChat={() => {\r\n              setDialogType(\"edit\");\r\n              setShowDialog(true);\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid className={classes.gridItem} md={9} item>\r\n          {isObject(currentChat) && has(currentChat, \"id\") && (\r\n            <ChatMessages\r\n              chat={currentChat}\r\n              scrollToBottomRef={scrollToBottomRef}\r\n              pageInfo={messagesPageInfo}\r\n              messages={messages}\r\n              loading={loading}\r\n              handleSendMessage={sendMessage}\r\n              handleLoadMore={loadMoreMessages}\r\n            />\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  const renderTab = () => {\r\n    return (\r\n      <Grid className={classes.gridContainer} container>\r\n        <Grid md={12} item>\r\n          <Tabs\r\n            value={tab}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            onChange={(e, v) => setTab(v)}\r\n            aria-label=\"disabled tabs example\"\r\n          >\r\n            <Tab label=\"Chats\" />\r\n            <Tab label=\"Mensagens\" />\r\n          </Tabs>\r\n        </Grid>\r\n        {tab === 0 && (\r\n          <Grid className={classes.gridItemTab} md={12} item>\r\n            <div className={classes.btnContainer}>\r\n              <Button\r\n                onClick={() => setShowDialog(true)}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n              >\r\n                Novo\r\n              </Button>\r\n            </div>\r\n            <ChatList\r\n              chats={chats}\r\n              pageInfo={chatsPageInfo}\r\n              loading={loading}\r\n              handleSelectChat={(chat) => selectChat(chat)}\r\n              handleDeleteChat={(chat) => deleteChat(chat)}\r\n            />\r\n          </Grid>\r\n        )}\r\n        {tab === 1 && (\r\n          <Grid className={classes.gridItemTab} md={12} item>\r\n            {isObject(currentChat) && has(currentChat, \"id\") && (\r\n              <ChatMessages\r\n                scrollToBottomRef={scrollToBottomRef}\r\n                pageInfo={messagesPageInfo}\r\n                messages={messages}\r\n                loading={loading}\r\n                handleSendMessage={sendMessage}\r\n                handleLoadMore={loadMoreMessages}\r\n              />\r\n            )}\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ChatModal\r\n        type={dialogType}\r\n        open={showDialog}\r\n        chat={currentChat}\r\n        handleLoadNewChat={(data) => {\r\n          setMessages([]);\r\n          setMessagesPage(1);\r\n          setCurrentChat(data);\r\n          setTab(1);\r\n          history.push(`/chats/${data.uuid}`);\r\n        }}\r\n        handleClose={() => setShowDialog(false)}\r\n      />\r\n      <Paper className={classes.mainContainer}>\r\n        {isWidthUp(\"md\", props.width) ? renderGrid() : renderTab()}\r\n      </Paper>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withWidth()(Chat);","import React, { useEffect, useState } from \"react\";\r\nimport { Field } from \"formik\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n}));\r\n\r\nconst QueueSelectSingle = () => {\r\n    const classes = useStyles();\r\n    const [queues, setQueues] = useState([]);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const { data } = await api.get(\"/queue\");\r\n                setQueues(data);\r\n            } catch (err) {\r\n                toastError(`QUEUESELETSINGLE >>> ${err}`);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{ marginTop: 6 }}>\r\n            <FormControl\r\n                variant=\"outlined\"\r\n                className={classes.FormControl}\r\n                margin=\"dense\"\r\n                fullWidth\r\n            >\r\n                <div>\r\n                    <Typography>\r\n                        {i18n.t(\"queueSelect.inputLabel\")}\r\n                    </Typography>\r\n                    <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"queueSelect.inputLabel\")}\r\n                        name=\"queueId\"\r\n                        labelId=\"queue-selection-label\"\r\n                        id=\"queue-selection\"\r\n                        fullWidth\r\n                    >\r\n                        {queues.map(queue => (\r\n                            <MenuItem key={queue.id} value={queue.id}>\r\n                                {queue.name}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Field>\r\n                </div>\r\n            </FormControl>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default QueueSelectSingle;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { MenuItem, FormControl, InputLabel, Select } from \"@material-ui/core\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport { InputAdornment, IconButton } from \"@material-ui/core\";\r\nimport QueueSelectSingle from \"../QueueSelectSingle\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n    },\r\n    multFieldLine: {\r\n        display: \"flex\",\r\n        \"& > *:not(:last-child)\": {\r\n            marginRight: theme.spacing(1),\r\n        },\r\n    },\r\n\r\n    btnWrapper: {\r\n        position: \"relative\",\r\n    },\r\n\r\n    buttonProgress: {\r\n        color: green[500],\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n    colorAdorment: {\r\n        width: 20,\r\n        height: 20,\r\n    },\r\n}));\r\n\r\nconst PromptSchema = Yup.object().shape({\r\n    name: Yup.string().min(5, \"Muito curto!\").max(100, \"Muito longo!\").required(\"Obrigatório\"),\r\n    prompt: Yup.string().min(50, \"Muito curto!\").required(\"Descreva o treinamento para Inteligência Artificial\"),\r\n    voice: Yup.string().required(\"Informe o modo para Voz\"),\r\n    max_tokens: Yup.number().required(\"Informe o número máximo de tokens\"),\r\n    temperature: Yup.number().required(\"Informe a temperatura\"),\r\n    apikey: Yup.string().required(\"Informe a API Key\"),\r\n    queueId: Yup.number().required(\"Informe a fila\"),\r\n    max_messages: Yup.number().required(\"Informe o número máximo de mensagens\")\r\n});\r\n\r\nconst PromptModal = ({ open, onClose, promptId }) => {\r\n    const classes = useStyles();\r\n    const [selectedVoice, setSelectedVoice] = useState(\"texto\");\r\n    const [showApiKey, setShowApiKey] = useState(false);\r\n\r\n    const handleToggleApiKey = () => {\r\n        setShowApiKey(!showApiKey);\r\n    };\r\n\r\n    const initialState = {\r\n        name: \"\",\r\n        prompt: \"\",\r\n        voice: \"texto\",\r\n        voiceKey: \"\",\r\n        voiceRegion: \"\",\r\n        maxTokens: 100,\r\n        temperature: 1,\r\n        apiKey: \"\",\r\n        queueId: null,\r\n        maxMessages: 10\r\n    };\r\n\r\n    const [prompt, setPrompt] = useState(initialState);\r\n\r\n    useEffect(() => {\r\n        const fetchPrompt = async () => {\r\n            if (!promptId) {\r\n                setPrompt(initialState);\r\n                return;\r\n            }\r\n            try {\r\n                const { data } = await api.get(`/prompt/${promptId}`);\r\n                setPrompt(prevState => {\r\n                    return { ...prevState, ...data };\r\n                });\r\n                setSelectedVoice(data.voice);\r\n            } catch (err) {\r\n                toastError(err);\r\n            }\r\n        };\r\n\r\n        fetchPrompt();\r\n    }, [promptId, open]);\r\n\r\n    const handleClose = () => {\r\n        setPrompt(initialState);\r\n        setSelectedVoice(\"texto\");\r\n        onClose();\r\n    };\r\n\r\n    const handleChangeVoice = (e) => {\r\n        setSelectedVoice(e.target.value);\r\n    };\r\n\r\n    const handleSavePrompt = async values => {\r\n        const promptData = { ...values, voice: selectedVoice };\r\n        if (!values.queueId) {\r\n            toastError(\"Informe o setor\");\r\n            return;\r\n        }\r\n        try {\r\n            if (promptId) {\r\n                await api.put(`/prompt/${promptId}`, promptData);\r\n            } else {\r\n                await api.post(\"/prompt\", promptData);\r\n            }\r\n            toast.success(i18n.t(\"promptModal.success\"));\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        handleClose();\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                maxWidth=\"md\"\r\n                scroll=\"paper\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle id=\"form-dialog-title\">\r\n                    {promptId\r\n                        ? `${i18n.t(\"promptModal.title.edit\")}`\r\n                        : `${i18n.t(\"promptModal.title.add\")}`}\r\n                </DialogTitle>\r\n                <Formik\r\n                    initialValues={prompt}\r\n                    enableReinitialize={true}\r\n                    onSubmit={(values, actions) => {\r\n                        setTimeout(() => {\r\n                            handleSavePrompt(values);\r\n                            actions.setSubmitting(false);\r\n                        }, 400);\r\n                    }}\r\n                >\r\n                    {({ touched, errors, isSubmitting, values }) => (\r\n                        <Form style={{ width: \"100%\" }}>\r\n                            <DialogContent dividers>\r\n                                <Field\r\n                                    as={TextField}\r\n                                    label={i18n.t(\"promptModal.form.name\")}\r\n                                    name=\"name\"\r\n                                    error={touched.name && Boolean(errors.name)}\r\n                                    helperText={touched.name && errors.name}\r\n                                    variant=\"outlined\"\r\n                                    margin=\"dense\"\r\n                                    fullWidth\r\n                                    required\r\n                                />\r\n                                <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.apikey\")}\r\n                                        name=\"apiKey\"\r\n                                        type={showApiKey ? 'text' : 'password'}\r\n                                        error={touched.apiKey && Boolean(errors.apiKey)}\r\n                                        helperText={touched.apiKey && errors.apiKey}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                        required\r\n                                        InputProps={{\r\n                                            endAdornment: (\r\n                                                <InputAdornment position=\"end\">\r\n                                                    <IconButton onClick={handleToggleApiKey}>\r\n                                                        {showApiKey ? <VisibilityOff /> : <Visibility />}\r\n                                                    </IconButton>\r\n                                                </InputAdornment>\r\n                                            ),\r\n                                        }}\r\n                                    />\r\n                                </FormControl>\r\n                                <Field\r\n                                    as={TextField}\r\n                                    label={i18n.t(\"promptModal.form.prompt\")}\r\n                                    name=\"prompt\"\r\n                                    error={touched.prompt && Boolean(errors.prompt)}\r\n                                    helperText={touched.prompt && errors.prompt}\r\n                                    variant=\"outlined\"\r\n                                    margin=\"dense\"\r\n                                    fullWidth\r\n                                    required\r\n                                    rows={10}\r\n                                    multiline={true}\r\n                                />\r\n                                <QueueSelectSingle />\r\n                                <div className={classes.multFieldLine}>\r\n                                    <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n                                    <InputLabel>{i18n.t(\"promptModal.form.voice\")}</InputLabel>\r\n                                        <Select\r\n                                            id=\"type-select\"\r\n                                            labelWidth={60}\r\n                                            name=\"voice\"\r\n                                            value={selectedVoice}\r\n                                            onChange={handleChangeVoice}\r\n                                            multiple={false}\r\n                                        >\r\n                                            <MenuItem key={\"texto\"} value={\"texto\"}>\r\n                                                Texto\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-FranciscaNeural\"} value={\"pt-BR-FranciscaNeural\"}>\r\n                                                Francisa\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-AntonioNeural\"} value={\"pt-BR-AntonioNeural\"}>\r\n                                                Antônio\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-BrendaNeural\"} value={\"pt-BR-BrendaNeural\"}>\r\n                                                Brenda\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-DonatoNeural\"} value={\"pt-BR-DonatoNeural\"}>\r\n                                                Donato\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-ElzaNeural\"} value={\"pt-BR-ElzaNeural\"}>\r\n                                                Elza\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-FabioNeural\"} value={\"pt-BR-FabioNeural\"}>\r\n                                                Fábio\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-GiovannaNeural\"} value={\"pt-BR-GiovannaNeural\"}>\r\n                                                Giovanna\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-HumbertoNeural\"} value={\"pt-BR-HumbertoNeural\"}>\r\n                                                Humberto\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-JulioNeural\"} value={\"pt-BR-JulioNeural\"}>\r\n                                                Julio\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-LeilaNeural\"} value={\"pt-BR-LeilaNeural\"}>\r\n                                                Leila\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-LeticiaNeural\"} value={\"pt-BR-LeticiaNeural\"}>\r\n                                                Letícia\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-ManuelaNeural\"} value={\"pt-BR-ManuelaNeural\"}>\r\n                                                Manuela\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-NicolauNeural\"} value={\"pt-BR-NicolauNeural\"}>\r\n                                                Nicolau\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-ValerioNeural\"} value={\"pt-BR-ValerioNeural\"}>\r\n                                                Valério\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-YaraNeural\"} value={\"pt-BR-YaraNeural\"}>\r\n                                                Yara\r\n                                            </MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.voiceKey\")}\r\n                                        name=\"voiceKey\"\r\n                                        error={touched.voiceKey && Boolean(errors.voiceKey)}\r\n                                        helperText={touched.voiceKey && errors.voiceKey}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.voiceRegion\")}\r\n                                        name=\"voiceRegion\"\r\n                                        error={touched.voiceRegion && Boolean(errors.voiceRegion)}\r\n                                        helperText={touched.voiceRegion && errors.voiceRegion}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                </div>\r\n                                \r\n                                <div className={classes.multFieldLine}>\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.temperature\")}\r\n                                        name=\"temperature\"\r\n                                        error={touched.temperature && Boolean(errors.temperature)}\r\n                                        helperText={touched.temperature && errors.temperature}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.max_tokens\")}\r\n                                        name=\"maxTokens\"\r\n                                        error={touched.maxTokens && Boolean(errors.maxTokens)}\r\n                                        helperText={touched.maxTokens && errors.maxTokens}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.max_messages\")}\r\n                                        name=\"maxMessages\"\r\n                                        error={touched.maxMessages && Boolean(errors.maxMessages)}\r\n                                        helperText={touched.maxMessages && errors.maxMessages}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                </div>\r\n                            </DialogContent>\r\n                            <DialogActions>\r\n                                <Button\r\n                                    onClick={handleClose}\r\n                                    color=\"secondary\"\r\n                                    disabled={isSubmitting}\r\n                                    variant=\"outlined\"\r\n                                >\r\n                                    {i18n.t(\"promptModal.buttons.cancel\")}\r\n                                </Button>\r\n                                <Button\r\n                                    type=\"submit\"\r\n                                    color=\"primary\"\r\n                                    disabled={isSubmitting}\r\n                                    variant=\"contained\"\r\n                                    className={classes.btnWrapper}\r\n                                >\r\n                                    {promptId\r\n                                        ? `${i18n.t(\"promptModal.buttons.okEdit\")}`\r\n                                        : `${i18n.t(\"promptModal.buttons.okAdd\")}`}\r\n                                    {isSubmitting && (\r\n                                        <CircularProgress\r\n                                            size={24}\r\n                                            className={classes.buttonProgress}\r\n                                        />\r\n                                    )}\r\n                                </Button>\r\n                            </DialogActions>\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PromptModal;","import React, { useContext, useEffect, useReducer, useState } from \"react\";\r\n\r\nimport openSocket from \"socket.io-client\";\r\n\r\nimport {\r\n  Button,\r\n  IconButton,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow\r\n} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport Title from \"../../components/Title\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\r\nimport PromptModal from \"../../components/PromptModal\";\r\nimport { toast } from \"react-toastify\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  customTableCell: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n}));\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_PROMPTS\") {\r\n    const prompts = action.payload;\r\n    const newPrompts = [];\r\n\r\n    prompts.forEach((prompt) => {\r\n      const promptIndex = state.findIndex((p) => p.id === prompt.id);\r\n      if (promptIndex !== -1) {\r\n        state[promptIndex] = prompt;\r\n      } else {\r\n        newPrompts.push(prompt);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newPrompts];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_PROMPTS\") {\r\n    const prompt = action.payload;\r\n    const promptIndex = state.findIndex((p) => p.id === prompt.id);\r\n\r\n    if (promptIndex !== -1) {\r\n      state[promptIndex] = prompt;\r\n      return [...state];\r\n    } else {\r\n      return [prompt, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_PROMPT\") {\r\n    const promptId = action.payload;\r\n    const promptIndex = state.findIndex((p) => p.id === promptId);\r\n    if (promptIndex !== -1) {\r\n      state.splice(promptIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst Prompts = () => {\r\n  const classes = useStyles();\r\n\r\n  const [prompts, dispatch] = useReducer(reducer, []);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [promptModalOpen, setPromptModalOpen] = useState(false);\r\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const { getPlanCompany } = usePlans();\r\n  const history = useHistory();\r\n  const companyId = user.companyId;\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useOpenAi) {\r\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n      try {\r\n        const { data } = await api.get(\"/prompt\");\r\n        dispatch({ type: \"LOAD_PROMPTS\", payload: data.prompts });\r\n\r\n        setLoading(false);\r\n      } catch (err) {\r\n        toastError(err);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onPromptEvent = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_PROMPTS\", payload: data.prompt });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_PROMPT\", payload: data.promptId });\r\n      }\r\n    };\r\n\r\n    socket.on(`company-${companyId}-prompt`, onPromptEvent);\r\n    return () => {\r\n      socket.off(`company-${companyId}-prompt`, onPromptEvent);\r\n    };\r\n  }, [socket]);\r\n\r\n  const handleOpenPromptModal = () => {\r\n    setPromptModalOpen(true);\r\n    setSelectedPrompt(null);\r\n  };\r\n\r\n  const handleClosePromptModal = () => {\r\n    setPromptModalOpen(false);\r\n    setSelectedPrompt(null);\r\n  };\r\n\r\n  const handleEditPrompt = (prompt) => {\r\n    setSelectedPrompt(prompt);\r\n    setPromptModalOpen(true);\r\n  };\r\n\r\n  const handleCloseConfirmationModal = () => {\r\n    setConfirmModalOpen(false);\r\n    setSelectedPrompt(null);\r\n  };\r\n\r\n  const handleDeletePrompt = async (promptId) => {\r\n    try {\r\n      const { data } = await api.delete(`/prompt/${promptId}`);\r\n      toast.info(i18n.t(data.message));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setSelectedPrompt(null);\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          selectedPrompt &&\r\n          `${i18n.t(\"prompts.confirmationModal.deleteTitle\")} ${selectedPrompt.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={handleCloseConfirmationModal}\r\n        onConfirm={() => handleDeletePrompt(selectedPrompt.id)}\r\n      >\r\n        {i18n.t(\"prompts.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <PromptModal\r\n        open={promptModalOpen}\r\n        onClose={handleClosePromptModal}\r\n        promptId={selectedPrompt?.id}\r\n      />\r\n      {user.profile === \"user\" ?\r\n        <ForbiddenPage />\r\n        :\r\n        <>\r\n          <MainHeader>\r\n            <Title>{i18n.t(\"prompts.title\")}</Title>\r\n            <MainHeaderButtonsWrapper>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleOpenPromptModal}\r\n              >\r\n                {i18n.t(\"prompts.buttons.add\")}\r\n              </Button>\r\n            </MainHeaderButtonsWrapper>\r\n          </MainHeader>\r\n          <Paper className={classes.mainPaper} variant=\"outlined\">\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell align=\"left\">\r\n                    {i18n.t(\"prompts.table.name\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"left\">\r\n                    {i18n.t(\"prompts.table.queue\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"left\">\r\n                    {i18n.t(\"prompts.table.max_tokens\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"prompts.table.actions\")}\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <>\r\n                  {prompts.map((prompt) => (\r\n                    <TableRow key={prompt.id}>\r\n                      <TableCell align=\"left\">{prompt.name}</TableCell>\r\n                      <TableCell align=\"left\">{prompt.queue.name}</TableCell>\r\n                      <TableCell align=\"left\">{prompt.maxTokens}</TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => handleEditPrompt(prompt)}\r\n                        >\r\n                          <Edit />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => {\r\n                            setSelectedPrompt(prompt);\r\n                            setConfirmModalOpen(true);\r\n                          }}\r\n                        >\r\n                          <DeleteOutline />\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  {loading && <TableRowSkeleton columns={4} />}\r\n                </>\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        </>}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Prompts;\r\n","import React, { useState } from \"react\";\r\nimport qs from \"query-string\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport * as Yup from \"yup\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport moment from \"moment\";\r\nimport logo from \"../../assets/logo.png\";\r\nimport { toast } from 'react-toastify'; \r\nimport toastError from '../../errors/toastError';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n    backgroundImage: \"url(https://coresistemas.com/imagens/fundo09.jpg)\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundSize: \"100% 100%\",\r\n    backgroundPosition: \"center\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    textAlign: \"center\",\r\n  },\r\n  paper: {\r\n    backgroundColor: \"white\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: \"55px 30px\",\r\n    borderRadius: \"12.5px\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  powered: {\r\n    color: \"white\",\r\n  },\r\n}));\r\n\r\nconst passwordRegex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;\r\n\r\nconst ForgetPassword = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  let companyId = null;\r\n  const [showAdditionalFields, setShowAdditionalFields] = useState(false);\r\n  const [showResetPasswordButton, setShowResetPasswordButton] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [error, setError] = useState(\"\"); // Estado para mensagens de erro\r\n\r\n  const togglePasswordVisibility = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  const toggleConfirmPasswordVisibility = () => {\r\n    setShowConfirmPassword(!showConfirmPassword);\r\n  };\r\n\r\n  const toggleAdditionalFields = () => {\r\n    setShowAdditionalFields(!showAdditionalFields);\r\n    if (showAdditionalFields) {\r\n      setShowResetPasswordButton(false);\r\n    } else {\r\n      setShowResetPasswordButton(true);\r\n    }\r\n  };\r\n\r\n  const params = qs.parse(window.location.search);\r\n  if (params.companyId !== undefined) {\r\n    companyId = params.companyId;\r\n  }\r\n\r\n  const initialState = { email: \"\" };\r\n\r\n  const [user] = useState(initialState);\r\n  const dueDate = moment().add(3, \"day\").format();\r\n\r\nconst handleSendEmail = async (values) => {\r\n  const email = values.email;\r\n  try {\r\n    const response = await api.post(\r\n      `${process.env.REACT_APP_BACKEND_URL}/forgetpassword/${email}`\r\n    );\r\n    if (response.data.status === 404) {\r\n      toast.error(\"Email não encontrado\");\r\n    } else {\r\n      toast.success(i18n.t(\"Email enviado com sucesso!\"));\r\n    }\r\n  } catch (err) {\r\n    toastError(err);\r\n  }\r\n};\r\n\r\n  const handleResetPassword = async (values) => {\r\n    const email = values.email;\r\n    const token = values.token;\r\n    const newPassword = values.newPassword;\r\n    const confirmPassword = values.confirmPassword;\r\n\r\n    if (newPassword === confirmPassword) {\r\n      try {\r\n        await api.post(\r\n          `${process.env.REACT_APP_BACKEND_URL}/resetpasswords/${email}/${token}/${newPassword}`\r\n        );\r\n        setError(\"\"); // Limpe o erro se não houver erro\r\n        toast.success(i18n.t(\"Senha redefinida com sucesso.\"));\r\n        history.push(\"/login\");\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const isResetPasswordButtonClicked = showResetPasswordButton;\r\n  const UserSchema = Yup.object().shape({\r\n    email: Yup.string().email(\"Invalid email\").required(\"Required\"),\r\n    newPassword: isResetPasswordButtonClicked\r\n      ? Yup.string()\r\n          .required(\"Campo obrigatório\")\r\n          .matches(\r\n            passwordRegex,\r\n            \"Sua senha precisa ter no mínimo 8 caracteres, sendo uma letra maiúscula, uma minúscula e um número.\"\r\n          )\r\n      : Yup.string(), // Sem validação se não for redefinição de senha\r\n    confirmPassword: Yup.string().when(\"newPassword\", {\r\n      is: (newPassword) => isResetPasswordButtonClicked && newPassword,\r\n      then: Yup.string()\r\n        .oneOf([Yup.ref(\"newPassword\"), null], \"As senhas não correspondem\")\r\n        .required(\"Campo obrigatório\"),\r\n      otherwise: Yup.string(), // Sem validação se não for redefinição de senha\r\n    }),\r\n  });\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <div>\r\n            <img\r\n              style={{ margin: \"0 auto\", height: \"80px\", width: \"100%\" }}\r\n              src={logo}\r\n              alt=\"Whats\"\r\n            />\r\n          </div>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            {i18n.t(\"Redefinir senha\")}\r\n          </Typography>\r\n          <Formik\r\n            initialValues={{\r\n              email: \"\",\r\n              token: \"\",\r\n              newPassword: \"\",\r\n              confirmPassword: \"\",\r\n            }}\r\n            enableReinitialize={true}\r\n            validationSchema={UserSchema}\r\n            onSubmit={(values, actions) => {\r\n              setTimeout(() => {\r\n                if (showResetPasswordButton) {\r\n                  handleResetPassword(values);\r\n                } else {\r\n                  handleSendEmail(values);\r\n                }\r\n                actions.setSubmitting(false);\r\n                toggleAdditionalFields();\r\n              }, 400);\r\n            }}\r\n          >\r\n            {({ touched, errors, isSubmitting }) => (\r\n              <Form className={classes.form}>\r\n                <Grid container spacing={2}>\r\n                  <Grid item xs={12}>\r\n                    <Field\r\n                      as={TextField}\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                      id=\"email\"\r\n                      label={i18n.t(\"signup.form.email\")}\r\n                      name=\"email\"\r\n                      error={touched.email && Boolean(errors.email)}\r\n                      helperText={touched.email && errors.email}\r\n                      autoComplete=\"email\"\r\n                      required\r\n                    />\r\n                  </Grid>\r\n                  {showAdditionalFields && (\r\n                    <>\r\n                      <Grid item xs={12}>\r\n                        <Field\r\n                          as={TextField}\r\n                          variant=\"outlined\"\r\n                          fullWidth\r\n                          id=\"token\"\r\n                          label=\"Código de Verificação\"\r\n                          name=\"token\"\r\n                          error={touched.token && Boolean(errors.token)}\r\n                          helperText={touched.token && errors.token}\r\n                          autoComplete=\"off\"\r\n                          required\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Field\r\n                          as={TextField}\r\n                          variant=\"outlined\"\r\n                          fullWidth\r\n                          type={showPassword ? \"text\" : \"password\"}\r\n                          id=\"newPassword\"\r\n                          label=\"Nova senha\"\r\n                          name=\"newPassword\"\r\n                          error={\r\n                            touched.newPassword &&\r\n                            Boolean(errors.newPassword)\r\n                          }\r\n                          helperText={\r\n                            touched.newPassword && errors.newPassword\r\n                          }\r\n                          autoComplete=\"off\"\r\n                          required\r\n                          InputProps={{\r\n                            endAdornment: (\r\n                              <InputAdornment position=\"end\">\r\n                                <IconButton\r\n                                  onClick={togglePasswordVisibility}\r\n                                >\r\n                                  {showPassword ? (\r\n                                    <VisibilityIcon />\r\n                                  ) : (\r\n                                    <VisibilityOffIcon />\r\n                                  )}\r\n                                </IconButton>\r\n                              </InputAdornment>\r\n                            ),\r\n                          }}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Field\r\n                          as={TextField}\r\n                          variant=\"outlined\"\r\n                          fullWidth\r\n                          type={showConfirmPassword ? \"text\" : \"password\"}\r\n                          id=\"confirmPassword\"\r\n                          label=\"Confirme a senha\"\r\n                          name=\"confirmPassword\"\r\n                          error={\r\n                            touched.confirmPassword &&\r\n                            Boolean(errors.confirmPassword)\r\n                          }\r\n                          helperText={\r\n                            touched.confirmPassword &&\r\n                            errors.confirmPassword\r\n                          }\r\n                          autoComplete=\"off\"\r\n                          required\r\n                          InputProps={{\r\n                            endAdornment: (\r\n                              <InputAdornment position=\"end\">\r\n                                <IconButton\r\n                                  onClick={toggleConfirmPasswordVisibility}\r\n                                >\r\n                                  {showConfirmPassword ? (\r\n                                    <VisibilityIcon />\r\n                                  ) : (\r\n                                    <VisibilityOffIcon />\r\n                                  )}\r\n                                </IconButton>\r\n                              </InputAdornment>\r\n                            ),\r\n                          }}\r\n                        />\r\n                      </Grid>\r\n                    </>\r\n                  )}\r\n                </Grid>\r\n                {showResetPasswordButton ? (\r\n                  <Button\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.submit}\r\n                  >\r\n                    Redefinir Senha\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.submit}\r\n                  >\r\n                    Enviar Email\r\n                  </Button>\r\n                )}\r\n                <Grid container justifyContent=\"flex-end\">\r\n                  <Grid item>\r\n                    <Link\r\n                      href=\"#\"\r\n                      variant=\"body2\"\r\n                      component={RouterLink}\r\n                      to=\"/signup\"\r\n                    >\r\n                      {i18n.t(\"Não tem uma conta? Cadastre-se!\")}\r\n                    </Link>\r\n                  </Grid>\r\n                </Grid>\r\n                {error && (\r\n                  <Typography variant=\"body2\" color=\"error\">\r\n                    {error}\r\n                  </Typography>\r\n                )}\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </div>\r\n        <Box mt={5} />\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForgetPassword;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport { isNil } from \"lodash\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport moment from \"moment\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Button,\r\n  DialogActions,\r\n  CircularProgress,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Switch,\r\n  FormControlLabel,\r\n  Grid,\r\n  Divider,\r\n  Tab,\r\n  Tabs,\r\n  Paper,\r\n  Box\r\n} from \"@material-ui/core\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport QueueSelect from \"../QueueSelect\";\r\nimport TabPanel from \"../TabPanel\";\r\nimport { Autorenew, FileCopy } from \"@material-ui/icons\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport SchedulesForm from \"../SchedulesForm\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    gap: 4\r\n  },\r\n\r\n  multFieldLine: {\r\n    marginTop: 12,\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n  importMessage: {\r\n    marginTop: 12,\r\n    marginBottom: 12,\r\n    paddingBottom: 20,\r\n    paddingTop: 3,\r\n    padding: 12,\r\n    border: \"solid grey 2px\",\r\n    borderRadius: 4,\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  tokenRefresh: {\r\n    minWidth: \"auto\",\r\n    display: \"flex\", // Torna o botão flexível para alinhar o conteúdo\r\n    alignItems: \"center\", // Alinha verticalmente ao centro\r\n    justifyContent: \"center\", // Alinha horizontalmente ao centro\r\n  },\r\n}));\r\n\r\nconst SessionSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n});\r\n\r\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\r\n  const classes = useStyles();\r\n  const [autoToken, setAutoToken] = useState(\"\");\r\n\r\n  const inputFileRef = useRef(null);\r\n\r\n  const [attachment, setAttachment] = useState(null)\r\n  const [attachmentName, setAttachmentName] = useState('')\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    greetingMessage: \"\",\r\n    complationMessage: \"\",\r\n    outOfHoursMessage: \"\",\r\n    ratingMessage: \"\",\r\n    isDefault: false,\r\n    token: \"\",\r\n    maxUseBotQueues: 3,\r\n    provider: \"beta\",\r\n    expiresTicket: 0,\r\n    allowGroup: false,\r\n    groupAsTicket: \"disabled\",\r\n    timeUseBotQueues: '0',\r\n    timeSendQueue: '0',\r\n    sendIdQueue: 0,\r\n    expiresTicketNPS: '0',\r\n    expiresInactiveMessage: \"\",\r\n    timeInactiveMessage: \"\",\r\n    inactiveMessage: \"\",\r\n    maxUseBotQueuesNPS: 3,\r\n    whenExpiresTicket: 0,\r\n    timeCreateNewTicket: 0,\r\n    greetingMediaAttachment: \"\",\r\n    importRecentMessages: \"\",\r\n    importOldMessages: \"\",\r\n    importOldMessagesGroups: \"\",\r\n    integrationId: \"\",\r\n  };\r\n  const [whatsApp, setWhatsApp] = useState(initialState);\r\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\r\n  const [queues, setQueues] = useState([]);\r\n  const [tab, setTab] = useState(\"general\");\r\n  const [enableImportMessage, setEnableImportMessage] = useState(false);\r\n  const [importOldMessagesGroups, setImportOldMessagesGroups] = useState(false);\r\n  const [closedTicketsPostImported, setClosedTicketsPostImported] = useState(false);\r\n  const [importOldMessages, setImportOldMessages] = useState(moment().add(-1, \"days\").format(\"YYYY-MM-DDTHH:mm\"));\r\n  const [importRecentMessages, setImportRecentMessages] = useState(moment().add(-1, \"minutes\").format(\"YYYY-MM-DDTHH:mm\"));\r\n  const [copied, setCopied] = useState(false);\r\n  const [integrations, setIntegrations] = useState([]);\r\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\r\n\r\n\r\n  const [schedules, setSchedules] = useState([\r\n    { weekday: i18n.t(\"queueModal.serviceHours.monday\"), weekdayEn: \"monday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.tuesday\"), weekdayEn: \"tuesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.wednesday\"), weekdayEn: \"wednesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.thursday\"), weekdayEn: \"thursday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.friday\"), weekdayEn: \"friday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n  ]);\r\n\r\n  const { get: getSetting } = useCompanySettings();\r\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\r\n  const [prompts, setPrompts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/prompt\");\r\n        setPrompts(data.prompts);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, [whatsAppId]);\r\n\r\n  useEffect(() => {\r\n\r\n    const fetchData = async () => {\r\n\r\n      const setting = await getSetting({\r\n        \"column\": \"scheduleType\"\r\n      });\r\n      setSchedulesEnabled(setting.scheduleType === \"connection\");\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleEnableImportMessage = async (e) => {\r\n    setEnableImportMessage(e.target.checked);\r\n\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchSession = async () => {\r\n      if (!whatsAppId) return;\r\n\r\n      try {\r\n        const { data } = await api.get(`whatsapp-admin/${whatsAppId}?session=0`);\r\n        setWhatsApp(data);\r\n        setAttachmentName(data.greetingMediaAttachment);\r\n        setAutoToken(data.token);\r\n        data.promptId ? setSelectedPrompt(data.promptId) : setSelectedPrompt(null);\r\n        const whatsQueueIds = data.queues?.map((queue) => queue.id);\r\n        setSelectedQueueIds(whatsQueueIds);\r\n        setSchedules(data.schedules)\r\n        if (data?.importOldMessages) {\r\n          setEnableImportMessage(true);\r\n          setImportOldMessages(data?.importOldMessages);\r\n          setImportRecentMessages(data?.importRecentMessages);\r\n          setClosedTicketsPostImported(data?.closedTicketsPostImported);\r\n          setImportOldMessagesGroups(data?.importOldMessagesGroups);\r\n        }\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n    fetchSession();\r\n  }, [whatsAppId]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/queue\");\r\n        setQueues(data);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/queueIntegration\");\r\n\r\n        setIntegrations(data.queueIntegrations);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const handleChangeQueue = (e) => {\r\n    setSelectedQueueIds(e);\r\n    setSelectedPrompt(null);\r\n  };\r\n\r\n  const handleChangePrompt = (e) => {\r\n    setSelectedPrompt(e.target.value);\r\n    setSelectedQueueIds([]);\r\n  };\r\n\r\n  const handleSaveWhatsApp = async (values) => {\r\n    if (!whatsAppId) setAutoToken(generateRandomCode(30));\r\n   \r\n    if ((!isNil(values.ratingMessage) && values.ratingMessage !== '') && (values.expiresTicketNPS === '0' || values.expiresTicketNPS === '' || values.expiresTicketNPS === 0)) {\r\n      toastError(i18n.t(\"whatsappModal.errorExpiresNPS\"));\r\n      return;\r\n    }\r\n\r\n    if (!isNil(values.ratingMessage) && (values.expiresTicketNPS === '0' || values.expiresTicketNPS === '')) {\r\n      toastError(i18n.t(\"whatsappModal.errorExpiresNPS\"));\r\n      return;\r\n    }\r\n    if (values.timeSendQueue === '') values.timeSendQueue = '0'\r\n    \r\n    if  ((values.sendIdQueue === 0 || values.sendIdQueue === '' || isNil(values.sendIdQueue)) &&  (values.timeSendQueue !== 0 && values.timeSendQueue !== '0')) {\r\n      toastError(i18n.t(\"whatsappModal.errorSendQueue\"));\r\n      return;\r\n    }\r\n\r\n    const whatsappData = {\r\n      ...values, queueIds: selectedQueueIds,\r\n      importOldMessages: enableImportMessage ? importOldMessages : null,\r\n      importRecentMessages: enableImportMessage ? importRecentMessages : null,\r\n      importOldMessagesGroups: importOldMessagesGroups ? importOldMessagesGroups : null,\r\n      closedTicketsPostImported: closedTicketsPostImported ? closedTicketsPostImported : null,\r\n      token: autoToken ? autoToken : null, schedules,\r\n      promptId: selectedPrompt ? selectedPrompt : null\r\n    };\r\n    delete whatsappData[\"queues\"];\r\n    delete whatsappData[\"session\"];\r\n\r\n    try {\r\n      if (whatsAppId) {\r\n        if (whatsAppId && enableImportMessage && whatsApp?.status === \"CONNECTED\") {\r\n          toast.warning(\r\n            i18n.t(\"userModal.warning.updateImage\"),\r\n            { autoClose: false }\r\n          );\r\n          try {\r\n            setWhatsApp({ ...whatsApp, status: \"qrcode\" });\r\n            await api.delete(`/whatsappsession/${whatsApp.id}`);\r\n          } catch (err) {\r\n            toastError(err);\r\n          }\r\n        }\r\n\r\n        await api.put(`/whatsapp/${whatsAppId}`, whatsappData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/whatsapp/${whatsAppId}/media-upload`, formData);\r\n        }\r\n        if (!attachmentName && (whatsApp.greetingMediaAttachment !== null)) {\r\n          await api.delete(`/whatsapp/${whatsAppId}/media-upload`);\r\n        }\r\n      } else {\r\n        const { data } = await api.post(\"/whatsapp\", whatsappData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/whatsapp/${data.id}/media-upload`, formData);\r\n        }\r\n      }\r\n      toast.success(i18n.t(\"whatsappModal.success\"));\r\n\r\n      handleClose();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  function generateRandomCode(length) {\r\n    const charset = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyvz0123456789\";\r\n    let code = \"\";\r\n\r\n    for (let i = 0; i < length; i++) {\r\n      const randomIndex = Math.floor(Math.random() * charset.length);\r\n      code += charset.charAt(randomIndex);\r\n    }\r\n    return code;\r\n  }\r\n\r\n  const handleRefreshToken = () => {\r\n    setAutoToken(generateRandomCode(30));\r\n  }\r\n\r\n  const handleCopyToken = () => {\r\n    navigator.clipboard.writeText(autoToken); // Copia o token para a área de transferência    \r\n    setCopied(true); // Define o estado de cópia como verdadeiro\r\n  };\r\n\r\n  const handleSaveSchedules = async (values) => {\r\n    toast.success(\"Clique em salvar para registar as alterações\");\r\n    setSchedules(values);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setWhatsApp(initialState);\r\n    // inputFileRef.current.value = null\r\n    setAttachment(null)\r\n    setAttachmentName(\"\")\r\n    setCopied(false);\r\n  };\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setTab(newValue);\r\n  };\r\n\r\n  const handleFileUpload = () => {\r\n    const file = inputFileRef.current.files[0];\r\n    setAttachment(file)\r\n    setAttachmentName(file.name)\r\n    inputFileRef.current.value = null\r\n  };\r\n\r\n  const handleDeleFile = () => {\r\n    setAttachment(null)\r\n    setAttachmentName(null)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"xl\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle>\r\n          {whatsAppId\r\n            ? i18n.t(\"whatsappModal.title.edit\")\r\n            : i18n.t(\"whatsappModal.title.add\")}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={whatsApp}\r\n          enableReinitialize={true}\r\n          validationSchema={SessionSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveWhatsApp(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ values, touched, errors, isSubmitting }) => (\r\n            <Form>\r\n              <Paper className={classes.mainPaper} elevation={1}>\r\n                <Tabs\r\n                  value={tab}\r\n                  indicatorColor=\"primary\"\r\n                  textColor=\"primary\"\r\n                  scrollButtons=\"on\"\r\n                  variant=\"scrollable\"\r\n                  onChange={handleTabChange}\r\n                  className={classes.tab}\r\n                >\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.general\")} value={\"general\"} />\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.integrations\")} value={\"integrations\"} />\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.messages\")} value={\"messages\"} />\r\n                  <Tab label=\"Chatbot\" value={\"chatbot\"} />\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.assessments\")} value={\"nps\"} />\r\n                  {schedulesEnabled && <Tab label={i18n.t(\"whatsappModal.tabs.schedules\")} value={\"schedules\"} />}\r\n                </Tabs>\r\n              </Paper>\r\n              <Paper className={classes.paper} elevation={0}>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"general\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {attachmentName && (\r\n                      <div\r\n                        style={{ display: 'flex', flexDirection: 'row-reverse' }}\r\n                      >\r\n                        <Button\r\n                          variant='outlined'\r\n                          color=\"primary\"\r\n                          endIcon={<DeleteOutlineIcon />}\r\n                          onClick={handleDeleFile}\r\n                        >\r\n                          {attachmentName}\r\n                        </Button>\r\n                      </div>\r\n                    )}\r\n                    <div\r\n                      style={{ display: 'flex', flexDirection: \"column-reverse\" }}\r\n                    >\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"video/*,image/*\"\r\n                        ref={inputFileRef}\r\n                        style={{ display: 'none' }}\r\n                        onChange={handleFileUpload}\r\n                      />\r\n                      <Button variant=\"contained\" color=\"primary\" onClick={() => inputFileRef.current.click()}>\r\n                        {i18n.t(\"userModal.buttons.addImage\")}\r\n                      </Button>\r\n                    </div>\r\n                    {/* NOME E PADRAO */}\r\n                    <div className={classes.multFieldLine}>\r\n                      <Grid spacing={2} container>\r\n                        <Grid item>\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"whatsappModal.form.name\")}\r\n                            autoFocus\r\n                            name=\"name\"\r\n                            error={touched.name && Boolean(errors.name)}\r\n                            helperText={touched.name && errors.name}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid style={{ paddingTop: 15 }} item>\r\n                          <FormControlLabel\r\n                            control={\r\n                              <Field\r\n                                as={Switch}\r\n                                color=\"primary\"\r\n                                name=\"isDefault\"\r\n                                checked={values.isDefault}\r\n                              />\r\n                            }\r\n                            label={i18n.t(\"whatsappModal.form.default\")}\r\n                          />\r\n                          <FormControlLabel\r\n                            control={\r\n                              <Field\r\n                                as={Switch}\r\n                                color=\"primary\"\r\n                                name=\"allowGroup\"\r\n                                checked={values.allowGroup}\r\n                              />\r\n                            }\r\n                            label={i18n.t(\"whatsappModal.form.group\")}\r\n                          />\r\n                        </Grid>\r\n                        <Grid xs={6} md={4} item>\r\n                          <FormControl\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.formControl}\r\n                          >\r\n                            <InputLabel id=\"groupAsTicket-selection-label\">{i18n.t(\"whatsappModal.form.groupAsTicket\")}</InputLabel>\r\n                            <Field\r\n                              as={Select}\r\n                              label={i18n.t(\"whatsappModal.form.groupAsTicket\")}\r\n                              placeholder={i18n.t(\"whatsappModal.form.groupAsTicket\")}\r\n                              labelId=\"groupAsTicket-selection-label\"\r\n                              id=\"groupAsTicket\"\r\n                              name=\"groupAsTicket\"\r\n                            >\r\n                              <MenuItem value={\"disabled\"}>{i18n.t(\"whatsappModal.menuItem.disabled\")}</MenuItem>\r\n                              <MenuItem value={\"enabled\"}>{i18n.t(\"whatsappModal.menuItem.enabled\")}</MenuItem>\r\n                            </Field>\r\n                          </FormControl>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </div>\r\n\r\n\r\n                    <div className={classes.importMessage}>\r\n                      <div className={classes.multFieldLine}>\r\n                        <FormControlLabel\r\n                          style={{ marginRight: 7, color: \"gray\" }}\r\n                          label={i18n.t(\"whatsappModal.form.importOldMessagesEnable\")}\r\n                          labelPlacement=\"end\"\r\n                          control={\r\n                            <Switch\r\n                              size=\"medium\"\r\n                              checked={enableImportMessage}\r\n                              onChange={handleEnableImportMessage}\r\n                              name=\"importOldMessagesEnable\"\r\n                              color=\"primary\"\r\n                            />\r\n                          }\r\n                        />\r\n\r\n                        {enableImportMessage ? (\r\n                          <>\r\n                            <FormControlLabel\r\n                              style={{ marginRight: 7, color: \"gray\" }}\r\n                              label={i18n.t(\r\n                                \"whatsappModal.form.importOldMessagesGroups\"\r\n                              )}\r\n                              labelPlacement=\"end\"\r\n                              control={\r\n                                <Switch\r\n                                  size=\"medium\"\r\n                                  checked={importOldMessagesGroups}\r\n                                  onChange={(e) =>\r\n                                    setImportOldMessagesGroups(e.target.checked)\r\n                                  }\r\n                                  name=\"importOldMessagesGroups\"\r\n                                  color=\"primary\"\r\n                                />\r\n                              }\r\n                            />\r\n\r\n                            <FormControlLabel\r\n                              style={{ marginRight: 7, color: \"gray\" }}\r\n                              label={i18n.t(\r\n                                \"whatsappModal.form.closedTicketsPostImported\"\r\n                              )}\r\n                              labelPlacement=\"end\"\r\n                              control={\r\n                                <Switch\r\n                                  size=\"medium\"\r\n                                  checked={closedTicketsPostImported}\r\n                                  onChange={(e) =>\r\n                                    setClosedTicketsPostImported(e.target.checked)\r\n                                  }\r\n                                  name=\"closedTicketsPostImported\"\r\n                                  color=\"primary\"\r\n                                />\r\n                              }\r\n                            />\r\n                          </>) : <></>}\r\n                      </div>\r\n\r\n                      {enableImportMessage ? (\r\n                        <Grid style={{ marginTop: 18 }} container spacing={3}>\r\n                          <Grid item xs={6}>\r\n                            <Field\r\n                              fullWidth\r\n                              as={TextField}\r\n                              label={i18n.t(\"whatsappModal.form.importOldMessages\")}\r\n                              type=\"datetime-local\"\r\n                              name=\"importOldMessages\"\r\n                              inputProps={{\r\n                                max: moment()\r\n                                  .add(0, \"minutes\")\r\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\r\n                                min: moment()\r\n                                  .add(-2, \"years\")\r\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\r\n                              }}\r\n                              //min=\"2022-11-06T22:22:55\"\r\n                              InputLabelProps={{\r\n                                shrink: true,\r\n                              }}\r\n                              error={\r\n                                touched.importOldMessages &&\r\n                                Boolean(errors.importOldMessages)\r\n                              }\r\n                              helperText={\r\n                                touched.importOldMessages && errors.importOldMessages\r\n                              }\r\n                              variant=\"outlined\"\r\n                              value={moment(importOldMessages).format(\r\n                                \"YYYY-MM-DDTHH:mm\"\r\n                              )}\r\n                              onChange={(e) => {\r\n                                setImportOldMessages(e.target.value);\r\n                              }}\r\n                            />\r\n                          </Grid>\r\n                          <Grid item xs={6}>\r\n                            <Field\r\n                              fullWidth\r\n                              as={TextField}\r\n                              label={i18n.t(\"whatsappModal.form.importRecentMessages\")}\r\n                              type=\"datetime-local\"\r\n                              name=\"importRecentMessages\"\r\n                              inputProps={{\r\n                                max: moment()\r\n                                  .add(0, \"minutes\")\r\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\r\n                                min: moment(importOldMessages).format(\r\n                                  \"YYYY-MM-DDTHH:mm\"\r\n                                )\r\n                              }}\r\n                              //min=\"2022-11-06T22:22:55\"\r\n                              InputLabelProps={{\r\n                                shrink: true,\r\n                              }}\r\n                              error={\r\n                                touched.importRecentMessages &&\r\n                                Boolean(errors.importRecentMessages)\r\n                              }\r\n                              helperText={\r\n                                touched.importRecentMessages && errors.importRecentMessages\r\n                              }\r\n                              variant=\"outlined\"\r\n                              value={moment(importRecentMessages).format(\r\n                                \"YYYY-MM-DDTHH:mm\"\r\n                              )}\r\n                              onChange={(e) => {\r\n                                setImportRecentMessages(e.target.value);\r\n                              }}\r\n                            />\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                      ) : null}\r\n                    </div>\r\n                    {enableImportMessage && (\r\n                      <span style={{ color: \"red\" }}>\r\n                        {i18n.t(\"whatsappModal.form.importAlert\")}\r\n                      </span>\r\n                    )}\r\n\r\n\r\n                    {/* TOKEN */}\r\n                    <Box display=\"flex\" alignItems=\"center\">\r\n                      <Grid xs={6} md={12} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.token\")}\r\n                          type=\"token\"\r\n                          fullWidth\r\n                          // name=\"token\"\r\n                          value={autoToken}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          disabled\r\n                        />\r\n                      </Grid>\r\n                      <Button\r\n                        onClick={handleRefreshToken}\r\n                        disabled={isSubmitting}\r\n                        className={classes.tokenRefresh}\r\n                        variant=\"text\"\r\n                        startIcon={<Autorenew style={{ marginLeft: 5, color: \"green\" }} />}\r\n                      />\r\n                      <Button\r\n                        onClick={handleCopyToken}\r\n                        className={classes.tokenRefresh}\r\n                        variant=\"text\"\r\n                        startIcon={<FileCopy style={{ color: copied ? \"blue\" : \"inherit\" }} />}\r\n                      />\r\n                    </Box>\r\n\r\n                    <div>\r\n                      <h3>{i18n.t(\"whatsappModal.form.queueRedirection\")}</h3>\r\n                      <p>{i18n.t(\"whatsappModal.form.queueRedirectionDesc\")}</p>\r\n                      <Grid spacing={2} container>\r\n\r\n                        <Grid xs={6} md={6} item>\r\n                          <FormControl\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            className={classes.FormControl}\r\n                            fullWidth\r\n                          >\r\n                            <InputLabel id=\"sendIdQueue-selection-label\">\r\n                              {i18n.t(\"whatsappModal.form.sendIdQueue\")}\r\n                            </InputLabel>\r\n                            <Field\r\n                              as={Select}\r\n                              name=\"sendIdQueue\"\r\n                              id=\"sendIdQueue\"\r\n                              value={values.sendIdQueue || '0'}\r\n                              label={i18n.t(\"whatsappModal.form.sendIdQueue\")}\r\n                              placeholder={i18n.t(\"whatsappModal.form.sendIdQueue\")}\r\n                              labelId=\"sendIdQueue-selection-label\"\r\n                            >\r\n                              <MenuItem value={0}>&nbsp;</MenuItem>\r\n                              {queues.map(queue => (\r\n                                <MenuItem key={queue.id} value={queue.id}>\r\n                                  {queue.name}\r\n                                </MenuItem>\r\n                              ))}\r\n                            </Field>\r\n                          </FormControl>\r\n\r\n                        </Grid>\r\n\r\n                        <Grid xs={6} md={6} item>\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"whatsappModal.form.timeSendQueue\")}\r\n                            fullWidth\r\n                            name=\"timeSendQueue\"\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            error={touched.timeSendQueue && Boolean(errors.timeSendQueue)}\r\n                            helperText={touched.timeSendQueue && errors.timeSendQueue}\r\n                          />\r\n                        </Grid>\r\n\r\n                      </Grid>\r\n                    </div>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"integrations\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {/* FILAS */}\r\n                    <QueueSelect\r\n                      selectedQueueIds={selectedQueueIds}\r\n                      onChange={(selectedIds) => handleChangeQueue(selectedIds)}\r\n                    />\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      className={classes.FormControl}\r\n                      fullWidth\r\n                    >\r\n                      <InputLabel id=\"integrationId-selection-label\">\r\n                        {i18n.t(\"queueModal.form.integrationId\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"queueModal.form.integrationId\")}\r\n                        name=\"integrationId\"\r\n                        id=\"integrationId\"\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        placeholder={i18n.t(\"queueModal.form.integrationId\")}\r\n                        labelId=\"integrationId-selection-label\"                        >\r\n                        <MenuItem value={null} >{\"Desabilitado\"}</MenuItem>\r\n                        {integrations.map((integration) => (\r\n                          <MenuItem key={integration.id} value={integration.id}>\r\n                            {integration.name}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Field>\r\n                    </FormControl>\r\n                    <FormControl\r\n                      margin=\"dense\"\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                    >\r\n                      <InputLabel>\r\n                        {i18n.t(\"whatsappModal.form.prompt\")}\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId=\"dialog-select-prompt-label\"\r\n                        id=\"dialog-select-prompt\"\r\n                        name=\"promptId\"\r\n                        value={selectedPrompt || \"\"}\r\n                        onChange={handleChangePrompt}\r\n                        label={i18n.t(\"whatsappModal.form.prompt\")}\r\n                        fullWidth\r\n                        MenuProps={{\r\n                          anchorOrigin: {\r\n                            vertical: \"bottom\",\r\n                            horizontal: \"left\",\r\n                          },\r\n                          transformOrigin: {\r\n                            vertical: \"top\",\r\n                            horizontal: \"left\",\r\n                          },\r\n                          getContentAnchorEl: null,\r\n                        }}\r\n                      >\r\n                        {prompts.map((prompt) => (\r\n                          <MenuItem\r\n                            key={prompt.id}\r\n                            value={prompt.id}\r\n                          >\r\n                            {prompt.name}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"messages\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {/* MENSAGEM DE SAUDAÇÃO */}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.greetingMessage\")}\r\n                        type=\"greetingMessage\"\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"greetingMessage\"\r\n                        error={\r\n                          touched.greetingMessage && Boolean(errors.greetingMessage)\r\n                        }\r\n                        helperText={\r\n                          touched.greetingMessage && errors.greetingMessage\r\n                        }\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n\r\n                    {/* MENSAGEM DE CONCLUSÃO */}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.complationMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"complationMessage\"\r\n                        error={\r\n                          touched.complationMessage &&\r\n                          Boolean(errors.complationMessage)\r\n                        }\r\n                        helperText={\r\n                          touched.complationMessage && errors.complationMessage\r\n                        }\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n\r\n                    {/* MENSAGEM DE FORA DE EXPEDIENTE */}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.outOfHoursMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"outOfHoursMessage\"\r\n                        error={touched.outOfHoursMessage && Boolean(errors.outOfHoursMessage)}\r\n                        helperText={touched.outOfHoursMessage && errors.outOfHoursMessage}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"chatbot\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    <Grid spacing={2} container>\r\n                      {/* TEMPO PARA CRIAR NOVO TICKET */}\r\n                      <Grid xs={6} md={4} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.timeCreateNewTicket\")}\r\n                          fullWidth\r\n                          name=\"timeCreateNewTicket\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.timeCreateNewTicket && Boolean(errors.timeCreateNewTicket)}\r\n                          helperText={touched.timeCreateNewTicket && errors.timeCreateNewTicket}\r\n                        />\r\n                      </Grid>\r\n\r\n                      {/* QUANTIDADE MÁXIMA DE VEZES QUE O CHATBOT VAI SER ENVIADO */}\r\n                      <Grid xs={6} md={4} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.maxUseBotQueues\")}\r\n                          fullWidth\r\n                          name=\"maxUseBotQueues\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.maxUseBotQueues && Boolean(errors.maxUseBotQueues)}\r\n                          helperText={touched.maxUseBotQueues && errors.maxUseBotQueues}\r\n                        />\r\n                      </Grid>\r\n                      {/* TEMPO PARA ENVIO DO CHATBOT */}\r\n                      <Grid xs={6} md={4} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.timeUseBotQueues\")}\r\n                          fullWidth\r\n                          name=\"timeUseBotQueues\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.timeUseBotQueues && Boolean(errors.timeUseBotQueues)}\r\n                          helperText={touched.timeUseBotQueues && errors.timeUseBotQueues}\r\n                        />\r\n                      </Grid>\r\n                    </Grid>\r\n                    <Grid spacing={2} container>\r\n                      {/* ENCERRAR CHATS ABERTOS APÓS X HORAS */}\r\n                      <Grid xs={6} md={6} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.expiresTicket\")}\r\n                          fullWidth\r\n                          name=\"expiresTicket\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.expiresTicket && Boolean(errors.expiresTicket)}\r\n                          helperText={touched.expiresTicket && errors.expiresTicket}\r\n                        />\r\n                      </Grid>\r\n                      {/* TEMPO PARA ENVIO DO CHATBOT */}\r\n                      <Grid xs={6} md={6} item>\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                          className={classes.formControl}\r\n                        >\r\n                          <InputLabel id=\"whenExpiresTicket-selection-label\">\r\n                            {i18n.t(\"whatsappModal.form.whenExpiresTicket\")}\r\n                          </InputLabel>\r\n                          <Field\r\n                            as={Select}\r\n                            label={i18n.t(\"whatsappModal.form.whenExpiresTicket\")}\r\n                            placeholder={i18n.t(\r\n                              \"whatsappModal.form.whenExpiresTicket\"\r\n                            )}\r\n                            labelId=\"whenExpiresTicket-selection-label\"\r\n                            id=\"whenExpiresTicket\"\r\n                            name=\"whenExpiresTicket\"\r\n                          >\r\n                            <MenuItem value={\"0\"}>{i18n.t(\"whatsappModal.form.closeLastMessageOptions1\")}</MenuItem>\r\n                            <MenuItem value={\"1\"}>{i18n.t(\"whatsappModal.form.closeLastMessageOptions2\")}</MenuItem>\r\n                          </Field>\r\n                        </FormControl>\r\n                      </Grid>\r\n                    </Grid>\r\n                    {/* MENSAGEM POR INATIVIDADE*/}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.expiresInactiveMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"expiresInactiveMessage\"\r\n                        error={touched.expiresInactiveMessage && Boolean(errors.expiresInactiveMessage)}\r\n                        helperText={touched.expiresInactiveMessage && errors.expiresInactiveMessage}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n\r\n                    {/* TEMPO PARA ENVIO DE MENSAGEM POR INATIVIDADE */}\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"whatsappModal.form.timeInactiveMessage\")}\r\n                      fullWidth\r\n                      name=\"timeInactiveMessage\"\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      error={touched.timeInactiveMessage && Boolean(errors.timeInactiveMessage)}\r\n                      helperText={touched.timeInactiveMessage && errors.timeInactiveMessage}\r\n                    />\r\n                    {/* MENSAGEM POR INATIVIDADE*/}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.inactiveMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"inactiveMessage\"\r\n                        error={touched.inactiveMessage && Boolean(errors.inactiveMessage)}\r\n                        helperText={touched.inactiveMessage && errors.inactiveMessage}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"nps\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {/* MENSAGEM DE AVALIAÇAO*/}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.ratingMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"ratingMessage\"\r\n                        error={touched.ratingMessage && Boolean(errors.ratingMessage)}\r\n                        helperText={touched.ratingMessage && errors.ratingMessage}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n                    {/* QUANTIDADE MÁXIMA DE VEZES QUE O NPS VAI SER ENVIADO */}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.maxUseBotQueuesNPS\")}\r\n                        fullWidth\r\n                        name=\"maxUseBotQueuesNPS\"\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        error={touched.maxUseBotQueuesNPS && Boolean(errors.maxUseBotQueuesNPS)}\r\n                        helperText={touched.maxUseBotQueuesNPS && errors.maxUseBotQueuesNPS}\r\n                      />\r\n                    </div>\r\n                    {/* ENCERRAR CHATS NPS APÓS X Minutos */}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.expiresTicketNPS\")}\r\n                        fullWidth\r\n                        name=\"expiresTicketNPS\"\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        error={touched.expiresTicketNPS && Boolean(errors.expiresTicketNPS)}\r\n                        helperText={touched.expiresTicketNPS && errors.expiresTicketNPS}\r\n                      />\r\n                    </div>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"schedules\"}\r\n                >\r\n                  {tab === \"schedules\" && (\r\n                    <Paper style={{ padding: 20 }}>\r\n                      <SchedulesForm\r\n                        loading={false}\r\n                        onSubmit={handleSaveSchedules}\r\n                        initialValues={schedules}\r\n                        labelSaveButton={i18n.t(\"whatsappModal.buttons.okAdd\")}\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n\r\n                </TabPanel>\r\n              </Paper>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"whatsappModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {whatsAppId\r\n                    ? i18n.t(\"whatsappModal.buttons.okEdit\")\r\n                    : i18n.t(\"whatsappModal.buttons.okAdd\")}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(WhatsAppModal);","import React, { useState, useCallback, useContext, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { format, parseISO, set } from \"date-fns\";\r\n\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\r\nimport { Stack } from \"@mui/material\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport {\r\n  Button,\r\n  TableBody,\r\n  TableCell,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  TableRow,\r\n  Table,\r\n  TableHead,\r\n  Paper,\r\n  Tooltip,\r\n  Typography,\r\n  CircularProgress,\r\n  Divider\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Edit,\r\n  CheckCircle,\r\n  SignalCellularConnectedNoInternet2Bar,\r\n  SignalCellularConnectedNoInternet0Bar,\r\n  SignalCellular4Bar,\r\n  CropFree,\r\n  DeleteOutline,\r\n  Facebook,\r\n  Instagram,\r\n  WhatsApp\r\n} from \"@material-ui/icons\";\r\n\r\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\r\n\r\nimport MainContainer from \"../MainContainer\";\r\nimport MainHeader from \"../MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../MainHeaderButtonsWrapper\";\r\nimport Title from \"../Title\";\r\nimport TableRowSkeleton from \"../TableRowSkeleton\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport useCompanies from \"../../hooks/useCompanies\";\r\nimport api from \"../../services/api\";\r\nimport WhatsAppModalAdmin from \"../WhatsAppModalAdmin\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport QrcodeModal from \"../QrcodeModal\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    borderRadius: \"10px\",\r\n    boxShadow: \"rgba(0, 0, 0, 0.1) 0px 4px 12px\",\r\n    ...theme.scrollbarStyles\r\n  },\r\n  customTableCell: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  },\r\n  tooltip: {\r\n    backgroundColor: \"#f5f5f9\",\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    fontSize: theme.typography.pxToRem(14),\r\n    border: \"1px solid #dadde9\",\r\n    maxWidth: 450\r\n  },\r\n  tooltipPopper: {\r\n    textAlign: \"center\"\r\n  },\r\n  buttonProgress: {\r\n    color: green[500]\r\n  }\r\n  ,\r\n  TableHead: {\r\n    backgroundColor: theme.palette.barraSuperior,//\"#3d3d3d\",\r\n    color: \"textSecondary\",\r\n    borderRadius: \"5px\"\r\n  }\r\n}));\r\n\r\nconst CustomToolTip = ({ title, content, children }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Tooltip\r\n      arrow\r\n      classes={{\r\n        tooltip: classes.tooltip,\r\n        popper: classes.tooltipPopper\r\n      }}\r\n      title={\r\n        <React.Fragment>\r\n          <Typography gutterBottom color=\"inherit\">\r\n            {title}\r\n          </Typography>\r\n          {content && <Typography>{content}</Typography>}\r\n        </React.Fragment>\r\n      }\r\n    >\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n};\r\nconst WhatsAppModalCompany = ({\r\n  open,\r\n  onClose,\r\n  whatsAppId,\r\n  filteredWhatsapps,\r\n  companyInfos\r\n}) => {\r\n  const classes = useStyles();\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { list } = useCompanies();\r\n  const [loadingComp, setLoadingComp] = useState(false);\r\n  const { whatsApps, loading } = useContext(WhatsAppsContext);\r\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\r\n  const [companies, setCompanies] = useState([]);\r\n  const [qrModalOpen, setQrModalOpen] = useState(false);\r\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const confirmationModalInitialState = {\r\n    action: \"\",\r\n    title: \"\",\r\n    message: \"\",\r\n    whatsAppId: \"\",\r\n    open: false\r\n  };\r\n  const [confirmModalInfo, setConfirmModalInfo] = useState(\r\n    confirmationModalInitialState\r\n  );\r\n\r\n  const responseFacebook = response => {\r\n    if (response.status !== \"unknown\") {\r\n      const { accessToken, id } = response;\r\n\r\n      api\r\n        .post(\"/facebook\", {\r\n          facebookUserId: id,\r\n          facebookUserToken: accessToken\r\n        })\r\n        .then(response => {\r\n          toast.success(i18n.t(\"connections.facebook.success\"));\r\n        })\r\n        .catch(error => {\r\n          toastError(error);\r\n        });\r\n    }\r\n  };\r\n  const responseInstagram = response => {\r\n    if (response.status !== \"unknown\") {\r\n      const { accessToken, id } = response;\r\n\r\n      api\r\n        .post(\"/facebook\", {\r\n          addInstagram: true,\r\n          facebookUserId: id,\r\n          facebookUserToken: accessToken\r\n        })\r\n        .then(response => {\r\n          toast.success(i18n.t(\"connections.facebook.success\"));\r\n        })\r\n        .catch(error => {\r\n          toastError(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleStartWhatsAppSession = async whatsAppId => {\r\n    try {\r\n      await api.post(`/whatsappsession/${whatsAppId}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleRequestNewQrCode = async whatsAppId => {\r\n    try {\r\n      await api.put(`/whatsappsession/${whatsAppId}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenWhatsAppModal = () => {\r\n    setSelectedWhatsApp(null);\r\n    setWhatsAppModalOpen(true);\r\n  };\r\n\r\n  const handleCloseWhatsAppModal = useCallback(() => {\r\n    setWhatsAppModalOpen(false);\r\n    setSelectedWhatsApp(null);\r\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\r\n\r\n  const handleOpenQrModal = whatsApp => {\r\n    setSelectedWhatsApp(whatsApp);\r\n    setQrModalOpen(true);\r\n  };\r\n\r\n  const handleCloseQrModal = useCallback(() => {\r\n    setSelectedWhatsApp(null);\r\n    setQrModalOpen(false);\r\n  }, [setQrModalOpen, setSelectedWhatsApp]);\r\n\r\n  const handleEditWhatsApp = whatsApp => {\r\n    setSelectedWhatsApp(whatsApp);\r\n    setWhatsAppModalOpen(true);\r\n  };\r\n\r\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\r\n    if (action === \"disconnect\") {\r\n      setConfirmModalInfo({\r\n        action: action,\r\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\r\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\r\n        whatsAppId: whatsAppId\r\n      });\r\n    }\r\n\r\n    if (action === \"delete\") {\r\n      setConfirmModalInfo({\r\n        action: action,\r\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\r\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\r\n        whatsAppId: whatsAppId\r\n      });\r\n    }\r\n    setConfirmModalOpen(true);\r\n  };\r\n\r\n  const handleSubmitConfirmationModal = async () => {\r\n    if (confirmModalInfo.action === \"disconnect\") {\r\n      try {\r\n        await api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n    if (confirmModalInfo.action === \"delete\") {\r\n      try {\r\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\r\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n    setConfirmModalInfo(confirmationModalInitialState);\r\n  };\r\n\r\n  const renderStatusToolTips = whatsApp => {\r\n    return (\r\n      <div className={classes.customTableCell}>\r\n        {whatsApp.status === \"DISCONNECTED\" && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.disconnected.title\")}\r\n            content={i18n.t(\"connections.toolTips.disconnected.content\")}\r\n          >\r\n            <SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\r\n          </CustomToolTip>\r\n        )}\r\n        {whatsApp.status === \"OPENING\" && (\r\n          <CircularProgress size={24} className={classes.buttonProgress} />\r\n        )}\r\n        {whatsApp.status === \"qrcode\" && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.qrcode.title\")}\r\n            content={i18n.t(\"connections.toolTips.qrcode.content\")}\r\n          >\r\n            <CropFree />\r\n          </CustomToolTip>\r\n        )}\r\n        {whatsApp.status === \"CONNECTED\" && (\r\n          <CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\r\n            <SignalCellular4Bar style={{ color: green[500] }} />\r\n          </CustomToolTip>\r\n        )}\r\n        {(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.timeout.title\")}\r\n            content={i18n.t(\"connections.toolTips.timeout.content\")}\r\n          >\r\n            <SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\r\n          </CustomToolTip>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderActionButtons = whatsApp => {\r\n    return (\r\n      <>\r\n        {whatsApp.status === \"qrcode\" && (\r\n          <Button\r\n            size=\"small\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => handleOpenQrModal(whatsApp)}\r\n          >\r\n            {i18n.t(\"connections.buttons.qrcode\")}\r\n          </Button>\r\n        )}\r\n        {whatsApp.status === \"DISCONNECTED\" && (\r\n          <>\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              onClick={() => handleStartWhatsAppSession(whatsApp.id)}\r\n            >\r\n              {i18n.t(\"connections.buttons.tryAgain\")}\r\n            </Button>{\" \"}\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              color=\"secondary\"\r\n              onClick={() => handleRequestNewQrCode(whatsApp.id)}\r\n            >\r\n              {i18n.t(\"connections.buttons.newQr\")}\r\n            </Button>\r\n          </>\r\n        )}\r\n        {(whatsApp.status === \"CONNECTED\" ||\r\n          whatsApp.status === \"PAIRING\" ||\r\n          whatsApp.status === \"TIMEOUT\") && (\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              color=\"secondary\"\r\n              onClick={() => {\r\n                handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\r\n              }}\r\n            >\r\n              {i18n.t(\"connections.buttons.disconnect\")}\r\n            </Button>\r\n          )}\r\n        {whatsApp.status === \"OPENING\" && (\r\n          <Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\r\n            {i18n.t(\"connections.buttons.connecting\")}\r\n          </Button>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const IconChannel = channel => {\r\n    switch (channel) {\r\n      case \"facebook\":\r\n        return <Facebook />;\r\n      case \"instagram\":\r\n        return <Instagram />;\r\n      case \"whatsapp\":\r\n        return <WhatsApp />;\r\n      default:\r\n        return \"error\";\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"lg\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <MainContainer>\r\n          <ConfirmationModal\r\n            title={confirmModalInfo.title}\r\n            open={confirmModalOpen}\r\n            onClose={setConfirmModalOpen}\r\n            onConfirm={handleSubmitConfirmationModal}\r\n          >\r\n            {confirmModalInfo.message}\r\n          </ConfirmationModal>\r\n          <QrcodeModal\r\n            open={qrModalOpen}\r\n            onClose={handleCloseQrModal}\r\n            whatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\r\n          />\r\n          <WhatsAppModalAdmin\r\n            open={whatsAppModalOpen}\r\n            onClose={handleCloseWhatsAppModal}\r\n            whatsAppId={!qrModalOpen && selectedWhatsApp?.id}\r\n          />\r\n\r\n          <Paper\r\n            className={classes.mainPaper}\r\n            style={{ overflow: \"hidden\" }}\r\n            variant=\"outlined\"\r\n          >\r\n            <MainHeader>\r\n              <Stack>\r\n                <Typography\r\n                  variant=\"h5\"\r\n                  color=\"black\"\r\n                  style={{\r\n                    fontWeight: \"bold\",\r\n                    marginLeft: \"10px\",\r\n                    marginTop: \"10px\"\r\n                  }}\r\n                  gutterBottom\r\n                >\r\n                  Conexões de: {companyInfos?.name}\r\n                </Typography>\r\n              </Stack>\r\n\r\n              <MainHeaderButtonsWrapper>\r\n                <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\r\n                  {popupState => (\r\n                    <React.Fragment>\r\n                      <Menu {...bindMenu(popupState)}>\r\n                        <MenuItem\r\n                          onClick={() => {\r\n                            handleOpenWhatsAppModal();\r\n                            popupState.close();\r\n                          }}\r\n                        >\r\n                          <WhatsApp\r\n                            fontSize=\"small\"\r\n                            style={{\r\n                              marginRight: \"10px\"\r\n                            }}\r\n                          />\r\n                          WhatsApp\r\n                        </MenuItem>\r\n                        <FacebookLogin\r\n                          appId={process.env.REACT_APP_FACEBOOK_APP_ID}\r\n                          autoLoad={false}\r\n                          fields=\"name,email,picture\"\r\n                          version=\"13.0\"\r\n                          scope=\"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagementnt,business_management\"\r\n                          callback={responseFacebook}\r\n                          render={renderProps => (\r\n                            <MenuItem onClick={renderProps.onClick}>\r\n                              <Facebook\r\n                                fontSize=\"small\"\r\n                                style={{\r\n                                  marginRight: \"10px\"\r\n                                }}\r\n                              />\r\n                              Facebook\r\n                            </MenuItem>\r\n                          )}\r\n                        />\r\n\r\n                        <FacebookLogin\r\n                          appId={process.env.REACT_APP_FACEBOOK_APP_ID}\r\n                          autoLoad={false}\r\n                          fields=\"name,email,picture\"\r\n                          version=\"13.0\"\r\n                          scope=\"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\r\n                          callback={responseInstagram}\r\n                          render={renderProps => (\r\n                            <MenuItem onClick={renderProps.onClick}>\r\n                              <Instagram\r\n                                fontSize=\"small\"\r\n                                style={{\r\n                                  marginRight: \"10px\"\r\n                                }}\r\n                              />\r\n                              Instagram\r\n                            </MenuItem>\r\n                          )}\r\n                        />\r\n                      </Menu>\r\n                    </React.Fragment>\r\n                  )}\r\n                </PopupState>\r\n              </MainHeaderButtonsWrapper>\r\n            </MainHeader>\r\n            <Stack\r\n              style={{\r\n                overflowY: \"auto\",\r\n                padding: \"20px\",\r\n                backgroundColor: \"rgb(244 244 244 / 53%)\",\r\n                borderRadius: \"5px\",\r\n                height: \"93%\"\r\n              }}\r\n            >\r\n              <Paper>\r\n                <Table size=\"small\">\r\n                  <TableHead\r\n                    className={classes.TableHead}\r\n                  >\r\n                    <TableRow style={{ color: \"#fff\" }}>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        Channel\r\n                      </TableCell>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"connections.table.name\")}\r\n                      </TableCell>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"connections.table.status\")}\r\n                      </TableCell>\r\n                      {user.profile === \"admin\" && (\r\n                        <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                          {i18n.t(\"connections.table.session\")}\r\n                        </TableCell>\r\n                      )}\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"connections.table.lastUpdate\")}\r\n                      </TableCell>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"connections.table.default\")}\r\n                      </TableCell>\r\n                      {user.profile === \"admin\" && (\r\n                        <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                          {i18n.t(\"connections.table.actions\")}\r\n                        </TableCell>\r\n                      )}\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {loading ? (\r\n                      <TableRowSkeleton />\r\n                    ) : (\r\n                      <>\r\n                        {filteredWhatsapps?.length > 0 &&\r\n                          filteredWhatsapps.map(whatsApp => (\r\n                            <TableRow key={whatsApp.id}>\r\n                              <TableCell align=\"center\">\r\n                                {IconChannel(whatsApp.channel)}\r\n                              </TableCell>\r\n                              <TableCell align=\"center\">\r\n                                {whatsApp?.name}\r\n                              </TableCell>\r\n                              <TableCell align=\"center\">\r\n                                {renderStatusToolTips(whatsApp)}\r\n                              </TableCell>\r\n                              {user.profile === \"admin\" && (\r\n                                <TableCell align=\"center\">\r\n                                  {renderActionButtons(whatsApp)}\r\n                                </TableCell>\r\n                              )}\r\n                              <TableCell align=\"center\">\r\n                                {format(\r\n                                  parseISO(whatsApp.updatedAt),\r\n                                  \"dd/MM/yy HH:mm\"\r\n                                )}\r\n                              </TableCell>\r\n                              <TableCell align=\"center\">\r\n                                {whatsApp.isDefault && (\r\n                                  <div className={classes.customTableCell}>\r\n                                    <CheckCircle\r\n                                      style={{ color: green[500] }}\r\n                                    />\r\n                                  </div>\r\n                                )}\r\n                              </TableCell>\r\n                              {user.profile === \"admin\" && (\r\n                                <TableCell align=\"center\">\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    onClick={() => handleEditWhatsApp(whatsApp)}\r\n                                  >\r\n                                    <Edit />\r\n                                  </IconButton>\r\n\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    onClick={e => {\r\n                                      handleOpenConfirmationModal(\r\n                                        \"delete\",\r\n                                        whatsApp.id\r\n                                      );\r\n                                    }}\r\n                                  >\r\n                                    <DeleteOutline />\r\n                                  </IconButton>\r\n                                </TableCell>\r\n                              )}\r\n                            </TableRow>\r\n                          ))}\r\n                      </>\r\n                    )}\r\n                  </TableBody>\r\n                </Table>\r\n              </Paper>\r\n            </Stack>\r\n          </Paper>\r\n        </MainContainer>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(WhatsAppModalCompany);\r\n","import React, { useState, useCallback, useContext, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { format, parseISO, set } from \"date-fns\";\r\n\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\r\nimport { Stack } from \"@mui/material\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport {\r\n  Button,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  IconButton,\r\n  Table,\r\n  TableHead,\r\n  Paper,\r\n  Tooltip,\r\n  Typography,\r\n  CircularProgress,\r\n  Divider\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Edit,\r\n  CheckCircle,\r\n  SignalCellularConnectedNoInternet2Bar,\r\n  SignalCellularConnectedNoInternet0Bar,\r\n  SignalCellular4Bar,\r\n  CropFree,\r\n  DeleteOutline,\r\n  Facebook,\r\n  Instagram,\r\n  WhatsApp\r\n} from \"@material-ui/icons\";\r\n\r\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport useCompanies from \"../../hooks/useCompanies\";\r\nimport api from \"../../services/api\";\r\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\r\nimport WhatsAppModalCompany from \"../../components/CompanyWhatsapps\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport QrcodeModal from \"../../components/QrcodeModal\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    borderRadius: \"10px\",\r\n    boxShadow: \"rgba(0, 0, 0, 0.1) 0px 4px 12px\",\r\n    ...theme.scrollbarStyles\r\n  },\r\n  customTableCell: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  },\r\n  tooltip: {\r\n    backgroundColor: \"#f5f5f9\",\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    fontSize: theme.typography.pxToRem(14),\r\n    border: \"1px solid #dadde9\",\r\n    maxWidth: 450\r\n  },\r\n  tooltipPopper: {\r\n    textAlign: \"center\"\r\n  },\r\n  buttonProgress: {\r\n    color: green[500]\r\n  },\r\n  TableHead: {\r\n    backgroundColor: theme.palette.barraSuperior,//\"#3d3d3d\",\r\n    color: \"textSecondary\",\r\n    borderRadius: \"5px\"\r\n  }\r\n}));\r\n\r\nconst CustomToolTip = ({ title, content, children }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Tooltip\r\n      arrow\r\n      classes={{\r\n        tooltip: classes.tooltip,\r\n        popper: classes.tooltipPopper\r\n      }}\r\n      title={\r\n        <React.Fragment>\r\n          <Typography gutterBottom color=\"inherit\">\r\n            {title}\r\n          </Typography>\r\n          {content && <Typography>{content}</Typography>}\r\n        </React.Fragment>\r\n      }\r\n    >\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nconst IconChannel = channel => {\r\n  switch (channel) {\r\n    case \"facebook\":\r\n      return <Facebook />;\r\n    case \"instagram\":\r\n      return <Instagram />;\r\n    case \"whatsapp\":\r\n      return <WhatsApp />;\r\n    default:\r\n      return \"error\";\r\n  }\r\n};\r\n\r\nconst AllConnections = () => {\r\n  const classes = useStyles();\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { list } = useCompanies();\r\n  const [loadingWhatsapp, setLoadingWhatsapp] = useState(true);\r\n  const [loadingComp, setLoadingComp] = useState(false);\r\n  const [whats, setWhats] = useState([]);\r\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\r\n  const [companies, setCompanies] = useState([]);\r\n  const [qrModalOpen, setQrModalOpen] = useState(false);\r\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [filterConnections, setFilterConnections] = useState([]);\r\n  const [companyWhatsApps, setCompanyWhatsApps] = useState(null);\r\n  const confirmationModalInitialState = {\r\n    action: \"\",\r\n    title: \"\",\r\n    message: \"\",\r\n    whatsAppId: \"\",\r\n    open: false\r\n  };\r\n  const [confirmModalInfo, setConfirmModalInfo] = useState(\r\n    confirmationModalInitialState\r\n  );\r\n\r\n  const history = useHistory();\r\n  if (!user.super) {\r\n    history.push(\"/tickets\")\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    setLoadingWhatsapp(true);\r\n    const fetchSession = async () => {\r\n      try {\r\n        const { data } = await api.get(\"/whatsapp/all/?session=0\");\r\n        setWhats(data);\r\n        setLoadingWhatsapp(false);\r\n      } catch (err) {\r\n        setLoadingWhatsapp(false);\r\n        toastError(err);\r\n      }\r\n    };\r\n    fetchSession();\r\n  }, []);\r\n\r\n  const responseFacebook = response => {\r\n    if (response.status !== \"unknown\") {\r\n      const { accessToken, id } = response;\r\n\r\n      api\r\n        .post(\"/facebook\", {\r\n          facebookUserId: id,\r\n          facebookUserToken: accessToken\r\n        })\r\n        .then(response => {\r\n          toast.success(i18n.t(\"connections.facebook.success\"));\r\n        })\r\n        .catch(error => {\r\n          toastError(error);\r\n        });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    loadCompanies();\r\n  }, []);\r\n  const loadCompanies = async () => {\r\n    setLoadingComp(true);\r\n    try {\r\n      const companyList = await list();\r\n      setCompanies(companyList);\r\n    } catch (e) {\r\n      toast.error(\"Não foi possível carregar a lista de registros\");\r\n    }\r\n    setLoadingComp(false);\r\n  }\r\n\r\n  const responseInstagram = response => {\r\n    if (response.status !== \"unknown\") {\r\n      const { accessToken, id } = response;\r\n\r\n      api\r\n        .post(\"/facebook\", {\r\n          addInstagram: true,\r\n          facebookUserId: id,\r\n          facebookUserToken: accessToken\r\n        })\r\n        .then(response => {\r\n          toast.success(i18n.t(\"connections.facebook.success\"));\r\n        })\r\n        .catch(error => {\r\n          toastError(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleStartWhatsAppSession = async whatsAppId => {\r\n    try {\r\n      await api.post(`/whatsappsession/${whatsAppId}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleRequestNewQrCode = async whatsAppId => {\r\n    try {\r\n      await api.put(`/whatsappsession/${whatsAppId}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenWhatsAppModal = (whatsappsFilter, comp) => {\r\n    setSelectedWhatsApp(null);\r\n    setWhatsAppModalOpen(true);\r\n    if (whatsappsFilter?.length > 0) {\r\n      setFilterConnections(whatsappsFilter);\r\n      setCompanyWhatsApps(comp);\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const handleCloseWhatsAppModal = useCallback(() => {\r\n    setWhatsAppModalOpen(false);\r\n    setSelectedWhatsApp(null);\r\n    setFilterConnections([]);\r\n    setCompanyWhatsApps(null);\r\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\r\n\r\n  const handleOpenQrModal = whatsApp => {\r\n    setSelectedWhatsApp(whatsApp);\r\n    setQrModalOpen(true);\r\n  };\r\n\r\n  const handleCloseQrModal = useCallback(() => {\r\n    setSelectedWhatsApp(null);\r\n    setQrModalOpen(false);\r\n  }, [setQrModalOpen, setSelectedWhatsApp]);\r\n\r\n  const handleEditWhatsApp = whatsApp => {\r\n    setSelectedWhatsApp(whatsApp);\r\n    setWhatsAppModalOpen(true);\r\n  };\r\n\r\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\r\n    if (action === \"disconnect\") {\r\n      setConfirmModalInfo({\r\n        action: action,\r\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\r\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\r\n        whatsAppId: whatsAppId\r\n      });\r\n    }\r\n\r\n    if (action === \"delete\") {\r\n      setConfirmModalInfo({\r\n        action: action,\r\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\r\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\r\n        whatsAppId: whatsAppId\r\n      });\r\n    }\r\n    setConfirmModalOpen(true);\r\n  };\r\n\r\n  const handleSubmitConfirmationModal = async () => {\r\n    if (confirmModalInfo.action === \"disconnect\") {\r\n      try {\r\n        await api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n    if (confirmModalInfo.action === \"delete\") {\r\n      try {\r\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\r\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n    setConfirmModalInfo(confirmationModalInitialState);\r\n  };\r\n\r\n  const renderActionButtons = whatsApp => {\r\n    return (\r\n      <>\r\n        {whatsApp.status === \"qrcode\" && (\r\n          <Button\r\n            size=\"small\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => handleOpenQrModal(whatsApp)}\r\n          >\r\n            {i18n.t(\"connections.buttons.qrcode\")}\r\n          </Button>\r\n        )}\r\n        {whatsApp.status === \"DISCONNECTED\" && (\r\n          <>\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              onClick={() => handleStartWhatsAppSession(whatsApp.id)}\r\n            >\r\n              {i18n.t(\"connections.buttons.tryAgain\")}\r\n            </Button>{\" \"}\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              color=\"secondary\"\r\n              onClick={() => handleRequestNewQrCode(whatsApp.id)}\r\n            >\r\n              {i18n.t(\"connections.buttons.newQr\")}\r\n            </Button>\r\n          </>\r\n        )}\r\n        {(whatsApp.status === \"CONNECTED\" ||\r\n          whatsApp.status === \"PAIRING\" ||\r\n          whatsApp.status === \"TIMEOUT\") && (\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              color=\"secondary\"\r\n              onClick={() => {\r\n                handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\r\n              }}\r\n            >\r\n              {i18n.t(\"connections.buttons.disconnect\")}\r\n            </Button>\r\n          )}\r\n        {whatsApp.status === \"OPENING\" && (\r\n          <Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\r\n            {i18n.t(\"connections.buttons.connecting\")}\r\n          </Button>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const renderStatusToolTips = whatsApp => {\r\n    return (\r\n      <div className={classes.customTableCell}>\r\n        {whatsApp.status === \"DISCONNECTED\" && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.disconnected.title\")}\r\n            content={i18n.t(\"connections.toolTips.disconnected.content\")}\r\n          >\r\n            <SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\r\n          </CustomToolTip>\r\n        )}\r\n        {whatsApp.status === \"OPENING\" && (\r\n          <CircularProgress size={24} className={classes.buttonProgress} />\r\n        )}\r\n        {whatsApp.status === \"qrcode\" && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.qrcode.title\")}\r\n            content={i18n.t(\"connections.toolTips.qrcode.content\")}\r\n          >\r\n            <CropFree />\r\n          </CustomToolTip>\r\n        )}\r\n        {whatsApp.status === \"CONNECTED\" && (\r\n          <CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\r\n            <SignalCellular4Bar style={{ color: green[500] }} />\r\n          </CustomToolTip>\r\n        )}\r\n        {(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.timeout.title\")}\r\n            content={i18n.t(\"connections.toolTips.timeout.content\")}\r\n          >\r\n            <SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\r\n          </CustomToolTip>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={confirmModalInfo.title}\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={handleSubmitConfirmationModal}\r\n      >\r\n        {confirmModalInfo.message}\r\n      </ConfirmationModal>\r\n      <QrcodeModal\r\n        open={qrModalOpen}\r\n        onClose={handleCloseQrModal}\r\n        whatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\r\n      />\r\n      <WhatsAppModalCompany\r\n        open={whatsAppModalOpen}\r\n        onClose={handleCloseWhatsAppModal}\r\n        filteredWhatsapps={filterConnections}\r\n        companyInfos={companyWhatsApps}\r\n        whatsAppId={!qrModalOpen && selectedWhatsApp?.id}\r\n      />\r\n\r\n      {user.profile === \"user\" ?\r\n        <ForbiddenPage />\r\n        :\r\n        <>\r\n          <Paper className={classes.mainPaper} style={{ overflow: \"hidden\" }} variant=\"outlined\">\r\n            <MainHeader>\r\n              <Stack>\r\n                <Typography variant=\"h5\" color=\"black\" style={{ fontWeight: \"bold\", marginLeft: \"10px\", marginTop: \"10px\" }} gutterBottom>\r\n                  {i18n.t(\"connections.title\")}\r\n                </Typography>\r\n                <Typography style={{ marginTop: \"-10px\", marginLeft: \"10px\" }} variant=\"caption\" color=\"textSecondary\">\r\n                  Conecte seus canais de atendimento para receber mensagens e iniciar conversas com seus clientes.\r\n                </Typography>\r\n              </Stack>\r\n\r\n              <MainHeaderButtonsWrapper>\r\n                <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\r\n                  {popupState => (\r\n                    <React.Fragment>\r\n                      <Menu {...bindMenu(popupState)}>\r\n                        <MenuItem\r\n                          onClick={() => {\r\n                            handleOpenWhatsAppModal();\r\n                            popupState.close();\r\n                          }}\r\n                        >\r\n                          <WhatsApp\r\n                            fontSize=\"small\"\r\n                            style={{\r\n                              marginRight: \"10px\"\r\n                            }}\r\n                          />\r\n                          WhatsApp\r\n                        </MenuItem>\r\n                        <FacebookLogin\r\n                          appId={process.env.REACT_APP_FACEBOOK_APP_ID}\r\n                          autoLoad={false}\r\n                          fields=\"name,email,picture\"\r\n                          version=\"13.0\"\r\n                          scope=\"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\r\n                          callback={responseFacebook}\r\n                          render={renderProps => (\r\n                            <MenuItem onClick={renderProps.onClick}>\r\n                              <Facebook\r\n                                fontSize=\"small\"\r\n                                style={{\r\n                                  marginRight: \"10px\"\r\n                                }}\r\n                              />\r\n                              Facebook\r\n                            </MenuItem>\r\n                          )}\r\n                        />\r\n\r\n                        <FacebookLogin\r\n                          appId={process.env.REACT_APP_FACEBOOK_APP_ID}\r\n                          autoLoad={false}\r\n                          fields=\"name,email,picture\"\r\n                          version=\"13.0\"\r\n                          scope=\"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\r\n                          callback={responseInstagram}\r\n                          render={renderProps => (\r\n                            <MenuItem onClick={renderProps.onClick}>\r\n                              <Instagram\r\n                                fontSize=\"small\"\r\n                                style={{\r\n                                  marginRight: \"10px\"\r\n                                }}\r\n                              />\r\n                              Instagram\r\n                            </MenuItem>\r\n                          )}\r\n                        />\r\n                      </Menu>\r\n                    </React.Fragment>\r\n                  )}\r\n                </PopupState>\r\n              </MainHeaderButtonsWrapper>\r\n            </MainHeader>\r\n            <Stack\r\n              style={{\r\n                overflowY: \"auto\",\r\n                padding: \"20px\",\r\n                backgroundColor: \"rgb(244 244 244 / 53%)\",\r\n                borderRadius: \"5px\",\r\n                height: \"93%\"\r\n              }}\r\n            >\r\n              <Paper >\r\n                <Table size=\"small\">\r\n                  <TableHead className={classes.TableHead}>\r\n                    <TableRow style={{ color: \"#fff\" }}>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"Cliente\")}\r\n                      </TableCell>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"Conexões conectadas\")}\r\n                      </TableCell>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"Conexões desconectadas\")}\r\n                      </TableCell>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"Total de Conexões\")}\r\n                      </TableCell>\r\n                      {user.profile === \"admin\" && (\r\n                        <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                          {i18n.t(\"connections.table.actions\")}\r\n                        </TableCell>\r\n                      )}\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {loadingWhatsapp ? (\r\n                      <TableRowSkeleton />\r\n                    ) : (\r\n                      <>\r\n                        {companies?.length > 0 && companies.map(company => (\r\n                          <TableRow key={company.id}>\r\n                            <TableCell align=\"center\">\r\n                              {company?.name}\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                              {whats?.length && whats.filter((item) => item?.companyId === company?.id && item?.status === 'CONNECTED').length}\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                              {whats?.length && whats.filter((item) => item?.companyId === company?.id && item?.status !== 'CONNECTED').length}\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                              {whats?.length && whats.filter((item) => item?.companyId === company?.id).length}\r\n                            </TableCell>\r\n                            {user.profile === \"admin\" && (\r\n                              <TableCell align=\"center\">\r\n                                <IconButton\r\n                                  size=\"small\"\r\n                                  onClick={() => handleOpenWhatsAppModal(whats.filter((item) => item?.companyId === company?.id), company)}\r\n                                >\r\n                                  <Edit />\r\n                                </IconButton>\r\n                              </TableCell>\r\n                            )}\r\n                          </TableRow>\r\n                        )\r\n                        )}\r\n                        <TableRow className={classes.TableHead}>\r\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">{i18n.t(\"Total\")}</TableCell>\r\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                            {whats?.length &&\r\n                              whats.filter((item) => item?.status === 'CONNECTED').length}\r\n                          </TableCell>\r\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                            {whats?.length &&\r\n                              whats.filter((item) => item?.status !== 'CONNECTED').length}\r\n                          </TableCell>\r\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                            {whats?.length && whats.length}\r\n                          </TableCell>\r\n                          {user.profile === \"admin\" && <TableCell style={{ color: \"#fff\" }} align=\"center\"></TableCell>}\r\n                        </TableRow>\r\n                      </>\r\n                    )}\r\n                  </TableBody>\r\n                </Table>\r\n              </Paper>\r\n            </Stack>\r\n          </Paper>\r\n        </>}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default AllConnections;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tchips: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\tchip: {\r\n\t\tmargin: 2,\r\n\t},\r\n})); \r\n\r\nconst QueueSelectCustom = ({ selectedQueueIds, onChange }) => {\r\n\tconst classes = useStyles();\r\n\tconst [queues, setQueues] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(\"/queue\");\r\n\t\t\t\tsetQueues(data);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t})();\r\n\t}, []);\r\n\r\n\tconst handleChange = e => {\r\n\t\tonChange(e.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div style={{ marginTop: 6 }}>\r\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tmultiple\r\n\t\t\t\t\tlabelWidth={60}\r\n\t\t\t\t\tvalue={selectedQueueIds}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tMenuProps={{\r\n\t\t\t\t\t\tanchorOrigin: {\r\n\t\t\t\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttransformOrigin: {\r\n\t\t\t\t\t\t\tvertical: \"top\",\r\n\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tgetContentAnchorEl: null,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trenderValue={selected => (\r\n\t\t\t\t\t\t<div className={classes.chips}>\r\n\t\t\t\t\t\t\t{selected?.length > 0 &&\r\n\t\t\t\t\t\t\t\tselected.map(id => {\r\n\t\t\t\t\t\t\t\t\tif (id === \"0\") {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueSelect.withoutQueue\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\r\n\t\t\t\t\t\t\t\t\treturn queue ? (\r\n\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : null;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<MenuItem value=\"0\">\r\n\t\t\t\t\t\t{i18n.t(\"queueSelect.withoutQueue\")}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t{queues.map(queue => (\r\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\r\n\t\t\t\t\t\t\t{queue.name}\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Select>\r\n\t\t\t</FormControl>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default QueueSelectCustom;\r\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Pagination from \"@material-ui/lab/Pagination\";\r\nimport * as XLSX from 'xlsx';\r\n\r\nimport api from \"../../services/api\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\n\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../../components/Can\";\r\n\r\nimport { CircularProgress, FormControl, FormControlLabel, Grid, IconButton, InputLabel, MenuItem, Select, Switch, TextField, Tooltip, Typography } from \"@material-ui/core\";\r\nimport { UsersFilter } from \"../../components/UsersFilter\";\r\nimport { TagsFilter } from \"../../components/TagsFilter\";\r\nimport { WhatsappsFilter } from \"../../components/WhatsappsFilter\";\r\nimport { StatusFilter } from \"../../components/StatusFilter\";\r\nimport useDashboard from \"../../hooks/useDashboard\";\r\n\r\nimport QueueSelectCustom from \"../../components/QueueSelectCustom\";\r\nimport moment from \"moment\";\r\nimport ShowTicketLogModal from \"../../components/ShowTicketLogModal\";\r\n\r\nimport { blue, green } from \"@material-ui/core/colors\";\r\nimport { Facebook, Forward, History, Instagram, SaveAlt, Visibility, WhatsApp } from \"@material-ui/icons\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport { Field } from \"formik\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainContainer: {\r\n    background: theme.palette.fancyBackground,\r\n\r\n  },\r\n  formControl: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  mainPaper: {\r\n    flex: 1,\r\n    marginTop: 40,\r\n    borderRadius: 20,\r\n    border: '0px !important',\r\n    marginBottom: 40,\r\n    overflow: 'hidden'\r\n  },\r\n  mainPaperTable: {\r\n    flex: 1,\r\n    overflow: 'auto',\r\n    height: '68vh',\r\n    ...theme.scrollbarStylesSoftBig,\r\n  },\r\n  mainPaperFilter: {\r\n    flex: 1,\r\n    overflow: 'auto',\r\n    height: '20vh',\r\n    ...theme.scrollbarStylesSoftBig,\r\n  },\r\n  mainHeaderBlock: {\r\n    [theme.breakpoints.down('md')]: {\r\n      display: 'flex',\r\n      flexWrap: 'wrap'\r\n    },\r\n  },\r\n  filterItem: {\r\n    width: 200,\r\n    [theme.breakpoints.down('md')]: {\r\n      width: '45%'\r\n    },\r\n  },\r\n}));\r\n\r\nconst Reports = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { getReport } = useDashboard();\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [pageSize, setPageSize] = useState(10); // Defina o tamanho da página\r\n\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState([]);\r\n  const [selectedStatus, setSelectedStatus] = useState([]);\r\n  const [selectedContact, setSelectedContact] = useState(null);\r\n\r\n  // const [tagIds, setTagIds] = useState([]);\r\n  const [queueIds, setQueueIds] = useState([]);\r\n  const [userIds, setUserIds] = useState([]);\r\n  const [options, setOptions] = useState([]);\r\n  const [dateFrom, setDateFrom] = useState(moment(\"1\", \"D\").format(\"YYYY-MM-DD\"));\r\n  const [dateTo, setDateTo] = useState(moment().format(\"YYYY-MM-DD\"));\r\n  const [onlyRated, setOnlyRated] = useState(false);\r\n  const [totalTickets, setTotalTickets] = useState(0);\r\n  const [tickets, setTickets] = useState([]);\r\n\r\n  const [openTicketMessageDialog, setOpenTicketMessageDialog] = useState(false);\r\n  const [ticketOpen, setTicketOpen] = useState(null);\r\n  const [hasMore, setHasMore] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(\"contacts\", {\r\n            params: { searchParam },\r\n          });\r\n          setOptions(data.contacts);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam]);\r\n\r\n  // const handleSelectedTags = (selecteds) => {\r\n  //   const tags = selecteds.map((t) => t.id);\r\n  //   setTagIds(tags);\r\n  // };\r\n\r\n  const exportarGridParaExcel = async () => {\r\n    setLoading(true); // Define o estado de loading como true durante o carregamento\r\n\r\n    try {\r\n      const data = await getReport({\r\n        searchParam,\r\n        contactId: selectedContactId,\r\n        whatsappId: JSON.stringify(selectedWhatsapp),\r\n        // tags: JSON.stringify(tagIds),\r\n        users: JSON.stringify(userIds),\r\n        queueIds: JSON.stringify(queueIds),\r\n        status: JSON.stringify(selectedStatus),\r\n        // tags: tagIds,\r\n        dateFrom,\r\n        dateTo,\r\n        page: 1, // Passa o número da página para a API\r\n        pageSize: 9999999, // Passa o tamanho da página para a API\r\n        onlyRated: onlyRated ? \"true\" : \"false\"\r\n      });\r\n\r\n\r\n      const ticketsData = data.tickets.map(ticket => {\r\n        // Convertendo o campo createdAt para um objeto Date\r\n        const createdAt = new Date(ticket.createdAt);\r\n        const closedAt = new Date(ticket.closedAt);\r\n\r\n        const dataFechamento = closedAt.toLocaleDateString();\r\n        const horaFechamento = closedAt.toLocaleTimeString();\r\n        // Obtendo a data e a hora separadamente\r\n        const dataCriacao = createdAt.toLocaleDateString(); // Obtém a data no formato 'dd/mm/aaaa'\r\n        const horaCriacao = createdAt.toLocaleTimeString(); // Obtém a hora no formato 'hh:mm:ss'\r\n\r\n        return {\r\n          id: ticket.id,\r\n          Conexão: ticket.whatsappName,\r\n          Contato: ticket.contactName,\r\n          Usuário: ticket.userName,\r\n          Fila: ticket.queueName,\r\n          Status: ticket.status,\r\n          ÚltimaMensagem: ticket.lastMessage,\r\n          DataAbertura: dataCriacao,\r\n          HoraAbertura: horaCriacao,\r\n          DataFechamento: ticket.closedAt === null ? \"\" : dataFechamento,\r\n          HoraFechamento: ticket.closedAt === null ? \"\" : horaFechamento,\r\n          TempoDeAtendimento: ticket.supportTime,\r\n          nps: ticket.NPS,\r\n        }\r\n      });\r\n      const ws = XLSX.utils.json_to_sheet(ticketsData);\r\n      const wb = XLSX.utils.book_new();\r\n\r\n      XLSX.utils.book_append_sheet(wb, ws, 'RelatorioDeAtendimentos');\r\n      XLSX.writeFile(wb, 'relatorio-de-atendimentos.xlsx');\r\n\r\n\r\n      setPageNumber(pageNumber); // Atualiza o estado da página atual\r\n    } catch (error) {\r\n      toastError(error);\r\n    } finally {\r\n      setLoading(false); // Define o estado de loading como false após o carregamento\r\n    }\r\n\r\n  };\r\n\r\n\r\n  const handleFilter = async (pageNumber) => {\r\n    setLoading(true); // Define o estado de loading como true durante o carregamento\r\n    try {\r\n      const data = await getReport({\r\n        searchParam,\r\n        contactId: selectedContactId,\r\n        whatsappId: JSON.stringify(selectedWhatsapp),\r\n        // tags: JSON.stringify(tagIds),\r\n        users: JSON.stringify(userIds),\r\n        queueIds: JSON.stringify(queueIds),\r\n        status: JSON.stringify(selectedStatus),\r\n        // tags: tagIds,\r\n        dateFrom,\r\n        dateTo,\r\n        page: pageNumber, // Passa o número da página para a API\r\n        pageSize: pageSize, // Passa o tamanho da página para a API\r\n        onlyRated: onlyRated ? \"true\" : \"false\"\r\n      });\r\n\r\n      setTotalTickets(data.totalTickets.total);\r\n\r\n      // Verifica se há mais resultados para definir hasMore\r\n      setHasMore(data.tickets.length === pageSize);\r\n\r\n      setTickets(data.tickets); // Se for a primeira página, substitua os tickets\r\n\r\n      setPageNumber(pageNumber); // Atualiza o estado da página atual\r\n    } catch (error) {\r\n      toastError(error);\r\n    } finally {\r\n      setLoading(false); // Define o estado de loading como false após o carregamento\r\n    }\r\n  }\r\n\r\n  const handleSelectedUsers = (selecteds) => {\r\n    const users = selecteds.map((t) => t.id);\r\n    setUserIds(users);\r\n  };\r\n\r\n  const handleSelectedWhatsapps = (selecteds) => {\r\n    const whatsapp = selecteds.map((t) => t.id);\r\n    setSelectedWhatsapp(whatsapp);\r\n  };\r\n\r\n  const handleSelectedStatus = (selecteds) => {\r\n    const statusFilter = selecteds.map((t) => t.status);\r\n\r\n    setSelectedStatus(statusFilter);\r\n  };\r\n  const IconChannel = (channel) => {\r\n    switch (channel) {\r\n      case \"facebook\":\r\n        return <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\r\n      case \"instagram\":\r\n        return <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\r\n      case \"whatsapp\":\r\n        return <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\r\n      default:\r\n        return \"error\";\r\n    }\r\n  };\r\n\r\n  const renderOption = (option) => {\r\n    if (option.number) {\r\n      return <>\r\n        {IconChannel(option.channel)}\r\n        <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\r\n          {option.name} - {option.number}\r\n        </Typography>\r\n      </>\r\n    } else {\r\n      return `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\r\n    }\r\n  };\r\n\r\n  const handleSelectOption = (e, newValue) => {\r\n    setSelectedContactId(newValue.id);\r\n    setSearchParam(\"\");\r\n  };\r\n\r\n  const renderOptionLabel = option => {\r\n    if (option.number) {\r\n      return `${option.name} - ${option.number}`;\r\n    } else {\r\n      return `${option.name}`;\r\n    }\r\n  };\r\n  const filter = createFilterOptions({\r\n    trim: true,\r\n  });\r\n\r\n  const createAddContactOption = (filterOptions, params) => {\r\n    const filtered = filter(filterOptions, params);\r\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\r\n      filtered.push({\r\n        name: `${params.inputValue}`,\r\n      });\r\n    }\r\n    return filtered;\r\n  };\r\n  const renderContactAutocomplete = () => {\r\n    return (\r\n      <Grid xs={12} item>\r\n        <Autocomplete\r\n          fullWidth\r\n          options={options}\r\n          loading={loading}\r\n          clearOnBlur\r\n          autoHighlight\r\n          freeSolo\r\n          size=\"small\"\r\n          clearOnEscape\r\n          getOptionLabel={renderOptionLabel}\r\n          renderOption={renderOption}\r\n          filterOptions={createAddContactOption}\r\n          onChange={(e, newValue) => handleSelectOption(e, newValue)}\r\n          renderInput={params => (\r\n            <TextField\r\n              {...params}\r\n              label={i18n.t(\"newTicketModal.fieldLabel\")}\r\n              variant=\"outlined\"\r\n              autoFocus\r\n              size=\"small\"\r\n              onChange={e => setSearchParam(e.target.value)}\r\n              // onKeyPress={(e, newValue) => handleSelectOption(e, newValue)}\r\n              InputProps={{\r\n                ...params.InputProps,\r\n                endAdornment: (\r\n                  <React.Fragment>\r\n                    {loading ? (\r\n                      <CircularProgress color=\"inherit\" size={20} />\r\n                    ) : null}\r\n                    {params.InputProps.endAdornment}\r\n                  </React.Fragment>\r\n                ),\r\n              }}\r\n            />\r\n          )}\r\n        />\r\n      </Grid>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      {openTicketMessageDialog && (\r\n        <ShowTicketLogModal\r\n          isOpen={openTicketMessageDialog}\r\n          handleClose={() => setOpenTicketMessageDialog(false)}\r\n          ticketId={ticketOpen.id}\r\n        />\r\n      )}\r\n      <Title>{i18n.t(\"reports.title\")}</Title>\r\n\r\n      <MainHeader className={classes.mainHeaderFilter} style={{ display: 'flex' }}>\r\n        <Paper className={classes.mainPaperFilter}>\r\n          <div style={{ paddingTop: '15px' }} />\r\n          <Grid container spacing={1}>\r\n            <Grid item xs={12} md={3} xl={3}>\r\n              {renderContactAutocomplete()}\r\n            </Grid>\r\n            <Grid item xs={12} md={3} xl={3}>\r\n              <WhatsappsFilter onFiltered={handleSelectedWhatsapps} />\r\n            </Grid>\r\n            <Grid item xs={12} md={3} xl={3}>\r\n              <StatusFilter onFiltered={handleSelectedStatus} />\r\n            </Grid>\r\n            <Grid item xs={12} md={3} xl={3}>\r\n              <UsersFilter onFiltered={handleSelectedUsers} />\r\n            </Grid>\r\n            {/* <Grid item xs={12} md={4} xl={4}>\r\n              <TagsFilter onFiltered={handleSelectedTags} />\r\n            </Grid> */}\r\n            <Grid item xs={12} md={3} xl={3} style={{ marginTop: '-13px' }}>\r\n              <QueueSelectCustom\r\n                selectedQueueIds={queueIds}\r\n                onChange={values => setQueueIds(values)}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={3} md={3}>\r\n              <TextField\r\n                label=\"Data Inicial\"\r\n                type=\"date\"\r\n                value={dateFrom}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                onChange={(e) => setDateFrom(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3} md={3}>\r\n              <TextField\r\n                label=\"Data Final\"\r\n                type=\"date\"\r\n                value={dateTo}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                onChange={(e) => setDateTo(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3} md={3} style={{ display: 'flex', justifyContent: 'center' }}>\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    color=\"primary\"\r\n                    checked={onlyRated}\r\n                    onChange={() => setOnlyRated(!onlyRated)}\r\n                  />\r\n                }\r\n\r\n                label={i18n.t(\"reports.buttons.onlyRated\")}\r\n              />\r\n              <IconButton onClick={exportarGridParaExcel} aria-label=\"Exportar para Excel\">\r\n\r\n                <SaveAlt />\r\n              </IconButton>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => handleFilter(pageNumber)}\r\n                size=\"small\"\r\n              >{i18n.t(\"reports.buttons.filter\")}</Button>\r\n            </Grid>\r\n          </Grid>\r\n\r\n        </Paper>\r\n\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaperTable}\r\n        variant=\"outlined\"\r\n      >\r\n        <Table size=\"small\" id=\"grid-attendants\">\r\n          <TableHead>\r\n            <TableRow>\r\n              {/* <TableCell padding=\"checkbox\" /> */}\r\n              <TableCell align=\"center\">{i18n.t(\"reports.table.id\")}</TableCell>\r\n              <TableCell align=\"left\">{i18n.t(\"reports.table.whatsapp\")}</TableCell>\r\n              <TableCell align=\"left\">{i18n.t(\"reports.table.contact\")}</TableCell>\r\n              <TableCell align=\"left\">{i18n.t(\"reports.table.user\")}</TableCell>\r\n              <TableCell align=\"left\">{i18n.t(\"reports.table.queue\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"reports.table.status\")}</TableCell>\r\n              <TableCell align=\"left\">{i18n.t(\"reports.table.lastMessage\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"reports.table.dateOpen\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"reports.table.dateClose\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"reports.table.supportTime\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"reports.table.NPS\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"reports.table.actions\")}</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {tickets.map((ticket) => (\r\n                <TableRow key={ticket.id}>\r\n                  <TableCell align=\"center\">{ticket.id}</TableCell>\r\n                  <TableCell align=\"left\">{ticket?.whatsappName}</TableCell>\r\n                  <TableCell align=\"left\">{ticket?.contactName}</TableCell>\r\n                  <TableCell align=\"left\">{ticket?.userName}</TableCell>\r\n                  <TableCell align=\"left\">{ticket?.queueName}</TableCell>\r\n                  <TableCell align=\"center\">{ticket?.status}</TableCell>\r\n                  <TableCell align=\"left\">{ticket?.lastMessage}</TableCell>\r\n                  <TableCell align=\"center\">{ticket?.createdAt}</TableCell>\r\n                  <TableCell align=\"center\">{ticket?.closedAt}</TableCell>\r\n                  <TableCell align=\"center\">{ticket?.supportTime}</TableCell>\r\n                  <TableCell align=\"center\">{ticket?.NPS}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <Typography\r\n                      noWrap\r\n                      component=\"span\"\r\n                      variant=\"body2\"\r\n                      color=\"textPrimary\"\r\n                    >\r\n                      <Tooltip title=\"Logs do Ticket\">\r\n                        <History\r\n                          onClick={() => {\r\n                            setOpenTicketMessageDialog(true)\r\n                            setTicketOpen(ticket)\r\n                          }}\r\n                          fontSize=\"small\"\r\n                          style={{\r\n                            color: blue[700],\r\n                            cursor: \"pointer\",\r\n                            marginLeft: 10,\r\n                            verticalAlign: \"middle\"\r\n                          }}\r\n                        />\r\n                      </Tooltip>\r\n                      <Tooltip title=\"Acessar Ticket\">\r\n                        <Forward\r\n                          onClick={() => { history.push(`/tickets/${ticket.uuid}`) }}\r\n                          fontSize=\"small\"\r\n                          style={{\r\n                            color: green[700],\r\n                            cursor: \"pointer\",\r\n                            marginLeft: 10,\r\n                            verticalAlign: \"middle\"\r\n                          }}\r\n                        />\r\n                      </Tooltip>\r\n                    </Typography>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton avatar columns={3} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n\r\n      </Paper>\r\n\r\n      <div>\r\n        <Grid container>\r\n          <Grid item xs={12} sm={10} md={10}>\r\n\r\n            <Pagination\r\n              count={Math.ceil(totalTickets / pageSize)} // Calcula o nmero total de páginas com base no nmero total de tickets e no tamanho da página\r\n              page={pageNumber} // Define a página atual\r\n              onChange={(event, value) => handleFilter(value)} // Função de callback para mudanças de página\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} sm={2} md={2}>\r\n\r\n            <FormControl\r\n              margin=\"dense\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              <InputLabel>\r\n                {i18n.t(\"tickets.search.ticketsPerPage\")}\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"dialog-select-prompt-label\"\r\n                id=\"dialog-select-prompt\"\r\n                name=\"pageSize\"\r\n                value={pageSize}\r\n                onChange={(e) => {\r\n                  setPageSize(e.target.value)\r\n                }}\r\n                label={i18n.t(\"tickets.search.ticketsPerPage\")}\r\n                fullWidth\r\n                MenuProps={{\r\n                  anchorOrigin: {\r\n                    vertical: \"center\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  transformOrigin: {\r\n                    vertical: \"center\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  getContentAnchorEl: null,\r\n                }}\r\n              >\r\n                <MenuItem value={5} >{\"5\"}</MenuItem>\r\n                <MenuItem value={10} >{\"10\"}</MenuItem>\r\n                <MenuItem value={20} >{\"20\"}</MenuItem>\r\n                <MenuItem value={50} >{\"50\"}</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    </MainContainer >\r\n  );\r\n};\r\n\r\nexport default Reports;\r\n","import { create } from \"zustand\";\r\n\r\nexport const useNodeStorage = create(set => ({\r\n  node: \"\",\r\n  connect: \"\",\r\n  action: \"idle\",\r\n  setNodesStorage: node => set(state => ({ ...state, node: node })),\r\n  setConnectsStorage: connects =>\r\n    set(state => ({ ...state, connect: connects })),\r\n  setAct: act => set(state => ({ ...state, action: act }))\r\n}));\r\n","import {\r\n  ArrowForwardIos,\r\n  ContentCopy,\r\n  Delete,\r\n  Message\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const storageItems = useNodeStorage();\r\n\r\n  return (\r\n    <div\r\n      style={{ backgroundColor: \"#555\", padding: \"8px\", borderRadius: \"8px\" }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"20px\",\r\n          left: \"-12px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"3.5px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <Message\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#ededed\", fontSize: \"16px\" }}>Mensagem</div>\r\n      </div>\r\n      <div style={{ color: \"#ededed\", fontSize: \"12px\", width: 180 }}>\r\n        {data.label}\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"70%\",\r\n          right: \"-11px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n    </div>\r\n  );\r\n});\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Muito curto!\")\r\n    .max(50, \"Muito longo!\")\r\n    .required(\"Digite um nome!\"),\r\n  text: Yup.string()\r\n    .min(2, \"Muito curto!\")\r\n    .max(50, \"Muito longo!\")\r\n    .required(\"Digite uma mensagem!\")\r\n});\r\n\r\nconst FlowBuilderAddTextModal = ({ open, onSave, onUpdate, data, close }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [activeModal, setActiveModal] = useState(false);\r\n\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar mensagem ao fluxo\",\r\n    btn: \"Adicionar\"\r\n  });\r\n\r\n  const [textDig, setTextDig] = useState();\r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar mensagem ao fluxo\",\r\n        btn: \"Salvar\"\r\n      });\r\n      setTextDig(data.data.label);\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Adicionar mensagem ao fluxo\",\r\n        btn: \"Adicionar\"\r\n      });\r\n      setTextDig(\"\");\r\n      setActiveModal(true);\r\n    } else {\r\n      setActiveModal(false);\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    close(null)\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleSaveContact = async () => {\r\n    if (open === \"edit\") {\r\n      handleClose();\r\n      onUpdate({\r\n        ...data,\r\n        data: { label: textDig }\r\n      });\r\n      return;\r\n    } else if (open === \"create\") {\r\n      handleClose();\r\n      onSave({\r\n        text: textDig\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\r\n        <Stack>\r\n          <DialogContent dividers>\r\n            <TextField\r\n              label={\"Mensagem\"}\r\n              multiline\r\n              rows={7}\r\n              name=\"text\"\r\n              variant=\"outlined\"\r\n              value={textDig}\r\n              margin=\"dense\"\r\n              onChange={e => setTextDig(e.target.value)}\r\n              className={classes.textField}\r\n              style={{ width: \"95%\" }}\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={handleClose} color=\"secondary\" variant=\"outlined\">\r\n              {i18n.t(\"contactModal.buttons.cancel\")}\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={classes.btnWrapper}\r\n              onClick={() => handleSaveContact()}\r\n            >\r\n              {`${labels.btn}`}\r\n            </Button>\r\n          </DialogActions>\r\n        </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderAddTextModal;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst FlowBuilderIntervalModal = ({\r\n  open,\r\n  onSave,\r\n  data,\r\n  onUpdate,\r\n  close\r\n}) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [timerSec, setTimerSec] = useState(0)\r\n  const [activeModal, setActiveModal] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if(open === 'edit'){\r\n      setTimerSec(data.data.sec)\r\n      setActiveModal(true)\r\n    } else if(open === 'create'){\r\n      setTimerSec(0)\r\n      setActiveModal(true)\r\n    }\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, [open]);\r\n  \r\n\r\n  const handleClose = () => {\r\n    close(null)\r\n    setActiveModal(false)\r\n  };\r\n\r\n  const handleSaveContact = async values => {\r\n    if(!timerSec || parseInt(timerSec)  <= 0){\r\n      return toast.error('Adicione o valor de intervalo')\r\n    }\r\n    if(parseInt(timerSec) > 120){\r\n      return toast.error('Máximo de tempo atingido 120 segundos')\r\n    }\r\n    if(open === 'edit'){\r\n      onUpdate({\r\n        ...data,\r\n        data: { sec: timerSec }\r\n      });\r\n    } else if(open === 'create'){\r\n      onSave({\r\n        sec: timerSec\r\n      })\r\n    }\r\n    handleClose()\r\n    \r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog open={activeModal} onClose={handleClose} fullWidth=\"md\" scroll=\"paper\">\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {open === 'create' ? `Adicionar um intervalo ao fluxo`: `Editar intervalo`}\r\n        </DialogTitle>        \r\n            <Stack>\r\n              <DialogContent dividers>\r\n                <TextField\r\n                  label={'Tempo em segundos'}\r\n                  name=\"timer\"\r\n                  type=\"number\"\r\n                  value={timerSec}\r\n                  onChange={(e) => setTimerSec(e.target.value)}\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  InputProps={{ inputProps: { min: 0 } }}\r\n                  margin=\"dense\"\r\n                  className={classes.textField}\r\n                  style={{ width: \"95%\" }}\r\n                />\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                  onClick={() => handleSaveContact()}\r\n                >\r\n                  {open === 'create' ? `Adicionar` : 'Editar'}                  \r\n                </Button>\r\n              </DialogActions>\r\n            </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderIntervalModal;\r\n","import { ArrowForwardIos, Message, RocketLaunch } from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\n\r\nexport default memo(({ data, isConnectable }) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#F9FDF9\",\r\n        padding: \"8px\",\r\n        borderRadius: \"8px\",\r\n        boxShadow: \"rgba(0, 0, 0, 0.05) 0px 3px 5px\",\r\n        border: '1px solid rgba(58, 186, 56, 0.25)'\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <RocketLaunch\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\",\r\n            color: \"#3aba38\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>\r\n          Inicio do fluxo\r\n        </div>\r\n      </div>\r\n      <div style={{ color: \"#727272\", fontSize: \"12px\" }}>\r\n        Este bloco marca o inicio do seu fluxo!\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"70%\",\r\n          right: \"-11px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: 'none'\r\n          }}\r\n        />\r\n      </Handle>\r\n    </div>\r\n  );\r\n});\r\n","import { ImportExport, Message } from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\n\r\nexport default memo(({ data, isConnectable }) => {\r\n  const typeCondition = (value) => {\r\n    if(value === 1){\r\n      return '=='\r\n    }\r\n    if(value === 2){\r\n      return '>='\r\n    }\r\n    if(value === 3){\r\n      return '<='\r\n    }\r\n    if(value === 4){\r\n      return '<'\r\n    }\r\n    if(value === 5){\r\n      return '>'\r\n    }\r\n  }\r\n  return (\r\n    <div style={{backgroundColor: '#555', padding: '8px', borderRadius: '8px'}}>\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{ background: \"#FF7606\" }}\r\n        isConnectable={isConnectable}\r\n      />\r\n      <div style={{color: '#ededed', fontSize: '16px', flexDirection: 'row', display: 'flex'}}>\r\n        <ImportExport sx={{width: '16px', height: '16px', marginRight: '4px', marginTop: '4px'}}/>\r\n        <div style={{color: '#ededed', fontSize: '16px'}}>\r\n        Condição\r\n        </div>\r\n      </div>\r\n      <div style={{color: '#ededed', fontSize: '12px'}}>{data.key}</div>\r\n      <div style={{color: '#ededed', fontSize: '12px'}}>{typeCondition(data.condition)}</div>\r\n      <div style={{color: '#ededed', fontSize: '12px'}}>{data.value}</div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{ top: 10, background: \"#FF7606\" }}\r\n        isConnectable={isConnectable}\r\n      />\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"b\"\r\n        style={{ bottom: 10, top: \"auto\", background: \"#FF7606\" }}\r\n        isConnectable={isConnectable}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n","import {\r\n  ArrowForwardIos,\r\n  ContentCopy,\r\n  Delete,\r\n  DynamicFeed,\r\n  ImportExport,\r\n  Message\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const storageItems = useNodeStorage();\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#FAFBFF\",\r\n        padding: \"8px\",\r\n        borderRadius: \"8px\",\r\n        maxWidth: \"155px\",\r\n        boxShadow: \"0px 3px 5px rgba(0,0,0,.05)\",\r\n        border: \"1px solid rgba(104, 58, 200, 0.25)\",\r\n        width: 180\r\n      }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"20px\",\r\n          left: \"-12px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"3.5px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#683AC8\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#683AC8\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <DynamicFeed\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\",\r\n            color: \"#683AC8\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>Menu</div>\r\n      </div>\r\n      <div>\r\n        <div style={{\r\n          color: \"#683AC8\",\r\n          fontSize: \"10px\",\r\n          marginTop: \"6px\",\r\n        }}>\r\n          Texto da Pergunta\r\n        </div>\r\n        <div\r\n          style={{\r\n            color: \"#232323\",\r\n            fontSize: \"12px\",\r\n            height: \"50px\",\r\n            overflow: \"hidden\",\r\n            marginBottom: \"8px\"\r\n          }}\r\n        >\r\n          {data.message}\r\n        </div>\r\n      </div>\r\n      {data.arrayOption.map(option => (\r\n        <div\r\n          style={{\r\n            backgroundColor: \"#F6EEEE\",\r\n            marginBottom: \"9px\",\r\n            justifyContent: \"start\",\r\n            display: \"flex\"\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              whiteSpace: \"nowrap\",\r\n              overflow: \"hidden\",\r\n              textOverflow: \"ellipsis\",\r\n              fontSize: \"10px\",\r\n              position: \"relative\",\r\n              display: \"flex\",\r\n              color: \"#232323\",\r\n              justifyContent: \"center\",\r\n              flexDirection: \"column\",\r\n              alignSelf: \"end\",\r\n              marginLeft: \"10px\",\r\n              marginBottom: \"3px\",\r\n            }}\r\n          >\r\n            <div style={{\r\n              color: \"#683AC8\",\r\n              fontSize: \"10px\",\r\n              marginTop: \"6px\",\r\n            }}>\r\n              Resposta{`${option.number}`}\r\n            </div>\r\n            {`${option.value}`}\r\n          </div>\r\n          <Handle\r\n            type=\"source\"\r\n            position=\"right\"\r\n            id={\"a\" + option.number}\r\n            style={{\r\n              top: 84 + 44 * option.number,\r\n              background: \"#FF7606\",\r\n              width: \"18px\",\r\n              height: \"18px\",\r\n              right: \"-11px\",\r\n              cursor: 'pointer'\r\n            }}\r\n            isConnectable={isConnectable}\r\n          >\r\n            <ArrowForwardIos\r\n              sx={{\r\n                color: \"#ffff\",\r\n                width: \"10px\",\r\n                height: \"10px\",\r\n                marginLeft: \"2.9px\",\r\n                marginBottom: \"1px\",\r\n                pointerEvents: \"none\"\r\n              }}\r\n            />\r\n          </Handle>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n});\r\n","import {\r\n  AccessTime,\r\n  ArrowForwardIos,\r\n  ContentCopy,\r\n  Delete,\r\n  Message\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const storageItems = useNodeStorage();\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#FFFBFA\",\r\n        padding: \"8px\",\r\n        borderRadius: \"8px\",\r\n        minWidth: \"155px\",\r\n        border: '1px solid rgba(240, 135, 90, 0.25)',\r\n        boxShadow: 'rgba(0, 0, 0, 0.05) 0px 3px 5px'\r\n      }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"20px\",\r\n          left: \"-12px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"3.5px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <AccessTime\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\",\r\n            color: \"#F7953B\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>Intervalo</div>\r\n      </div>\r\n      <div style={{ \r\n        color: \"#232323\", \r\n        fontSize: \"12px\", \r\n        backgroundColor: \"#F6EEEE\",\r\n        marginBottom: \"3px\",\r\n        borderRadius: \"5px\"\r\n        }}>\r\n        {data.sec} segundos\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"70%\",\r\n          right: \"-11px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n    </div>\r\n  );\r\n});\r\n","import { ContentCopy, Delete, Image, Message } from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n\r\n  const link = process.env.REACT_APP_BACKEND_URL === 'http://localhost:8090' ? 'http://localhost:8090' : process.env.REACT_APP_BACKEND_URL\r\n\r\n  const storageItems = useNodeStorage();\r\n\r\n  return (\r\n    <div style={{backgroundColor: '#555', padding: '8px', borderRadius: '8px'}} >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{ background: \"#FF7606\" }}\r\n        isConnectable={isConnectable}\r\n      />\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n      </div>\r\n      {/* <div style={{position: 'absolute', right: 5, top: 5, cursor: 'pointer'}}>\r\n        <Delete sx={{width: '12px', height: '12px', color: '#ffff'}}/>\r\n      </div> */}\r\n      <div style={{color: '#ededed', fontSize: '16px', flexDirection: 'row', display: 'flex'}}>\r\n        <Image sx={{width: '16px', height: '16px', marginRight: '4px', marginTop: '4px'}}/>\r\n        <div style={{color: '#ededed', fontSize: '16px'}}>\r\n        Imagem\r\n        </div>\r\n      </div>\r\n      <div style={{color: '#ededed', fontSize: '12px', width: 180}}>\r\n        <img src={`${link}/public/${data.url}`} style={{width: '180px'}} />\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{ background: \"#FF7606\" }}\r\n        isConnectable={isConnectable}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n","import {\r\n  ArrowForwardIos,\r\n  CallSplit,\r\n  ContentCopy,\r\n  Delete,\r\n  Message\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const storageItems = useNodeStorage();\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#F8FCFD\",\r\n        padding: \"8px\",\r\n        borderRadius: \"8px\",\r\n        width: \"185px\",\r\n        border: \"1px solid rgba(31, 186, 220, 0.25)\"\r\n      }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"20px\",\r\n          left: \"-12px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"3.5px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#1FBADC\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#1FBADC\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <CallSplit\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\",\r\n            color: \"#1FBADC\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>Randomizador</div>\r\n      </div>\r\n      <div\r\n        style={{\r\n          whiteSpace: \"nowrap\",\r\n          overflow: \"hidden\",\r\n          textOverflow: \"ellipsis\",\r\n          fontSize: \"16px\",\r\n          justifyContent: \"end\",\r\n          position: \"relative\",\r\n          display: \"flex\",\r\n          color: \"#232323\"\r\n        }}\r\n      >\r\n        {`${data.percent}%`}\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          right: \"-11px\",\r\n          marginTop: \"-5px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          whiteSpace: \"nowrap\",\r\n          overflow: \"hidden\",\r\n          textOverflow: \"ellipsis\",\r\n          fontSize: \"16px\",\r\n          justifyContent: \"end\",\r\n          position: \"relative\",\r\n          display: \"flex\",\r\n          marginTop: \"8px\",\r\n          color: \"#232323\"\r\n        }}\r\n      >\r\n        {`${100 - data.percent}%`}\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"b\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          right: \"-11px\",\r\n          top: 73,\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n    </div>\r\n  );\r\n});\r\n","import {\r\n  ContentCopy,\r\n  Delete,\r\n  Image,\r\n  Message,\r\n  Videocam\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const link =\r\n    process.env.REACT_APP_BACKEND_URL === \"http://localhost:8090\"\r\n      ? \"http://localhost:8090\"\r\n      : process.env.REACT_APP_BACKEND_URL;\r\n\r\n  const storageItems = useNodeStorage();\r\n\r\n  return (\r\n    <div\r\n      style={{ backgroundColor: \"#555\", padding: \"8px\", borderRadius: \"8px\" }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{ background: \"#FF7606\" }}\r\n        isConnectable={isConnectable}\r\n      />\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n      </div>\r\n      {/* <div style={{position: 'absolute', right: 5, top: 5, cursor: 'pointer'}}>\r\n        <Delete sx={{width: '12px', height: '12px', color: '#ffff'}}/>\r\n      </div> */}\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <Videocam\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#ededed\", fontSize: \"16px\" }}>Video</div>\r\n      </div>\r\n      <div style={{ color: \"#ededed\", fontSize: \"12px\", width: 180 }}>\r\n        <video controls=\"controls\" width=\"180px\">\r\n          <source src={`${link}/public/${data.url}`} type=\"video/mp4\" />\r\n          seu navegador não suporta HTML5\r\n        </video>\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{ background: \"#FF7606\" }}\r\n        isConnectable={isConnectable}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport {\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Stack\r\n} from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst selectFieldStyles = {\r\n  \".MuiOutlinedInput-notchedOutline\": {\r\n    borderColor: \"#909090\"\r\n  },\r\n  \"&:hover .MuiOutlinedInput-notchedOutline\": {\r\n    borderColor: \"#000000\",\r\n    borderWidth: \"thin\"\r\n  },\r\n  \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n    borderColor: \"#FF7606\",\r\n    borderWidth: \"thin\"\r\n  }\r\n};\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Muito curto!\")\r\n    .max(50, \"Muito longo!\")\r\n    .required(\"Digite um nome!\"),\r\n  text: Yup.string()\r\n    .min(2, \"Muito curto!\")\r\n    .max(50, \"Muito longo!\")\r\n    .required(\"Digite uma mensagem!\")\r\n});\r\n\r\nconst FlowBuilderConditionModal = ({ open, onSave, onUpdate, data, close }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [activeModal, setActiveModal] = useState(false);\r\n\r\n  const [rule, setRule] = useState();\r\n\r\n  const [textDig, setTextDig] = useState();\r\n\r\n  const [valueCondition, setValueCondition] = useState();\r\n\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar condição ao fluxo\",\r\n    btn: \"Adicionar\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar condição\",\r\n        btn: \"Salvar\"\r\n      });\r\n      setTextDig(data.data.key);\r\n      setRule(data.data.condition);\r\n      setValueCondition(data.data.value);\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Adicionar condição ao fluxo\",\r\n        btn: \"Adicionar\"\r\n      });\r\n      setTextDig();\r\n      setRule();\r\n      setValueCondition();\r\n      setActiveModal(true);\r\n    } else {\r\n      setActiveModal(false);\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleSaveContact = async () => {\r\n    if (open === \"edit\") {\r\n      handleClose();\r\n      onUpdate({\r\n        ...data,\r\n        data: { key: textDig, condition: rule, value: valueCondition }\r\n      });\r\n      return;\r\n    } else if (open === \"create\") {\r\n      handleClose();\r\n      onSave({\r\n        key: textDig,\r\n        condition: rule,\r\n        value: valueCondition\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\r\n        <Stack>\r\n          <Stack\r\n            dividers\r\n            style={{ height: \"250px\", gap: \"8px\", padding: \"16px\" }}\r\n          >\r\n            <TextField\r\n              label={\"Campo da condição (Digiter apenas 1 chave)\"}\r\n              rows={7}\r\n              name=\"text\"\r\n              variant=\"outlined\"\r\n              value={textDig}\r\n              onChange={e => setTextDig(e.target.value)}\r\n              className={classes.textField}\r\n              style={{ width: \"95%\" }}\r\n            />\r\n            <FormControl sx={{ width: \"95%\" }} size=\"medium\">\r\n              <InputLabel sx={selectFieldStyles} id=\"demo-simple-select-label\">\r\n                Regra de validação\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"demo-simple-select-label\"\r\n                id=\"demo-simple-select\"\r\n                value={rule}\r\n                label=\"Regra de validação\"\r\n                onChange={e => setRule(e.target.value)}\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                sx={selectFieldStyles}\r\n              >\r\n                <MenuItem value={1}> {\"==\"} </MenuItem>\r\n                <MenuItem value={2}> {\">=\"} </MenuItem>\r\n                <MenuItem value={3}> {\"<=\"} </MenuItem>\r\n                <MenuItem value={4}> {\" < \"} </MenuItem>\r\n                <MenuItem value={5}> {\" > \"} </MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n            <TextField\r\n              label={\"Valor da condição a ser analisada\"}\r\n              rows={7}\r\n              name=\"text\"\r\n              variant=\"outlined\"\r\n              value={valueCondition}\r\n              onChange={e => setValueCondition(e.target.value)}\r\n              className={classes.textField}\r\n              style={{ width: \"95%\", marginTop: \"11px\" }}\r\n            />\r\n          </Stack>\r\n          <DialogActions>\r\n            <Button onClick={handleClose} color=\"secondary\" variant=\"outlined\">\r\n              {i18n.t(\"contactModal.buttons.cancel\")}\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={classes.btnWrapper}\r\n              onClick={() => handleSaveContact()}\r\n            >\r\n              {`${labels.btn}`}\r\n            </Button>\r\n          </DialogActions>\r\n        </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderConditionModal;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport {\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Stack\r\n} from \"@mui/material\";\r\nimport { AddCircle, Delete } from \"@mui/icons-material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst selectFieldStyles = {\r\n  \".MuiOutlinedInput-notchedOutline\": {\r\n    borderColor: \"#909090\"\r\n  },\r\n  \"&:hover .MuiOutlinedInput-notchedOutline\": {\r\n    borderColor: \"#000000\",\r\n    borderWidth: \"thin\"\r\n  },\r\n  \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n    borderColor: \"#FF7606\",\r\n    borderWidth: \"thin\"\r\n  }\r\n};\r\n\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Muito curto!\")\r\n    .max(50, \"Muito longo!\")\r\n    .required(\"Digite um nome!\"),\r\n  text: Yup.string()\r\n    .min(2, \"Muito curto!\")\r\n    .max(50, \"Muito longo!\")\r\n    .required(\"Digite uma mensagem!\")\r\n});\r\n\r\nconst FlowBuilderMenuModal = ({ open, onSave, onUpdate, data, close }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [activeModal, setActiveModal] = useState(false);\r\n\r\n  const [rule, setRule] = useState();\r\n\r\n  const [textDig, setTextDig] = useState();\r\n\r\n  const [arrayOption, setArrayOption] = useState([]);\r\n\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar menu ao fluxo\",\r\n    btn: \"Adicionar\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar menu\",\r\n        btn: \"Salvar\"\r\n      });\r\n      setTextDig(data.data.message);\r\n      setArrayOption(data.data.arrayOption);\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Adicionar menu ao fluxo\",\r\n        btn: \"Adicionar\"\r\n      });\r\n      setTextDig();\r\n      setArrayOption([]);\r\n      setActiveModal(true);\r\n    } else {\r\n      setActiveModal(false);\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleSaveContact = async () => {\r\n    if (open === \"edit\") {\r\n      handleClose();\r\n      onUpdate({\r\n        ...data,\r\n        data: { message: textDig, arrayOption: arrayOption }\r\n      });\r\n      return;\r\n    } else if (open === \"create\") {\r\n      handleClose();\r\n      onSave({\r\n        message: textDig,\r\n        arrayOption: arrayOption\r\n      });\r\n    }\r\n  };\r\n\r\n  const removeOption = number => {\r\n    setArrayOption(old => old.filter(item => item.number !== number));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\r\n        <Stack>\r\n          <Stack dividers style={{ gap: \"8px\", padding: \"16px\" }}>\r\n            <TextField\r\n              label={\"Mensagem de explicação do menu\"}\r\n              rows={4}\r\n              name=\"text\"\r\n              multiline\r\n              variant=\"outlined\"\r\n              value={textDig}\r\n              onChange={e => setTextDig(e.target.value)}\r\n              className={classes.textField}\r\n              style={{ width: \"100%\" }}\r\n            />\r\n            <Stack direction={\"row\"} justifyContent={\"space-between\"}>\r\n              <Typography>Adicionar Opção</Typography>\r\n              <Button\r\n                onClick={() =>\r\n                  setArrayOption(old => [\r\n                    ...old,\r\n                    { number: old.length + 1, value: \"\" }\r\n                  ])\r\n                }\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n              >\r\n                <AddCircle />\r\n              </Button>\r\n            </Stack>\r\n            {arrayOption.map((item, index) => (\r\n              <Stack width={\"100%\"} key={item.number}>\r\n                <Typography>Digite {item.number}</Typography>\r\n                <Stack direction={\"row\"} width={\"100%\"} style={{ gap: \"8px\" }}>\r\n                  <TextField\r\n                    placeholder={\"Digite opção\"}\r\n                    variant=\"outlined\"\r\n                    defaultValue={item.value}\r\n                    style={{ width: \"100%\" }}\r\n                    onChange={event =>\r\n                      setArrayOption(old => {\r\n                        let newArr = old;\r\n                        newArr[index].value = event.target.value;\r\n                        return newArr;\r\n                      })\r\n                    }\r\n                  />\r\n                  {arrayOption.length === item.number && (\r\n                    <IconButton onClick={() => removeOption(item.number)}>\r\n                      <Delete />\r\n                    </IconButton>\r\n                  )}\r\n                </Stack>\r\n              </Stack>\r\n            ))}\r\n          </Stack>\r\n          <DialogActions>\r\n            <Button onClick={handleClose} color=\"secondary\" variant=\"outlined\">\r\n              {i18n.t(\"contactModal.buttons.cancel\")}\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={classes.btnWrapper}\r\n              onClick={() => handleSaveContact()}\r\n            >\r\n              {`${labels.btn}`}\r\n            </Button>\r\n          </DialogActions>\r\n        </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderMenuModal;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Compressor from \"compressorjs\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\n\r\nconst FlowBuilderAddImgModal = ({ open, onSave, onUpdate, data, close }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [activeModal, setActiveModal] = useState(false);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [preview, setPreview] = useState();\r\n\r\n  const [oldImage, setOldImage] = useState();\r\n\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar imagem ao fluxo\",\r\n    btn: \"Adicionar\"\r\n  });\r\n\r\n  const [medias, setMedias] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar imagem\",\r\n        btn: \"Salvar\"\r\n      });\r\n      setOldImage(data.data.url)\r\n      setPreview(process.env.REACT_APP_BACKEND_URL + '/public/' + data.data.url)\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Adicionar imagem ao fluxo\",\r\n        btn: \"Adicionar\"\r\n      });\r\n      setActiveModal(true);\r\n    } else {\r\n      setActiveModal(false);\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleSaveContact = async () => {\r\n    if (open === \"edit\") {\r\n      handleClose();\r\n      onUpdate({\r\n        ...data,\r\n        data: { url: \"\" }\r\n      });\r\n      return;\r\n    } else if (open === \"create\") {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n      formData.append(\"fromMe\", true);\r\n\r\n      medias.forEach(async (media, idx) => {\r\n        const file = media;\r\n\r\n        if (!file) {\r\n          return;\r\n        }\r\n\r\n        if (media?.type.split(\"/\")[0] == \"image\") {\r\n          new Compressor(file, {\r\n            quality: 0.7,\r\n\r\n            async success(media) {\r\n              formData.append(\"medias\", media);\r\n              formData.append(\"body\", media.name);\r\n            },\r\n            error(err) {\r\n              alert(\"erro\");\r\n              console.log(err.message);\r\n            }\r\n          });\r\n        } else {\r\n          formData.append(\"medias\", media);\r\n          formData.append(\"body\", media.name);\r\n        }\r\n      });\r\n\r\n      setTimeout(async () => {\r\n        await api.post(\"/flowbuilder/img\", formData).then(res => {\r\n          handleClose();\r\n          onSave({\r\n            url: res.data.name\r\n          });\r\n          toast.success(\"Imagem adicionada com sucesso!\");\r\n          setLoading(false);\r\n          setMedias([]);\r\n          setPreview();\r\n        });\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  const handleChangeMedias = e => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    if(e.target.files[0].size > 2000000){\r\n      toast.error(\"Arquivo é muito grande! 2MB máximo\")\r\n      return\r\n    }\r\n\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setPreview(URL.createObjectURL(e.target.files[0]));\r\n    setMedias(selectedMedias);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\r\n        <Stack>\r\n          <DialogContent dividers>\r\n            <Stack gap={\"16px\"}>\r\n              {preview && <img src={preview} style={{ width: \"552px\" }} />}\r\n              {!loading && open !== \"edit\" && (\r\n                <Button variant=\"contained\" component=\"label\">\r\n                  Enviar imagem\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/png, image/jpg, image/jpeg\"\r\n                    disabled={loading}\r\n                    hidden\r\n                    onChange={handleChangeMedias}\r\n                  />\r\n                </Button>\r\n              )}\r\n              {loading && (\r\n                <>\r\n                  <Stack justifyContent={\"center\"} alignSelf={\"center\"}>\r\n                    <CircularProgress />\r\n                  </Stack>\r\n                </>\r\n              )}\r\n            </Stack>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            {!loading && (\r\n              <>\r\n                <Button\r\n                  onClick={() => {\r\n                    handleClose();\r\n                    setMedias([]);\r\n                    setPreview();\r\n                  }}\r\n                  color=\"secondary\"\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactModal.buttons.cancel\")}\r\n                </Button>\r\n                {open !== \"edit\" && (<Button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                  onClick={() => handleSaveContact()}\r\n                >\r\n                  {`${labels.btn}`}\r\n                </Button>)}\r\n              </>\r\n            )}\r\n          </DialogActions>\r\n        </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderAddImgModal;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\"\r\n    },\r\n    textField: {\r\n        marginRight: theme.spacing(1),\r\n        flex: 1\r\n    },\r\n\r\n    extraAttr: {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    },\r\n\r\n    btnWrapper: {\r\n        position: \"relative\"\r\n    },\r\n\r\n    buttonProgress: {\r\n        color: green[500],\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        marginTop: -12,\r\n        marginLeft: -12\r\n    }\r\n}));\r\n\r\nconst FlowBuilderTicketModal = ({\r\n    open,\r\n    onSave,\r\n    data,\r\n    onUpdate,\r\n    close\r\n}) => {\r\n    const classes = useStyles();\r\n    const isMounted = useRef(true);\r\n    const [activeModal, setActiveModal] = useState(false)\r\n    const [queues, setQueues] = useState([])\r\n    const [selectedQueue, setQueueSelected] = useState()\r\n\r\n    useEffect(() => {\r\n        if (open === 'edit') {\r\n            (async () => {\r\n                try {\r\n                    const { data: old } = await api.get(\"/queue\");\r\n                    setQueues(old)\r\n                    const queue = old.find((item) => item.id === data.data.id)\r\n                    if (queue) {\r\n                        setQueueSelected(queue.id)\r\n                    }\r\n                    setActiveModal(true)\r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n            })();\r\n\r\n        } else if (open === 'create') {\r\n            (async () => {\r\n                try {\r\n                    const { data } = await api.get(\"/queue\");\r\n                    setQueues(data)\r\n                    setActiveModal(true)\r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n            })()\r\n        }\r\n        return () => {\r\n            isMounted.current = false;\r\n        };\r\n    }, [open]);\r\n\r\n\r\n    const handleClose = () => {\r\n        close(null)\r\n        setActiveModal(false)\r\n    };\r\n\r\n    const handleSaveContact = () => {\r\n        if (!selectedQueue) {\r\n            return toast.error('Adicione uma fila')\r\n        }\r\n        if (open === 'edit') {\r\n            const queue = queues.find(item => item.id === selectedQueue)\r\n            onUpdate({\r\n                ...data,\r\n                data: queue\r\n            });\r\n        } else if (open === 'create') {\r\n            const queue = queues.find(item => item.id === selectedQueue)\r\n            onSave({\r\n                data: queue\r\n            })\r\n        }\r\n        handleClose()\r\n\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Dialog open={activeModal} onClose={handleClose} fullWidth=\"md\" scroll=\"paper\">\r\n                <DialogTitle id=\"form-dialog-title\">\r\n                    {open === 'create' ? `Adicionar um ticket ao fluxo` : `Editar Ticket`}\r\n                </DialogTitle>\r\n                <Stack>\r\n                    <DialogContent dividers>\r\n                        <Select\r\n                            labelId=\"demo-simple-select-label\"\r\n                            id=\"demo-simple-select\"\r\n                            value={selectedQueue}\r\n                            style={{ width: \"95%\" }}\r\n                            onChange={(e) => { setQueueSelected(e.target.value) }}\r\n                            MenuProps={{\r\n                                anchorOrigin: {\r\n                                    vertical: \"bottom\",\r\n                                    horizontal: \"left\",\r\n                                },\r\n                                transformOrigin: {\r\n                                    vertical: \"top\",\r\n                                    horizontal: \"left\",\r\n                                },\r\n                                getContentAnchorEl: null,\r\n                            }}\r\n                            renderValue={() => {\r\n                                if (selectedQueue === \"\") {\r\n                                    return \"Selecione uma Conexão\"\r\n                                }\r\n                                const queue = queues.find(w => w.id === selectedQueue)\r\n                                return queue.name\r\n                            }}\r\n                        >\r\n\r\n                            {queues.length > 0 && (\r\n                                queues.map((queue, index) => (\r\n                                    <MenuItem dense key={index} value={queue.id}>{queue.name}</MenuItem>\r\n                                ))\r\n                            )}\r\n                        </Select>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button\r\n                            onClick={handleClose}\r\n                            color=\"secondary\"\r\n                            variant=\"outlined\"\r\n                        >\r\n                            {i18n.t(\"contactModal.buttons.cancel\")}\r\n                        </Button>\r\n                        <Button\r\n                            type=\"submit\"\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            className={classes.btnWrapper}\r\n                            onClick={handleSaveContact}\r\n                        >\r\n                            {open === 'create' ? `Adicionar` : 'Editar'}\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Stack>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FlowBuilderTicketModal;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { Stack } from \"@mui/material\";\r\nimport { toast } from \"react-toastify\";\r\nimport api from \"../../services/api\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\"\r\n    },\r\n    buttonProgress: {\r\n        color: green[500],\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        marginTop: -12,\r\n        marginLeft: -12\r\n    }\r\n}));\r\n\r\nconst FlowBuilderAddQueueFlowModal = ({\r\n    open,\r\n    onSave,\r\n    data,\r\n    onUpdate,\r\n    close\r\n}) => {\r\n    const classes = useStyles();\r\n    const { user } = useContext(AuthContext);\r\n    const { companyId } = user;\r\n\r\n    const [flows, setFlows] = useState([]);\r\n    const [selectedFlow, setFlowSelected] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [dataItemError, setDataItemError] = useState({ flowId: false });\r\n\r\n    useEffect(() => {\r\n        const fetchFlows = async () => {\r\n            setLoading(true);\r\n            try {\r\n                const { data: responseData } = await api.get(\"/flowbuilder\");\r\n                console.log(\"Fluxos carregados:\", responseData.flows); // Debugging\r\n                setFlows(responseData.flows);\r\n                if (open === 'edit' && data) {\r\n                    const flow = responseData.flows.find(item => item.id === data.data.id);\r\n                    if (flow) {\r\n                        setFlowSelected(flow.id);\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Erro ao carregar os fluxos:\", error); // Debugging\r\n                toast.error(\"Erro ao carregar os fluxos.\");\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        if (open === 'edit' || open === 'create') {\r\n            fetchFlows();\r\n        }\r\n    }, [open, data]);\r\n\r\n    const handleClose = () => {\r\n        close(null);\r\n        clearErrors();\r\n    };\r\n\r\n    const clearErrors = () => {\r\n        setDataItemError({ flowId: false });\r\n    };\r\n\r\n    const handleSaveContact = async () => {\r\n        if (!selectedFlow) {\r\n            setDataItemError(old => ({ ...old, flowId: true }));\r\n            return toast.error('Selecione um fluxo');\r\n        }\r\n\r\n        const flow = flows.find (item => item.id === selectedFlow);\r\n        if (!flow) {\r\n            return toast.error('Fluxo selecionado não encontrado.');\r\n        }\r\n\r\n        try {\r\n            if (open === 'edit') {\r\n                await onUpdate({ ...data, data: flow });\r\n                toast.success(\"Fluxo editado com sucesso!\");\r\n            } else if (open === 'create') {\r\n                await onSave({ data: flow });\r\n                toast.success(\"Fluxo criado com sucesso!\");\r\n            }\r\n            handleClose();\r\n        } catch (error) {\r\n            console.error(\"Erro ao salvar o fluxo:\", error); // Debugging\r\n            toast.error(\"Erro ao salvar o fluxo.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Dialog open={open} onClose={handleClose} fullWidth=\"md\" scroll=\"paper\">\r\n                <DialogTitle id=\"form-dialog-title\">\r\n                    {open === 'create' ? `Adicionar um ticket ao fluxo` : `Editar Ticket`}\r\n                </DialogTitle>\r\n                <Stack sx={{ padding: \"52px\" }}>\r\n                    <Stack sx={{ gap: \"14px\" }}>\r\n                        <Typography>Escolha um fluxo</Typography>\r\n                        <Select\r\n                            labelId=\"demo-simple-select-label\"\r\n                            id=\"demo-simple-select\"\r\n                            value={selectedFlow}\r\n                            error={dataItemError.flowId}\r\n                            onChange={(e) => { setFlowSelected(e.target.value) }}\r\n                            MenuProps={{\r\n                                anchorOrigin: {\r\n                                    vertical: \"bottom\",\r\n                                    horizontal: \"left\",\r\n                                },\r\n                                transformOrigin: {\r\n                                    vertical: \"top\",\r\n                                    horizontal: \"left\",\r\n                                },\r\n                                getContentAnchorEl: null,\r\n                            }}\r\n                            renderValue={() => {\r\n                                if (selectedFlow === \"\") {\r\n                                    return \"Selecione uma Conexão\"\r\n                                }\r\n                                const flow = flows.find(w => w.id === selectedFlow)\r\n                                return flow ? flow.name : \"\";\r\n                            }}\r\n                        >\r\n                            {flows.length > 0 && (\r\n                                flows.map((flow, index) => (\r\n                                    <MenuItem dense key={index} value={flow.id}>{flow.name}</MenuItem>\r\n                                ))\r\n                            )}\r\n                        </Select>\r\n                    </Stack>\r\n                    <Stack\r\n                        direction={\"row\"}\r\n                        spacing={2}\r\n                        alignSelf={\"end\"}\r\n                        marginTop={\"16px\"}\r\n                    >\r\n                        <Button\r\n                            variant=\"outlined\"\r\n                            onClick={handleClose}\r\n                        >\r\n                            Cancelar\r\n                        </Button>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={handleSaveContact}\r\n                        >\r\n                            {open === 'create' ? `Adicionar` : 'Editar'}\r\n                        </Button>\r\n                    </Stack>\r\n                </Stack>\r\n                {loading && (\r\n                    <Stack\r\n                        justifyContent={\"center\"}\r\n                        alignItems={\"center\"}\r\n                        minHeight={\"10vh\"}\r\n                        sx={{ padding: \"52px\" }}\r\n                    >\r\n                        <CircularProgress />\r\n                    </Stack>\r\n                )}\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FlowBuilderAddQueueFlowModal;","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Compressor from \"compressorjs\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Checkbox, Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst FlowBuilderAddAudioModal = ({ open, onSave, onUpdate, data, close }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [activeModal, setActiveModal] = useState(false);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [record, setRecord] = useState(false);\r\n\r\n  const [preview, setPreview] = useState();\r\n\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar audio ao fluxo\",\r\n    btn: \"Adicionar\"\r\n  });\r\n\r\n  const [textDig, setTextDig] = useState();\r\n\r\n  const [medias, setMedias] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar audio\",\r\n        btn: \"Salvar\"\r\n      });\r\n      setPreview(process.env.REACT_APP_BACKEND_URL + '/public/' + data.data.url)\r\n      setRecord(data.data.record)\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Adicionar audio ao fluxo\",\r\n        btn: \"Adicionar\"\r\n      });\r\n      setTextDig(\"\");\r\n      setActiveModal(true);\r\n    } else {\r\n      setActiveModal(false);\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleSaveContact = async () => {\r\n    if (open === \"edit\") {\r\n      handleClose();\r\n      onUpdate({\r\n        ...data,\r\n        data: { url: data.data.url,\r\n        record: record }\r\n      });\r\n      return;\r\n    } else if (open === \"create\") {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n      formData.append(\"fromMe\", true);\r\n\r\n      medias.forEach(async (media, idx) => {\r\n        const file = media;\r\n\r\n        if (!file) {\r\n          return;\r\n        }\r\n\r\n        if (media?.type.split(\"/\")[0] == \"image\") {\r\n          new Compressor(file, {\r\n            quality: 0.7,\r\n\r\n            async success(media) {\r\n              formData.append(\"medias\", media);\r\n              formData.append(\"body\", media.name);\r\n            },\r\n            error(err) {\r\n              alert(\"erro\");\r\n              console.log(err.message);\r\n            }\r\n          });\r\n        } else {\r\n          formData.append(\"medias\", media);\r\n          formData.append(\"body\", media.name);\r\n        }\r\n      });\r\n\r\n      setTimeout(async () => {\r\n        await api.post(\"/flowbuilder/audio\", formData).then(res => {\r\n          handleClose();\r\n          onSave({\r\n            url: res.data.name,\r\n            record: record\r\n          });\r\n          toast.success(\"Audio adicionada com sucesso!\");\r\n          setLoading(false);\r\n          setMedias([]);\r\n          setPreview();\r\n        });\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  const handleChangeMedias = e => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    if(e.target.files[0].size > 5000000){\r\n      toast.error(\"Arquivo é muito grande! 5MB máximo\")\r\n      return\r\n    }\r\n\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setPreview((URL.createObjectURL(e.target.files[0])));\r\n    setMedias(selectedMedias);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\r\n        <Stack>\r\n          <DialogContent dividers>\r\n            <Stack gap={\"16px\"}>\r\n              {preview && (\r\n                <Stack direction={'row'} justifyContent={'center'}>\r\n                <audio controls=\"controls\">\r\n                  <source src={preview} type=\"audio/mp3\" />\r\n                  seu navegador não suporta HTML5\r\n                </audio>\r\n                </Stack>\r\n              )}\r\n              {preview && (\r\n                <Stack direction={'row'} justifyContent={'center'}>\r\n                <Checkbox checked={record} onChange={(e) => setRecord(old => !old)}/>\r\n                <Stack justifyContent={'center'}>\r\n                <Typography>Enviar como audio gravado na hora</Typography>\r\n                </Stack>\r\n                </Stack>\r\n              )}\r\n              {!loading && open !== \"edit\" && (\r\n                <Button variant=\"contained\" component=\"label\">\r\n                  Enviar audio\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"audio/ogg, audio/mp3\"\r\n                    disabled={loading}\r\n                    hidden\r\n                    onChange={handleChangeMedias}\r\n                  />\r\n                </Button>\r\n              )}\r\n              {loading && (\r\n                <>\r\n                  <Stack justifyContent={\"center\"} alignSelf={\"center\"}>\r\n                    <CircularProgress />\r\n                  </Stack>\r\n                </>\r\n              )}\r\n            </Stack>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            {!loading && (\r\n              <>\r\n                <Button\r\n                  onClick={() => {\r\n                    handleClose();\r\n                    setMedias([]);\r\n                    setPreview();\r\n                  }}\r\n                  color=\"secondary\"\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                  onClick={() => handleSaveContact()}\r\n                >\r\n                  {`${labels.btn}`}\r\n                </Button>\r\n              </>\r\n            )}\r\n          </DialogActions>\r\n        </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderAddAudioModal;\r\n","import { ContentCopy, Delete, Message, MicNone } from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const link =\r\n    process.env.REACT_APP_BACKEND_URL === \"http://localhost:8090\"\r\n      ? \"http://localhost:8090\"\r\n      : process.env.REACT_APP_BACKEND_URL;\r\n\r\n  const storageItems = useNodeStorage();\r\n  return (\r\n    <div\r\n      style={{ backgroundColor: \"#555\", padding: \"8px\", borderRadius: \"8px\" }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{ background: \"#FF7606\" }}\r\n        isConnectable={isConnectable}\r\n      />\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <MicNone\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#ededed\", fontSize: \"16px\" }}>Audio</div>\r\n      </div>\r\n      <div style={{ color: \"#ededed\", fontSize: \"12px\" }}>\r\n        <div style={{ position: \"absolute\", right: \"50px\", top: \"12px\" }}>\r\n          {data.record && data.record ? (\r\n            <div>Gravado na hora</div>\r\n          ) : (\r\n            <div>Audio enviado</div>\r\n          )}\r\n        </div>\r\n        <audio controls=\"controls\">\r\n          <source src={`${link}/public/${data.url}`} type=\"audio/mp3\" />\r\n          seu navegador não suporta HTML5\r\n        </audio>\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{ background: \"#FF7606\" }}\r\n        isConnectable={isConnectable}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n","import {\r\n  ArrowForwardIos,\r\n  ContentCopy,\r\n  Delete,\r\n  ConfirmationNumber,\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { Typography, Box } from \"@material-ui/core\";\r\nimport typebotIcon from \"../../../assets/typebot-ico.png\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const storageItems = useNodeStorage();\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#ffffff\",\r\n        padding: \"8px\",\r\n        borderRadius: \"8px\",\r\n        boxShadow: \"rgba(0, 0, 0, 0.05) 0px 3px 5px\",\r\n        border: \"1px solid rgba(33, 94, 151, 0.25)\",\r\n      }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"20px\",\r\n          left: \"-12px\",\r\n          cursor: \"pointer\",\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\",\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6,\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\",\r\n        }}\r\n      >\r\n        <Box\r\n          component=\"img\"\r\n          sx={{\r\n            width: 16,\r\n            height: 16,\r\n            marginRight: 4,\r\n            marginTop: 4,\r\n            color: \"#3aba38\",\r\n          }}\r\n          src={typebotIcon}\r\n          alt=\"icon\"\r\n        />\r\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>TypeBot</div>\r\n      </div>\r\n      <div style={{ color: \"#232323\", fontSize: \"12px\", width: 180 }}>\r\n        <div\r\n          style={{\r\n            backgroundColor: \"#F6EEEE\",\r\n            marginBottom: \"3px\",\r\n            borderRadius: \"5px\",\r\n          }}\r\n        >\r\n          <div style={{ gap: \"5px\", padding: \"6px\" }}>\r\n            <div style={{ textAlign: \"center\" }}>TypeBot</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"70%\",\r\n          right: \"-11px\",\r\n          cursor: \"pointer\",\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\",\r\n          }}\r\n        />\r\n      </Handle>\r\n    </div>\r\n  );\r\n});\r\n","import {\r\n  ArrowForwardIos,\r\n  ContentCopy,\r\n  Delete,\r\n  ConfirmationNumber,\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { Typography, Box } from \"@material-ui/core\";\r\nimport { SiOpenai } from \"react-icons/si\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const storageItems = useNodeStorage();\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#ffffff\",\r\n        padding: \"8px\",\r\n        borderRadius: \"8px\",\r\n        boxShadow: \"rgba(0, 0, 0, 0.05) 0px 3px 5px\",\r\n        border: \"1px solid rgba(33, 94, 151, 0.25)\",\r\n      }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"20px\",\r\n          left: \"-12px\",\r\n          cursor: \"pointer\",\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\",\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6,\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\",\r\n        }}\r\n      >\r\n       <SiOpenai\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\",\r\n            color: \"#3aba38\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>OpenAI</div>\r\n      </div>\r\n      <div style={{ color: \"#232323\", fontSize: \"12px\", width: 180 }}>\r\n        <div\r\n          style={{\r\n            backgroundColor: \"#F6EEEE\",\r\n            marginBottom: \"3px\",\r\n            borderRadius: \"5px\",\r\n          }}\r\n        >\r\n          <div style={{ gap: \"5px\", padding: \"6px\" }}>\r\n            <div style={{ textAlign: \"center\" }}>OpenAI</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"70%\",\r\n          right: \"-11px\",\r\n          cursor: \"pointer\",\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\",\r\n          }}\r\n        />\r\n      </Handle>\r\n    </div>\r\n  );\r\n});\r\n","import {\r\n  ArrowForwardIos, ContentCopy,\r\n  Delete, CompareArrows\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\nimport TextField from '@mui/material/TextField';\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const storageItems = useNodeStorage();\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#ffffff\",\r\n        padding: \"8px\",\r\n        borderRadius: \"8px\",\r\n        boxShadow: \"rgba(0, 0, 0, 0.05) 0px 3px 5px\",\r\n        border: '1px solid rgba(33, 94, 151, 0.25)'\r\n      }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"20px\",\r\n          left: \"-12px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: 'none'\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <CompareArrows\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\",\r\n            color: \"#3aba38\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>\r\n          Trocar Fluxo\r\n        </div>\r\n      </div>\r\n      <div style={{ color: \"#232323\", fontSize: \"12px\", width: 180 }}>\r\n        <div\r\n          style={{\r\n            backgroundColor: \"#F6EEEE\",\r\n            marginBottom: \"3px\",\r\n            borderRadius: \"5px\"\r\n          }}\r\n        >\r\n          <div style={{ gap: \"5px\", padding: \"6px\" }}>\r\n            <div style={{ textAlign: \"center\" }}>\r\n              {Object.keys(data)[0] === \"data\" ? (\r\n                data.data.name\r\n              ) : (\r\n                data.name\r\n              )\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"70%\",\r\n          right: \"-11px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n    </div>\r\n  );\r\n});\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Slider, Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst FlowBuilderRandomizerModal = ({\r\n  open,\r\n  onSave,\r\n  data,\r\n  onUpdate,\r\n  close\r\n}) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [percent, setPercent] = useState(0);\r\n  const [activeModal, setActiveModal] = useState(false);\r\n  \r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setPercent(data.data.percent);\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setPercent(0);\r\n      setActiveModal(true);\r\n    }\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, [open]);\r\n\r\n  const handleClose = () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleValue = (event, newValue) => {\r\n    setPercent(newValue)\r\n  }\r\n\r\n  const handleSaveContact = async values => {\r\n    if (!percent || parseInt(percent) <= 0) {\r\n      return toast.error(\"Adicione o valor de intervalo\");\r\n    }\r\n    if (parseInt(percent) > 120) {\r\n      return toast.error(\"Máximo de tempo atingido 120 segundos\");\r\n    }\r\n    if (open === \"edit\") {\r\n      onUpdate({\r\n        ...data,\r\n        data: { percent: percent }\r\n      });\r\n    } else if (open === \"create\") {\r\n      onSave({\r\n        percent: percent\r\n      });\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {open === \"create\"\r\n            ? `Adicionar um randomizador ao fluxo`\r\n            : `Editar randomizador`}\r\n        </DialogTitle>\r\n        <Stack>\r\n          <DialogContent dividers>\r\n            <Stack direction={'row'} minHeight={120} alignItems={'center'} gap={4}>\r\n              <Typography>{percent}%</Typography>\r\n              <Slider\r\n                aria-label=\"Temperature\"\r\n                defaultValue={percent}\r\n                valueLabelDisplay=\"auto\"\r\n                onChange={handleValue}\r\n                step={10}\r\n                marks\r\n                min={0}\r\n                max={100}\r\n              />\r\n              <Typography>{100 - percent}%</Typography>\r\n            </Stack>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={handleClose} color=\"secondary\" variant=\"outlined\">\r\n              {i18n.t(\"contactModal.buttons.cancel\")}\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={classes.btnWrapper}\r\n              onClick={() => handleSaveContact()}\r\n            >\r\n              {open === \"create\" ? `Adicionar` : \"Editar\"}\r\n            </Button>\r\n          </DialogActions>\r\n        </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderRandomizerModal;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Compressor from \"compressorjs\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Checkbox, Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst FlowBuilderAddVideoModal = ({ open, onSave, onUpdate, data, close }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [activeModal, setActiveModal] = useState(false);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [record, setRecord] = useState(false);\r\n\r\n  const [preview, setPreview] = useState();\r\n\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar video ao fluxo\",\r\n    btn: \"Adicionar\"\r\n  });\r\n\r\n  const [medias, setMedias] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar video\",\r\n        btn: \"Salvar\"\r\n      });\r\n      setPreview(process.env.REACT_APP_BACKEND_URL + '/public/' + data.data.url)\r\n      setRecord(data.data.record)\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Adicionar video ao fluxo\",\r\n        btn: \"Adicionar\"\r\n      });\r\n      setActiveModal(true);\r\n    } else {\r\n      setActiveModal(false);\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleSaveContact = async () => {\r\n    if (open === \"edit\") {\r\n      handleClose();\r\n      onUpdate({\r\n        ...data,\r\n        data: { url: data.data.url,\r\n        record: record }\r\n      });\r\n      return;\r\n    } else if (open === \"create\") {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n      formData.append(\"fromMe\", true);\r\n\r\n      medias.forEach(async (media, idx) => {\r\n        const file = media;\r\n\r\n        if (!file) {\r\n          return;\r\n        }\r\n\r\n        if (media?.type.split(\"/\")[0] == \"image\") {\r\n          new Compressor(file, {\r\n            quality: 0.7,\r\n\r\n            async success(media) {\r\n              formData.append(\"medias\", media);\r\n              formData.append(\"body\", media.name);\r\n            },\r\n            error(err) {\r\n              alert(\"erro\");\r\n              console.log(err.message);\r\n            }\r\n          });\r\n        } else {\r\n          formData.append(\"medias\", media);\r\n          formData.append(\"body\", media.name);\r\n        }\r\n      });\r\n\r\n      setTimeout(async () => {\r\n        await api.post(\"/flowbuilder/audio\", formData).then(res => {\r\n          handleClose();\r\n          onSave({\r\n            url: res.data.name,\r\n          });\r\n          toast.success(\"Audio adicionada com sucesso!\");\r\n          setLoading(false);\r\n          setMedias([]);\r\n          setPreview();\r\n        });\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  const handleChangeMedias = e => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    if(e.target.files[0].size > 20000000){\r\n      toast.error(\"Arquivo é muito grande! 20MB máximo\")\r\n      return\r\n    }\r\n\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setPreview((URL.createObjectURL(e.target.files[0])));\r\n    setMedias(selectedMedias);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\r\n        <Stack>\r\n          <DialogContent dividers>\r\n            <Stack gap={\"16px\"}>\r\n              {preview && (\r\n                <Stack direction={'row'} justifyContent={'center'}>\r\n                <video controls=\"controls\" width=\"552px\">\r\n                  <source src={preview} type=\"video/mp4\" />\r\n                  seu navegador não suporta HTML5\r\n                </video>\r\n                </Stack>\r\n              )}\r\n              {!loading && open !== \"edit\" && !preview && (\r\n                <>\r\n                <Button variant=\"contained\" component=\"label\">\r\n                  Enviar video\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"video/mp4\"\r\n                    disabled={loading}\r\n                    hidden\r\n                    onChange={handleChangeMedias}\r\n                  />\r\n                </Button>\r\n                <Typography>ATENÇÃO! Apenas videos em MP4!</Typography>\r\n                </>\r\n              )}\r\n              {loading && (\r\n                <>\r\n                  <Stack justifyContent={\"center\"} alignSelf={\"center\"}>\r\n                    <CircularProgress />\r\n                  </Stack>\r\n                </>\r\n              )}\r\n            </Stack>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            {!loading && (\r\n              <>\r\n                <Button\r\n                  onClick={() => {\r\n                    handleClose();\r\n                    setMedias([]);\r\n                    setPreview();\r\n                  }}\r\n                  color=\"secondary\"\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                  onClick={() => handleSaveContact()}\r\n                >\r\n                  {`${labels.btn}`}\r\n                </Button>\r\n              </>\r\n            )}\r\n          </DialogActions>\r\n        </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderAddVideoModal;\r\n","export function capitalize(str) {\r\n    // Verifique se a string não está vazia\r\n    if (str.length === 0) {\r\n      return str;\r\n    }\r\n  \r\n    // Capitalize a primeira letra e concatene com o restante da string\r\n    return str.charAt(0).toUpperCase() + str.slice(1);\r\n  }","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Compressor from \"compressorjs\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport {\r\n  Checkbox,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Stack,\r\n  Typography\r\n} from \"@mui/material\";\r\nimport {\r\n  AccessTime,\r\n  AddCircle,\r\n  Delete,\r\n  Image,\r\n  KeyboardArrowDown,\r\n  KeyboardArrowUp,\r\n  Message,\r\n  MicNone,\r\n  Videocam\r\n} from \"@mui/icons-material\";\r\nimport { capitalize } from \"../../utils/capitalize\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst FlowBuilderSingleBlockModal = ({\r\n  open,\r\n  onSave,\r\n  onUpdate,\r\n  data,\r\n  close\r\n}) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [activeModal, setActiveModal] = useState(false);\r\n\r\n  const [rule, setRule] = useState();\r\n\r\n  const [medias, setMedias] = useState([]);\r\n\r\n  const [textDig, setTextDig] = useState();\r\n\r\n  const [elements, setElements] = useState([]);\r\n\r\n  const [elementsSeq, setElementsSeq] = useState([]);\r\n\r\n  const [elementsSeqEdit, setElementsSeqEdit] = useState([]);\r\n\r\n  const [elementsEdit, setElementsEdit] = useState([]);\r\n\r\n  const [numberMessages, setNumberMessages] = useState(0);\r\n\r\n  const [numberMessagesLast, setNumberMessagesLast] = useState(0);\r\n\r\n  const [numberInterval, setNumberInterval] = useState(0);\r\n\r\n  const [numberIntervalLast, setNumberIntervalLast] = useState(0);\r\n\r\n  const [numberAudio, setNumberAudio] = useState(0);\r\n\r\n  const [numberAudioLast, setNumberAudioLast] = useState(0);\r\n\r\n  const [numberVideo, setNumberVideo] = useState(0);\r\n\r\n  const [numberVideoLast, setNumberVideoLast] = useState(0);\r\n\r\n  const [numberImg, setNumberImg] = useState(0);\r\n\r\n  const [numberImgLast, setNumberImgLast] = useState(0);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [previewImg, setPreviewImg] = useState([]);\r\n\r\n  const [previewAudios, setPreviewAudios] = useState([]);\r\n\r\n  const [previewVideos, setPreviewVideos] = useState([]);\r\n\r\n  const [arrayOption, setArrayOption] = useState([]);\r\n\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar conteúdo ao fluxo\",\r\n    btn: \"Adicionar\"\r\n  });\r\n\r\n  const handleElements = newNameFiles => {\r\n    let elementsSequence = [];\r\n\r\n    const newArrMessage = elementsSeq.filter(item => item.includes(\"message\"));\r\n    const newArrInterval = elementsSeq.filter(item =>\r\n      item.includes(\"interval\")\r\n    );\r\n    const newArrImg = elementsSeq.filter(item => item.includes(\"img\"));\r\n    const newArrAudio = elementsSeq.filter(item => item.includes(\"audio\"));\r\n    const newArrVideo = elementsSeq.filter(item => item.includes(\"video\"));\r\n\r\n    //Todas as mensagens\r\n    for (let i = 0; i < numberMessages; i++) {\r\n      const value = document\r\n        .querySelector(`.${newArrMessage[i]}`)\r\n        .querySelector(\".MuiInputBase-input\").value;\r\n      if (!value) {\r\n        toast.error(\"Campos de mensagem vazio!\");\r\n        setLoading(false);\r\n        throw \"\";\r\n      }\r\n      elementsSequence.push({\r\n        type: \"message\",\r\n        value: value,\r\n        number: newArrMessage[i]\r\n      });\r\n    }\r\n    //Todos os intervalos\r\n    for (let i = 0; i < numberInterval; i++) {\r\n      const value = document\r\n        .querySelector(`.${newArrInterval[i]}`)\r\n        .querySelector(\".MuiInputBase-input\").value;\r\n      if (parseInt(value) === 0 || parseInt(value) > 120) {\r\n        toast.error(\"Intervalo não pode ser 0 ou maior que 120!\");\r\n        setLoading(false);\r\n        throw \"\";\r\n      }\r\n      elementsSequence.push({\r\n        type: \"interval\",\r\n        value: value,\r\n        number: newArrInterval[i]\r\n      });\r\n    }\r\n\r\n    //Todas as imagens\r\n    for (let i = 0; i < numberImg; i++) {\r\n      const onlyImg =\r\n        newNameFiles !== null &&\r\n        newNameFiles.filter(\r\n          file =>\r\n            file.includes(\"png\") ||\r\n            file.includes(\"jpg\") ||\r\n            file.includes(\"jpeg\")\r\n        );\r\n      const onlyImgNameOriginal = medias.filter(\r\n        file =>\r\n          file.name.includes(\"png\") ||\r\n          file.name.includes(\"jpg\") ||\r\n          file.name.includes(\"jpeg\")\r\n      );      \r\n      if (elementsSeqEdit.includes(newArrImg[i])) {\r\n        const itemSelectedEdit = elementsEdit.filter(\r\n          item => item.number === newArrImg[i]\r\n        )[0];\r\n        elementsSequence.push({\r\n          type: \"img\",\r\n          value: itemSelectedEdit.value,\r\n          original: itemSelectedEdit.original,\r\n          number: itemSelectedEdit.number\r\n        });\r\n      } else {\r\n        let indexElem = 0;\r\n        if (elementsSeqEdit.filter(item => item.includes(\"img\")).length > 0) {\r\n          indexElem =\r\n            elementsSeqEdit.filter(item => item.includes(\"img\")).length - i;\r\n        } else {\r\n          indexElem = i;\r\n        }\r\n        elementsSequence.push({\r\n          type: \"img\",\r\n          value: onlyImg[indexElem],\r\n          original: onlyImgNameOriginal[indexElem].name,\r\n          number: newArrImg[i]\r\n        });\r\n      }\r\n    }\r\n    //Todos os audios\r\n    for (let i = 0; i < numberAudio; i++) {\r\n      const onlyAudio =\r\n        newNameFiles !== null &&\r\n        newNameFiles.filter(\r\n          file =>\r\n            file.includes(\"mp3\") ||\r\n            file.includes(\"ogg\") ||\r\n            file.includes(\"mpeg\") ||\r\n            file.includes(\"opus\")\r\n        );\r\n      const onlyAudioNameOriginal = medias.filter(\r\n        file =>\r\n          file.name.includes(\"mp3\") ||\r\n          file.name.includes(\"ogg\") ||\r\n          file.name.includes(\"mpeg\") ||\r\n          file.name.includes(\"opus\")\r\n      );\r\n      \r\n      if (elementsSeqEdit.includes(newArrAudio[i])) {\r\n        const itemSelectedEdit = elementsEdit.filter(\r\n          item => item.number === newArrAudio[i]\r\n        )[0];\r\n        elementsSequence.push({\r\n          type: \"audio\",\r\n          value: itemSelectedEdit.value,\r\n          original: itemSelectedEdit.original,\r\n          number: itemSelectedEdit.number,\r\n          record: document.querySelector(`.check${newArrAudio[i]}`).querySelector(\".PrivateSwitchBase-input\").checked\r\n        });\r\n      } else {\r\n        let indexElem = 0;\r\n        if (elementsSeqEdit.filter(item => item.includes(\"audio\")).length > 0) {\r\n          indexElem =\r\n            elementsSeqEdit.filter(item => item.includes(\"audio\")).length - i;\r\n        } else {\r\n          indexElem = i;\r\n        }\r\n        elementsSequence.push({\r\n          type: \"audio\",\r\n          value: onlyAudio[indexElem],\r\n          original: onlyAudioNameOriginal[indexElem].name,\r\n          number: newArrAudio[i],\r\n          record: document.querySelector(`.check${newArrAudio[i]}`).querySelector(\".PrivateSwitchBase-input\").checked\r\n        });        \r\n      }\r\n    }\r\n    //Todos os videos\r\n    for (let i = 0; i < numberVideo; i++) {\r\n      const onlyVideo =\r\n        newNameFiles !== null &&\r\n        newNameFiles.filter(\r\n          file => file.includes(\"mp4\") || file.includes(\"avi\")\r\n        );\r\n      const onlyVideoNameOriginal = medias.filter(\r\n        file => file.name.includes(\"mp4\") || file.name.includes(\"avi\")\r\n      );\r\n      if (elementsSeqEdit.includes(newArrVideo[i])) {\r\n        const itemSelectedEdit = elementsEdit.filter(\r\n          item => item.number === newArrVideo[i]\r\n        )[0];\r\n        elementsSequence.push({\r\n          type: \"video\",\r\n          value: itemSelectedEdit.value,\r\n          original: itemSelectedEdit.original,\r\n          number: itemSelectedEdit.number\r\n        });\r\n      } else {\r\n        let indexElem = 0;\r\n        if (elementsSeqEdit.filter(item => item.includes(\"video\")).length > 0) {\r\n          indexElem =\r\n            elementsSeqEdit.filter(item => item.includes(\"video\")).length - i;\r\n        } else {\r\n          indexElem = i;\r\n        }\r\n        elementsSequence.push({\r\n          type: \"video\",\r\n          value: onlyVideo[indexElem],\r\n          original: onlyVideoNameOriginal[indexElem].name,\r\n          number: newArrVideo[i]\r\n        });\r\n      }\r\n    }\r\n    return elementsSequence;\r\n  };\r\n\r\n  const deleteElementsTypeOne = (id, type) => {\r\n    if (type === \"message\") {\r\n      setNumberMessages(old => old - 1);\r\n      setElementsSeq(old => old.filter(item => item !== `message${id}`));\r\n      setElementsSeqEdit(old => old.filter(item => item !== `message${id}`))\r\n      document.querySelector(`.stackMessage${id}`).remove();\r\n    }\r\n    if (type === \"interval\") {\r\n      setNumberInterval(old => old - 1);\r\n      setElementsSeq(old => old.filter(item => item !== `interval${id}`));\r\n      setElementsSeqEdit(old => old.filter(item => item !== `interval${id}`))\r\n      document.querySelector(`.stackInterval${id}`).remove();\r\n    }\r\n    if (type === \"img\") {\r\n      setNumberImg(old => old - 1);\r\n      setPreviewImg(old => {\r\n        setMedias(oldMedia => {\r\n          try {\r\n            return oldMedia.filter(\r\n              mediaItem =>\r\n                mediaItem.name !==\r\n                old.filter(item => item.number === id)[0].name\r\n            );\r\n          } catch (e) {\r\n            return oldMedia;\r\n          }\r\n        });\r\n        return old.filter(item => item.number !== id);\r\n      });\r\n      setElementsSeq(old => old.filter(item => item !== `img${id}`));\r\n      setElementsSeqEdit(old => old.filter(item => item !== `img${id}`))\r\n      document.querySelector(`.stackImg${id}`).remove();\r\n    }\r\n    if (type === \"audio\") {\r\n      setNumberAudio(old => old - 1);\r\n      setPreviewAudios(old => {\r\n        setMedias(oldMedia => {\r\n          try {\r\n            return oldMedia.filter(\r\n              mediaItem =>\r\n                mediaItem.name !==\r\n                old.filter(item => item.number === id)[0].name\r\n            );\r\n          } catch (e) {\r\n            return oldMedia;\r\n          }\r\n        });\r\n        return old.filter(item => item.number !== id);\r\n      });\r\n      setElementsSeq(old => old.filter(item => item !== `audio${id}`));\r\n      setElementsSeqEdit(old => old.filter(item => item !== `audio${id}`))\r\n      document.querySelector(`.stackAudio${id}`).remove();\r\n    }\r\n    if (type === \"video\") {\r\n      setNumberVideo(old => old - 1);\r\n      setPreviewVideos(old => {\r\n        setMedias(oldMedia => {\r\n          try {\r\n            return oldMedia.filter(\r\n              mediaItem =>\r\n                mediaItem.name !==\r\n                old.filter(item => item.number === id)[0].name\r\n            );\r\n          } catch (e) {\r\n            return oldMedia;\r\n          }\r\n        });\r\n        return old.filter(item => item.number !== id);\r\n      });\r\n      setElementsSeq(old => old.filter(item => item !== `video${id}`));\r\n      setElementsSeqEdit(old => old.filter(item => item !== `video${id}`))\r\n      document.querySelector(`.stackVideo${id}`).remove();\r\n    }\r\n  };\r\n\r\n  const moveElementDown = id => {\r\n    setElementsSeq(old => {\r\n      const array = old;\r\n      const index = array.indexOf(id);\r\n      moveItemParaFrente(index);\r\n      if (index !== -1 && index < array.length - 1) {\r\n        // Verifica se o elemento foi encontrado no array e não está na última posição\r\n        const novoArray = [...array]; // Cria uma cópia do array original\r\n        const elementoMovido = novoArray.splice(index, 1)[0];\r\n        novoArray.splice(index + 1, 0, elementoMovido);\r\n        return novoArray;\r\n      }\r\n      return array;\r\n    });\r\n  };\r\n\r\n  const moveElementUp = id => {\r\n    setElementsSeq(old => {\r\n      const array = old;\r\n      const index = array.indexOf(id);\r\n      moveItemParaTras(index);\r\n\r\n      if (index !== -1 && index > 0) {\r\n        // Verifica se o elemento foi encontrado no array e não está na primeira posição\r\n        const novoArray = [...array]; // Cria uma cópia do array original\r\n        const elementoMovido = novoArray.splice(index, 1)[0];\r\n        novoArray.splice(index - 1, 0, elementoMovido);\r\n        return novoArray;\r\n      }\r\n      return array;\r\n    });\r\n  };\r\n\r\n  function moveItemParaFrente(posicao) {\r\n    setElements(old => {\r\n      const array = old;\r\n\r\n      if (posicao >= 0 && posicao < array.length - 1) {\r\n        const novoArray = [...array]; // Cria uma cópia do array original\r\n        const elementoMovido = novoArray.splice(posicao, 1)[0];\r\n        novoArray.splice(posicao + 1, 0, elementoMovido);\r\n        return novoArray;\r\n      }\r\n\r\n      return array; // Retorna o array original se a movimentação não for possível\r\n    });\r\n  }\r\n\r\n  function moveItemParaTras(posicao) {\r\n    setElements(old => {\r\n      const array = old;\r\n      if (posicao > 0 && posicao < array.length) {\r\n        const novoArray = [...array]; // Cria uma cópia do array original\r\n        const elementoMovido = novoArray.splice(posicao, 1)[0];\r\n        novoArray.splice(posicao - 1, 0, elementoMovido);\r\n        return novoArray;\r\n      }\r\n\r\n      return array; // Retorna o array original se a movimentação não for possível\r\n    });\r\n  }\r\n\r\n  const handleChangeMediasImg = (e, number) => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    if (e.target.files[0].size > 2000000) {\r\n      toast.error(\"Arquivo é muito grande! 2MB máximo\");\r\n      return;\r\n    }\r\n    const imgBlob = URL.createObjectURL(e.target.files[0]);\r\n    setPreviewImg(old => [\r\n      ...old,\r\n      {\r\n        number: number,\r\n        url: imgBlob,\r\n        name: e.target.files[0].name\r\n      }\r\n    ]);\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setMedias(old => [...old, selectedMedias[0]]);\r\n\r\n    document.querySelector(`.img${number}`).src = imgBlob;\r\n    document.querySelector(`.btnImg${number}`).remove();\r\n  };\r\n\r\n  const handleChangeAudios = (e, number) => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    if (e.target.files[0].size > 5000000) {\r\n      toast.error(\"Arquivo é muito grande! 5MB máximo\");\r\n      return;\r\n    }\r\n\r\n    const audioBlob = URL.createObjectURL(e.target.files[0]);\r\n    setPreviewAudios(old => [\r\n      ...old,\r\n      {\r\n        number: number,\r\n        url: audioBlob,\r\n        name: e.target.files[0].name\r\n      }\r\n    ]);\r\n\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setMedias(old => [...old, selectedMedias[0]]);\r\n\r\n    document.querySelector(\r\n      `.audio${number}`\r\n    ).innerHTML = `<audio controls=\"controls\">\r\n    <source src=\"${audioBlob}\" type=\"audio/mp3\" />\r\n    seu navegador não suporta HTML5\r\n  </audio>`;\r\n    document.querySelector(`.btnAudio${number}`).remove();\r\n  };\r\n\r\n  const handleChangeVideos = (e, number) => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    if (e.target.files[0].size > 20000000) {\r\n      toast.error(\"Arquivo é muito grande! 20MB máximo\");\r\n      return;\r\n    }\r\n    const videoBlob = URL.createObjectURL(e.target.files[0]);\r\n    setPreviewVideos(old => [\r\n      ...old,\r\n      {\r\n        number: number,\r\n        url: videoBlob,\r\n        name: e.target.files[0].name\r\n      }\r\n    ]);\r\n\r\n    var divConteudo = document.createElement(\"div\");\r\n\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setMedias(old => [...old, selectedMedias[0]]);\r\n\r\n    divConteudo.innerHTML = `<video controls=\"controls\" style=\"width: 200px;\">\r\n    <source src=\"${videoBlob}\" type=\"video/mp4\" />\r\n    seu navegador não suporta HTML5\r\n  </video>`;\r\n\r\n    document.querySelector(`.video${number}`).appendChild(divConteudo);\r\n    document.querySelector(`.btnVideo${number}`).remove();\r\n  };\r\n\r\n  const imgLayout = (number, valueDefault = \"\") => {\r\n    return (\r\n      <Stack\r\n        sx={{\r\n          border: \"1px solid #FF7606\",\r\n          borderRadius: \"7px\",\r\n          padding: \"6px\",\r\n          position: \"relative\"\r\n        }}\r\n        className={`stackImg${number}`}\r\n        key={`stackImg${number}`}\r\n      >\r\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\r\n          <Delete onClick={() => deleteElementsTypeOne(number, \"img\")} />\r\n        </Stack>\r\n        <Typography textAlign={\"center\"}>Imagem</Typography>\r\n        <Stack direction={\"row\"} justifyContent={\"center\"}>\r\n          <img\r\n            src={\r\n              valueDefault.length > 0\r\n                ? process.env.REACT_APP_BACKEND_URL + \"/public/\" + valueDefault\r\n                : \"\"\r\n            }\r\n            className={`img${number}`}\r\n            style={{ width: \"200px\" }}\r\n          />\r\n        </Stack>\r\n        {valueDefault.length === 0 && (\r\n          <Button\r\n            variant=\"contained\"\r\n            component=\"label\"\r\n            className={`btnImg${number}`}\r\n          >\r\n            Enviar imagem\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/png, image/jpg, image/jpeg\"\r\n              hidden\r\n              onChange={e => handleChangeMediasImg(e, number)}\r\n            />\r\n          </Button>\r\n        )}\r\n      </Stack>\r\n    );\r\n  };\r\n\r\n  const audioLayout = (number, valueDefault = \"\", valueRecordDefault = \"\") => {\r\n    return (\r\n      <Stack\r\n        sx={{\r\n          border: \"1px solid #FF7606\",\r\n          borderRadius: \"7px\",\r\n          padding: \"6px\",\r\n          position: \"relative\"\r\n        }}\r\n        className={`stackAudio${number}`}\r\n        key={`stackAudio${number}`}\r\n      >\r\n        <Stack\r\n          sx={{ position: \"absolute\", right: 6 }}\r\n          direction={\"row\"}\r\n          gap={1}\r\n        >\r\n          {/* <KeyboardArrowUp\r\n            onClick={() => moveElementUp(`audio${number}`)}\r\n            sx={{ cursor: \"pointer\" }}\r\n          />\r\n          <KeyboardArrowDown\r\n            onClick={() => moveElementDown(`audio${number}`)}\r\n            sx={{ cursor: \"pointer\" }}\r\n          /> */}\r\n          <Delete\r\n            sx={{ cursor: \"pointer\" }}\r\n            onClick={() => deleteElementsTypeOne(number, \"audio\")}\r\n          />\r\n        </Stack>\r\n        <Typography textAlign={\"center\"}>Audio</Typography>\r\n        <div\r\n          className={`audio${number}`}\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"center\"\r\n          }}\r\n        >\r\n          {valueDefault.length > 0 && (\r\n            <audio controls=\"controls\">\r\n              <source\r\n                src={\r\n                  process.env.REACT_APP_BACKEND_URL + \"/public/\" + valueDefault\r\n                }\r\n                type=\"audio/mp3\"\r\n              />\r\n              seu navegador não suporta HTML5\r\n            </audio>\r\n          )}\r\n        </div>\r\n        {valueDefault.length === 0 && (\r\n          <Button\r\n            variant=\"contained\"\r\n            component=\"label\"\r\n            className={`btnAudio${number}`}\r\n          >\r\n            Enviar audio\r\n            <input\r\n              type=\"file\"\r\n              accept=\"audio/ogg, audio/mp3, audio/opus\"\r\n              hidden\r\n              onChange={e => handleChangeAudios(e, number)}\r\n            />\r\n          </Button>\r\n        )}\r\n        <Stack direction={\"row\"} justifyContent={\"center\"}>\r\n          <Checkbox\r\n            className={`checkaudio${number}`}\r\n            defaultChecked={valueRecordDefault === \"ok\" ? false : true}\r\n          />\r\n          <Stack justifyContent={\"center\"}>\r\n            <Typography>Enviar como audio gravado na hora</Typography>\r\n          </Stack>\r\n        </Stack>\r\n      </Stack>\r\n    );\r\n  };\r\n\r\n  const videoLayout = (number, valueDefault = \"\") => {\r\n    return (\r\n      <Stack\r\n        sx={{\r\n          border: \"1px solid #FF7606\",\r\n          borderRadius: \"7px\",\r\n          padding: \"6px\",\r\n          position: \"relative\"\r\n        }}\r\n        className={`stackVideo${number}`}\r\n        key={`stackVideo${number}`}\r\n      >\r\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\r\n          <Delete onClick={() => deleteElementsTypeOne(number, \"video\")} />\r\n        </Stack>\r\n        <Typography textAlign={\"center\"}>Video</Typography>\r\n        <div\r\n          className={`video${number}`}\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"center\"\r\n          }}\r\n        >\r\n          {valueDefault.length > 0 && (\r\n            <video controls=\"controls\" style={{width: '200px'}}>\r\n              <source\r\n                src={process.env.REACT_APP_BACKEND_URL + \"/public/\" + valueDefault}\r\n                type=\"video/mp4\"\r\n              />\r\n              seu navegador não suporta HTML5\r\n            </video>\r\n          )}\r\n        </div>\r\n        {valueDefault.length === 0 && (\r\n          <Button\r\n            variant=\"contained\"\r\n            component=\"label\"\r\n            className={`btnVideo${number}`}\r\n          >\r\n            Enviar video\r\n            <input\r\n              type=\"file\"\r\n              accept=\"video/mp4\"\r\n              hidden\r\n              onChange={e => handleChangeVideos(e, number)}\r\n            />\r\n          </Button>\r\n        )}\r\n      </Stack>\r\n    );\r\n  };\r\n\r\n  const messageLayout = (number, valueDefault = \"\") => {\r\n    return (\r\n      <Stack\r\n        sx={{\r\n          border: \"1px solid #FF7606\",\r\n          borderRadius: \"7px\",\r\n          padding: \"6px\",\r\n          position: \"relative\"\r\n        }}\r\n        className={`stackMessage${number}`}\r\n        key={`stackMessage${number}`}\r\n      >\r\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\r\n          <Delete onClick={() => deleteElementsTypeOne(number, \"message\")} />\r\n        </Stack>\r\n        <Typography textAlign={\"center\"}>Texto</Typography>\r\n        <TextField\r\n          label={\"Mensagem\"}\r\n          defaultValue={valueDefault}\r\n          multiline\r\n          rows={7}\r\n          className={`message${number}`}\r\n          name=\"text\"\r\n          variant=\"outlined\"\r\n          margin=\"dense\"\r\n          style={{ width: \"100%\" }}\r\n        />\r\n      </Stack>\r\n    );\r\n  };\r\n\r\n  const intervalLayout = (number, valueDefault = 0) => {\r\n    return (\r\n      <Stack\r\n        sx={{\r\n          border: \"1px solid #FF7606\",\r\n          borderRadius: \"7px\",\r\n          padding: \"6px\",\r\n          position: \"relative\"\r\n        }}\r\n        className={`stackInterval${number}`}\r\n        key={`stackInterval${number}`}\r\n      >\r\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\r\n          <Delete onClick={() => deleteElementsTypeOne(number, \"interval\")} />\r\n        </Stack>\r\n        <Typography textAlign={\"center\"}>Intervalo</Typography>\r\n        <TextField\r\n          label={\"Tempo em segundos\"}\r\n          className={`interval${number}`}\r\n          defaultValue={valueDefault}\r\n          type=\"number\"\r\n          InputProps={{ inputProps: { min: 0, max: 120 } }}\r\n          variant=\"outlined\"\r\n          margin=\"dense\"\r\n          style={{ width: \"100%\" }}\r\n        />\r\n      </Stack>\r\n    );\r\n  };\r\n\r\n \r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar conteúdo\",\r\n        btn: \"Salvar\"\r\n      });\r\n\r\n      setElementsSeq(data.data.seq);\r\n\r\n    setElementsSeqEdit(data.data.seq);\r\n    setElementsEdit(data.data.elements);\r\n    if (data) {\r\n      const elementsEditLoc = data.data.elements;\r\n      const sequence = data.data.seq;\r\n\r\n      sequence.map(item => {\r\n        const itemNode = elementsEditLoc.filter(inode => inode.number === item)[0];\r\n        if (itemNode.type === \"message\") {\r\n          const numberLoc = parseInt(item.replace(\"message\", \"\"));\r\n          setElements(elm => [\r\n            ...elm,\r\n            messageLayout(numberLoc, itemNode.value)\r\n          ]);\r\n          setNumberMessages(old => {\r\n            const arsOnly = sequence.filter(item => item.includes(\"message\"));\r\n            const arrNumberMax = arsOnly.map(item =>\r\n              parseInt(item.replace(\"message\", \"\"))\r\n            );\r\n            setNumberMessagesLast(Math.max.apply(null, arrNumberMax) + 1);\r\n            return old + 1;\r\n          });\r\n        }\r\n        if (itemNode.type === \"interval\") {\r\n          const numberLoc = parseInt(item.replace(\"interval\", \"\"));\r\n          setElements(elm => [\r\n            ...elm,\r\n            intervalLayout(numberLoc, itemNode.value)\r\n          ]);\r\n          setNumberInterval(old => {\r\n            const arsOnly = sequence.filter(item => item.includes(\"interval\"));\r\n            const arrNumberMax = arsOnly.map(item =>\r\n              parseInt(item.replace(\"interval\", \"\"))\r\n            );\r\n            setNumberIntervalLast(Math.max.apply(null, arrNumberMax) + 1);\r\n            return old + 1;\r\n          });\r\n        }\r\n        if (itemNode.type === \"audio\") {\r\n          const numberLoc = parseInt(item.replace(\"audio\", \"\"));\r\n          setElements(elm => [\r\n            ...elm,\r\n            audioLayout(numberLoc, itemNode.value, itemNode.record ? \"\" : \"ok\")\r\n          ]);\r\n          setNumberAudio(old => {\r\n            const arsOnly = sequence.filter(item => item.includes(\"audio\"));\r\n            const arrNumberMax = arsOnly.map(item =>\r\n              parseInt(item.replace(\"audio\", \"\"))\r\n            );\r\n            setNumberAudioLast(Math.max.apply(null, arrNumberMax) + 1);\r\n            return old + 1;\r\n          });\r\n        }\r\n        if (itemNode.type === \"img\") {\r\n          const numberLoc = parseInt(item.replace(\"img\", \"\"));\r\n          setElements(elm => [...elm, imgLayout(numberLoc, itemNode.value)]);\r\n          setNumberImg(old => {\r\n            const arsOnly = sequence.filter(item => item.includes(\"img\"));\r\n            const arrNumberMax = arsOnly.map(item =>\r\n              parseInt(item.replace(\"img\", \"\"))\r\n            );\r\n            setNumberImgLast(Math.max.apply(null, arrNumberMax) + 1);\r\n            return old + 1;\r\n          });\r\n        }\r\n        if (itemNode.type === \"video\") {\r\n          const numberLoc = parseInt(item.replace(\"video\", \"\"));\r\n          setElements(elm => [...elm, videoLayout(numberLoc, itemNode.value)]);\r\n          setNumberVideo(old => {\r\n            const arsOnly = sequence.filter(item => item.includes(\"video\"));\r\n            const arrNumberMax = arsOnly.map(item =>\r\n              parseInt(item.replace(\"video\", \"\"))\r\n            );\r\n            setNumberVideoLast(Math.max.apply(null, arrNumberMax) + 1);\r\n            return old + 1;\r\n          });\r\n        }\r\n      });\r\n    }\r\n    setActiveModal(true);\r\n    }\r\n    if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Adicionar menu ao fluxo\",\r\n        btn: \"Adicionar\"\r\n      });\r\n      setTextDig();\r\n      setArrayOption([]);\r\n      setActiveModal(true);\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = async () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n    setTimeout(() => {\r\n      setMedias([]);\r\n      setPreviewImg([]);\r\n      setPreviewAudios([]);\r\n      setPreviewVideos([]);\r\n      setArrayOption([]);\r\n      setElements([]);\r\n      setElementsSeq([]);\r\n      setElementsEdit([]);\r\n      setElementsSeqEdit([]);\r\n      setNumberMessages(0);\r\n      setNumberMessagesLast(0);\r\n      setNumberInterval(0);\r\n      setNumberIntervalLast(0);\r\n      setNumberAudio(0);\r\n      setNumberAudioLast(0);\r\n      setNumberVideo(0);\r\n      setNumberVideoLast(0);\r\n      setNumberImg(0);\r\n      setNumberImgLast(0);\r\n    }, 500);\r\n  };\r\n\r\n  const verifyButtonsUpload = () => {\r\n    const newArrImg = elementsSeq.filter(item => item.includes(\"img\"));\r\n    const newArrAudio = elementsSeq.filter(item => item.includes(\"audio\"));\r\n    const newArrVideo = elementsSeq.filter(item => item.includes(\"video\"));\r\n\r\n    for (let i = 0; i < numberImg; i++) {\r\n      const imgVerify = document.querySelector(\r\n        `.btn${capitalize(newArrImg[i])}`\r\n      );\r\n      if (imgVerify) {\r\n        return true;\r\n      }\r\n    }\r\n    for (let i = 0; i < numberAudio; i++) {\r\n      const audioVerify = document.querySelector(\r\n        `.btn${capitalize(newArrAudio[i])}`\r\n      );\r\n      if (audioVerify) {\r\n        return true;\r\n      }\r\n    }\r\n    for (let i = 0; i < numberVideo; i++) {\r\n      const videoVerify = document.querySelector(\r\n        `.btn${capitalize(newArrVideo[i])}`\r\n      );\r\n      if (videoVerify) {\r\n        return true;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSaveNode = async () => {\r\n    if (open === \"edit\") {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n\r\n      medias.forEach(async (media, idx) => {\r\n        const file = media;\r\n\r\n        if (!file) {\r\n          return;\r\n        }\r\n\r\n        if (media?.type.split(\"/\")[0] == \"image\") {\r\n          new Compressor(file, {\r\n            quality: 0.7,\r\n\r\n            async success(media) {\r\n              formData.append(\"medias\", media);\r\n              formData.append(\"body\", media.name);\r\n            },\r\n            error(err) {\r\n              alert(\"erro\");\r\n              console.log(err.message);\r\n            }\r\n          });\r\n        } else {\r\n          formData.append(\"medias\", media);\r\n          formData.append(\"body\", media.name);\r\n        }\r\n      });\r\n\r\n      setTimeout(async () => {\r\n        if (\r\n          (numberAudio === 0 && numberVideo === 0 && numberImg === 0) ||\r\n          medias.length === 0\r\n        ) {\r\n          try {\r\n            const mountData = {\r\n              seq: elementsSeq,\r\n              elements: handleElements(null)\r\n            };\r\n            onUpdate({\r\n              ...data,\r\n              data: mountData\r\n            });\r\n            toast.success(\"Conteúdo adicionada com sucesso!\");\r\n            handleClose();\r\n            setLoading(false);\r\n\r\n            return;\r\n          } catch (e) {\r\n            setLoading(false);\r\n          }\r\n          return;\r\n        }\r\n        const verify = verifyButtonsUpload();\r\n        if (verify) {\r\n          setLoading(false);\r\n          return toast.error(\"Delete os cards vazios(Imagem, Audio e Video)\");\r\n        }\r\n        await api\r\n          .post(\"/flowbuilder/content\", formData)\r\n          .then(async (res) => {\r\n            const mountData = {\r\n              seq: elementsSeq,\r\n              elements: handleElements(res.data)\r\n            };\r\n            onUpdate({\r\n              ...data,\r\n              data: mountData\r\n            });\r\n            toast.success(\"Conteúdo adicionada com sucesso!\");\r\n            await handleClose();\r\n            setLoading(false);\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          });\r\n      }, 1500);\r\n    } else if (open === \"create\") {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n\r\n      medias.forEach(async (media, idx) => {\r\n        const file = media;\r\n\r\n        if (!file) {\r\n          return;\r\n        }\r\n\r\n        if (media?.type.split(\"/\")[0] == \"image\") {\r\n          new Compressor(file, {\r\n            quality: 0.7,\r\n\r\n            async success(media) {\r\n              formData.append(\"medias\", media);\r\n              formData.append(\"body\", media.name);\r\n            },\r\n            error(err) {\r\n              alert(\"erro\");\r\n              console.log(err.message);\r\n            }\r\n          });\r\n        } else {\r\n          formData.append(\"medias\", media);\r\n          formData.append(\"body\", media.name);\r\n        }\r\n      });\r\n\r\n      setTimeout(async () => {\r\n        if (numberAudio === 0 && numberVideo === 0 && numberImg === 0) {\r\n          try {\r\n            const mountData = {\r\n              seq: elementsSeq,\r\n              elements: handleElements(null)\r\n            };\r\n            onSave({\r\n              ...mountData\r\n            });\r\n            toast.success(\"Conteúdo adicionada com sucesso!\");\r\n            handleClose();\r\n            setLoading(false);\r\n\r\n            return;\r\n          } catch (e) {\r\n            setLoading(false);\r\n          }\r\n        }\r\n        const verify = verifyButtonsUpload();\r\n        if (verify) {\r\n          setLoading(false);\r\n          return toast.error(\"Delete os cards vazios(Imagem, Audio e Video)\");\r\n        }\r\n        await api\r\n          .post(\"/flowbuilder/content\", formData)\r\n          .then(res => {\r\n            const mountData = {\r\n              seq: elementsSeq,\r\n              elements: handleElements(res.data)\r\n            };\r\n            onSave({\r\n              ...mountData\r\n            });\r\n            toast.success(\"Conteúdo adicionada com sucesso!\");\r\n            handleClose();\r\n            setLoading(false);\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          });\r\n      }, 1500);\r\n    }\r\n  };\r\n\r\n  const scrollToBottom = className => {\r\n    const element = document.querySelector(className);\r\n    element.scrollTop = element.scrollHeight;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={activeModal} fullWidth=\"md\" scroll=\"paper\">\r\n        {!loading && (\r\n          <DialogTitle id=\"form-dialog-title\">\r\n            Adicionar conteúdo ao fluxo\r\n          </DialogTitle>\r\n        )}\r\n        <Stack>\r\n          <Stack\r\n            className=\"body-card\"\r\n            style={{\r\n              gap: \"8px\",\r\n              padding: \"16px\",\r\n              overflow: \"auto\",\r\n              height: \"70vh\",\r\n              scrollBehavior: \"smooth\",\r\n              display: loading && \"none\"\r\n            }}\r\n          >\r\n            {elements.map(item => (\r\n              <>{item}</>\r\n            ))}\r\n            <Stack direction={\"row\"} gap={1}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  setElements(old => [\r\n                    ...old,\r\n                    messageLayout(numberMessagesLast)\r\n                  ]);\r\n                  setNumberMessages(old => {\r\n                    setElementsSeq(oldEleme => [\r\n                      ...oldEleme,\r\n                      `message${numberMessagesLast}`\r\n                    ]);\r\n                    return old + 1;\r\n                  });\r\n                  setNumberMessagesLast(old => old + 1);\r\n                  setTimeout(() => {\r\n                    scrollToBottom(\".body-card\");\r\n                  }, 100);\r\n                }}\r\n              >\r\n                <Message\r\n                  sx={{\r\n                    width: \"16px\",\r\n                    height: \"16px\",\r\n                    marginRight: \"4px\"\r\n                  }}\r\n                />\r\n                Texto\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  setElements(old => [\r\n                    ...old,\r\n                    intervalLayout(numberIntervalLast)\r\n                  ]);\r\n                  setNumberInterval(old => {\r\n                    setElementsSeq(oldEleme => [\r\n                      ...oldEleme,\r\n                      `interval${numberIntervalLast}`\r\n                    ]);\r\n                    return old + 1;\r\n                  });\r\n                  setNumberIntervalLast(old => old + 1);\r\n                  setTimeout(() => {\r\n                    scrollToBottom(\".body-card\");\r\n                  }, 100);\r\n                }}\r\n              >\r\n                <AccessTime\r\n                  sx={{\r\n                    width: \"16px\",\r\n                    height: \"16px\",\r\n                    marginRight: \"4px\"\r\n                  }}\r\n                />\r\n                Intervalo\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  setElements(old => [...old, imgLayout(numberImgLast)]);\r\n                  setNumberImg(old => {\r\n                    setElementsSeq(oldEleme => [\r\n                      ...oldEleme,\r\n                      `img${numberImgLast}`\r\n                    ]);\r\n                    return old + 1;\r\n                  });\r\n                  setNumberImgLast(old => old + 1);\r\n                  setTimeout(() => {\r\n                    scrollToBottom(\".body-card\");\r\n                  }, 100);\r\n                }}\r\n              >\r\n                <Image\r\n                  sx={{\r\n                    width: \"16px\",\r\n                    height: \"16px\",\r\n                    marginRight: \"4px\"\r\n                  }}\r\n                />\r\n                Imagem\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  setElements(old => [...old, audioLayout(numberAudioLast)]);\r\n                  setNumberAudio(old => {\r\n                    setElementsSeq(oldEleme => [\r\n                      ...oldEleme,\r\n                      `audio${numberAudioLast}`\r\n                    ]);\r\n                    return old + 1;\r\n                  });\r\n                  setNumberAudioLast(old => old + 1);\r\n                  setTimeout(() => {\r\n                    scrollToBottom(\".body-card\");\r\n                  }, 100);\r\n                }}\r\n              >\r\n                <MicNone\r\n                  sx={{\r\n                    width: \"16px\",\r\n                    height: \"16px\",\r\n                    marginRight: \"4px\"\r\n                  }}\r\n                />\r\n                Audio\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  setElements(old => [...old, videoLayout(numberVideoLast)]);\r\n                  setNumberVideo(old => {\r\n                    setElementsSeq(oldEleme => [\r\n                      ...oldEleme,\r\n                      `video${numberVideoLast}`\r\n                    ]);\r\n                    return old + 1;\r\n                  });\r\n                  setNumberVideoLast(old => old + 1);\r\n                  setTimeout(() => {\r\n                    scrollToBottom(\".body-card\");\r\n                  }, 100);\r\n                }}\r\n              >\r\n                <Videocam\r\n                  sx={{\r\n                    width: \"16px\",\r\n                    height: \"16px\",\r\n                    marginRight: \"4px\"\r\n                  }}\r\n                />\r\n                Video\r\n              </Button>\r\n            </Stack>\r\n          </Stack>\r\n\r\n          <DialogActions>\r\n            <Button\r\n              onClick={handleClose}\r\n              color=\"secondary\"\r\n              variant=\"outlined\"\r\n              style={{ display: loading && \"none\" }}\r\n            >\r\n              {i18n.t(\"contactModal.buttons.cancel\")}\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              onClick={() => handleSaveNode()}\r\n              style={{ display: loading && \"none\" }}\r\n            >\r\n              {`${labels.btn}`}\r\n            </Button>\r\n          </DialogActions>\r\n        </Stack>\r\n        {loading && (\r\n          <Stack\r\n            style={{\r\n              gap: \"8px\",\r\n              padding: \"16px\",\r\n              height: \"70vh\",\r\n              alignSelf: \"center\",\r\n              justifyContent: \"center\"\r\n            }}\r\n          >\r\n            <Stack>\r\n              <Typography>\r\n                Subindo os arquivos e criando o conteúdo...\r\n              </Typography>\r\n              <Stack style={{ alignSelf: \"center\", marginTop: \"12px\" }}>\r\n                <CircularProgress />\r\n              </Stack>\r\n            </Stack>\r\n          </Stack>\r\n        )}\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderSingleBlockModal;\r\n","import {\r\n  AccessTime,\r\n  ArrowForwardIos,\r\n  ContentCopy,\r\n  Delete,\r\n  Image,\r\n  LibraryBooks,\r\n  Message,\r\n  MicNone,\r\n  Videocam\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\nimport { Typography } from \"@mui/material\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const storageItems = useNodeStorage();\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#FEFAFA\",\r\n        padding: \"8px\",\r\n        borderRadius: \"8px\",\r\n        border: \"1px solid rgba(236, 88, 88, 0.25)\",\r\n        boxShadow: \"rgba(0, 0, 0, 0.05) 0px 3px 5px\"\r\n      }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"20px\",\r\n          left: \"-12px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"3.5px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#EC5858\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#EC5858\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <LibraryBooks\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\",\r\n            color: \"#EC5858\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>Conteúdo</div>\r\n      </div>\r\n      <div style={{ color: \"#232323\", fontSize: \"12px\", width: 180 }}>\r\n        {data.seq.map(item => (\r\n          <div\r\n            style={{\r\n              backgroundColor: \"#F6EEEE\",\r\n              marginBottom: \"3px\",\r\n              borderRadius: \"5px\"\r\n            }}\r\n          >\r\n            {item.includes(\"message\") && (\r\n              <div style={{ gap: \"5px\", padding: \"6px\" }}>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    position: \"relative\",\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"flex-start\",\r\n                    gap: \"4px\",\r\n                    marginBottom:\"5px\"\r\n                    \r\n                  }}\r\n                >\r\n                  <Message\r\n                    sx={{\r\n                      width: \"8%\",\r\n                      height: \"16px\",\r\n                      marginRight: \"4px\",\r\n                      marginTop: \"4px\",\r\n                      color: \"#EC5858\",\r\n                      margin: \"1px\",\r\n                    }}\r\n                  />\r\n                  <div style={{ color: \"#EC5858\", fontSize: \"13px\" }}>\r\n                    Texto\r\n                  </div>\r\n                </div>\r\n                <Typography\r\n                  textAlign={\"center\"}\r\n                  sx={{\r\n                    textOverflow: \"ellipsis\",\r\n                    fontSize: \"10px\",\r\n                    whiteSpace: \"nowrap\",\r\n                    overflow: \"hidden\"\r\n                  }}\r\n                >\r\n                  {\r\n                    data.elements.filter(itemLoc => itemLoc.number === item)[0]\r\n                      .value\r\n                  }\r\n                </Typography>\r\n              </div>\r\n            )}\r\n            {item.includes(\"interval\") && (\r\n              <div style={{ gap: \"5px\", padding: \"6px\" }}>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    position: \"relative\",\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"flex-start\",\r\n                    gap: \"4px\",\r\n                    marginBottom:\"5px\"\r\n                  }}\r\n                >\r\n                    <AccessTime\r\n                    sx={{\r\n                      width: \"8%\",\r\n                      height: \"16px\",\r\n                      marginRight: \"4px\",\r\n                      marginTop: \"4px\",\r\n                      color: \"#EC5858\",\r\n                      margin: \"1px\",\r\n                    }}\r\n                  />\r\n                  <div style={{ color: \"#EC5858\", fontSize: \"13px\" }}>\r\n                    Intervalo\r\n                  </div>\r\n                </div>\r\n                <Typography\r\n                  textAlign={\"center\"}\r\n                  sx={{\r\n                    textOverflow: \"ellipsis\",\r\n                    fontSize: \"10px\",\r\n                    whiteSpace: \"nowrap\",\r\n                    overflow: \"hidden\"\r\n                  }}\r\n                >\r\n                  {\r\n                    data.elements.filter(itemLoc => itemLoc.number === item)[0]\r\n                      .value\r\n                  }{\" \"}\r\n                  segundos\r\n                </Typography>\r\n              </div>\r\n            )}\r\n            {item.includes(\"img\") && (\r\n              <div style={{ gap: \"5px\", padding: \"6px\" }}>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    position: \"relative\",\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"flex-start\",\r\n                    gap: \"4px\",\r\n                    marginBottom:\"5px\"\r\n                  }}\r\n                >\r\n                   <Image\r\n                    sx={{\r\n                      width: \"8%\",\r\n                      height: \"16px\",\r\n                      marginRight: \"4px\",\r\n                      marginTop: \"4px\",\r\n                      color: \"#EC5858\",\r\n                      margin: \"1px\",\r\n                    }}\r\n                  />\r\n                  <div style={{ color: \"#EC5858\", fontSize: \"13px\" }}>\r\n                    Imagem\r\n                  </div>\r\n                </div>\r\n                <Typography\r\n                  textAlign={\"center\"}\r\n                  sx={{\r\n                    textOverflow: \"ellipsis\",\r\n                    fontSize: \"10px\",\r\n                    whiteSpace: \"nowrap\",\r\n                    overflow: \"hidden\"\r\n                  }}\r\n                >\r\n                  {\r\n                    data.elements.filter(itemLoc => itemLoc.number === item)[0]\r\n                      .original\r\n                  }\r\n                </Typography>\r\n              </div>\r\n            )}\r\n            {item.includes(\"audio\") && (\r\n              <div style={{ gap: \"5px\", padding: \"6px\" }}>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    position: \"relative\",\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"flex-start\",\r\n                    gap: \"4px\",\r\n                    marginBottom:\"5px\"\r\n                  }}\r\n                >\r\n                  <MicNone\r\n                    sx={{\r\n                      width: \"8%\",\r\n                      height: \"16px\",\r\n                      marginRight: \"4px\",\r\n                      marginTop: \"4px\",\r\n                      color: \"#EC5858\",\r\n                      margin: \"1px\",\r\n                    }}\r\n                  />\r\n                  <div style={{ color: \"#EC5858\", fontSize: \"13px\" }}>\r\n                    Áudio\r\n                  </div>\r\n                </div>\r\n                <Typography\r\n                  textAlign={\"center\"}\r\n                  sx={{\r\n                    textOverflow: \"ellipsis\",\r\n                    fontSize: \"10px\",\r\n                    whiteSpace: \"nowrap\",\r\n                    overflow: \"hidden\"\r\n                  }}\r\n                >\r\n                  {\r\n                    data.elements.filter(itemLoc => itemLoc.number === item)[0]\r\n                      .original\r\n                  }\r\n                </Typography>\r\n              </div>\r\n            )}\r\n            {item.includes(\"video\") && (\r\n              <div style={{ gap: \"5px\", padding: \"6px\" }}>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    position: \"relative\",\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"flex-start\",\r\n                    gap: \"4px\",\r\n                    marginBottom:\"5px\"\r\n                  }}\r\n                >\r\n                  <Videocam\r\n                    sx={{\r\n                      width: \"8%\",\r\n                      height: \"16px\",\r\n                      marginRight: \"4px\",\r\n                      marginTop: \"4px\",\r\n                      color: \"#EC5858\",\r\n                      margin: \"1px\",\r\n                    }}\r\n                  />\r\n                  <div style={{ color: \"#EC5858\", fontSize: \"13px\" }}>\r\n                    Video\r\n                  </div>\r\n                </div>\r\n                <Typography\r\n                  textAlign={\"center\"}\r\n                  sx={{\r\n                    textOverflow: \"ellipsis\",\r\n                    fontSize: \"10px\",\r\n                    whiteSpace: \"nowrap\",\r\n                    overflow: \"hidden\"\r\n                  }}\r\n                >\r\n                  {\r\n                    data.elements.filter(itemLoc => itemLoc.number === item)[0]\r\n                      .original\r\n                  }\r\n                </Typography>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"90%\",\r\n          right: \"-11px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n    </div>\r\n  );\r\n});\r\n","import {\r\n  ArrowForwardIos, ContentCopy,\r\n  Delete, ConfirmationNumber\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\nimport TextField from '@mui/material/TextField';\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const storageItems = useNodeStorage();\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#ffffff\",\r\n        padding: \"8px\",\r\n        borderRadius: \"8px\",\r\n        boxShadow: \"rgba(0, 0, 0, 0.05) 0px 3px 5px\",\r\n        border: '1px solid rgba(33, 94, 151, 0.25)'\r\n      }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"20px\",\r\n          left: \"-12px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: 'none'\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <ConfirmationNumber\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\",\r\n            color: \"#3aba38\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>\r\n          Ticket\r\n        </div>\r\n      </div>\r\n      <div style={{ color: \"#232323\", fontSize: \"12px\", width: 180 }}>\r\n        <div\r\n          style={{\r\n            backgroundColor: \"#F6EEEE\",\r\n            marginBottom: \"3px\",\r\n            borderRadius: \"5px\"\r\n          }}\r\n        >\r\n          <div style={{ gap: \"5px\", padding: \"6px\" }}>\r\n            <div style={{ textAlign: \"center\" }}>\r\n              {Object.keys(data)[0] === \"data\" ? (\r\n                data.data.name\r\n              ) : (\r\n                data.name\r\n              )\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{\r\n          background: \"#FF7606\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"70%\",\r\n          right: \"-11px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n    </div>\r\n  );\r\n});\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Stack } from \"@mui/material\";\r\nimport { FormControl, Grid, Paper } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\n\r\nconst DialogflowSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  // projectName: Yup.string()\r\n  //   .min(3, \"Too Short!\")\r\n  //   .max(100, \"Too Long!\")\r\n  //   .required(),\r\n  // jsonContent: Yup.string().min(3, \"Too Short!\").required(),\r\n  // language: Yup.string().min(2, \"Too Short!\").max(50, \"Too Long!\").required(),\r\n});\r\n\r\nconst FlowBuilderTypebotModal = ({ open, onSave, data, onUpdate, close }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const initialState = {\r\n    type: \"typebot\",\r\n    name: \"\",\r\n    projectName: \"\",\r\n    jsonContent: \"\",\r\n    language: \"\",\r\n    urlN8N: \"\",\r\n    typebotDelayMessage: 1000,\r\n    typebotExpires: 1,\r\n    typebotKeywordFinish: \"\",\r\n    typebotKeywordRestart: \"\",\r\n    typebotRestartMessage: \"\",\r\n    typebotSlug: \"\",\r\n    typebotUnknownMessage: \"\",\r\n  };\r\n  const [activeModal, setActiveModal] = useState(false);\r\n  const [integration, setIntegration] = useState();\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar Typebot ao fluxo\",\r\n    btn: \"Adicionar\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar Typebot ao fluxo\",\r\n        btn: \"Salvar\",\r\n      });\r\n      setIntegration({\r\n        ...data.data.typebotIntegration,\r\n      });\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Editar Typebot do fluxo\",\r\n        btn: \"Salvar\",\r\n      });\r\n      setIntegration(initialState);\r\n      setActiveModal(true);\r\n    }\r\n\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, [open]);\r\n\r\n  const handleClose = () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleSaveDialogFlow = (values) => {\r\n    if (open === \"edit\") {\r\n      handleClose();\r\n      onUpdate({\r\n        ...data,\r\n        data: { typebotIntegration:  { ...values } },\r\n      });\r\n    } else if (open === \"create\") {\r\n    values.projectName = values.name\r\n      handleClose();\r\n      onSave({\r\n        typebotIntegration: values\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth\r\n        maxWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {open === \"create\" ? `Adicionar Typebot ao fluxo` : `Editar Typebot`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={integration}\r\n          enableReinitialize={true}\r\n          validationSchema={DialogflowSchema}\r\n          onSubmit={(values, actions, event) => {\r\n            setTimeout(() => {\r\n              handleSaveDialogFlow(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting, values }) => (\r\n            <Form>\r\n              <Paper square className={classes.mainPaper} elevation={1}>\r\n                <DialogContent dividers>\r\n                  <Grid container spacing={1}>\r\n                    <>\r\n                      <Grid item xs={12} md={6} xl={6}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"queueIntegrationModal.form.name\")}\r\n                          autoFocus\r\n                          name=\"name\"\r\n                          error={touched.name && Boolean(errors.name)}\r\n                          helpertext={touched.name && errors.name}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          required\r\n                          fullWidth\r\n                          className={classes.textField}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} md={12} xl={12}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\r\n                          name=\"urlN8N\"\r\n                          error={touched.urlN8N && Boolean(errors.urlN8N)}\r\n                          helpertext={touched.urlN8N && errors.urlN8N}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          required\r\n                          fullWidth\r\n                          className={classes.textField}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} md={6} xl={6}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\r\n                            \"queueIntegrationModal.form.typebotSlug\"\r\n                          )}\r\n                          name=\"typebotSlug\"\r\n                          error={\r\n                            touched.typebotSlug && Boolean(errors.typebotSlug)\r\n                          }\r\n                          helpertext={touched.typebotSlug && errors.typebotSlug}\r\n                          required\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                          className={classes.textField}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} md={6} xl={6}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\r\n                            \"queueIntegrationModal.form.typebotExpires\"\r\n                          )}\r\n                          name=\"typebotExpires\"\r\n                          error={\r\n                            touched.typebotExpires &&\r\n                            Boolean(errors.typebotExpires)\r\n                          }\r\n                          helpertext={\r\n                            touched.typebotExpires && errors.typebotExpires\r\n                          }\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                          className={classes.textField}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} md={6} xl={6}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\r\n                            \"queueIntegrationModal.form.typebotDelayMessage\"\r\n                          )}\r\n                          name=\"typebotDelayMessage\"\r\n                          error={\r\n                            touched.typebotDelayMessage &&\r\n                            Boolean(errors.typebotDelayMessage)\r\n                          }\r\n                          helpertext={\r\n                            touched.typebotDelayMessage &&\r\n                            errors.typebotDelayMessage\r\n                          }\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                          className={classes.textField}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} md={6} xl={6}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\r\n                            \"queueIntegrationModal.form.typebotKeywordFinish\"\r\n                          )}\r\n                          name=\"typebotKeywordFinish\"\r\n                          error={\r\n                            touched.typebotKeywordFinish &&\r\n                            Boolean(errors.typebotKeywordFinish)\r\n                          }\r\n                          helpertext={\r\n                            touched.typebotKeywordFinish &&\r\n                            errors.typebotKeywordFinish\r\n                          }\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                          className={classes.textField}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} md={6} xl={6}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\r\n                            \"queueIntegrationModal.form.typebotKeywordRestart\"\r\n                          )}\r\n                          name=\"typebotKeywordRestart\"\r\n                          error={\r\n                            touched.typebotKeywordRestart &&\r\n                            Boolean(errors.typebotKeywordRestart)\r\n                          }\r\n                          helpertext={\r\n                            touched.typebotKeywordRestart &&\r\n                            errors.typebotKeywordRestart\r\n                          }\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                          className={classes.textField}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} md={6} xl={6}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\r\n                            \"queueIntegrationModal.form.typebotUnknownMessage\"\r\n                          )}\r\n                          name=\"typebotUnknownMessage\"\r\n                          error={\r\n                            touched.typebotUnknownMessage &&\r\n                            Boolean(errors.typebotUnknownMessage)\r\n                          }\r\n                          helpertext={\r\n                            touched.typebotUnknownMessage &&\r\n                            errors.typebotUnknownMessage\r\n                          }\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                          className={classes.textField}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} md={12} xl={12}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\r\n                            \"queueIntegrationModal.form.typebotRestartMessage\"\r\n                          )}\r\n                          name=\"typebotRestartMessage\"\r\n                          error={\r\n                            touched.typebotRestartMessage &&\r\n                            Boolean(errors.typebotRestartMessage)\r\n                          }\r\n                          helpertext={\r\n                            touched.typebotRestartMessage &&\r\n                            errors.typebotRestartMessage\r\n                          }\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                          className={classes.textField}\r\n                        />\r\n                      </Grid>\r\n                    </>\r\n                  </Grid>\r\n                </DialogContent>\r\n              </Paper>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {open === \"create\" ? `Adicionar` : \"Editar\"}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderTypebotModal;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { MenuItem, FormControl, InputLabel, Select } from \"@material-ui/core\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport { InputAdornment, IconButton } from \"@material-ui/core\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\n\r\nconst DialogflowSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  // projectName: Yup.string()\r\n  //   .min(3, \"Too Short!\")\r\n  //   .max(100, \"Too Long!\")\r\n  //   .required(),\r\n  // jsonContent: Yup.string().min(3, \"Too Short!\").required(),\r\n  // language: Yup.string().min(2, \"Too Short!\").max(50, \"Too Long!\").required(),\r\n});\r\n\r\nconst FlowBuilderOpenAIModal = ({ open, onSave, data, onUpdate, close }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const handleToggleApiKey = () => {\r\n    setShowApiKey(!showApiKey);\r\n  };\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    prompt: \"\",\r\n    voice: \"texto\",\r\n    voiceKey: \"\",\r\n    voiceRegion: \"\",\r\n    maxTokens: 100,\r\n    temperature: 1,\r\n    apiKey: \"\",\r\n    queueId: null,\r\n    maxMessages: 10,\r\n  };\r\n\r\n  const [showApiKey, setShowApiKey] = useState(false);\r\n  const [selectedVoice, setSelectedVoice] = useState(\"texto\");\r\n\r\n  const [activeModal, setActiveModal] = useState(false);\r\n  const [integration, setIntegration] = useState();\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar OpenAI ao fluxo\",\r\n    btn: \"Adicionar\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar OpenAI do fluxo\",\r\n        btn: \"Salvar\",\r\n      });\r\n      setIntegration({\r\n        ...data.data.typebotIntegration,\r\n      });\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Cria OpenAI no fluxo\",\r\n        btn: \"Salvar\",\r\n      });\r\n      setIntegration(initialState);\r\n      setActiveModal(true);\r\n    }\r\n\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, [open]);\r\n\r\n  const handleClose = () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleChangeVoice = (e) => {\r\n    setSelectedVoice(e.target.value);\r\n  };\r\n\r\n  const handleSavePrompt = (values) => {\r\n    if (open === \"edit\") {\r\n      handleClose();\r\n      onUpdate({\r\n        ...data,\r\n        data: { typebotIntegration: { ...values,  voice: selectedVoice} },\r\n      });\r\n    } else if (open === \"create\") {\r\n      values.projectName = values.name;\r\n      handleClose();\r\n      onSave({\r\n        typebotIntegration: {\r\n          ...values,\r\n          voice: selectedVoice\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth\r\n        maxWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {open === \"create\" ? `Adicionar OpenAI ao fluxo` : `Editar OpenAI`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={integration}\r\n          enableReinitialize={true}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSavePrompt(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting, values }) => (\r\n            <Form style={{ width: \"100%\" }}>\r\n              <DialogContent dividers>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"promptModal.form.name\")}\r\n                  name=\"name\"\r\n                  error={touched.name && Boolean(errors.name)}\r\n                  helperText={touched.name && errors.name}\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  required\r\n                />\r\n                <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"promptModal.form.apikey\")}\r\n                    name=\"apiKey\"\r\n                    type={showApiKey ? \"text\" : \"password\"}\r\n                    error={touched.apiKey && Boolean(errors.apiKey)}\r\n                    helperText={touched.apiKey && errors.apiKey}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                    required\r\n                    InputProps={{\r\n                      endAdornment: (\r\n                        <InputAdornment position=\"end\">\r\n                          <IconButton onClick={handleToggleApiKey}>\r\n                            {showApiKey ? <VisibilityOff /> : <Visibility />}\r\n                          </IconButton>\r\n                        </InputAdornment>\r\n                      ),\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"promptModal.form.prompt\")}\r\n                  name=\"prompt\"\r\n                  error={touched.prompt && Boolean(errors.prompt)}\r\n                  helperText={touched.prompt && errors.prompt}\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  required\r\n                  rows={10}\r\n                  multiline={true}\r\n                />\r\n                <div className={classes.multFieldLine}>\r\n                  <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n                    <InputLabel>{i18n.t(\"promptModal.form.voice\")}</InputLabel>\r\n                    <Select\r\n                      id=\"type-select\"\r\n                      labelWidth={60}\r\n                      name=\"voice\"\r\n                      value={selectedVoice}\r\n                      onChange={handleChangeVoice}\r\n                      multiple={false}\r\n                    >\r\n                      <MenuItem key={\"texto\"} value={\"texto\"}>\r\n                        Texto\r\n                      </MenuItem>\r\n                      <MenuItem\r\n                        key={\"pt-BR-FranciscaNeural\"}\r\n                        value={\"pt-BR-FranciscaNeural\"}\r\n                      >\r\n                        Francisa\r\n                      </MenuItem>\r\n                      <MenuItem\r\n                        key={\"pt-BR-AntonioNeural\"}\r\n                        value={\"pt-BR-AntonioNeural\"}\r\n                      >\r\n                        Antônio\r\n                      </MenuItem>\r\n                      <MenuItem\r\n                        key={\"pt-BR-BrendaNeural\"}\r\n                        value={\"pt-BR-BrendaNeural\"}\r\n                      >\r\n                        Brenda\r\n                      </MenuItem>\r\n                      <MenuItem\r\n                        key={\"pt-BR-DonatoNeural\"}\r\n                        value={\"pt-BR-DonatoNeural\"}\r\n                      >\r\n                        Donato\r\n                      </MenuItem>\r\n                      <MenuItem\r\n                        key={\"pt-BR-ElzaNeural\"}\r\n                        value={\"pt-BR-ElzaNeural\"}\r\n                      >\r\n                        Elza\r\n                      </MenuItem>\r\n                      <MenuItem\r\n                        key={\"pt-BR-FabioNeural\"}\r\n                        value={\"pt-BR-FabioNeural\"}\r\n                      >\r\n                        Fábio\r\n                      </MenuItem>\r\n                      <MenuItem\r\n                        key={\"pt-BR-GiovannaNeural\"}\r\n                        value={\"pt-BR-GiovannaNeural\"}\r\n                      >\r\n                        Giovanna\r\n                      </MenuItem>\r\n                      <MenuItem\r\n                        key={\"pt-BR-HumbertoNeural\"}\r\n                        value={\"pt-BR-HumbertoNeural\"}\r\n                      >\r\n                        Humberto\r\n                      </MenuItem>\r\n                      <MenuItem\r\n                        key={\"pt-BR-JulioNeural\"}\r\n                        value={\"pt-BR-JulioNeural\"}\r\n                      >\r\n                        Julio\r\n                      </MenuItem>\r\n                      <MenuItem\r\n                        key={\"pt-BR-LeilaNeural\"}\r\n                        value={\"pt-BR-LeilaNeural\"}\r\n                      >\r\n                        Leila\r\n                      </MenuItem>\r\n                      <MenuItem\r\n                        key={\"pt-BR-LeticiaNeural\"}\r\n                        value={\"pt-BR-LeticiaNeural\"}\r\n                      >\r\n                        Letícia\r\n                      </MenuItem>\r\n                      <MenuItem\r\n                        key={\"pt-BR-ManuelaNeural\"}\r\n                        value={\"pt-BR-ManuelaNeural\"}\r\n                      >\r\n                        Manuela\r\n                      </MenuItem>\r\n                      <MenuItem\r\n                        key={\"pt-BR-NicolauNeural\"}\r\n                        value={\"pt-BR-NicolauNeural\"}\r\n                      >\r\n                        Nicolau\r\n                      </MenuItem>\r\n                      <MenuItem\r\n                        key={\"pt-BR-ValerioNeural\"}\r\n                        value={\"pt-BR-ValerioNeural\"}\r\n                      >\r\n                        Valério\r\n                      </MenuItem>\r\n                      <MenuItem\r\n                        key={\"pt-BR-YaraNeural\"}\r\n                        value={\"pt-BR-YaraNeural\"}\r\n                      >\r\n                        Yara\r\n                      </MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"promptModal.form.voiceKey\")}\r\n                    name=\"voiceKey\"\r\n                    error={touched.voiceKey && Boolean(errors.voiceKey)}\r\n                    helperText={touched.voiceKey && errors.voiceKey}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"promptModal.form.voiceRegion\")}\r\n                    name=\"voiceRegion\"\r\n                    error={touched.voiceRegion && Boolean(errors.voiceRegion)}\r\n                    helperText={touched.voiceRegion && errors.voiceRegion}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                </div>\r\n\r\n                <div className={classes.multFieldLine}>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"promptModal.form.temperature\")}\r\n                    name=\"temperature\"\r\n                    error={touched.temperature && Boolean(errors.temperature)}\r\n                    helperText={touched.temperature && errors.temperature}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"promptModal.form.max_tokens\")}\r\n                    name=\"maxTokens\"\r\n                    error={touched.maxTokens && Boolean(errors.maxTokens)}\r\n                    helperText={touched.maxTokens && errors.maxTokens}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"promptModal.form.max_messages\")}\r\n                    name=\"maxMessages\"\r\n                    error={touched.maxMessages && Boolean(errors.maxMessages)}\r\n                    helperText={touched.maxMessages && errors.maxMessages}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                </div>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                  disabled={isSubmitting}\r\n                >\r\n                  {open === \"create\" ? `Adicionar` : \"Editar\"}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderOpenAIModal;\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useReducer,\r\n  useContext,\r\n  useCallback,\r\n} from \"react\";\r\nimport { SiOpenai } from \"react-icons/si\";\r\nimport typebotIcon from \"../../assets/typebot-ico.png\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport api from \"../../services/api\";\r\n\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport {\r\n  SpeedDial,\r\n  SpeedDialAction,\r\n  SpeedDialIcon,\r\n  Stack,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { Box, CircularProgress } from \"@material-ui/core\";\r\nimport messageNode from \"./nodes/messageNode.js\";\r\n\r\nimport \"reactflow/dist/style.css\";\r\n\r\nimport ReactFlow, {\r\n  MiniMap,\r\n  Controls,\r\n  Background,\r\n  useNodesState,\r\n  useEdgesState,\r\n  addEdge,\r\n  onElementsRemove,\r\n  useReactFlow,\r\n} from \"react-flow-renderer\";\r\nimport FlowBuilderAddTextModal from \"../../components/FlowBuilderAddTextModal\";\r\nimport FlowBuilderIntervalModal from \"../../components/FlowBuilderIntervalModal\";\r\nimport startNode from \"./nodes/startNode\";\r\nimport conditionNode from \"./nodes/conditionNode\";\r\nimport menuNode from \"./nodes/menuNode\";\r\nimport intervalNode from \"./nodes/intervalNode\";\r\nimport imgNode from \"./nodes/imgNode\";\r\nimport randomizerNode from \"./nodes/randomizerNode\";\r\nimport videoNode from \"./nodes/videoNode\";\r\nimport FlowBuilderConditionModal from \"../../components/FlowBuilderConditionModal\";\r\nimport FlowBuilderMenuModal from \"../../components/FlowBuilderMenuModal\";\r\nimport {\r\n  AccessTime,\r\n  CallSplit,\r\n  DynamicFeed,\r\n  Image,\r\n  ImportExport,\r\n  LibraryBooks,\r\n  Message,\r\n  MicNone,\r\n  RocketLaunch,\r\n  Videocam,\r\n} from \"@mui/icons-material\";\r\nimport RemoveEdge from \"./nodes/removeEdge\";\r\nimport FlowBuilderAddImgModal from \"../../components/FlowBuilderAddImgModal\";\r\nimport FlowBuilderTicketModal from \"../../components/FlowBuilderAddTicketModal\";\r\nimport FlowBuilderAddQueueFlowModal from \"../../components/FlowBuilderAddQueueFlowModal\";\r\nimport FlowBuilderAddAudioModal from \"../../components/FlowBuilderAddAudioModal\";\r\n\r\nimport audioNode from \"./nodes/audioNode\";\r\nimport typebotNode from \"./nodes/typebotNode\";\r\nimport openaiNode from \"./nodes/openaiNode\";\r\nimport QueueFlowNode from \"./nodes/QueueFlowNode\";\r\n\r\nimport { useNodeStorage } from \"../../stores/useNodeStorage\";\r\nimport FlowBuilderRandomizerModal from \"../../components/FlowBuilderRandomizerModal\";\r\nimport FlowBuilderAddVideoModal from \"../../components/FlowBuilderAddVideoModal\";\r\nimport FlowBuilderSingleBlockModal from \"../../components/FlowBuilderSingleBlockModal\";\r\nimport singleBlockNode from \"./nodes/singleBlockNode\";\r\nimport { colorPrimary } from \"../../styles/styles\";\r\nimport ticketNode from \"./nodes/ticketNode\";\r\nimport { ConfirmationNumber,CompareArrows } from \"@material-ui/icons\";\r\nimport FlowBuilderTypebotModal from \"../../components/FlowBuilderAddTypebotModal\";\r\nimport FlowBuilderOpenAIModal from \"../../components/FlowBuilderAddOpenAIModal\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    position: \"relative\",\r\n    backgroundColor: \"#F8F9FA\",\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  speeddial: {\r\n    backgroundColor: \"red\",\r\n  },\r\n}));\r\n\r\nfunction geraStringAleatoria(tamanho) {\r\n  var stringAleatoria = \"\";\r\n  var caracteres =\r\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n  for (var i = 0; i < tamanho; i++) {\r\n    stringAleatoria += caracteres.charAt(\r\n      Math.floor(Math.random() * caracteres.length)\r\n    );\r\n  }\r\n  return stringAleatoria;\r\n}\r\n\r\nconst nodeTypes = {\r\n  message: messageNode,\r\n  start: startNode,\r\n  condition: conditionNode,\r\n  menu: menuNode,\r\n  interval: intervalNode,\r\n  img: imgNode,\r\n  audio: audioNode,\r\n  randomizer: randomizerNode,\r\n  video: videoNode,\r\n  singleBlock: singleBlockNode,\r\n  ticket: ticketNode,\r\n  typebot: typebotNode,\r\n  openai: openaiNode,\r\n  QueueFlow: QueueFlowNode,\r\n\r\n};\r\n\r\nconst edgeTypes = {\r\n  buttonedge: RemoveEdge,\r\n};\r\n\r\nconst initialNodes = [\r\n  {\r\n    id: \"1\",\r\n    position: { x: 250, y: 100 },\r\n    data: { label: \"Inicio do fluxo\" },\r\n    type: \"start\",\r\n  },\r\n];\r\n\r\nconst initialEdges = [];\r\n\r\nexport const FlowBuilderConfig = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  const storageItems = useNodeStorage();\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [dataNode, setDataNode] = useState(null);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [modalAddText, setModalAddText] = useState(null);\r\n  const [modalAddInterval, setModalAddInterval] = useState(false);\r\n  const [modalAddCondition, setModalAddCondition] = useState(null);\r\n  const [modalAddMenu, setModalAddMenu] = useState(null);\r\n  const [modalAddImg, setModalAddImg] = useState(null);\r\n  const [modalAddAudio, setModalAddAudio] = useState(null);\r\n  const [modalAddRandomizer, setModalAddRandomizer] = useState(null);\r\n  const [modalAddVideo, setModalAddVideo] = useState(null);\r\n  const [modalAddSingleBlock, setModalAddSingleBlock] = useState(null);\r\n  const [modalAddTicket, setModalAddTicket] = useState(null);\r\n  const [modalAddQueueFlow, setModalAddQueueFlow] = useState(null);\r\n  const [modalAddTypebot, setModalAddTypebot] = useState(null);\r\n  const [modalAddOpenAI, setModalAddOpenAI] = useState(null);\r\n\r\n  const connectionLineStyle = { stroke: \"#2b2b2b\", strokeWidth: \"6px\" };\r\n\r\n  const addNode = (type, data) => {\r\n    const posY = nodes[nodes.length - 1].position.y;\r\n    const posX =\r\n      nodes[nodes.length - 1].position.x + nodes[nodes.length - 1].width + 40;\r\n    if (type === \"start\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old.filter((item) => item.id !== \"1\"),\r\n          {\r\n            id: \"1\",\r\n            position: { x: posX, y: posY },\r\n            data: { label: \"Inicio do fluxo\" },\r\n            type: \"start\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"text\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { label: data.text },\r\n            type: \"message\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"interval\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { label: `Intervalo ${data.sec} seg.`, sec: data.sec },\r\n            type: \"interval\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"condition\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: {\r\n              key: data.key,\r\n              condition: data.condition,\r\n              value: data.value,\r\n            },\r\n            type: \"condition\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"menu\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: {\r\n              message: data.message,\r\n              arrayOption: data.arrayOption,\r\n            },\r\n            type: \"menu\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"img\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { url: data.url },\r\n            type: \"img\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"audio\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { url: data.url, record: data.record },\r\n            type: \"audio\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"randomizer\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { percent: data.percent },\r\n            type: \"randomizer\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"video\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { url: data.url },\r\n            type: \"video\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"singleBlock\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { ...data },\r\n            type: \"singleBlock\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n\r\n    if (type === \"ticket\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { ...data },\r\n            type: \"ticket\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"QueueFlow\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { ...data },\r\n            type: \"QueueFlow\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n\r\n    if (type === \"typebot\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { ...data },\r\n            type: \"typebot\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n\r\n    if (type === \"openai\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { ...data },\r\n            type: \"openai\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n  };\r\n\r\n  const textAdd = (data) => {\r\n    addNode(\"text\", data);\r\n  };\r\n\r\n  const intervalAdd = (data) => {\r\n    addNode(\"interval\", data);\r\n  };\r\n\r\n  const conditionAdd = (data) => {\r\n    addNode(\"condition\", data);\r\n  };\r\n\r\n  const menuAdd = (data) => {\r\n    addNode(\"menu\", data);\r\n  };\r\n\r\n  const imgAdd = (data) => {\r\n    addNode(\"img\", data);\r\n  };\r\n\r\n  const audioAdd = (data) => {\r\n    addNode(\"audio\", data);\r\n  };\r\n\r\n  const randomizerAdd = (data) => {\r\n    addNode(\"randomizer\", data);\r\n  };\r\n\r\n  const videoAdd = (data) => {\r\n    addNode(\"video\", data);\r\n  };\r\n\r\n  const singleBlockAdd = (data) => {\r\n    addNode(\"singleBlock\", data);\r\n  };\r\n\r\n  const ticketAdd = (data) => {\r\n    addNode(\"ticket\", data);\r\n  };\r\n\r\n  const typebotAdd = (data) => {\r\n    addNode(\"typebot\", data);\r\n  };\r\n\r\n  const openaiAdd = (data) => {\r\n    addNode(\"openai\", data);\r\n  };\r\n  const QueueFlowAdd = (data) => {\r\n    addNode(\"QueueFlow\", data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(`/flowbuilder/flow/${id}`);\r\n          if (data.flow.flow !== null) {\r\n            setNodes(data.flow.flow.nodes);\r\n            setEdges(data.flow.flow.connections);\r\n          }\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (storageItems.action === \"delete\") {\r\n      setNodes((old) => old.filter((item) => item.id !== storageItems.node));\r\n      setEdges((old) => {\r\n        const newData = old.filter((item) => item.source !== storageItems.node);\r\n        const newClearTarget = newData.filter(\r\n          (item) => item.target !== storageItems.node\r\n        );\r\n        return newClearTarget;\r\n      });\r\n      storageItems.setNodesStorage(\"\");\r\n      storageItems.setAct(\"idle\");\r\n    }\r\n    if (storageItems.action === \"duplicate\") {\r\n      const nodeDuplicate = nodes.filter(\r\n        (item) => item.id === storageItems.node\r\n      )[0];\r\n      const maioresX = nodes.map((node) => node.position.x);\r\n      const maiorX = Math.max(...maioresX);\r\n      const finalY = nodes[nodes.length - 1].position.y;\r\n      const nodeNew = {\r\n        ...nodeDuplicate,\r\n        id: geraStringAleatoria(30),\r\n        position: {\r\n          x: maiorX + 240,\r\n          y: finalY,\r\n        },\r\n        selected: false,\r\n        style: { backgroundColor: \"#555555\", padding: 0, borderRadius: 8 },\r\n      };\r\n      setNodes((old) => [...old, nodeNew]);\r\n      storageItems.setNodesStorage(\"\");\r\n      storageItems.setAct(\"idle\");\r\n    }\r\n  }, [storageItems.action]);\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\r\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\r\n\r\n  const onConnect = useCallback(\r\n    (params) => setEdges((eds) => addEdge(params, eds)),\r\n    [setEdges]\r\n  );\r\n\r\n  const saveFlow = async () => {\r\n    await api\r\n      .post(\"/flowbuilder/flow\", {\r\n        idFlow: id,\r\n        nodes: nodes,\r\n        connections: edges,\r\n      })\r\n      .then((res) => {\r\n        toast.success(\"Fluxo salvo com sucesso\");\r\n      });\r\n  };\r\n\r\n  const doubleClick = (event, node) => {\r\n    setDataNode(node);\r\n    if (node.type === \"message\") {\r\n      setModalAddText(\"edit\");\r\n    }\r\n    else if (node.type === \"interval\") {\r\n      setModalAddInterval(\"edit\");\r\n    }\r\n    else if (node.type === \"condition\") {\r\n      setModalAddCondition(\"edit\");\r\n    }\r\n    else if (node.type === \"menu\") {\r\n      setModalAddMenu(\"edit\");\r\n    }\r\n    else if (node.type === \"img\") {\r\n      setModalAddImg(\"edit\");\r\n    }\r\n    else if (node.type === \"audio\") {\r\n      setModalAddAudio(\"edit\");\r\n    }\r\n    else if (node.type === \"randomizer\") {\r\n      setModalAddRandomizer(\"edit\");\r\n    }\r\n    else if (node.type === \"singleBlock\") {\r\n      setModalAddSingleBlock(\"edit\");\r\n    }\r\n    else if (node.type === \"ticket\") {\r\n      setModalAddTicket(\"edit\");\r\n    }\r\n    else if(node.type === \"QueueFlow\"){\r\n      setModalAddQueueFlow(\"edit\");\r\n    }\r\n    else if (node.type === \"typebot\") {\r\n      setModalAddTypebot(\"edit\");\r\n    }\r\n    else if (node.type === \"openai\") {\r\n      setModalAddOpenAI(\"edit\");\r\n    }\r\n  };\r\n\r\n  const clickNode = (event, node) => {\r\n    setNodes((old) =>\r\n      old.map((item) => {\r\n        if (item.id === node.id) {\r\n          return {\r\n            ...item,\r\n            style: { backgroundColor: \"#FF7606\", padding: 1, borderRadius: 8 },\r\n          };\r\n        }\r\n        return {\r\n          ...item,\r\n          style: { backgroundColor: \"#13111C\", padding: 0, borderRadius: 8 },\r\n        };\r\n      })\r\n    );\r\n  };\r\n  const clickEdge = (event, node) => {\r\n    setNodes((old) =>\r\n      old.map((item) => {\r\n        return {\r\n          ...item,\r\n          style: { backgroundColor: \"#13111C\", padding: 0, borderRadius: 8 },\r\n        };\r\n      })\r\n    );\r\n  };\r\n\r\n  const updateNode = (dataAlter) => {\r\n    setNodes((old) =>\r\n      old.map((itemNode) => {\r\n        if (itemNode.id === dataAlter.id) {\r\n          return dataAlter;\r\n        }\r\n        return itemNode;\r\n      })\r\n    );\r\n    setModalAddText(null);\r\n    setModalAddInterval(null);\r\n    setModalAddMenu(null);\r\n  };\r\n\r\n  const actions = [\r\n    {\r\n      icon: (\r\n        <RocketLaunch\r\n          sx={{\r\n            color: \"#3ABA38\",\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Inicio\",\r\n      type: \"start\",\r\n    },\r\n    {\r\n      icon: (\r\n        <LibraryBooks\r\n          sx={{\r\n            color: \"#EC5858\",\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Conteúdo\",\r\n      type: \"content\",\r\n    },\r\n    {\r\n      icon: (\r\n        <DynamicFeed\r\n          sx={{\r\n            color: \"#683AC8\",\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Menu\",\r\n      type: \"menu\",\r\n    },\r\n    {\r\n      icon: (\r\n        <CallSplit\r\n          sx={{\r\n            color: \"#1FBADC\",\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Randomizador\",\r\n      type: \"random\",\r\n    },\r\n    {\r\n      icon: (\r\n        <AccessTime\r\n          sx={{\r\n            color: \"#F7953B\",\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Intervalo\",\r\n      type: \"interval\",\r\n    },\r\n    {\r\n      icon: (\r\n        <ConfirmationNumber\r\n          sx={{\r\n            color: \"#F7953B\",\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Ticket\",\r\n      type: \"ticket\",\r\n    },\r\n    {\r\n      icon: (\r\n        <CompareArrows\r\n        sx={{\r\n          color: \"#F7953B\",\r\n          }}\r\n          />\r\n          ),\r\n          name: \"Trocar_Fluxo\",\r\n          type: \"QueueFlow\",\r\n    },\r\n    {\r\n      icon: (\r\n        <Box\r\n          component=\"img\"\r\n          sx={{\r\n            width: 24,\r\n            height: 24,\r\n            color: \"#3aba38\",\r\n          }}\r\n          src={typebotIcon}\r\n          alt=\"icon\"\r\n        />\r\n      ),\r\n      name: \"TypeBot\",\r\n      type: \"typebot\",\r\n    },\r\n    {\r\n      icon: (\r\n        <SiOpenai\r\n          sx={{\r\n            color: \"#F7953B\",\r\n          }}\r\n        />\r\n      ),\r\n      name: \"OpenAI\",\r\n      type: \"openai\",\r\n    },\r\n  ];\r\n\r\n  const clickActions = (type) => {\r\n    switch (type) {\r\n      case \"start\":\r\n        addNode(\"start\");\r\n        break;\r\n      case \"menu\":\r\n        setModalAddMenu(\"create\");\r\n        break;\r\n      case \"content\":\r\n        setModalAddSingleBlock(\"create\");\r\n        break;\r\n      case \"random\":\r\n        setModalAddRandomizer(\"create\");\r\n        break;\r\n      case \"interval\":\r\n        setModalAddInterval(\"create\");\r\n        break;\r\n      case \"ticket\":\r\n        setModalAddTicket(\"create\");\r\n        break;\r\n      case \"QueueFlow\":\r\n        setModalAddQueueFlow(\"create\");\r\n        break;\r\n      case \"typebot\":\r\n        setModalAddTypebot(\"create\");\r\n        break;\r\n      case \"openai\":\r\n        setModalAddOpenAI(\"create\");\r\n        break;\r\n      default:\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Stack sx={{ height: \"100vh\" }}>\r\n      <FlowBuilderAddTextModal\r\n        open={modalAddText}\r\n        onSave={textAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddText}\r\n      />\r\n      <FlowBuilderIntervalModal\r\n        open={modalAddInterval}\r\n        onSave={intervalAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddInterval}\r\n      />\r\n      <FlowBuilderConditionModal\r\n        open={modalAddCondition}\r\n        onSave={conditionAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddCondition}\r\n      />\r\n      <FlowBuilderMenuModal\r\n        open={modalAddMenu}\r\n        onSave={menuAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddMenu}\r\n      />\r\n      <FlowBuilderAddImgModal\r\n        open={modalAddImg}\r\n        onSave={imgAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddImg}\r\n      />\r\n      <FlowBuilderAddAudioModal\r\n        open={modalAddAudio}\r\n        onSave={audioAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddAudio}\r\n      />\r\n      <FlowBuilderRandomizerModal\r\n        open={modalAddRandomizer}\r\n        onSave={randomizerAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddRandomizer}\r\n      />\r\n      <FlowBuilderAddVideoModal\r\n        open={modalAddVideo}\r\n        onSave={videoAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddVideo}\r\n      />\r\n      <FlowBuilderSingleBlockModal\r\n        open={modalAddSingleBlock}\r\n        onSave={singleBlockAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddSingleBlock}\r\n      />\r\n      <FlowBuilderTicketModal\r\n        open={modalAddTicket}\r\n        onSave={ticketAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddTicket}\r\n      />\r\n        <FlowBuilderAddQueueFlowModal\r\n        open={modalAddQueueFlow}\r\n        onSave={QueueFlowAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddQueueFlow}\r\n      />\r\n\r\n      <FlowBuilderOpenAIModal\r\n        open={modalAddOpenAI}\r\n        onSave={openaiAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddOpenAI}\r\n      />\r\n\r\n      <FlowBuilderTypebotModal\r\n        open={modalAddTypebot}\r\n        onSave={typebotAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddTypebot}\r\n      />\r\n\r\n      <MainHeader>\r\n        <Title>Desenhe seu fluxo</Title>\r\n      </MainHeader>\r\n      {!loading && (\r\n        <Paper\r\n          className={classes.mainPaper}\r\n          variant=\"outlined\"\r\n          onScroll={handleScroll}\r\n        >\r\n          <Stack>\r\n            <SpeedDial\r\n              ariaLabel=\"SpeedDial basic example\"\r\n              sx={{\r\n                position: \"absolute\",\r\n                top: 16,\r\n                left: 16,\r\n                \".MuiSpeedDial-fab\": {\r\n                  backgroundColor: colorPrimary(),\r\n                  \"&:hover\": {\r\n                    backgroundColor: colorPrimary(),\r\n                  },\r\n                },\r\n              }}\r\n              icon={<SpeedDialIcon />}\r\n              direction={\"down\"}\r\n            >\r\n              {actions.map((action) => (\r\n                <SpeedDialAction\r\n                  key={action.name}\r\n                  icon={action.icon}\r\n                  tooltipTitle={action.name}\r\n                  tooltipOpen\r\n                  tooltipPlacement={\"right\"}\r\n                  onClick={() => {\r\n                    clickActions(action.type);\r\n                  }}\r\n                />\r\n              ))}\r\n            </SpeedDial>\r\n          </Stack>\r\n          <Stack\r\n            sx={{\r\n              position: \"absolute\",\r\n              justifyContent: \"center\",\r\n              flexDirection: \"row\",\r\n              width: \"100%\",\r\n            }}\r\n          >\r\n            <Typography\r\n              style={{ color: \"#010101\", textShadow: \"#010101 1px 0 10px\" }}\r\n            >\r\n              Não se esqueça de salvar seu fluxo!\r\n            </Typography>\r\n          </Stack>\r\n          <Stack direction={\"row\"} justifyContent={\"end\"}>\r\n            <Button\r\n              sx={{ textTransform: \"none\" }}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={() => saveFlow()}\r\n            >\r\n              Salvar\r\n            </Button>\r\n          </Stack>\r\n\r\n          <Stack\r\n            direction={\"row\"}\r\n            style={{\r\n              width: \"100%\",\r\n              height: \"90%\",\r\n              position: \"relative\",\r\n              display: \"flex\",\r\n            }}\r\n          >\r\n            <ReactFlow\r\n              nodes={nodes}\r\n              edges={edges}\r\n              deleteKeyCode={[\"Backspace\", \"Delete\"]}\r\n              onNodesChange={onNodesChange}\r\n              onEdgesChange={onEdgesChange}\r\n              onNodeDoubleClick={doubleClick}\r\n              onNodeClick={clickNode}\r\n              onEdgeClick={clickEdge}\r\n              onConnect={onConnect}\r\n              nodeTypes={nodeTypes}\r\n              fitView\r\n              connectionLineStyle={connectionLineStyle}\r\n              style={{\r\n                //backgroundImage: `url(${imgBackground})`,\r\n                //backgroundSize: \"cover\"\r\n                backgroundColor: \"#F8F9FA\",\r\n              }}\r\n              edgeTypes={edgeTypes}\r\n              variant={\"cross\"}\r\n              defaultEdgeOptions={{\r\n                style: { color: \"#ff0000\", strokeWidth: \"6px\" },\r\n                animated: false,\r\n              }}\r\n            >\r\n              <Controls />\r\n              <MiniMap />\r\n              <Background variant=\"dots\" gap={12} size={-1} />\r\n            </ReactFlow>\r\n\r\n            <Stack\r\n              style={{\r\n                backgroundColor: \"#FAFAFA\",\r\n                height: \"20px\",\r\n                width: \"58px\",\r\n                position: \"absolute\",\r\n                bottom: 0,\r\n                right: 0,\r\n                zIndex: 1111,\r\n              }}\r\n            />\r\n          </Stack>\r\n        </Paper>\r\n      )}\r\n      {loading && (\r\n        <Stack justifyContent={\"center\"} alignItems={\"center\"} height={\"70vh\"}>\r\n          <CircularProgress />\r\n        </Stack>\r\n      )}\r\n    </Stack>\r\n  );\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  getBezierPath,\r\n  getEdgeCenter,\r\n  getMarkerEnd\r\n} from \"react-flow-renderer\";\r\n\r\nimport \"./css/buttonedge.css\";\r\nimport { Delete } from \"@mui/icons-material\";\r\n\r\nconst onEdgeClick = (evt, id) => {\r\n  evt.stopPropagation();\r\n  //removeEdgeList(id);\r\n};\r\n\r\nexport default function removeEdge({\r\n  id,\r\n  sourceX,\r\n  sourceY,\r\n  targetX,\r\n  targetY,\r\n  sourcePosition,\r\n  targetPosition,\r\n  style = {},\r\n  data,\r\n  arrowHeadType,\r\n  markerEndId\r\n}) {\r\n  const edgePath = getBezierPath({\r\n    sourceX,\r\n    sourceY,\r\n    sourcePosition,\r\n    targetX,\r\n    targetY,\r\n    targetPosition\r\n  });\r\n  const markerEnd = getMarkerEnd(arrowHeadType, markerEndId);\r\n  const [edgeCenterX, edgeCenterY] = getEdgeCenter({\r\n    sourceX,\r\n    sourceY,\r\n    targetX,\r\n    targetY\r\n  });\r\n\r\n  const foreignObjectSize = 40;\r\n\r\n  return (\r\n    <>\r\n      <path\r\n        id={id}\r\n        style={style}\r\n        className=\"react-flow__edge-path\"\r\n        d={edgePath}\r\n        markerEnd={markerEnd}\r\n      />\r\n      <foreignObject\r\n        width={foreignObjectSize}\r\n        height={foreignObjectSize}\r\n        x={edgeCenterX - foreignObjectSize / 2}\r\n        y={edgeCenterY - foreignObjectSize / 2}\r\n        className=\"edgebutton-foreignobject\"\r\n        requiredExtensions=\"http://www.w3.org/1999/xhtml\"\r\n      >\r\n        <body>\r\n          {/* <button\r\n            className=\"edgebutton\"\r\n            onClick={event => onEdgeClick(event, id)}\r\n          >\r\n            <Delete sx={{ width: \"12px\", height: \"12px\", color: \"#FF7606\" }} />\r\n          </button> */}\r\n        </body>\r\n      </foreignObject>\r\n    </>\r\n  );\r\n}\r\n","export const colorBack = () => {\r\n\r\n  return \"#FF7606\";\r\n};\r\n\r\nexport const colorPrimary = () => {\r\n\r\n  return \"#FF7606\";\r\n};\r\n\r\nexport const colorIconesMenu = () => {\r\n\r\n  return \"#FF7606\";\r\n};\r\n\r\nexport const colorTitleTable = () => {\r\n\r\n  return \"#e5e5e5\";\r\n};\r\n\r\nexport const colorTopTable = () => {\r\n\r\n  return \"#ededed\";\r\n};\r\n\r\nexport const colorBackgroundTable = () => {\r\n\r\n  return \"#2a273b\";\r\n};\r\n\r\nexport const colorLineTable = () => {\r\n\r\n  return \"#FF7606\";\r\n};\r\n\r\nexport const colorLineTableHover = () => {\r\n\r\n  return '#FF7606';\r\n};\r\n\r\nexport const colorTopbar = () => {\r\n\r\n  return \"#141414\";\r\n};\r\n\r\n\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\ttextField: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tflex: 1,\r\n\t},\r\n\r\n\textraAttr: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}));\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Muito curto!\")\r\n\t\t.max(50, \"Muito longo!\")\r\n\t\t.required(\"Digite um nome!\"),\r\n});\r\n\r\nconst WebhookModal = ({ open, onClose, webhookId, nameWebhook, initialValues, onSave }) => {\r\n\tconst classes = useStyles();\r\n\tconst isMounted = useRef(true);\r\n\r\n\tconst [contact, setContact] = useState({\r\n\t\tname: nameWebhook,\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tisMounted.current = false;\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetContact({\r\n\t\t\tname: \"\",\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleSaveContact = async values => {\r\n\t\tif(webhookId){\r\n\t\t\ttry {\r\n\t\t\t\tawait api.put(\"/webhook\", {\r\n\t\t\t\t\tname: values.name,\r\n\t\t\t\t\twebhookId\r\n\t\t\t\t  });\r\n\t\t\t\t  onSave(values.name)\r\n\t\t\t\t  handleClose()\r\n\t\t\t\ttoast.success(i18n.t(\"webhookModal.toasts.update\"));\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\ttry {\r\n\t\t\tawait api.post(\"/webhook\", {\r\n\t\t\t\tname: values.name,\r\n\t\t\t  });\r\n\t\t\t  onSave(values.name)\r\n\t\t\t  handleClose()\r\n\t\t\ttoast.success(i18n.t(\"webhookModal.saveSuccess\"));\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog open={open} onClose={handleClose} fullWidth=\"md\" scroll=\"paper\">\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{webhookId\r\n\t\t\t\t\t\t? `${i18n.t(\"webhookModal.title.edit\")}`\r\n\t\t\t\t\t\t: `${i18n.t(\"webhookModal.title.add\")}`}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={contact}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={ContactSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveContact(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\tstyle={{width: '95%'}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{webhookId\r\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default WebhookModal;","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\ttextField: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tflex: 1,\r\n\t},\r\n\r\n\textraAttr: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}));\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Muito curto!\")\r\n\t\t.max(50, \"Muito longo!\")\r\n\t\t.required(\"Digite um nome!\"),\r\n});\r\n\r\nconst FlowBuilderModal = ({ open, onClose, flowId, nameWebhook = \"\", initialValues, onSave }) => {\r\n\tconst classes = useStyles();\r\n\tconst isMounted = useRef(true);\r\n\r\n\tconst [contact, setContact] = useState({\r\n\t\tname: nameWebhook,\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tisMounted.current = false;\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetContact({\r\n\t\t\tname: \"\",\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleSaveContact = async values => {\r\n\t\tif(flowId){\r\n\t\t\ttry {\r\n\t\t\t\tawait api.put(\"/flowbuilder\", {\r\n\t\t\t\t\tname: values.name,\r\n\t\t\t\t\tflowId\r\n\t\t\t\t  });\r\n\t\t\t\t  onSave(values.name)\r\n\t\t\t\t  handleClose()\r\n\t\t\t\ttoast.success(i18n.t(\"webhookModal.toasts.update\"));\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\ttry {\r\n\t\t\tawait api.post(\"/flowbuilder\", {\r\n\t\t\t\tname: values.name,\r\n\t\t\t  });\r\n\t\t\t  onSave(values.name)\r\n\t\t\t  handleClose()\r\n\t\t\ttoast.success(i18n.t(\"webhookModal.saveSuccess\"));\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t}\r\n\t};\r\n\t\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog open={open} onClose={handleClose} fullWidth=\"md\" scroll=\"paper\">\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{flowId\r\n\t\t\t\t\t\t? `Editar Fluxo`\r\n\t\t\t\t\t\t: `Adicionar Fluxo`}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={contact}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={ContactSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveContact(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\tdefaultValue={contact.name}\r\n\t\t\t\t\t\t\t\t\terror={Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\thelperText={errors.name}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\tstyle={{width: '95%'}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{flowId\r\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default FlowBuilderModal;\r\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport api from \"../../services/api\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport ContactModal from \"../../components/ContactModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../../components/Can\";\r\nimport NewTicketModal from \"../../components/NewTicketModal\";\r\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport WebhookModal from \"../../components/WebhookModal\";\r\nimport {\r\n  AddCircle,\r\n  Build,\r\n  ContentCopy,\r\n  DevicesFold,\r\n  MoreVert,\r\n  WebhookOutlined\r\n} from \"@mui/icons-material\";\r\n\r\nimport {\r\n  Button,\r\n  CircularProgress,\r\n  Grid,\r\n  Menu,\r\n  MenuItem,\r\n  Stack\r\n} from \"@mui/material\";\r\n\r\nimport FlowBuilderModal from \"../../components/FlowBuilderModal\";\r\n\r\nimport {\r\n  colorBackgroundTable,\r\n  colorLineTable,\r\n  colorLineTableHover,\r\n  colorPrimary,\r\n  colorTitleTable,\r\n  colorTopTable\r\n} from \"../../styles/styles\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CONTACTS\") {\r\n    const contacts = action.payload;\r\n    const newContacts = [];\r\n\r\n    contacts.forEach(contact => {\r\n      const contactIndex = state.findIndex(c => c.id === contact.id);\r\n      if (contactIndex !== -1) {\r\n        state[contactIndex] = contact;\r\n      } else {\r\n        newContacts.push(contact);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newContacts];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CONTACTS\") {\r\n    const contact = action.payload;\r\n    const contactIndex = state.findIndex(c => c.id === contact.id);\r\n\r\n    if (contactIndex !== -1) {\r\n      state[contactIndex] = contact;\r\n      return [...state];\r\n    } else {\r\n      return [contact, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CONTACT\") {\r\n    const contactId = action.payload;\r\n\r\n    const contactIndex = state.findIndex(c => c.id === contactId);\r\n    if (contactIndex !== -1) {\r\n      state.splice(contactIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    backgroundColor: colorBackgroundTable(),\r\n    borderRadius: 12,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles\r\n  }\r\n}));\r\n\r\nconst FlowBuilder = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [contacts, dispatch] = useReducer(reducer, []);\r\n  const [webhooks, setWebhooks] = useState([]);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [selectedWebhookName, setSelectedWebhookName] = useState(null);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\r\n  const [contactTicket, setContactTicket] = useState({});\r\n  const [deletingContact, setDeletingContact] = useState(null);\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [confirmDuplicateOpen, setConfirmDuplicateOpen] = useState(false);\r\n\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [reloadData, setReloadData] = useState(false);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/flowbuilder\");\r\n          setWebhooks(data.flows);\r\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.flows });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber, reloadData]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId\r\n   \r\n\r\n   const onContact = (data) => {\r\n    if (data.action === \"update\" || data.action === \"create\") {\r\n      dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\r\n    }\r\n\r\n    if (data.action === \"delete\") {\r\n      dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\r\n    }\r\n  }\r\n  \r\n  socket.on(`company-${companyId}-contact`, onContact);\r\n\r\n  return () => {\r\n    socket.disconnect();\r\n  };\r\n\r\n\r\n  }, []);\r\n\r\n  const handleSearch = event => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleOpenContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(false);\r\n  };\r\n\r\n  const handleCloseOrOpenTicket = ticket => {\r\n    setNewTicketModalOpen(false);\r\n    if (ticket !== undefined && ticket.uuid !== undefined) {\r\n      history.push(`/tickets/${ticket.uuid}`);\r\n    }\r\n  };\r\n\r\n  const hadleEditContact = () => {\r\n    setSelectedContactId(deletingContact.id);\r\n    setSelectedWebhookName(deletingContact.name);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteWebhook = async webhookId => {\r\n    try {\r\n      await api.delete(`/flowbuilder/${webhookId}`).then(res => {\r\n        setDeletingContact(null);\r\n        setReloadData(old => !old);\r\n      });\r\n      toast.success(\"Fluxo excluído com sucesso\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleDuplicateFlow = async flowId => {\r\n    try {\r\n      await api.post(`/flowbuilder/duplicate`, { flowId: flowId }).then(res => {\r\n        setDeletingContact(null);\r\n        setReloadData(old => !old);\r\n      });\r\n      toast.success(\"Fluxo duplicado com sucesso\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber(prevState => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = e => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleClick = event => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const exportLink = () => {\r\n    history.push(`/flowbuilder/${deletingContact.id}`)\r\n  }\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      <NewTicketModal\r\n        modalOpen={newTicketModalOpen}\r\n        initialContact={contactTicket}\r\n        onClose={ticket => {\r\n          handleCloseOrOpenTicket(ticket);\r\n        }}\r\n      />\r\n      <FlowBuilderModal\r\n        open={contactModalOpen}\r\n        onClose={handleCloseContactModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        flowId={selectedContactId}\r\n        nameWebhook={selectedWebhookName}\r\n        onSave={() => setReloadData(old => !old)}\r\n      ></FlowBuilderModal>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContact\r\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\r\n                deletingContact.name\r\n              }?`\r\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\r\n        }\r\n        open={confirmOpen}\r\n        onClose={setConfirmOpen}\r\n        onConfirm={e =>\r\n          deletingContact ? handleDeleteWebhook(deletingContact.id) : () => {}\r\n        }\r\n      >\r\n        {deletingContact\r\n          ? `Tem certeza que deseja deletar este fluxo? Todas as integrações relacionados serão perdidos.`\r\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\r\n      </ConfirmationModal>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContact\r\n            ? `Deseja duplicar o fluxo ${deletingContact.name}?`\r\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\r\n        }\r\n        open={confirmDuplicateOpen}\r\n        onClose={setConfirmDuplicateOpen}\r\n        onConfirm={e =>\r\n          deletingContact ? handleDuplicateFlow(deletingContact.id) : () => {}\r\n        }\r\n      >\r\n        {deletingContact\r\n          ? `Tem certeza que deseja duplicar este fluxo?`\r\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\r\n      </ConfirmationModal>\r\n      <MainHeader>\r\n        <Title>Fluxos de conversa</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              style: {\r\n                color: colorTitleTable()\r\n              },\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: \"gray\" }} />\r\n                </InputAdornment>\r\n              )\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={handleOpenContactModal}\r\n            style={{ textTransform: \"none\", backgroundColor: colorPrimary() }}\r\n          >\r\n            <Stack direction={\"row\"} gap={1}>\r\n              <AddCircle />\r\n              {\"Adicionar Fluxo\"}\r\n            </Stack>\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Stack>\r\n          <Grid container style={{ padding: \"8px\" }}>\r\n            <Grid item xs={4} style={{ color: colorTopTable() }}>\r\n              {i18n.t(\"contacts.table.name\")}\r\n            </Grid>\r\n            <Grid item xs={4} style={{ color: colorTopTable() }} align=\"center\">\r\n              Status\r\n            </Grid>\r\n            <Grid item xs={4} align=\"end\" style={{ color: colorTopTable() }}>\r\n              {i18n.t(\"contacts.table.actions\")}\r\n            </Grid>\r\n          </Grid>\r\n          <>\r\n            {webhooks.map(contact => (\r\n              <Grid               \r\n                container\r\n                key={contact.id}\r\n                sx={{\r\n                  padding: \"8px\",\r\n                  backgroundColor: colorLineTable(),\r\n                  borderRadius: 2,\r\n                  marginTop: 0.5,\r\n                  \"&:hover\": {\r\n                    backgroundColor: colorLineTableHover()\r\n                  }\r\n                }}\r\n              >\r\n                <Grid item xs={4}  onClick={() => history.push(`/flowbuilder/${contact.id}`)}>\r\n                  <Stack\r\n                    justifyContent={\"center\"}\r\n                    height={\"100%\"}\r\n                    style={{ color: \"#ededed\" }}\r\n                  >\r\n                    <Stack direction={\"row\"}>\r\n                      <DevicesFold />\r\n                      <Stack justifyContent={\"center\"} marginLeft={1}>\r\n                        {contact.name}\r\n                      </Stack>\r\n                    </Stack>\r\n                  </Stack>\r\n                </Grid>\r\n                <Grid item xs={4} align=\"center\" style={{ color: \"#ededed\" }}  onClick={() => history.push(`/flowbuilder/${contact.id}`)}>\r\n                  <Stack justifyContent={\"center\"} height={\"100%\"}>\r\n                    {contact.active ? \"Ativo\" : \"Desativado\"}\r\n                  </Stack>\r\n                </Grid>\r\n                <Grid item xs={4} align=\"end\">\r\n                  <Button\r\n                    id=\"basic-button\"\r\n                    aria-controls={open ? \"basic-menu\" : undefined}\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded={open ? \"true\" : undefined}\r\n                    onClick={(e) => {\r\n                      handleClick(e);\r\n                      setDeletingContact(contact);\r\n                    }}\r\n                    sx={{ borderRadius: \"36px\", minWidth: \"24px\" }}\r\n                  >\r\n                    <MoreVert\r\n                      sx={{ color: \"#ededed\", width: \"21px\", height: \"21px\" }}\r\n                    />\r\n                  </Button>\r\n                  {/* <IconButton\r\n                    size=\"small\"\r\n                    onClick={() => hadleEditContact(contact.id, contact.name)}\r\n                  >\r\n                    <EditIcon style={{ color: \"#ededed\" }} />\r\n                  </IconButton>\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    onClick={e => {\r\n                      setConfirmDuplicateOpen(true);\r\n                      setDeletingContact(contact);\r\n                    }}\r\n                  >\r\n                    <ContentCopy style={{ color: \"#ededed\" }} />\r\n                  </IconButton>\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    onClick={() => history.push(`/flowbuilder/${contact.id}`)}\r\n                  >\r\n                    <Stack sx={{ width: 24 }}>\r\n                      <Build sx={{ width: 20, color: \"#ededed\" }} />\r\n                    </Stack>\r\n                  </IconButton>\r\n                  <Can\r\n                    role={user.profile}\r\n                    perform=\"contacts-page:deleteContact\"\r\n                    yes={() => (\r\n                      <IconButton\r\n                        size=\"small\"\r\n                        onClick={e => {\r\n                          setConfirmOpen(true);\r\n                          setDeletingContact(contact);\r\n                        }}\r\n                      >\r\n                        <DeleteOutlineIcon style={{ color: \"#ededed\" }} />\r\n                      </IconButton>\r\n                    )}\r\n                  /> */}\r\n                </Grid>\r\n              </Grid>\r\n            ))}\r\n            <Menu\r\n              id=\"basic-menu\"\r\n              anchorEl={anchorEl}\r\n              open={open}\r\n              sx={{borderRadius: '40px'}}\r\n              onClose={handleClose}\r\n              MenuListProps={{\r\n                \"aria-labelledby\": \"basic-button\"\r\n              }}\r\n            >\r\n              <MenuItem onClick={() => {\r\n                handleClose()\r\n                hadleEditContact()\r\n                }}>Editar nome</MenuItem>\r\n              <MenuItem onClick={() => {\r\n                handleClose()\r\n                exportLink()\r\n                }}>Editar fluxo</MenuItem>\r\n              <MenuItem onClick={() => {\r\n                handleClose()\r\n                setConfirmDuplicateOpen(true);\r\n                }}>Duplicar</MenuItem>\r\n              <MenuItem onClick={() => {\r\n                handleClose()\r\n                setConfirmOpen(true);\r\n                }}>Excluir</MenuItem>\r\n            </Menu>\r\n            {loading && (\r\n              <Stack\r\n                justifyContent={\"center\"}\r\n                alignItems={\"center\"}\r\n                minHeight={\"50vh\"}\r\n              >\r\n                <CircularProgress />\r\n              </Stack>\r\n            )}\r\n          </>\r\n        </Stack>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default FlowBuilder;\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport { head } from \"lodash\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport moment from \"moment\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport {\r\n  Box,\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  ListItemText,\r\n  MenuItem,\r\n  Select,\r\n  Tab,\r\n  Tabs,\r\n  Typography\r\n} from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport { Autocomplete, Checkbox, Chip, Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst CampaignModalPhrase = ({ open, onClose, FlowCampaignId, onSave }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n  const { user } = useContext(AuthContext);\r\n  const { companyId } = user;\r\n\r\n  const [campaignEditable, setCampaignEditable] = useState(true);\r\n  const attachmentFile = useRef(null);\r\n\r\n  const [dataItem, setDataItem] = useState({\r\n    name: \"\",\r\n    phrase: \"\"\r\n  });\r\n\r\n  const [dataItemError, setDataItemError] = useState({\r\n    name: false,\r\n    flowId: false,\r\n    phrase: false\r\n  });\r\n\r\n  const [flowSelected, setFlowSelected] = useState();\r\n  const [flowsData, setFlowsData] = useState([]);\r\n  const [flowsDataComplete, setFlowsDataComplete] = useState([]);\r\n\r\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\")\r\n  const [whatsAppNames, setWhatsAppNames] = useState([])\r\n  const [whatsApps, setWhatsApps] = useState([])\r\n  const [whatsAppSelected, setWhatsAppSelected] = useState({})\r\n\r\n  const [active, setActive] = useState(true)\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const getFlows = async () => {\r\n    const flows = await api.get(\"/flowbuilder\");\r\n    setFlowsDataComplete(flows.data.flows);\r\n    setFlowsData(flows.data.flows.map(flow => flow.name));\r\n    return flows.data.flows;\r\n  };\r\n\r\n  const detailsPhrase = async flows => {\r\n    setLoading(true);\r\n    await api.get(`/flowcampaign/${FlowCampaignId}`).then(res => {\r\n      console.log(\"dete\", res.data);\r\n      setDataItem({\r\n        name: res.data.details.name,\r\n        phrase: res.data.details.phrase\r\n      });\r\n      setActive(res.data.details.status)\r\n      const nameFlow = flows.filter(\r\n        itemFlows => itemFlows.id === res.data.details.flowId\r\n      );\r\n      if (nameFlow.length > 0) {\r\n        setFlowSelected(nameFlow[0].name);\r\n      }\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  const openModal = async () => {\r\n    const flows = await getFlows();\r\n    if (FlowCampaignId) {\r\n      await detailsPhrase(flows);\r\n    } else {\r\n      clearData();\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        api\r\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\r\n          .then(({ data }) => {\r\n            setWhatsApps(data)\r\n          })\r\n      }\r\n      fetchContacts();\r\n      setLoading(false)\r\n    }, 500)\r\n    return () => clearTimeout(delayDebounceFn)\r\n  }, [])\r\n\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    if (open === true) {\r\n      openModal();\r\n    }\r\n  }, [open]);\r\n\r\n  const clearErrors = () => {\r\n    setDataItemError({\r\n      name: false,\r\n      flowId: false,\r\n      whatsappId: false,\r\n      phrase: false\r\n    });\r\n  };\r\n\r\n  const clearData = () => {\r\n    setFlowSelected();\r\n    setDataItem({\r\n      name: \"\",\r\n      phrase: \"\"\r\n    });\r\n  };\r\n\r\n  const applicationSaveAndEdit = () => {\r\n    let error = 0;\r\n    if (dataItem.name === \"\" || dataItem.name.length === 0) {\r\n      setDataItemError(old => ({ ...old, name: true }));\r\n      error++;\r\n    }\r\n    if (!flowSelected) {\r\n      setDataItemError(old => ({ ...old, flowId: true }));\r\n      error++;\r\n    }\r\n    if (dataItem.phrase === \"\" || dataItem.phrase.length === 0) {\r\n      setDataItemError(old => ({ ...old, phrase: true }));\r\n      error++;\r\n    }\r\n    if(!selectedWhatsapp){\r\n      setDataItemError(old => ({ ...old, whatsappId: true }))\r\n    }\r\n\r\n    if (error !== 0) {\r\n      return;\r\n    }\r\n\r\n    const idFlow = flowsDataComplete.filter(\r\n      item => item.name === flowSelected\r\n    )[0].id;\r\n\r\n    const whatsappId = selectedWhatsapp !== \"\" ? selectedWhatsapp : null\r\n\r\n    if (FlowCampaignId) {\r\n      api.put(\"/flowcampaign\", {\r\n        id: FlowCampaignId,\r\n        name: dataItem.name,\r\n        flowId: idFlow,\r\n        whatsappId: whatsappId,\r\n        phrase: dataItem.phrase,\r\n        status: active\r\n      })\r\n      onClose();\r\n      onSave('ok');\r\n      toast.success(\"Frase alterada com sucesso!\");\r\n      clearData();\r\n    } else {\r\n      api.post(\"/flowcampaign\", {\r\n        name: dataItem.name,\r\n        flowId: idFlow,\r\n        whatsappId: whatsappId,\r\n        phrase: dataItem.phrase\r\n      });\r\n      onClose();\r\n      onSave('ok');\r\n      toast.success(\"Frase criada com sucesso!\");\r\n      clearData();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        fullWidth\r\n        maxWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {campaignEditable ? (\r\n            <>\r\n              {FlowCampaignId\r\n                ? `Editar campanha com fluxo por frase`\r\n                : `Nova campanha com fluxo por frase`}\r\n            </>\r\n          ) : (\r\n            <>{`${i18n.t(\"campaigns.dialog.readonly\")}`}</>\r\n          )}\r\n        </DialogTitle>\r\n        <div style={{ display: \"none\" }}>\r\n          <input type=\"file\" ref={attachmentFile} />\r\n        </div>\r\n        {!loading && (\r\n          <Stack sx={{ padding: \"52px\" }}>\r\n            <Stack sx={{ gap: \"14px\" }}>\r\n\r\n              {/*Inicio  */}\r\n              <Stack gap={1}>\r\n                <Typography>Escolha um fluxo</Typography>\r\n                <Autocomplete\r\n                  disablePortal\r\n                  id=\"combo-box-demo\"\r\n                  value={flowSelected}\r\n                  error={dataItemError.flowId}\r\n                  defaultValue={flowSelected}\r\n                  options={flowsData}\r\n                  onChange={(event, newValue) => {\r\n                    setFlowSelected(newValue);\r\n                  }}\r\n                  sx={{ width: \"100%\" }}\r\n                  renderInput={params => (\r\n                    <TextField\r\n                      {...params}\r\n                      error={dataItemError.flowId}\r\n                      variant=\"outlined\"\r\n                      style={{ width: \"100%\" }}\r\n                      placeholder=\"Escolha um fluxo\"\r\n                    />\r\n                  )}\r\n                  renderTags={(value, getTagProps) =>\r\n                    value.map((option, index) => (\r\n                      <Chip\r\n                        variant=\"outlined\"\r\n                        label={option}\r\n                        {...getTagProps({ index })}\r\n                        style={{ borderRadius: \"8px\" }}\r\n                      />\r\n                    ))\r\n                  }\r\n                />\r\n              </Stack>\r\n\r\n              { /* Fim */}\r\n\r\n            </Stack>\r\n            <Stack\r\n              direction={\"row\"}\r\n              spacing={2}\r\n              alignSelf={\"end\"}\r\n              marginTop={\"16px\"}\r\n            >\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={() => {\r\n                  onClose();\r\n                  clearErrors();\r\n                }}\r\n              >\r\n                Cancelar\r\n              </Button>\r\n              {FlowCampaignId ? (\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={() => applicationSaveAndEdit()}\r\n                >\r\n                  Salvar campanha\r\n                </Button>\r\n              ) : (\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={() => applicationSaveAndEdit()}\r\n                >\r\n                  Criar campanha\r\n                </Button>\r\n              )}\r\n            </Stack>\r\n          </Stack>\r\n        )}\r\n        {loading && (\r\n          <Stack\r\n            justifyContent={\"center\"}\r\n            alignItems={\"center\"}\r\n            minHeight={\"10vh\"}\r\n            sx={{ padding: \"52px\" }}\r\n          >\r\n            <CircularProgress />\r\n          </Stack>\r\n        )}\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CampaignModalPhrase;\r\n","/* eslint-disable no-unused-vars */\r\n\r\nimport React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DescriptionIcon from \"@material-ui/icons/Description\";\r\nimport TimerOffIcon from \"@material-ui/icons/TimerOff\";\r\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\r\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport CampaignModal from \"../../components/CampaignModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { isArray } from \"lodash\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { AddCircle, Build, DevicesFold, TextFields } from \"@mui/icons-material\";\r\nimport { CircularProgress, Grid, Stack } from \"@mui/material\";\r\nimport { Can } from \"../../components/Can\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport CampaignModalPhrase from \"../../components/CampaignModalPhrase\";\r\nimport { colorBackgroundTable, colorLineTable, colorLineTableHover, colorTopTable } from \"../../styles/styles\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CAMPAIGNS\") {\r\n    const campaigns = action.payload;\r\n    const newCampaigns = [];\r\n\r\n    if (isArray(campaigns)) {\r\n      campaigns.forEach(campaign => {\r\n        const campaignIndex = state.findIndex(u => u.id === campaign.id);\r\n        if (campaignIndex !== -1) {\r\n          state[campaignIndex] = campaign;\r\n        } else {\r\n          newCampaigns.push(campaign);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newCampaigns];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\r\n    const campaign = action.payload;\r\n    const campaignIndex = state.findIndex(u => u.id === campaign.id);\r\n\r\n    if (campaignIndex !== -1) {\r\n      state[campaignIndex] = campaign;\r\n      return [...state];\r\n    } else {\r\n      return [campaign, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CAMPAIGN\") {\r\n    const campaignId = action.payload;\r\n\r\n    const campaignIndex = state.findIndex(u => u.id === campaignId);\r\n    if (campaignIndex !== -1) {\r\n      state.splice(campaignIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    backgroundColor: colorBackgroundTable(),\r\n    borderRadius: 12,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles\r\n  }\r\n}));\r\n\r\nconst CampaignsPhrase = () => {\r\n  const classes = useStyles();\r\n\r\n  const history = useHistory();\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\r\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\r\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [deletingContact, setDeletingContact] = useState(null);\r\n\r\n  const [campaignflows, setCampaignFlows] = useState([]);\r\n  const [ModalOpenPhrase, setModalOpenPhrase] = useState(false);\r\n  const [campaignflowSelected, setCampaignFlowSelected] = useState();\r\n\r\n  const handleDeleteCampaign = async campaignId => {\r\n    try {\r\n      await api.delete(`/flowcampaign/${campaignId}`);\r\n      toast.success(\"Frase deletada\");\r\n      getCampaigns()\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    \r\n  };\r\n\r\n  const getCampaigns =  async() => {\r\n    setLoading(true);\r\n    await api.get(\"/flowcampaign\").then(res => {\r\n      setCampaignFlows(res.data.flow);\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const onSaveModal = () => {\r\n    getCampaigns()\r\n  }\r\n\r\n  const handleScroll = e => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getCampaigns();\r\n  }, []);\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingCampaign &&\r\n          `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${\r\n            deletingCampaign.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteCampaign(deletingContact.id)}\r\n      >\r\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <CampaignModalPhrase\r\n        open={ModalOpenPhrase}\r\n        onClose={() => setModalOpenPhrase(false)}\r\n        FlowCampaignId={campaignflowSelected}\r\n        onSave={onSaveModal}\r\n      />\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} sm={8} item>\r\n            <Title>Campanhas</Title>\r\n          </Grid>\r\n          <Grid xs={12} sm={4} item>\r\n            <Grid spacing={2} container>\r\n              <Grid xs={6} sm={6} item>\r\n                {/* <TextField\r\n                  fullWidth\r\n                  placeholder={i18n.t(\"campaigns.searchPlaceholder\")}\r\n                  type=\"search\"\r\n                  value={searchParam}\r\n                  onChange={handleSearch}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <SearchIcon style={{ color: \"gray\" }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                /> */}\r\n              </Grid>\r\n              <Grid xs={6} sm={6} item>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  onClick={() => {\r\n                    setCampaignFlowSelected();\r\n                    setModalOpenPhrase(true);\r\n                  }}\r\n                  color=\"primary\"\r\n                  style={{ textTransform: \"none\" }}\r\n                >\r\n                  <Stack direction={\"row\"} gap={1}>\r\n                    <AddCircle />\r\n                    {\"Campanha\"}\r\n                  </Stack>\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Stack>\r\n          <Grid container style={{ padding: \"8px\" }}>\r\n            <Grid item xs={4} style={{ color: colorTopTable() }}>\r\n              Nome\r\n            </Grid>\r\n            <Grid item xs={4} style={{ color: colorTopTable() }} align=\"center\">\r\n              Status\r\n            </Grid>\r\n            <Grid item xs={4} align=\"end\" style={{ color: colorTopTable() }}>\r\n              {i18n.t(\"contacts.table.actions\")}\r\n            </Grid>\r\n          </Grid>\r\n          <>\r\n            {!loading &&\r\n              campaignflows.map(flow => (\r\n                <Grid\r\n                  container\r\n                  key={flow.id}\r\n                  sx={{\r\n                    padding: \"8px\",\r\n                    backgroundColor: colorLineTable(),\r\n                    borderRadius: 4,\r\n                    marginTop: 0.5,\r\n                    \"&:hover\": {\r\n                      backgroundColor: colorLineTableHover()\r\n                    }\r\n                  }}\r\n                >\r\n                  <Grid item xs={4}>\r\n                    <Stack\r\n                      justifyContent={\"center\"}\r\n                      height={\"100%\"}\r\n                      style={{ color: \"#ededed\" }}\r\n                    >\r\n                      <Stack direction={\"row\"}>\r\n                        <TextFields />\r\n                        <Stack justifyContent={\"center\"} marginLeft={1}>\r\n                          {flow.name}\r\n                        </Stack>\r\n                      </Stack>\r\n                    </Stack>\r\n                  </Grid>\r\n                  <Grid item xs={4} align=\"center\" style={{ color: \"#ededed\" }}>\r\n                    <Stack justifyContent={\"center\"} height={\"100%\"}>\r\n                      {flow.status ? \"Ativo\" : \"Desativado\"}\r\n                    </Stack>\r\n                  </Grid>\r\n                  <Grid item xs={4} align=\"end\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => {\r\n                        setCampaignFlowSelected(flow.id);\r\n                        setModalOpenPhrase(true);\r\n                      }}\r\n                    >\r\n                      <EditIcon style={{ color: \"#ededed\" }} />\r\n                    </IconButton>\r\n                    <Can\r\n                      role={user.profile}\r\n                      perform=\"contacts-page:deleteContact\"\r\n                      yes={() => (\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={e => {\r\n                            setConfirmModalOpen(true);\r\n                            setDeletingContact(flow);\r\n                          }}\r\n                        >\r\n                          <DeleteOutlineIcon style={{ color: \"#ededed\" }} />\r\n                        </IconButton>\r\n                      )}\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n              ))}\r\n            {loading && (\r\n              <Stack\r\n                justifyContent={\"center\"}\r\n                alignItems={\"center\"}\r\n                minHeight={\"50vh\"}\r\n              >\r\n                <CircularProgress />\r\n              </Stack>\r\n            )}\r\n          </>\r\n        </Stack>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default CampaignsPhrase;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport moment from \"moment\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Contacts = () => {\r\n  const classes = useStyles();\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [loading,] = useState(false);\r\n  const [, setPageNumber] = useState(1);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const [hasMore,] = useState(false);\r\n  const [dueDate, setDueDate] = useState(\"\");\r\n  const { returnDays } = useDate();\r\n\r\n  const handleOpenContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(false);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const currentDueDate = localStorage.getItem(\"dueDate\");\r\n    if (currentDueDate !== \"\" && currentDueDate !== \"null\") {\r\n      setDueDate(moment(currentDueDate).format(\"DD/MM/YYYY\"));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      <SubscriptionModal\r\n        open={contactModalOpen}\r\n        onClose={handleCloseContactModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        contactId={selectedContactId}\r\n      ></SubscriptionModal>\r\n\r\n      <MainHeader>\r\n        <Title>Assinatura</Title>\r\n      </MainHeader>\r\n      <Grid item xs={12} sm={4}>\r\n        <Paper\r\n          className={classes.mainPaper}\r\n          variant=\"outlined\"\r\n          onScroll={handleScroll}\r\n        >\r\n\r\n          <div>\r\n            <TextField\r\n              id=\"outlined-full-width\"\r\n              label=\"Período de Licença\"\r\n              // defaultValue={`Sua licença vence em ${returnDays(user?.company?.dueDate)} dias!`}\r\n              defaultValue={returnDays(user?.company?.dueDate) === 0 ? `Sua licença vence em hoje!` : `Sua licença vence em ${returnDays(user?.company?.dueDate)} dias!`}\r\n              fullWidth\r\n              margin=\"normal\"\r\n              InputLabelProps={{ shrink: true, }}\r\n              InputProps={{ readOnly: true, }}\r\n              variant=\"outlined\"\r\n            />\r\n\r\n          </div>\r\n\r\n          <div>\r\n            <TextField\r\n              id=\"outlined-full-width\"\r\n              label=\"Email de cobrança\"\r\n              defaultValue={user?.email}\r\n              fullWidth\r\n              margin=\"normal\"\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n              variant=\"outlined\"\r\n            />\r\n\r\n          </div>\r\n\r\n          <div>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={handleOpenContactModal}\r\n              fullWidth\r\n            >\r\n              Assine Agora!\r\n            </Button>\r\n          </div>\r\n\r\n        </Paper>\r\n      </Grid>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Contacts;\r\n","export default __webpack_public_path__ + \"static/media/n8n.55dcf941.png\";","export default __webpack_public_path__ + \"static/media/webhook.20ba7126.png\";","export default __webpack_public_path__ + \"static/media/flowbuilders.5301f11e.png\";","import React, { useState, useEffect } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport {\r\n  Typography,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  CircularProgress,\r\n  Select,\r\n  InputLabel,\r\n  MenuItem,\r\n  FormControl,\r\n  TextField,\r\n  Grid,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    gap: 4\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  btnLeft: {\r\n    display: \"flex\",\r\n    marginRight: \"auto\",\r\n    marginLeft: 12,\r\n  },\r\n  colorAdorment: {\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n}));\r\n\r\nconst DialogflowSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  // projectName: Yup.string()\r\n  //   .min(3, \"Too Short!\")\r\n  //   .max(100, \"Too Long!\")\r\n  //   .required(),\r\n  // jsonContent: Yup.string().min(3, \"Too Short!\").required(),\r\n  // language: Yup.string().min(2, \"Too Short!\").max(50, \"Too Long!\").required(),\r\n});\r\n\r\n\r\n\r\nconst QueueIntegration = ({ open, onClose, integrationId }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    type: \"typebot\",\r\n    name: \"\",\r\n    projectName: \"\",\r\n    jsonContent: \"\",\r\n    language: \"\",\r\n    urlN8N: \"\",\r\n    typebotDelayMessage: 1000,\r\n    typebotExpires: 1,\r\n    typebotKeywordFinish: \"\",\r\n    typebotKeywordRestart: \"\",\r\n    typebotRestartMessage: \"\",\r\n    typebotSlug: \"\",\r\n    typebotUnknownMessage: \"\",\r\n\r\n  };\r\n\r\n  const [integration, setIntegration] = useState(initialState);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!integrationId) return;\r\n      try {\r\n        const { data } = await api.get(`/queueIntegration/${integrationId}`);\r\n        setIntegration((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      setIntegration({\r\n        type: \"dialogflow\",\r\n        name: \"\",\r\n        projectName: \"\",\r\n        jsonContent: \"\",\r\n        language: \"\",\r\n        urlN8N: \"\",\r\n        typebotDelayMessage: 1000\r\n      });\r\n    };\r\n\r\n  }, [integrationId, open]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setIntegration(initialState);\r\n  };\r\n\r\n  const handleTestSession = async (event, values) => {\r\n    try {\r\n      const { projectName, jsonContent, language } = values;\r\n\r\n      await api.post(`/queueIntegration/testSession`, {\r\n        projectName,\r\n        jsonContent,\r\n        language,\r\n      });\r\n\r\n      toast.success(i18n.t(\"queueIntegrationModal.messages.testSuccess\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleSaveDialogflow = async (values) => {\r\n\r\n    try {\r\n      if (values.type === 'n8n' || values.type === 'webhook' || values.type === 'typebot' || values.type === \"flowbuilder\") values.projectName = values.name\r\n      if (integrationId) {\r\n        await api.put(`/queueIntegration/${integrationId}`, values);\r\n        toast.success(i18n.t(\"queueIntegrationModal.messages.editSuccess\"));\r\n      } else {\r\n        await api.post(\"/queueIntegration\", values);\r\n        toast.success(i18n.t(\"queueIntegrationModal.messages.addSuccess\"));\r\n      }\r\n      handleClose();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"md\" scroll=\"paper\">\r\n        <DialogTitle>\r\n          {integrationId\r\n            ? `${i18n.t(\"queueIntegrationModal.title.edit\")}`\r\n            : `${i18n.t(\"queueIntegrationModal.title.add\")}`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={integration}\r\n          enableReinitialize={true}\r\n          validationSchema={DialogflowSchema}\r\n          onSubmit={(values, actions, event) => {\r\n            setTimeout(() => {\r\n              handleSaveDialogflow(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting, values }) => (\r\n            <Form>\r\n              <Paper square className={classes.mainPaper} elevation={1}>\r\n                <DialogContent dividers>\r\n                  <Grid container spacing={1}>\r\n                    <Grid item xs={12} md={6} xl={6}>\r\n                      <FormControl\r\n                        variant=\"outlined\"\r\n                        className={classes.formControl}\r\n                        margin=\"dense\"\r\n                        fullWidth\r\n                      >\r\n                        <InputLabel id=\"type-selection-input-label\">\r\n                          {i18n.t(\"queueIntegrationModal.form.type\")}\r\n                        </InputLabel>\r\n\r\n                        <Field\r\n                          as={Select}\r\n                          label={i18n.t(\"queueIntegrationModal.form.type\")}\r\n                          name=\"type\"\r\n                          labelId=\"profile-selection-label\"\r\n                          error={touched.type && Boolean(errors.type)}\r\n                          helpertext={touched.type && errors.type}\r\n                          id=\"type\"\r\n                          required\r\n                        >\r\n                          <MenuItem value=\"dialogflow\">DialogFlow</MenuItem>\r\n                          <MenuItem value=\"n8n\">N8N</MenuItem>\r\n                          <MenuItem value=\"webhook\">WebHooks</MenuItem>\r\n                          <MenuItem value=\"typebot\">Typebot</MenuItem>\r\n                          <MenuItem value=\"flowbuilder\">Flowbuilder</MenuItem>\r\n                        </Field>\r\n                      </FormControl>\r\n                    </Grid>\r\n                    {values.type === \"dialogflow\" && (\r\n                      <>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\r\n                            autoFocus\r\n                            name=\"name\"\r\n                            fullWidth\r\n                            error={touched.name && Boolean(errors.name)}\r\n                            helpertext={touched.name && errors.name}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <FormControl\r\n                            variant=\"outlined\"\r\n                            className={classes.formControl}\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                          >\r\n                            <InputLabel id=\"language-selection-input-label\">\r\n                              {i18n.t(\"queueIntegrationModal.form.language\")}\r\n                            </InputLabel>\r\n\r\n                            <Field\r\n                              as={Select}\r\n                              label={i18n.t(\"queueIntegrationModal.form.language\")}\r\n                              name=\"language\"\r\n                              labelId=\"profile-selection-label\"\r\n                              fullWidth\r\n                              error={touched.language && Boolean(errors.language)}\r\n                              helpertext={touched.language && errors.language}\r\n                              id=\"language-selection\"\r\n                              required\r\n                            >\r\n                              <MenuItem value=\"pt-BR\">Portugues</MenuItem>\r\n                              <MenuItem value=\"en\">Inglês</MenuItem>\r\n                              <MenuItem value=\"es\">Español</MenuItem>\r\n                            </Field>\r\n                          </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.projectName\")}\r\n                            name=\"projectName\"\r\n                            error={touched.projectName && Boolean(errors.projectName)}\r\n                            helpertext={touched.projectName && errors.projectName}\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={12} xl={12} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.jsonContent\")}\r\n                            type=\"jsonContent\"\r\n                            multiline\r\n                            //inputRef={greetingRef}\r\n                            maxRows={5}\r\n                            minRows={5}\r\n                            fullWidth\r\n                            name=\"jsonContent\"\r\n                            error={touched.jsonContent && Boolean(errors.jsonContent)}\r\n                            helpertext={touched.jsonContent && errors.jsonContent}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                          />\r\n                        </Grid>\r\n                      </>\r\n                    )}\r\n\r\n                    {(values.type === \"n8n\" || values.type === \"webhook\") && (\r\n                      <>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\r\n                            autoFocus\r\n                            required\r\n                            name=\"name\"\r\n                            error={touched.name && Boolean(errors.name)}\r\n                            helpertext={touched.name && errors.name}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={12} xl={12} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\r\n                            name=\"urlN8N\"\r\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\r\n                            helpertext={touched.urlN8N && errors.urlN8N}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            required\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                      </>\r\n                    )}\r\n\r\n                    {(values.type === \"flowbuilder\") && (\r\n                      <Grid item xs={12} md={6} xl={6} >\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"queueIntegrationModal.form.name\")}\r\n                          autoFocus\r\n                          name=\"name\"\r\n                          fullWidth\r\n                          error={touched.name && Boolean(errors.name)}\r\n                          helpertext={touched.name && errors.name}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          className={classes.textField}\r\n                        />\r\n                      </Grid>\r\n                    )}\r\n                    {(values.type === \"typebot\") && (\r\n                      <>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\r\n                            autoFocus\r\n                            name=\"name\"\r\n                            error={touched.name && Boolean(errors.name)}\r\n                            helpertext={touched.name && errors.name}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            required\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={12} xl={12} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\r\n                            name=\"urlN8N\"\r\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\r\n                            helpertext={touched.urlN8N && errors.urlN8N}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            required\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotSlug\")}\r\n                            name=\"typebotSlug\"\r\n                            error={touched.typebotSlug && Boolean(errors.typebotSlug)}\r\n                            helpertext={touched.typebotSlug && errors.typebotSlug}\r\n                            required\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotExpires\")}\r\n                            name=\"typebotExpires\"\r\n                            error={touched.typebotExpires && Boolean(errors.typebotExpires)}\r\n                            helpertext={touched.typebotExpires && errors.typebotExpires}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotDelayMessage\")}\r\n                            name=\"typebotDelayMessage\"\r\n                            error={touched.typebotDelayMessage && Boolean(errors.typebotDelayMessage)}\r\n                            helpertext={touched.typebotDelayMessage && errors.typebotDelayMessage}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordFinish\")}\r\n                            name=\"typebotKeywordFinish\"\r\n                            error={touched.typebotKeywordFinish && Boolean(errors.typebotKeywordFinish)}\r\n                            helpertext={touched.typebotKeywordFinish && errors.typebotKeywordFinish}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordRestart\")}\r\n                            name=\"typebotKeywordRestart\"\r\n                            error={touched.typebotKeywordRestart && Boolean(errors.typebotKeywordRestart)}\r\n                            helpertext={touched.typebotKeywordRestart && errors.typebotKeywordRestart}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotUnknownMessage\")}\r\n                            name=\"typebotUnknownMessage\"\r\n                            error={touched.typebotUnknownMessage && Boolean(errors.typebotUnknownMessage)}\r\n                            helpertext={touched.typebotUnknownMessage && errors.typebotUnknownMessage}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={12} xl={12} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotRestartMessage\")}\r\n                            name=\"typebotRestartMessage\"\r\n                            error={touched.typebotRestartMessage && Boolean(errors.typebotRestartMessage)}\r\n                            helpertext={touched.typebotRestartMessage && errors.typebotRestartMessage}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n\r\n                      </>\r\n                    )}\r\n                  </Grid>\r\n                </DialogContent>\r\n              </Paper>\r\n\r\n              <DialogActions>\r\n                {values.type === \"dialogflow\" && (\r\n                  <Button\r\n                    //type=\"submit\"\r\n                    onClick={(e) => handleTestSession(e, values)}\r\n                    color=\"inherit\"\r\n                    disabled={isSubmitting}\r\n                    name=\"testSession\"\r\n                    variant=\"outlined\"\r\n                    className={classes.btnLeft}\r\n                  >\r\n                    {i18n.t(\"queueIntegrationModal.buttons.test\")}\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"queueIntegrationModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {integrationId\r\n                    ? `${i18n.t(\"queueIntegrationModal.buttons.okEdit\")}`\r\n                    : `${i18n.t(\"queueIntegrationModal.buttons.okAdd\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default QueueIntegration;","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport n8n from \"../../assets/n8n.png\";\r\nimport dialogflow from \"../../assets/dialogflow.png\";\r\nimport webhooks from \"../../assets/webhook.png\";\r\nimport typebot from \"../../assets/typebot.jpg\";\r\nimport flowbuilder from \"../../assets/flowbuilders.png\"\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  IconButton,\r\n  InputAdornment,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  TextField,\r\n  Tooltip\r\n} from \"@material-ui/core\";\r\n\r\nimport {\r\n  DeleteOutline,\r\n  Edit\r\n} from \"@material-ui/icons\";\r\n\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport IntegrationModal from \"../../components/QueueIntegrationModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_INTEGRATIONS\") {\r\n    const queueIntegration = action.payload;\r\n    const newIntegrations = [];\r\n\r\n    queueIntegration.forEach((integration) => {\r\n      const integrationIndex = state.findIndex((u) => u.id === integration.id);\r\n      if (integrationIndex !== -1) {\r\n        state[integrationIndex] = integration;\r\n      } else {\r\n        newIntegrations.push(integration);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newIntegrations];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_INTEGRATIONS\") {\r\n    const queueIntegration = action.payload;\r\n    const integrationIndex = state.findIndex((u) => u.id === queueIntegration.id);\r\n\r\n    if (integrationIndex !== -1) {\r\n      state[integrationIndex] = queueIntegration;\r\n      return [...state];\r\n    } else {\r\n      return [queueIntegration, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_INTEGRATION\") {\r\n    const integrationId = action.payload;\r\n\r\n    const integrationIndex = state.findIndex((u) => u.id === integrationId);\r\n    if (integrationIndex !== -1) {\r\n      state.splice(integrationIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n    margin: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  avatar: {\r\n    width: \"140px\",\r\n    height: \"40px\",\r\n    borderRadius: 4\r\n  },\r\n}));\r\n\r\nconst QueueIntegration = () => {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedIntegration, setSelectedIntegration] = useState(null);\r\n  const [deletingUser, setDeletingUser] = useState(null);\r\n  const [userModalOpen, setUserModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [queueIntegration, dispatch] = useReducer(reducer, []);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const { getPlanCompany } = usePlans();\r\n  const companyId = user.companyId;\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useIntegrations) {\r\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchIntegrations = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/queueIntegration/\", {\r\n            params: { searchParam, pageNumber },\r\n          });\r\n          dispatch({ type: \"LOAD_INTEGRATIONS\", payload: data.queueIntegrations });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchIntegrations();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onQueueEvent = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_INTEGRATIONS\", payload: data.queueIntegration });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_INTEGRATION\", payload: +data.integrationId });\r\n      }\r\n    };\r\n\r\n    socket.on(`company-${companyId}-queueIntegration`, onQueueEvent);\r\n    return () => {\r\n      socket.off(`company-${companyId}-queueIntegration`, onQueueEvent);\r\n    };\r\n  }, []);\r\n\r\n  const handleOpenUserModal = () => {\r\n    setSelectedIntegration(null);\r\n    setUserModalOpen(true);\r\n  };\r\n\r\n  const handleCloseIntegrationModal = () => {\r\n    setSelectedIntegration(null);\r\n    setUserModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditIntegration = (queueIntegration) => {\r\n    setSelectedIntegration(queueIntegration);\r\n    setUserModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteIntegration = async (integrationId) => {\r\n    try {\r\n      await api.delete(`/queueIntegration/${integrationId}`);\r\n      toast.success(i18n.t(\"queueIntegration.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingUser(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingUser &&\r\n          `${i18n.t(\"queueIntegration.confirmationModal.deleteTitle\")} ${deletingUser.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteIntegration(deletingUser.id)}\r\n      >\r\n        {i18n.t(\"queueIntegration.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <IntegrationModal\r\n        open={userModalOpen}\r\n        onClose={handleCloseIntegrationModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        integrationId={selectedIntegration && selectedIntegration.id}\r\n      />\r\n      {user.profile === \"user\" ?\r\n        <ForbiddenPage />\r\n        :\r\n        <>\r\n          <MainHeader>\r\n            <Title>{i18n.t(\"queueIntegration.title\")} ({queueIntegration.length})</Title>\r\n            <MainHeaderButtonsWrapper>\r\n              <TextField\r\n                placeholder={i18n.t(\"queueIntegration.searchPlaceholder\")}\r\n                type=\"search\"\r\n                value={searchParam}\r\n                onChange={handleSearch}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <SearchIcon color=\"secondary\" />\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleOpenUserModal}\r\n              >\r\n                {i18n.t(\"queueIntegration.buttons.add\")}\r\n              </Button>\r\n            </MainHeaderButtonsWrapper>\r\n          </MainHeader>\r\n          <Paper\r\n            className={classes.mainPaper}\r\n            variant=\"outlined\"\r\n            onScroll={handleScroll}\r\n          >\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell padding=\"checkbox\"></TableCell>\r\n                  <TableCell align=\"center\">{i18n.t(\"queueIntegration.table.id\")}</TableCell>\r\n                  <TableCell align=\"center\">{i18n.t(\"queueIntegration.table.name\")}</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <>\r\n                  {queueIntegration.map((integration) => (\r\n                    <TableRow key={integration.id}>\r\n                      <TableCell >\r\n                        {integration.type === \"dialogflow\" && (<Avatar\r\n                          src={dialogflow} className={classes.avatar} />)}\r\n                        {integration.type === \"n8n\" && (<Avatar\r\n                          src={n8n} className={classes.avatar} />)}\r\n                        {integration.type === \"webhook\" && (<Avatar\r\n                          src={webhooks} className={classes.avatar} />)}\r\n                        {integration.type === \"typebot\" && (<Avatar\r\n                          src={typebot} className={classes.avatar} />)}\r\n                          {integration.type === \"flowbuilder\" && (<Avatar\r\n                          src={flowbuilder} className={classes.avatar} />)}\r\n                      </TableCell>\r\n\r\n                      <TableCell align=\"center\">{integration.id}</TableCell>\r\n                      <TableCell align=\"center\">{integration.name}</TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => handleEditIntegration(integration)}\r\n                        >\r\n                          <Edit color=\"secondary\" />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={(e) => {\r\n                            setConfirmModalOpen(true);\r\n                            setDeletingUser(integration);\r\n                          }}\r\n                        >\r\n                          <DeleteOutline color=\"secondary\" />\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  {loading && <TableRowSkeleton columns={7} />}\r\n                </>\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        </>}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default QueueIntegration;","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport {\r\n    Formik,\r\n    Form,\r\n    Field,\r\n    FieldArray\r\n} from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport {\r\n    Button,\r\n    CircularProgress,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    Grid,\r\n    makeStyles,\r\n    TextField\r\n} from \"@material-ui/core\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\n\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n        gap: 4\r\n    },\r\n    multFieldLine: {\r\n        display: \"flex\",\r\n        \"& > *:not(:last-child)\": {\r\n            marginRight: theme.spacing(1),\r\n        },\r\n    },\r\n    textField: {\r\n        marginRight: theme.spacing(1),\r\n        flex: 1,\r\n    },\r\n\r\n    extraAttr: {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    btnWrapper: {\r\n        position: \"relative\",\r\n    },\r\n\r\n    buttonProgress: {\r\n        color: green[500],\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 2000,\r\n    },\r\n    colorAdorment: {\r\n        width: 20,\r\n        height: 20,\r\n    },\r\n}));\r\n\r\nconst FileListSchema = Yup.object().shape({\r\n    name: Yup.string()\r\n        .min(3, \"nome muito curto\")\r\n        .required(\"Obrigatório\"),\r\n    message: Yup.string()\r\n        .required(\"Obrigatório\")\r\n});\r\n\r\nconst FilesModal = ({ open, onClose, fileListId, reload }) => {\r\n    const classes = useStyles();\r\n    const { user } = useContext(AuthContext);\r\n\r\n    const [files, setFiles] = useState([]);\r\n    const [selectedFileNames, setSelectedFileNames] = useState([]);\r\n\r\n\r\n    const initialState = {\r\n        name: \"\",\r\n        message: \"\",\r\n        options: [{ name: \"\", path: \"\", mediaType: \"\" }],\r\n    };\r\n\r\n    const [fileList, setFileList] = useState(initialState);\r\n\r\n    useEffect(() => {\r\n        try {\r\n            (async () => {\r\n                if (!fileListId) return;\r\n\r\n                const { data } = await api.get(`/files/${fileListId}`);\r\n                setFileList(data);\r\n            })()\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }, [fileListId, open]);\r\n\r\n    const handleClose = () => {\r\n        setFileList(initialState);\r\n        setFiles([]);\r\n        onClose();\r\n    };\r\n\r\n    const handleSaveFileList = async (values) => {\r\n\r\n        const uploadFiles = async (options, filesOptions, id) => {\r\n            const formData = new FormData();\r\n            formData.append(\"fileId\", id);\r\n            formData.append(\"typeArch\", \"fileList\")\r\n            filesOptions.forEach((fileOption, index) => {\r\n                if (fileOption.file) {\r\n                    formData.append(\"files\", fileOption.file);\r\n                    formData.append(\"mediaType\", fileOption.file.type)\r\n                    formData.append(\"name\", options[index].name);\r\n                    formData.append(\"id\", options[index].id);\r\n                }\r\n            });\r\n\r\n            try {\r\n                const { data } = await api.post(`/files/uploadList/${id}`, formData);\r\n                setFiles([]);\r\n                return data;\r\n            } catch (err) {\r\n                toastError(err);\r\n            }\r\n            return null;\r\n        }\r\n\r\n        const fileData = { ...values, userId: user.id };\r\n\r\n        try {\r\n            if (fileListId) {\r\n                const { data } = await api.put(`/files/${fileListId}`, fileData)\r\n                if (data.options.length > 0)\r\n                    // console.log(values.options)\r\n                    uploadFiles(data.options, values.options, fileListId)\r\n            } else {\r\n                const { data } = await api.post(\"/files\", fileData);\r\n                if (data.options.length > 0)\r\n                    uploadFiles(data.options, values.options, data.id)\r\n            }\r\n            toast.success(i18n.t(\"fileModal.success\"));\r\n            if (typeof reload == 'function') {\r\n                reload();\r\n            }\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        handleClose();\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                maxWidth=\"md\"\r\n                fullWidth\r\n                scroll=\"paper\">\r\n                <DialogTitle id=\"form-dialog-title\">\r\n                    {(fileListId ? `${i18n.t(\"fileModal.title.edit\")}` : `${i18n.t(\"fileModal.title.add\")}`)}\r\n                </DialogTitle>\r\n                <Formik\r\n                    initialValues={fileList}\r\n                    enableReinitialize={true}\r\n                    validationSchema={FileListSchema}\r\n                    onSubmit={(values, actions) => {\r\n                        setTimeout(() => {\r\n                            handleSaveFileList(values);\r\n                            actions.setSubmitting(false);\r\n                        }, 400);\r\n                    }}\r\n                >\r\n                    {({ touched, errors, isSubmitting, values }) => (\r\n                        <Form>\r\n                            <DialogContent dividers>\r\n                                <div className={classes.multFieldLine}>\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"fileModal.form.name\")}\r\n                                        name=\"name\"\r\n                                        error={touched.name && Boolean(errors.name)}\r\n                                        helperText={touched.name && errors.name}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                </div>\r\n                                <br />\r\n                                <div className={classes.multFieldLine}>\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"fileModal.form.message\")}\r\n                                        type=\"message\"\r\n                                        multiline\r\n                                        minRows={5}\r\n                                        fullWidth\r\n                                        name=\"message\"\r\n                                        error={\r\n                                            touched.message && Boolean(errors.message)\r\n                                        }\r\n                                        helperText={\r\n                                            touched.message && errors.message\r\n                                        }\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                    />\r\n                                </div>\r\n                                <Typography\r\n                                    style={{ marginBottom: 8, marginTop: 12 }}\r\n                                    variant=\"subtitle1\"\r\n                                >\r\n                                    {i18n.t(\"fileModal.form.fileOptions\")}\r\n                                </Typography>\r\n\r\n                                <FieldArray name=\"options\">\r\n                                    {({ push, remove }) => (\r\n                                        <>\r\n                                            {values.options &&\r\n                                                values.options.length > 0 &&\r\n                                                values.options.map((info, index) => (\r\n                                                    <div\r\n                                                        className={classes.extraAttr}\r\n                                                        key={`${index}-info`}\r\n                                                    >\r\n                                                        <Grid container spacing={0}>\r\n                                                            <Grid xs={6} md={10} item>\r\n                                                                <Field\r\n                                                                    as={TextField}\r\n                                                                    label={i18n.t(\"fileModal.form.extraName\")}\r\n                                                                    name={`options[${index}].name`}\r\n                                                                    variant=\"outlined\"\r\n                                                                    margin=\"dense\"\r\n                                                                    multiline\r\n                                                                    fullWidth\r\n                                                                    minRows={2}\r\n                                                                    className={classes.textField}\r\n                                                                />\r\n                                                            </Grid>\r\n                                                            <Grid xs={2} md={2} item style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end' }}>\r\n                                                                <input\r\n                                                                    type=\"file\"\r\n                                                                    onChange={(e) => {\r\n                                                                        const selectedFile = e.target.files[0];\r\n                                                                        const updatedOptions = [...values.options];\r\n                                                                        updatedOptions[index].file = selectedFile;\r\n                                                                        setFiles('options', updatedOptions);\r\n\r\n                                                                        // Atualize a lista selectedFileNames para o campo específico\r\n                                                                        const updatedFileNames = [...selectedFileNames];\r\n                                                                        updatedFileNames[index] = selectedFile ? selectedFile.name : '';\r\n                                                                        setSelectedFileNames(updatedFileNames);\r\n                                                                    }}\r\n                                                                    style={{ display: 'none' }}\r\n                                                                    name={`options[${index}].file`}\r\n                                                                    id={`file-upload-${index}`}\r\n                                                                />\r\n                                                                <label htmlFor={`file-upload-${index}`}>\r\n                                                                    <IconButton component=\"span\">\r\n                                                                        <AttachFileIcon />\r\n                                                                    </IconButton>\r\n                                                                </label>\r\n                                                                <IconButton\r\n                                                                    size=\"small\"\r\n                                                                    onClick={() => remove(index)}\r\n                                                                >\r\n                                                                    <DeleteOutlineIcon />\r\n                                                                </IconButton>\r\n                                                            </Grid>\r\n                                                            <Grid xs={12} md={12} item>\r\n                                                                {info.path ? info.path : selectedFileNames[index]}\r\n                                                            </Grid>\r\n                                                        </Grid>\r\n                                                    </div>\r\n\r\n                                                ))}\r\n                                            <div className={classes.extraAttr}>\r\n                                                <Button\r\n                                                    style={{ flex: 1, marginTop: 8 }}\r\n                                                    variant=\"outlined\"\r\n                                                    color=\"primary\"\r\n                                                    onClick={() => {\r\n                                                        push({ name: \"\", path: \"\" });\r\n                                                        setSelectedFileNames([...selectedFileNames, \"\"]);\r\n                                                    }}\r\n                                                >\r\n                                                    {`+ ${i18n.t(\"fileModal.buttons.fileOptions\")}`}\r\n                                                </Button>\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n                                </FieldArray>\r\n                            </DialogContent>\r\n                            <DialogActions>\r\n                                <Button\r\n                                    onClick={handleClose}\r\n                                    color=\"secondary\"\r\n                                    disabled={isSubmitting}\r\n                                    variant=\"outlined\"\r\n                                >\r\n                                    {i18n.t(\"fileModal.buttons.cancel\")}\r\n                                </Button>\r\n                                <Button\r\n                                    type=\"submit\"\r\n                                    color=\"primary\"\r\n                                    disabled={isSubmitting}\r\n                                    variant=\"contained\"\r\n                                    className={classes.btnWrapper}\r\n                                >\r\n                                    {fileListId\r\n                                        ? `${i18n.t(\"fileModal.buttons.okEdit\")}`\r\n                                        : `${i18n.t(\"fileModal.buttons.okAdd\")}`}\r\n                                    {isSubmitting && (\r\n                                        <CircularProgress\r\n                                            size={24}\r\n                                            className={classes.buttonProgress}\r\n                                        />\r\n                                    )}\r\n                                </Button>\r\n                            </DialogActions>\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilesModal;","import React, {\r\n    useState,\r\n    useEffect,\r\n    useReducer,\r\n    useCallback,\r\n    useContext,\r\n} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport FileModal from \"../../components/FileModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\n\r\nconst reducer = (state, action) => {\r\n    if (action.type === \"LOAD_FILES\") {\r\n        const files = action.payload;\r\n        const newFiles = [];\r\n\r\n        files.forEach((fileList) => {\r\n            const fileListIndex = state.findIndex((s) => s.id === fileList.id);\r\n            if (fileListIndex !== -1) {\r\n                state[fileListIndex] = fileList;\r\n            } else {\r\n                newFiles.push(fileList);\r\n            }\r\n        });\r\n\r\n        return [...state, ...newFiles];\r\n    }\r\n\r\n    if (action.type === \"UPDATE_FILES\") {\r\n        const fileList = action.payload;\r\n        const fileListIndex = state.findIndex((s) => s.id === fileList.id);\r\n\r\n        if (fileListIndex !== -1) {\r\n            state[fileListIndex] = fileList;\r\n            return [...state];\r\n        } else {\r\n            return [fileList, ...state];\r\n        }\r\n    }\r\n\r\n    if (action.type === \"DELETE_FILE\") {\r\n        const fileListId = action.payload;\r\n\r\n        const fileListIndex = state.findIndex((s) => s.id === fileListId);\r\n        if (fileListIndex !== -1) {\r\n            state.splice(fileListIndex, 1);\r\n        }\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"RESET\") {\r\n        return [];\r\n    }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    mainPaper: {\r\n        flex: 1,\r\n        padding: theme.spacing(1),\r\n        overflowY: \"scroll\",\r\n        ...theme.scrollbarStyles,\r\n    },\r\n}));\r\n\r\nconst FileLists = () => {\r\n    const classes = useStyles();\r\n\r\n    //   const socketManager = useContext(SocketContext);\r\n    const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [pageNumber, setPageNumber] = useState(1);\r\n    const [hasMore, setHasMore] = useState(false);\r\n    const [selectedFileList, setSelectedFileList] = useState(null);\r\n    const [deletingFileList, setDeletingFileList] = useState(null);\r\n    const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n    const [searchParam, setSearchParam] = useState(\"\");\r\n    const [files, dispatch] = useReducer(reducer, []);\r\n    const [fileListModalOpen, setFileListModalOpen] = useState(false);\r\n\r\n    const fetchFileLists = useCallback(async () => {\r\n        try {\r\n            const { data } = await api.get(\"/files/\", {\r\n                params: { searchParam, pageNumber },\r\n            });\r\n            dispatch({ type: \"LOAD_FILES\", payload: data.files });\r\n            setHasMore(data.hasMore);\r\n            setLoading(false);\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }, [searchParam, pageNumber]);\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: \"RESET\" });\r\n        setPageNumber(1);\r\n    }, [searchParam]);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        const delayDebounceFn = setTimeout(() => {\r\n            fetchFileLists();\r\n        }, 500);\r\n        return () => clearTimeout(delayDebounceFn);\r\n    }, [searchParam, pageNumber, fetchFileLists]);\r\n\r\n    useEffect(() => {\r\n        // const socket = socketManager.GetSocket(user.companyId, user.id);\r\n\r\n        const onFileEvent = (data) => {\r\n            if (data.action === \"update\" || data.action === \"create\") {\r\n                dispatch({ type: \"UPDATE_FILES\", payload: data.files });\r\n            }\r\n\r\n            if (data.action === \"delete\") {\r\n                dispatch({ type: \"DELETE_FILE\", payload: +data.fileId });\r\n            }\r\n        };\r\n\r\n        socket.on(`company-${user.companyId}-file`, onFileEvent);\r\n        return () => {\r\n            socket.off(`company-${user.companyId}-file`, onFileEvent);\r\n        };\r\n    }, [socket]);\r\n\r\n    const handleOpenFileListModal = () => {\r\n        setSelectedFileList(null);\r\n        setFileListModalOpen(true);\r\n    };\r\n\r\n    const handleCloseFileListModal = () => {\r\n        setSelectedFileList(null);\r\n        setFileListModalOpen(false);\r\n    };\r\n\r\n    const handleSearch = (event) => {\r\n        setSearchParam(event.target.value.toLowerCase());\r\n    };\r\n\r\n    const handleEditFileList = (fileList) => {\r\n        setSelectedFileList(fileList);\r\n        setFileListModalOpen(true);\r\n    };\r\n\r\n    const handleDeleteFileList = async (fileListId) => {\r\n        try {\r\n            await api.delete(`/files/${fileListId}`);\r\n            toast.success(i18n.t(\"files.toasts.deleted\"));\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        setDeletingFileList(null);\r\n        setSearchParam(\"\");\r\n        setPageNumber(1);\r\n\r\n        dispatch({ type: \"RESET\" });\r\n        setPageNumber(1);\r\n        await fetchFileLists();\r\n    };\r\n\r\n    const loadMore = () => {\r\n        setPageNumber((prevState) => prevState + 1);\r\n    };\r\n\r\n    const handleScroll = (e) => {\r\n        if (!hasMore || loading) return;\r\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n            loadMore();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <MainContainer>\r\n            <ConfirmationModal\r\n                title={deletingFileList && `${i18n.t(\"files.confirmationModal.deleteTitle\")}`}\r\n                open={confirmModalOpen}\r\n                onClose={setConfirmModalOpen}\r\n                onConfirm={() => handleDeleteFileList(deletingFileList.id)}\r\n            >\r\n                {i18n.t(\"files.confirmationModal.deleteMessage\")}\r\n            </ConfirmationModal>\r\n            <FileModal\r\n                open={fileListModalOpen}\r\n                onClose={handleCloseFileListModal}\r\n                reload={fetchFileLists}\r\n                aria-labelledby=\"form-dialog-title\"\r\n                fileListId={selectedFileList && selectedFileList.id}\r\n            />\r\n            {user.profile === \"user\" ?\r\n                <ForbiddenPage />\r\n                :\r\n                <>\r\n                    <MainHeader>\r\n                        <Title>{i18n.t(\"files.title\")} ({files.length})</Title>\r\n                        <MainHeaderButtonsWrapper>\r\n                            <TextField\r\n                                placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n                                type=\"search\"\r\n                                value={searchParam}\r\n                                onChange={handleSearch}\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <SearchIcon style={{ color: \"gray\" }} />\r\n                                        </InputAdornment>\r\n                                    ),\r\n                                }}\r\n                            />\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={handleOpenFileListModal}\r\n                            >\r\n                                {i18n.t(\"files.buttons.add\")}\r\n                            </Button>\r\n                        </MainHeaderButtonsWrapper>\r\n                    </MainHeader>\r\n                    <Paper\r\n                        className={classes.mainPaper}\r\n                        variant=\"outlined\"\r\n                        onScroll={handleScroll}\r\n                    >\r\n                        <Table size=\"small\">\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell align=\"center\">{i18n.t(\"files.table.name\")}</TableCell>\r\n                                    <TableCell align=\"center\">\r\n                                        {i18n.t(\"files.table.actions\")}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                <>\r\n                                    {files.map((fileList) => (\r\n                                        <TableRow key={fileList.id}>\r\n                                            <TableCell align=\"center\">\r\n                                                {fileList.name}\r\n                                            </TableCell>\r\n                                            <TableCell align=\"center\">\r\n                                                <IconButton size=\"small\" onClick={() => handleEditFileList(fileList)}>\r\n                                                    <EditIcon />\r\n                                                </IconButton>\r\n\r\n                                                <IconButton\r\n                                                    size=\"small\"\r\n                                                    onClick={(e) => {\r\n                                                        setConfirmModalOpen(true);\r\n                                                        setDeletingFileList(fileList);\r\n                                                    }}\r\n                                                >\r\n                                                    <DeleteOutlineIcon />\r\n                                                </IconButton>\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    ))}\r\n                                    {loading && <TableRowSkeleton columns={4} />}\r\n                                </>\r\n                            </TableBody>\r\n                        </Table>\r\n                    </Paper>\r\n                </>}\r\n        </MainContainer>\r\n    );\r\n};\r\n\r\nexport default FileLists;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\nconst useStyles = makeStyles((theme)=> ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    margin: '2rem'\r\n  },\r\n  inputContainer: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    marginBottom: '1rem'\r\n  },\r\n  input: {\r\n    flexGrow: 1,\r\n    marginRight: '1rem'\r\n  },\r\n  listContainer: {\r\n    width: '100%',\r\n    height: '100%',\r\n    marginTop: '1rem',\r\n    backgroundColor: theme.palette.background.primary,\r\n    borderRadius: '5px',\r\n  },\r\n  list: {\r\n    marginBottom: '5px',\r\n    color: theme.palette.text.primary\r\n  }\r\n}));\r\n\r\nconst ToDoList = () => {\r\n  const classes = useStyles();\r\n\r\n  const [task, setTask] = useState('');\r\n  const [tasks, setTasks] = useState([]);\r\n  const [editIndex, setEditIndex] = useState(-1);\r\n\r\n  useEffect(() => {\r\n    const savedTasks = localStorage.getItem('tasks');\r\n    if (savedTasks) {\r\n      setTasks(JSON.parse(savedTasks));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('tasks', JSON.stringify(tasks));\r\n  }, [tasks]);\r\n\r\n  const handleTaskChange = (event) => {\r\n    setTask(event.target.value);\r\n  };\r\n\r\n  const handleAddTask = () => {\r\n    if (!task.trim()) {\r\n      // Impede que o usuário crie uma tarefa sem texto\r\n      return;\r\n    }\r\n\r\n    const now = new Date();\r\n    if (editIndex >= 0) {\r\n      // Editar tarefa existente\r\n      const newTasks = [...tasks];\r\n      newTasks[editIndex] = {text: task, updatedAt: now, createdAt: newTasks[editIndex].createdAt};\r\n      setTasks(newTasks);\r\n      setTask('');\r\n      setEditIndex(-1);\r\n    } else {\r\n      // Adicionar nova tarefa\r\n      setTasks([...tasks, {text: task, createdAt: now, updatedAt: now}]);\r\n      setTask('');\r\n    }\r\n  };\r\n\r\n  const handleEditTask = (index) => {\r\n    setTask(tasks[index].text);\r\n    setEditIndex(index);\r\n  };\r\n\r\n  const handleDeleteTask = (index) => {\r\n    const newTasks = [...tasks];\r\n    newTasks.splice(index, 1);\r\n    setTasks(newTasks);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.inputContainer}>\r\n        <TextField\r\n          className={classes.input}\r\n          label=\"Nova tarefa\"\r\n          value={task}\r\n          onChange={handleTaskChange}\r\n          variant=\"outlined\"\r\n        />\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleAddTask}>\r\n          {editIndex >= 0 ? 'Salvar' : 'Adicionar'}\r\n        </Button>\r\n      </div>\r\n      <div className={classes.listContainer}>\r\n        <List>\r\n          {tasks.map((task, index) => (\r\n            <ListItem key={index} className={classes.list}>\r\n              <ListItemText primary={task.text} secondary={task.updatedAt.toLocaleString()} />\r\n              <ListItemSecondaryAction>\r\n                <IconButton onClick={() => handleEditTask(index)}>\r\n                  <EditIcon />\r\n                </IconButton>\r\n                <IconButton onClick={() => handleDeleteTask(index)}>\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default ToDoList;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport api from \"../../services/api\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport Board from 'react-trello';\r\nimport { toast } from \"react-toastify\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\r\nimport { Badge, Tooltip, Typography, Button, TextField, Box } from \"@material-ui/core\";\r\nimport { format, isSameDay, parseISO } from \"date-fns\";\r\nimport { Can } from \"../../components/Can\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(1),\r\n  },\r\n  kanbanContainer: {\r\n    width: \"100%\",\r\n    maxWidth: \"1200px\",\r\n    margin: \"0 auto\",\r\n  },\r\n  connectionTag: {\r\n    background: \"green\",\r\n    color: \"#FFF\",\r\n    marginRight: 1,\r\n    padding: 1,\r\n    fontWeight: 'bold',\r\n    borderRadius: 3,\r\n    fontSize: \"0.6em\",\r\n  },\r\n  lastMessageTime: {\r\n    justifySelf: \"flex-end\",\r\n    textAlign: \"right\",\r\n    position: \"relative\",\r\n    marginLeft: \"auto\",\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  lastMessageTimeUnread: {\r\n    justifySelf: \"flex-end\",\r\n    textAlign: \"right\",\r\n    position: \"relative\",\r\n    color: theme.palette.success.main,\r\n    fontWeight: \"bold\",\r\n    marginLeft: \"auto\"\r\n  },\r\n  cardButton: {\r\n    marginRight: theme.spacing(1),\r\n    color: theme.palette.common.white,\r\n    backgroundColor: theme.palette.primary.main,\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.primary.dark,\r\n    },\r\n  },\r\n  dateInput: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst Kanban = () => {\r\n  const classes = useStyles();\r\n  const theme = useTheme(); // Obter o tema atual\r\n  const history = useHistory();\r\n  const { user, socket } = useContext(AuthContext);\r\n  const [tags, setTags] = useState([]);\r\n  const [tickets, setTickets] = useState([]);\r\n  const [ticketNot, setTicketNot] = useState(0);\r\n  const [file, setFile] = useState({ lanes: [] });\r\n  const [startDate, setStartDate] = useState(format(new Date(), \"yyyy-MM-dd\"));\r\n  const [endDate, setEndDate] = useState(format(new Date(), \"yyyy-MM-dd\"));\r\n\r\n  const jsonString = user.queues.map(queue => queue.UserQueue.queueId);\r\n\r\n  useEffect(() => {\r\n    fetchTags();\r\n  }, [user]);\r\n\r\n  const fetchTags = async () => {\r\n    try {\r\n      const response = await api.get(\"/tag/kanban/\");\r\n      const fetchedTags = response.data.lista || [];\r\n      setTags(fetchedTags);\r\n      fetchTickets();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const fetchTickets = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/ticket/kanban\", {\r\n        params: {\r\n          queueIds: JSON.stringify(jsonString),\r\n          startDate: startDate,\r\n          endDate: endDate,\r\n        }\r\n      });\r\n      setTickets(data.tickets);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setTickets([]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    const onAppMessage = (data) => {\r\n      if (data.action === \"create\" || data.action === \"update\" || data.action === \"delete\") {\r\n        fetchTickets();\r\n      }\r\n    };\r\n    socket.on(`company-${companyId}-ticket`, onAppMessage);\r\n    socket.on(`company-${companyId}-appMessage`, onAppMessage);\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-ticket`, onAppMessage);\r\n      socket.off(`company-${companyId}-appMessage`, onAppMessage);\r\n    };\r\n  }, [socket, startDate, endDate]);\r\n\r\n  const handleSearchClick = () => {\r\n    fetchTickets();\r\n  };\r\n\r\n  const handleStartDateChange = (event) => {\r\n    setStartDate(event.target.value);\r\n  };\r\n\r\n  const handleEndDateChange = (event) => {\r\n    setEndDate(event.target.value);\r\n  };\r\n\r\n  const IconChannel = (channel) => {\r\n    switch (channel) {\r\n      case \"facebook\":\r\n        return <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\", fontSize: \"16px\" }} />;\r\n      case \"instagram\":\r\n        return <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\", fontSize: \"16px\" }} />;\r\n      case \"whatsapp\":\r\n        return <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\", fontSize: \"16px\" }} />\r\n      default:\r\n        return \"error\";\r\n    }\r\n  };\r\n\r\n  const popularCards = (jsonString) => {\r\n    const filteredTickets = tickets.filter(ticket => ticket.tags.length === 0);\r\n\r\n    const lanes = [\r\n      {\r\n        id: \"lane0\",\r\n        title: i18n.t(\"tagsKanban.laneDefault\"),\r\n        label: filteredTickets.length.toString(),\r\n        cards: filteredTickets.map(ticket => ({\r\n          id: ticket.id.toString(),\r\n          label: \"Ticket nº \" + ticket.id.toString(),\r\n          description: (\r\n            <div>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                <span>{ticket.contact.number}</span>\r\n                <Typography\r\n                  className={Number(ticket.unreadMessages) > 0 ? classes.lastMessageTimeUnread : classes.lastMessageTime}\r\n                  component=\"span\"\r\n                  variant=\"body2\"\r\n                >\r\n                  {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\r\n                    <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\r\n                  ) : (\r\n                    <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\r\n                  )}\r\n                </Typography>\r\n              </div>\r\n              <div style={{ textAlign: 'left' }}>{ticket.lastMessage || \" \"}</div>\r\n              <Button\r\n                className={`${classes.button} ${classes.cardButton}`}\r\n                onClick={() => {\r\n                  handleCardClick(ticket.uuid)\r\n                }}>\r\n                Ver Ticket\r\n              </Button>\r\n              <span style={{ marginRight: '8px' }} />\r\n              {ticket?.user && (<Badge style={{ backgroundColor: \"#000000\" }} className={classes.connectionTag}>{ticket.user?.name.toUpperCase()}</Badge>)}\r\n            </div>\r\n          ),\r\n          title: <>\r\n            <Avatar src={ticket.whatsapp.profilePicUrl} style={{ width: 24, height: 24, marginRight: 8 }} onError={(e) => {\r\n              e.target.src = 'https://via.placeholder.com/24'; // Substitua pela URL de uma imagem de placeholder\r\n            }} />\r\n            <Tooltip title={ticket.whatsapp?.name}>\r\n              {IconChannel(ticket.channel)}\r\n            </Tooltip> {ticket.contact.name}</>,\r\n          draggable: true,\r\n          href: \"/tickets/\" + ticket.uuid,\r\n        })),\r\n      },\r\n      ...tags.map(tag => {\r\n        const filteredTickets = tickets.filter(ticket => {\r\n          const tagIds = ticket.tags.map(tag => tag.id);\r\n          return tagIds.includes(tag.id);\r\n        });\r\n\r\n        return {\r\n          id: tag.id.toString(),\r\n          title: tag.name,\r\n          label: filteredTickets?.length.toString(),\r\n          cards: filteredTickets.map(ticket => ({\r\n            id: ticket.id.toString(),\r\n            label: \"Ticket nº \" + ticket.id.toString(),\r\n            description: (\r\n              <div>\r\n                <p>\r\n                  {ticket.contact.number}\r\n                  <br />\r\n                  {ticket.lastMessage || \" \"}\r\n                </p>\r\n                <Button\r\n                  className={`${classes.button} ${classes.cardButton}`}\r\n                  onClick={() => {\r\n                    handleCardClick(ticket.uuid)\r\n                  }}>\r\n                  Ver Ticket\r\n                </Button>\r\n                <span style={{ marginRight: '8px' }} />\r\n                <p>\r\n                  {ticket?.user && (<Badge style={{ backgroundColor: \"#000000\" }} className={classes.connectionTag}>{ticket.user?.name.toUpperCase()}</Badge>)}\r\n                </p>\r\n              </div>\r\n            ),\r\n            title: <>\r\n              <Tooltip title={ticket.whatsapp?.name}>\r\n                {IconChannel(ticket.channel)}\r\n              </Tooltip> {ticket.contact.name}\r\n            </>,\r\n            draggable: true,\r\n            href: \"/tickets/\" + ticket.uuid,\r\n          })),\r\n          style: { backgroundColor: tag.color, color: \"white\" }\r\n        };\r\n      }),\r\n    ];\r\n\r\n    setFile({ lanes });\r\n  };\r\n\r\n  const handleCardClick = (uuid) => {\r\n    history.push('/tickets/' + uuid);\r\n  };\r\n\r\n  useEffect(() => {\r\n    popularCards(jsonString);\r\n  }, [tags, tickets]);\r\n\r\n  const handleCardMove = async (cardId, sourceLaneId, targetLaneId) => {\r\n    try {\r\n      await api.delete(`/ticket-tags/${targetLaneId}`);\r\n      toast.success('Ticket Tag Removido!');\r\n      await api.put(`/ticket-tags/${targetLaneId}/${sourceLaneId}`);\r\n      toast.success('Ticket Tag Adicionado com Sucesso!');\r\n      await fetchTickets(jsonString);\r\n      popularCards(jsonString);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleAddConnectionClick = () => {\r\n    history.push('/tagsKanban');\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '20px', width: '100%', maxWidth: '1200px' }}>\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>\r\n          <TextField\r\n            label=\"Data de início\"\r\n            type=\"date\"\r\n            value={startDate}\r\n            onChange={handleStartDateChange}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n            variant=\"outlined\"\r\n            className={classes.dateInput}\r\n          />\r\n          <Box mx={1} />\r\n          <TextField\r\n            label=\"Data de fim\"\r\n            type=\"date\"\r\n            value={endDate}\r\n            onChange={handleEndDateChange}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n            variant=\"outlined\"\r\n            className={classes.dateInput}\r\n          />\r\n          <Box mx={1} />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleSearchClick}\r\n          >\r\n            Buscar\r\n          </Button>\r\n        </div>\r\n        <Can role={user.profile} perform=\"dashboard:view\" yes={() => (\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleAddConnectionClick}\r\n          >\r\n            {'+ Adicionar colunas'}\r\n          </Button>\r\n        )} />\r\n      </div>\r\n      <div className={classes.kanbanContainer}>\r\n        <Board\r\n          data={file}\r\n          onCardMoveAcrossLanes={handleCardMove}\r\n          style={{ backgroundColor: 'rgba(252, 252, 252, 0.03)' }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Kanban;\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useReducer,\r\n  useCallback,\r\n  useContext,\r\n} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\"; // Importe o useHistory\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport TagModal from \"../../components/TagModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Chip } from \"@material-ui/core\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { CheckCircle } from \"@material-ui/icons\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_TAGS\") {\r\n    const tags = action.payload;\r\n    const newTags = [];\r\n\r\n    tags.forEach((tag) => {\r\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\r\n      if (tagIndex !== -1) {\r\n        state[tagIndex] = tag;\r\n      } else {\r\n        newTags.push(tag);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newTags];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_TAGS\") {\r\n    const tag = action.payload;\r\n    const tagIndex = state.findIndex((s) => s.id === tag.id);\r\n\r\n    if (tagIndex !== -1) {\r\n      state[tagIndex] = tag;\r\n      return [...state];\r\n    } else {\r\n      return [tag, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_TAGS\") {\r\n    const tagId = action.payload;\r\n\r\n    const tagIndex = state.findIndex((s) => s.id === tagId);\r\n    if (tagIndex !== -1) {\r\n      state.splice(tagIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Tags = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory(); // Inicialize o useHistory\r\n\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedTag, setSelectedTag] = useState(null);\r\n  const [deletingTag, setDeletingTag] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [tags, dispatch] = useReducer(reducer, []);\r\n  const [tagModalOpen, setTagModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchTags = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/tags/\", {\r\n            params: { searchParam, pageNumber, kanban: 1 },\r\n          });\r\n          dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchTags();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    // const socket = socketManager.GetSocket(user.companyId, user.id);\r\n\r\n    const onTagsEvent = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tag });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_TAGS\", payload: +data.tagId });\r\n      }\r\n    };\r\n    socket.on(`company${user.companyId}-tag`, onTagsEvent);\r\n\r\n    return () => {\r\n      socket.off(`company${user.companyId}-tag`, onTagsEvent);\r\n    };\r\n  }, [socket]);\r\n\r\n  const handleOpenTagModal = () => {\r\n    setSelectedTag(null);\r\n    setTagModalOpen(true);\r\n  };\r\n\r\n  const handleCloseTagModal = () => {\r\n    setSelectedTag(null);\r\n    setTagModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditTag = (tag) => {\r\n    setSelectedTag(tag);\r\n    setTagModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteTag = async (tagId) => {\r\n    try {\r\n      await api.delete(`/tags/${tagId}`);\r\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingTag(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const handleReturnToKanban = () => {\r\n    history.push(\"/kanban\");\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={deletingTag && `${i18n.t(\"tagsKanban.confirmationModal.deleteTitle\")}`}\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\r\n      >\r\n        {i18n.t(\"tagsKanban.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      {tagModalOpen && (\r\n        <TagModal\r\n          open={tagModalOpen}\r\n          onClose={handleCloseTagModal}\r\n          aria-labelledby=\"form-dialog-title\"\r\n          tagId={selectedTag && selectedTag.id}\r\n          kanban={1}\r\n        />\r\n      )}\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"tagsKanban.title\")} ({tags.length})</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: \"gray\" }} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenTagModal}\r\n          >\r\n            {i18n.t(\"tagsKanban.buttons.add\")}\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleReturnToKanban}\r\n          >\r\n            {'Voltar para o Kanban'}\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">{i18n.t(\"tagsKanban.table.name\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"tagsKanban.table.tickets\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"tagsKanban.table.actions\")}</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {tags.map((tag) => (\r\n                <TableRow key={tag.id}>\r\n                  <TableCell align=\"center\">\r\n                    <Chip\r\n                      variant=\"outlined\"\r\n                      style={{\r\n                        backgroundColor: tag.color,\r\n                        textShadow: \"1px 1px 1px #000\",\r\n                        color: \"white\",\r\n                      }}\r\n                      label={tag.name}\r\n                      size=\"small\"\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">{tag?.ticketTags ? (<span>{tag?.ticketTags?.length}</span>) : <span>0</span>}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton size=\"small\" onClick={() => handleEditTag(tag)}>\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingTag(tag);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={4} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Tags;\r\n","import React from 'react';\r\nimport './PortalHeader.css';\r\n\r\nconst PortalHeader = () => {\r\n    return (\r\n        <header className=\"sidebar\">\r\n            <h2>Central de ajuda</h2>\r\n            <ul>\r\n                <li><a href=\"#\">Home</a></li>\r\n                <li><a href=\"#\">Duvidas Frequentes</a></li>\r\n                <li><a href=\"/politica\">Políticas de privacidade</a></li>\r\n                <li><a href=\"#\">Termos de Uso</a></li>\r\n            </ul>\r\n            <p class=\"powered\">Powered by GBSOficial</p>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default PortalHeader;","import React from 'react';\r\nimport './PoliticaPrivacidade.css'; // Importando o CSS para estilização\r\n\r\nconst PoliticaPrivacidade = () => {\r\n    return (\r\n        <div>\r\n            <h2>\r\n                <span className=\"color-title\">Política de Privacidade</span>\r\n            </h2>\r\n            <p>\r\n                <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                    A sua privacidade é importante para nós. É política do GBSOficial respeitar a sua privacidade em relação a qualquer informação sua que possamos coletar no site&nbsp; \r\n                    <a href=\"https://www.app.gbsoficial.life\">GBSOficial</a>, e outros sites que possuímos e operamos.\r\n                </span>\r\n            </p>\r\n            <p>\r\n                <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                    Solicitamos informações pessoais apenas quando realmente precisamos delas para lhe fornecer um serviço. Fazemo-lo por meios justos e legais, com o seu conhecimento e consentimento. Também informamos por que estamos coletando e como será usado.\r\n                </span>\r\n            </p>\r\n            <p>\r\n                <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                    Apenas retemos as informações coletadas pelo tempo necessário para fornecer o serviço solicitado. Quando armazenamos dados, protegemos dentro de meios comercialmente aceitáveis para evitar perdas e roubos, bem como acesso, divulgação, cópia, uso ou modificação não autorizados.\r\n                </span>\r\n            </p>\r\n            <p>\r\n                <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                    Não compartilhamos informações de identificação pessoal publicamente ou com terceiros, exceto quando exigido por lei.\r\n                </span>\r\n            </p>\r\n            <p>\r\n                <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                    O nosso site pode ter links para sites externos que não são operados por nós. Esteja ciente de que não temos controle sobre o conteúdo e práticas desses sites e não podemos aceitar responsabilidade por suas respectivas.\r\n                </span>\r\n            </p>\r\n            <p>\r\n                <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                    Você é livre para recusar a nossa solicitação de informações pessoais, entendendo que talvez não possamos fornecer alguns dos serviços desejados.\r\n                </span>\r\n            </p>\r\n            <p>\r\n                <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                    O uso continuado de nosso site será considerado como aceitação de nossas práticas em torno de privacidade e informações pessoais. Se você tiver alguma dúvida sobre como lidamos com dados do usuário e informações pessoais, entre em contato conosco.\r\n                </span>\r\n            </p>\r\n            <ul>\r\n                <li>\r\n                    <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                        O serviço Google AdSense que usamos para veicular publicidade usa um cookie DoubleClick para veicular anúncios mais relevantes em toda a Web e limitar o número de vezes que um determinado anúncio é exibido para você.\r\n                    </span>\r\n                </li>\r\n                <li>\r\n                    <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                        Para mais informações sobre o Google AdSense, consulte as FAQs oficiais sobre privacidade do Google AdSense.\r\n                    </span>\r\n                </li>\r\n                <li>\r\n                    <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                        Utilizamos anúncios para compensar os custos de funcionamento deste site e fornecer financiamento para futuros desenvolvimentos. Os cookies de publicidade comportamental usados por este site foram projetados para garantir que você forneça os anúncios mais relevantes sempre que possível, rastreando anonimamente seus interesses e apresentando coisas semelhantes que possam ser do seu interesse.\r\n                    </span>\r\n                </li>\r\n                <li>\r\n                    <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                        Vários parceiros anunciam em nosso nome e os cookies de rastreamento de afiliados simplesmente nos permitem ver se nossos clientes acessaram o site através de um dos sites de nossos parceiros, para que possamos creditá-los adequadamente e, quando aplicável, permitir que nossos parceiros afiliados ofereçam qualquer promoção que pode fornecê-lo para fazer uma compra.\r\n                    </span>\r\n                </li>\r\n            </ul>\r\n            <h3>\r\n                <span className=\"color-title\">Compromisso do Usuário</span>\r\n            </h3>\r\n            <p>\r\n                <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                    O usuário se compromete a fazer uso adequado dos conteúdos e da informação que o GBSOficial oferece no site e com caráter enunciativo, mas não limitativo:\r\n                </span>\r\n            </p>\r\n            <ul>\r\n                <li>\r\n                    <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                        A) Não se envolver em atividades que sejam ilegais ou contrárias à boa fé a à ordem pública;\r\n                    </span>\r\n                </li>\r\n                <li>\r\n                    <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                        B) Não difundir propaganda ou conteúdo de natureza racista, xenofóbica, \r\n                        <a href='https://166bet.br.com' style={{ color: 'inherit', textDecoration: 'none' }}>166bet</a> ou azar, qualquer tipo de pornografia ilegal, de apologia ao terrorismo ou contra os direitos humanos;\r\n                    </span>\r\n                </li>\r\n                <li>\r\n                    <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                        C) Não causar danos aos sistemas físicos (hardwares) e lógicos (softwares) do GBSOficial, de seus fornecedores ou terceiros, para introduzir ou disseminar vírus informáticos ou quaisquer outros sistemas de hardware ou software que sejam capazes de causar danos anteriormente mencionados.\r\n                    </span>\r\n                </li>\r\n            </ul>\r\n            <h3>\r\n                <span className=\"color-title\">Mais informações</span>\r\n            </h3>\r\n            <p>\r\n                <span style={{ color: 'rgb(68, 68, 68)' }}>\r\n                    Esperemos que esteja esclarecido e, como mencionado anteriormente, se houver algo que você não tem certeza se precisa ou não, geralmente é mais seguro deixar os cookies ativados, caso interaja com um dos recursos que você usa em nosso site.\r\n                </span>\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PoliticaPrivacidade;","// src/MainContent.js\r\n\r\nimport React from 'react';\r\nimport './MainContent.css';\r\nimport PortalHeader from './PortalHeader';\r\nimport PoliticaPrivacidade from './LGPD';\r\n\r\nconst PortalMainContent = () => {\r\n    return (\r\n        <div className=\"container\">\r\n            <PortalHeader/>\r\n            <div class=\"main\">\r\n            <PoliticaPrivacidade/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PortalMainContent;","import React, { useEffect, useState } from \"react\";\r\nimport { BrowserRouter, Switch } from \"react-router-dom\";\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\nimport LoggedInLayout from \"../layout\";\r\nimport Dashboard from \"../pages/Dashboard\";\r\nimport TicketResponsiveContainer from \"../pages/TicketResponsiveContainer\";\r\nimport Signup from \"../pages/Signup\";\r\nimport Login from \"../pages/Login\";\r\nimport Connections from \"../pages/Connections\";\r\nimport SettingsCustom from \"../pages/SettingsCustom\";\r\nimport Financeiro from \"../pages/Financeiro\";\r\nimport Users from \"../pages/Users\";\r\nimport Contacts from \"../pages/Contacts\";\r\nimport ContactImportPage from \"../pages/Contacts/import\";\r\nimport ChatMoments from \"../pages/Moments\"\r\nimport Queues from \"../pages/Queues\";\r\nimport Tags from \"../pages/Tags\";\r\nimport MessagesAPI from \"../pages/MessagesAPI\";\r\nimport Helps from \"../pages/Helps\";\r\nimport ContactLists from \"../pages/ContactLists\";\r\nimport ContactListItems from \"../pages/ContactListItems\";\r\nimport Companies from \"../pages/Companies\";\r\nimport QuickMessages from \"../pages/QuickMessages\";\r\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\r\nimport { TicketsContextProvider } from \"../context/Tickets/TicketsContext\";\r\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\r\nimport Route from \"./Route\";\r\nimport Schedules from \"../pages/Schedules\";\r\nimport Campaigns from \"../pages/Campaigns\";\r\nimport CampaignsConfig from \"../pages/CampaignsConfig\";\r\nimport CampaignReport from \"../pages/CampaignReport\";\r\nimport Annoucements from \"../pages/Annoucements\";\r\nimport Chat from \"../pages/Chat\";\r\nimport Prompts from \"../pages/Prompts\";\r\nimport ForgetPassword from \"../pages/ForgetPassWord/\";\r\nimport AllConnections from \"../pages/AllConnections\";\r\nimport Reports from \"../pages/Reports\";\r\nimport { FlowBuilderConfig } from \"../pages/FlowBuilderConfig\";\r\nimport FlowBuilder from \"../pages/FlowBuilder\";\r\nimport CampaignsPhrase from \"../pages/CampaignsPhrase\";\r\nimport Subscription from \"../pages/Subscription\";\r\nimport QueueIntegration from \"../pages/QueueIntegration\";\r\nimport Files from \"../pages/Files\";\r\nimport ToDoList from \"../pages/ToDoList\";\r\nimport Kanban from \"../pages/Kanban\";\r\nimport TagsKanban from \"../pages/TagsKanban\";\r\n\r\nimport PortalMainContent from \"../pages/Portal\";\r\nimport PoliticaPrivacidade from \"../pages/Portal/LGPD\";\r\nconst Routes = () => {\r\n  const [showCampaigns, setShowCampaigns] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const cshow = localStorage.getItem(\"cshow\");\r\n    if (cshow !== undefined) {\r\n      setShowCampaigns(true);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <AuthProvider>\r\n        <TicketsContextProvider>\r\n          <Switch>\r\n            <Route exact path=\"faq/politica\" component={PoliticaPrivacidade}/>\r\n            <Route exact path=\"/faq\" component={PortalMainContent}/>\r\n            <Route exact path=\"/login\" component={Login} />\r\n            <Route exact path=\"/signup\" component={Signup} />\r\n            <Route exact path=\"/forgetpsw\" component={ForgetPassword} />\r\n            <WhatsAppsProvider>\r\n              <LoggedInLayout>\r\n                \r\n                <Route exact path=\"/financeiro\" component={Financeiro} isPrivate />\r\n\r\n                <Route exact path=\"/companies\" component={Companies} isPrivate />\r\n                <Route exact path=\"/\" component={Dashboard} isPrivate />\r\n                <Route exact path=\"/tickets/:ticketId?\" component={TicketResponsiveContainer} isPrivate />\r\n                <Route exact path=\"/connections\" component={Connections} isPrivate />\r\n                <Route exact path=\"/quick-messages\" component={QuickMessages} isPrivate />\r\n                <Route exact path=\"/todolist\" component={ToDoList} isPrivate />\r\n                <Route exact path=\"/schedules\" component={Schedules} isPrivate />\r\n                <Route exact path=\"/tags\" component={Tags} isPrivate />\r\n                <Route exact path=\"/contacts\" component={Contacts} isPrivate />\r\n                <Route exact path=\"/contacts/import\" component={ContactImportPage} isPrivate />\r\n                <Route exact path=\"/helps\" component={Helps} isPrivate />\r\n                <Route exact path=\"/users\" component={Users} isPrivate />\r\n                <Route exact path=\"/messages-api\" component={MessagesAPI} isPrivate />\r\n                <Route exact path=\"/settings\" component={SettingsCustom} isPrivate />\r\n                <Route exact path=\"/queues\" component={Queues} isPrivate />\r\n                <Route exact path=\"/reports\" component={Reports} isPrivate />\r\n                <Route exact path=\"/queue-integration\" component={QueueIntegration} isPrivate />\r\n                <Route exact path=\"/announcements\" component={Annoucements} isPrivate />\r\n                <Route exact path=\"/phrase-lists\" component={CampaignsPhrase} isPrivate/>\r\n                <Route exact path=\"/flowbuilders\" component={FlowBuilder} isPrivate/>\r\n                <Route exact path=\"/flowbuilder/:id?\" component={FlowBuilderConfig} isPrivat />\r\n                <Route exact path=\"/chats/:id?\" component={Chat} isPrivate />\r\n                <Route exact path=\"/files\" component={Files} isPrivate />\r\n                <Route exact path=\"/moments\" component={ChatMoments} isPrivate />\r\n                <Route exact path=\"/Kanban\" component={Kanban} isPrivate />\r\n                <Route exact path=\"/TagsKanban\" component={TagsKanban} isPrivate />\r\n                <Route exact path=\"/prompts\" component={Prompts} isPrivate />\r\n                <Route exact path=\"/allConnections\" component={AllConnections} isPrivate />\r\n                <Route exact path=\"/subscription\" component={Subscription} isPrivate />\r\n                {showCampaigns && (\r\n                  <>\r\n                    <Route exact path=\"/contact-lists\" component={ContactLists} isPrivate />\r\n                    <Route exact path=\"/contact-lists/:contactListId/contacts\" component={ContactListItems} isPrivate />\r\n                    <Route exact path=\"/campaigns\" component={Campaigns} isPrivate />\r\n                    <Route exact path=\"/campaign/:campaignId/report\" component={CampaignReport} isPrivate />\r\n                    <Route exact path=\"/campaigns-config\" component={CampaignsConfig} isPrivate />\r\n                  </>\r\n                )}\r\n              </LoggedInLayout>\r\n            </WhatsAppsProvider>\r\n          </Switch>\r\n          <ToastContainer position=\"top-center\" autoClose={3000} />\r\n        </TicketsContextProvider>\r\n      </AuthProvider>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport api from \"./services/api\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { QueryClient, QueryClientProvider } from \"react-query\";\r\nimport { ptBR } from \"@material-ui/core/locale\";\r\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport { useMediaQuery } from \"@material-ui/core\";\r\nimport ColorModeContext from \"./layout/themeContext\";\r\nimport { ActiveMenuProvider } from \"./context/ActiveMenuContext\";\r\nimport Favicon from \"react-favicon\";\r\nimport { getBackendUrl } from \"./config\";\r\nimport Routes from \"./routes\";\r\nimport defaultLogoLight from \"./assets/logo.png\";\r\nimport defaultLogoDark from \"./assets/logo-black.png\";\r\nimport defaultLogoFavicon from \"./assets/favicon.ico\";\r\nimport useSettings from \"./hooks/useSettings\";\r\n\r\nconst queryClient = new QueryClient();\r\n\r\nconst App = () => {\r\n  const [locale, setLocale] = useState();\r\n  const appColorLocalStorage = localStorage.getItem(\"primaryColorLight\") || localStorage.getItem(\"primaryColorDark\") || \"#FF7606\";\r\n  const appNameLocalStorage = localStorage.getItem(\"appName\") || \"\";\r\n  const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\r\n  const preferredTheme = window.localStorage.getItem(\"preferredTheme\");\r\n  const [mode, setMode] = useState(preferredTheme ? preferredTheme : prefersDarkMode ? \"dark\" : \"light\");\r\n  const [primaryColorLight, setPrimaryColorLight] = useState(appColorLocalStorage);\r\n  const [primaryColorDark, setPrimaryColorDark] = useState(appColorLocalStorage);\r\n  const [appLogoLight, setAppLogoLight] = useState(defaultLogoLight);\r\n  const [appLogoDark, setAppLogoDark] = useState(defaultLogoDark);\r\n  const [appLogoFavicon, setAppLogoFavicon] = useState(defaultLogoFavicon);\r\n  const [appName, setAppName] = useState(appNameLocalStorage);\r\n  const { getPublicSetting } = useSettings();\r\n\r\n  const colorMode = useMemo(\r\n    () => ({\r\n      toggleColorMode: () => {\r\n        setMode((prevMode) => {\r\n          const newMode = prevMode === \"light\" ? \"dark\" : \"light\";\r\n          window.localStorage.setItem(\"preferredTheme\", newMode); // Persistindo o tema no localStorage\r\n          return newMode;\r\n        });\r\n      },\r\n      setPrimaryColorLight,\r\n      setPrimaryColorDark,\r\n      setAppLogoLight,\r\n      setAppLogoDark,\r\n      setAppLogoFavicon,\r\n      setAppName,\r\n      appLogoLight,\r\n      appLogoDark,\r\n      appLogoFavicon,\r\n      appName,\r\n      mode,\r\n    }),\r\n    [appLogoLight, appLogoDark, appLogoFavicon, appName, mode]\r\n  );\r\n\r\n  const theme = useMemo(\r\n    () =>\r\n      createTheme(\r\n        {\r\n          scrollbarStyles: {\r\n            \"&::-webkit-scrollbar\": {\r\n              width: \"8px\",\r\n              height: \"8px\",\r\n            },\r\n            \"&::-webkit-scrollbar-thumb\": {\r\n              boxShadow: \"inset 0 0 6px rgba(0, 0, 0, 0.3)\",\r\n              backgroundColor: mode === \"light\" ? primaryColorLight : primaryColorDark,\r\n            },\r\n          },\r\n          scrollbarStylesSoft: {\r\n            \"&::-webkit-scrollbar\": {\r\n              width: \"8px\",\r\n            },\r\n            \"&::-webkit-scrollbar-thumb\": {\r\n              backgroundColor: mode === \"light\" ? \"#F3F3F3\" : \"#333333\",\r\n            },\r\n          },\r\n          palette: {\r\n            type: mode,\r\n            primary: { main: mode === \"light\" ? primaryColorLight : primaryColorDark },\r\n            textPrimary: mode === \"light\" ? primaryColorLight : primaryColorDark,\r\n            borderPrimary: mode === \"light\" ? primaryColorLight : primaryColorDark,\r\n            dark: { main: mode === \"light\" ? \"#333333\" : \"#F3F3F3\" },\r\n            light: { main: mode === \"light\" ? \"#F3F3F3\" : \"#333333\" },\r\n            fontColor: mode === \"light\" ? primaryColorLight : primaryColorDark,\r\n            tabHeaderBackground: mode === \"light\" ? \"#EEE\" : \"#666\",\r\n            optionsBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\r\n            fancyBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\r\n            total: mode === \"light\" ? \"#fff\" : \"#222\",\r\n            messageIcons: mode === \"light\" ? \"grey\" : \"#F3F3F3\",\r\n            inputBackground: mode === \"light\" ? \"#FFFFFF\" : \"#333\",\r\n            barraSuperior: mode === \"light\" ? primaryColorLight : \"#666\",\r\n          },\r\n          mode,\r\n          appLogoLight,\r\n          appLogoDark,\r\n          appLogoFavicon,\r\n          appName,\r\n          calculatedLogoDark: () => {\r\n            if (appLogoDark === defaultLogoDark && appLogoLight !== defaultLogoLight) {\r\n              return appLogoLight;\r\n            }\r\n            return appLogoDark;\r\n          },\r\n          calculatedLogoLight: () => {\r\n            if (appLogoDark !== defaultLogoDark && appLogoLight === defaultLogoLight) {\r\n              return appLogoDark;\r\n            }\r\n            return appLogoLight;\r\n          },\r\n        },\r\n        locale\r\n      ),\r\n    [appLogoLight, appLogoDark, appLogoFavicon, appName, locale, mode, primaryColorDark, primaryColorLight]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const i18nlocale = localStorage.getItem(\"i18nextLng\");\r\n    const browserLocale = i18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\r\n\r\n    if (browserLocale === \"ptBR\") {\r\n      setLocale(ptBR);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"preferredTheme\", mode);\r\n  }, [mode]);\r\n\r\n  useEffect(() => {    \r\n    getPublicSetting(\"primaryColorLight\")\r\n      .then((color) => {\r\n        setPrimaryColorLight(color || \"#FF7606\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error reading setting\", error);\r\n      });\r\n    getPublicSetting(\"primaryColorDark\")\r\n      .then((color) => {\r\n        setPrimaryColorDark(color || \"#39ACE7\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error reading setting\", error);\r\n      });\r\n    getPublicSetting(\"appLogoLight\")\r\n      .then((file) => {\r\n        setAppLogoLight(file ? getBackendUrl() + \"/public/\" + file : defaultLogoLight);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error reading setting\", error);\r\n      });\r\n    getPublicSetting(\"appLogoDark\")\r\n      .then((file) => {\r\n        setAppLogoDark(file ? getBackendUrl() + \"/public/\" + file : defaultLogoDark);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error reading setting\", error);\r\n      });\r\n    getPublicSetting(\"appLogoFavicon\")\r\n      .then((file) => {\r\n        setAppLogoFavicon(file ? getBackendUrl() + \"/public/\" + file : defaultLogoFavicon);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error reading setting\", error);\r\n      });\r\n    getPublicSetting(\"appName\")\r\n      .then((name) => {\r\n        setAppName(name || \"GBSOficial\");\r\n      })\r\n      .catch((error) => {\r\n        setAppName(\"GBSOficial\");\r\n      });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const root = document.documentElement;\r\n    root.style.setProperty(\"--primaryColor\", mode === \"light\" ? primaryColorLight : primaryColorDark);\r\n  }, [primaryColorLight, primaryColorDark, mode]);\r\n\r\n  useEffect(() => {\r\n    async function fetchVersionData() {\r\n      try {\r\n        const response = await api.get(\"/version\");\r\n        const { data } = response;\r\n        window.localStorage.setItem(\"frontendVersion\", data.version);\r\n      } catch (error) {\r\n        console.log(\"Error fetching data\", error);\r\n      }\r\n    }\r\n    fetchVersionData();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Favicon url={appLogoFavicon ? getBackendUrl() + \"/public/\" + appLogoFavicon : defaultLogoFavicon} />\r\n      <ColorModeContext.Provider value={{ colorMode }}>\r\n        <ThemeProvider theme={theme}>\r\n          <QueryClientProvider client={queryClient}>\r\n            <ActiveMenuProvider>\r\n              <Routes />\r\n            </ActiveMenuProvider>\r\n          </QueryClientProvider>\r\n        </ThemeProvider>\r\n      </ColorModeContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport * as serviceworker from './serviceWorker'\r\n\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n\t<CssBaseline>\r\n\t\t<App />\r\n\t</CssBaseline>,\r\n\tdocument.getElementById(\"root\"),\r\n\t() => {\r\n\t\twindow.finishProgress();\r\n\t}\r\n);\r\n\r\nserviceworker.register()","export function register() {\r\n  if ('serviceWorker' in navigator) {\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      navigator.serviceWorker.register(swUrl)\r\n        .then((registration) => {\r\n          console.log('Service worker registrado com sucesso!', registration);\r\n        })\r\n        .catch((error) => {\r\n          console.error('Erro durante o registro do service worker:', error);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error('Erro durante o desregistro do service worker:', error);\r\n      });\r\n  }\r\n}\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPQAAABICAYAAADBJ9jwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAHyGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDg4LCAyMDIwLzA3LzEwLTIyOjA2OjUzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkYjk4YzNmYy1hNmVmLTBhNDQtOGNmOC0xMTUyMjdkZjk5Y2IiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTg1YzdiYzgtZDc3NC1jNzQ5LTg4YTUtMTJhODM1ODJhMTdiIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NzhDQTlENzQ0Mjg3MTFFOUFBNkJCNkRFRTM3MTdCRDciIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgRmlyZXdvcmtzIENTNiAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIyLTAxLTA5VDEzOjU0OjQzLTAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMi0wMS0wOVQxNDoxNTozNy0wMzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMi0wMS0wOVQxNDoxNTozNy0wMzowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFDQUMyNkQ4OUVDOTExRThBMzg1RTUyRjVENEMxRENBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFDQUMyNkQ5OUVDOTExRThBMzg1RTUyRjVENEMxRENBIi8+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjViYTQ2YmY2LTNhYzctMGI0Mi1hZGIzLWNlOThkOGJkYjU2OCIgc3RFdnQ6d2hlbj0iMjAyMi0wMS0wOVQxNDoxNTozNy0wMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxODVjN2JjOC1kNzc0LWM3NDktODhhNS0xMmE4MzU4MmExN2IiIHN0RXZ0OndoZW49IjIwMjItMDEtMDlUMTQ6MTU6MzctMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4wIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSIgICAg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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPQAAABICAYAAADBJ9jwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAHyGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDg4LCAyMDIwLzA3LzEwLTIyOjA2OjUzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkYjk4YzNmYy1hNmVmLTBhNDQtOGNmOC0xMTUyMjdkZjk5Y2IiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTg1YzdiYzgtZDc3NC1jNzQ5LTg4YTUtMTJhODM1ODJhMTdiIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NzhDQTlENzQ0Mjg3MTFFOUFBNkJCNkRFRTM3MTdCRDciIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgRmlyZXdvcmtzIENTNiAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIyLTAxLTA5VDEzOjU0OjQzLTAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMi0wMS0wOVQxNDoxNTozNy0wMzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMi0wMS0wOVQxNDoxNTozNy0wMzowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFDQUMyNkQ4OUVDOTExRThBMzg1RTUyRjVENEMxRENBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFDQUMyNkQ5OUVDOTExRThBMzg1RTUyRjVENEMxRENBIi8+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjViYTQ2YmY2LTNhYzctMGI0Mi1hZGIzLWNlOThkOGJkYjU2OCIgc3RFdnQ6d2hlbj0iMjAyMi0wMS0wOVQxNDoxNTozNy0wMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxODVjN2JjOC1kNzc0LWM3NDktODhhNS0xMmE4MzU4MmExN2IiIHN0RXZ0OndoZW49IjIwMjItMDEtMDlUMTQ6MTU6MzctMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4wIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSIgICAg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\"","module.exports = __webpack_public_path__ + \"static/media/favicon.87762bc6.ico\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/planilha.549edeba.xlsx\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABFWAAARVgEAHlmhAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAtxQTFRF////R1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTULm9ygAAAPN0Uk5TAAECAwQFBgcICQoLDA0ODxAREhQVFhcZGhscHR4fICEiIyQlJigpKissLS4vMDEzNDU3ODo7PD0+P0FCQ0RGR0hJSktMTU5QUVJTVFVWV1hZWltcXV5fYWJlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AgYKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uvs7e7v8PHy8/T19vf4+fr7/P3+Oq6zpQAADphJREFUeNrtnX1wVNUZh9+9WUKwG74cLQkhKCBERFFAEwq0YoE6wRqIAoKtFAa1zlB1/ENErFhmFK2UqkWHQaV+VKifEAcQBQXJxCSAEkzEACYGjIQJGooJIWCS7R8gAmazd8Pu9d7zPs/ojGM29+59z3N+7zmb3bs+aSu+lF6905ICgcRAYiBewHmO1dXW1dbVVZWWlVcG2zyMbfqlARnp/fqewxC4hvpdOwsLSoKOCJCWMfLqrpTchdRs3FBQGmMBBkyYnESlXUzV8jeKYybAL8fdchkldj3FL6/YHwsBfjNzdBzV9QTN7y/6IMoC+MbcN4TCeohtj73THD0B4n4/awA19Rif/31lY5QEGPPoRdTTg5TPXhMNAXo+eh219Chr7/0ybLqH+Xn7O1+6hEJ6lT7Tmj5pOqsEGPEk6e9tvrgzt+0J4J/z9LmU0Nt0ndIur7mNCZC8dBgFNID86ZWhf2iF/tHIjxh/IxiaN7oNLcC6fxF/7jOEDpMScoMRtoD2i2+kcAaRM6MhIgES/3MNRTOKTVMORSDAeW9eQckMY3t2tW0BLljRh4IZR9m4CpsCXPAeb/owkaoxFbYEOP+93hTLzAwYU23jdYBObzH+htL7rU7hBUhYNpBKmcrAZQln/q8zXwiK+/fvqJO59OyXE2xdgIemUSWTSYvf2OoicPRb1Mhwste1IkBKHh/5MJ2aYZUhF4H+pYy/8XRd6g+5BnhgEvUxnx5xH4ZoASNW+yiPAoJjc1sUoH0+7//Twe6hR1tqATMnUBodnPtdYQsJkLq1A6VRwpEhe3+6C5jP+Kuhw/yfbgNHXU9d9HD9qDNbgFWYRlkUUZrefHoCZDL+qkjLPCMBci+nKKooGnFaAoxi/JVx+ajTBJhFRbQx61QBhmVQEG1kDDtFgJnUQx8zf1wEnrfLTz3U0dj3wA8JkMX4K8SfdbIFTKUaGpn6gwD92QPq3An2PyHARGqhk4knFoE7k6mFSvb1E7FE0hh/pSSniVgivAiklgwRS2QkhdDKSBGf+Cr4MIBWai4IWjKA8VdL1wFisQTQvQiwJJ0y6CVdLOlHGfTST3y+/dwQVC/13awUxl8x56RYvaiCZnpZ3BJMNb0tPg+gmjSLm4KqJskKUATNBBBAuwCJFEEziSQACQAkAOhNgHiKoJl4ixroBgEQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAyDuwTHgsaD9fWHT/zTFOHvdhx0RUcE8Cj1e/fs2VP59ddVTWdzFF/vIX9z7N6NvlqGLRoEd27eUrznm2gdrsv8mxHAM3y1eUtR8XdRPui1S7oggAc4uHrVluqYHDnzVQRw/dTPWV3QGLOjL5mMAG6mZOXa7TE9QdfCbgjgVv639KWymJ/k5sVsA91J8aKV9Q6c5hNagBtpXLkk35kzxVV1IAHcxoElL+1z6lxNRUMRwF3U/+OZOgdPtw0BXEXTC4/ud/SETrRnBLDNmrmlBl4VAthdkt+fZ+R1IYAtDt3zelAQQC0b76g09dJ4R1B4jt2bZez4kwDh+ezWYoOvjgQIQ/Cpq00efxIgDNXTNpl9gQjQKruzKwy/QlpAaxSMNn38EaA13s76VhBAL4tvqTf/IlkDhGTOUxquEgFC0HTr6yqukxYQgtt1jD8ChGD2q4IAinlikSCAYpY9KAigmHdnBhFAMZunfi8IoJeyiYcFAfTy/bRvBQEUM3ebIIBiNj4tCKCYg7c3I4Bm7tgnCKCYpasFARSze44ggGZuq0MAzby6VRBAMQ3zBAE088ReBNBM9b8EATTz4HcIoJmS/woCaGZWEwJo5t1NggCa+acggOoVQB4CqOYpQQDN1KxEANU8ewQBNNP0giCAZlZUIoBqFgsCaKaoEAFUs0wQQDXvIoBqSspd+sQSEMCZPYBbn9hlCOAIa136vHyDEMAJ9nzq0id2YScEUN0BBrIIdAS3fhosYTYCOMGBLS59YrMuRgAnWOXS9wJeeQ+vAzjCR+58WgOetxDAEba78Un57950oUNn0j7+dTvd95zaDXx8iGOqaRdgq6O3hPElduycGLBEfHLy31P+U3wigUGDL23vYNZoF2CzI2dJvjK9e+fOnbt0cl3LVS/AxzGf9GmDhw/v6drrVy9AUWzX2Jl/+FUXV1+/dgGqYnlXMCvrvv5uL4B2AWK4BPCPv6+v+wuAALHixr/28kIBtAtQEqv0n3eXNwqgXYCvY3PY9otvFATwArH5REiXV0YIAniBb2Ly3RApb/YXBPAEe2Jx0IScvt6pgIUAUeduD40/AkSfi+8VBFAsgPVkOwTQvAn441BBAM9QFfUjnjtfEEBzAmQmIoB3OFwT9UPeJAjgHaJ/e+huwxHAQ0T/3mDXWQjgIeqjfsRJggCaBeiRgQCqBUgXBFAtQB8E0C1AGgLoFqAfAqgWwLoIAVQLkNoeAVQL0EsQwFNE+5XA7gjgLaL90fAAAujmFwiAAAiAAAiAAAiAAAiAAAigjAQE0I0PAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABwBZ+ky7m4NZ9kf3C51F+AmsronKY83v0ceyrJ3y1poz+8jWflhujcuC3069BgEjYd8cHhmXzbY+2Yw1gm1cyTBt/WTKqggSwy4pbTFyfdV59GQLY4purDhi5Qs9YRwuwxUwzx18KXicBbG2+Jpi6Se/xcQcSIDzvmzr+8tXztAAbfGqsAJKPAOEJfmauAJ8hQHjKDpkrwGEECM+35o6/xCGAjY2MwQIEEEC3AEkIoFuAZATQsZMNRU+qpzsBUhEAARAAARBAqQBWCgKoFqCbHwFUCxD7XSACuJruCKBbgBQE0C1AKgIgAAIgAAKYfgkIQAK0RMfOCKBaAAd2gQjgZpIQQLcAyQigW4CeCKBbgFQEQAAEQAAEUCpAHNtA3QIkxSGAagGc2AXytwAX053q6U6AFATQLUAqAiAAAiAAAiAAAmgUoHNHBFAtgCO7QARwL0kIoFuAZATQLUBPBNAtQCoCqLkEBCABEAABTsfPIlC3AMkWAugWgBWUbgG6I4BuAVIQQLcAqQiAAAiAAAiAAAigUYCuAQRQbYBDu0AEcCtJCKBbgGQE0C1ATwTQLUAqAiAAAiAAArioVk4Szy7APpcaKEB/HwLY5goDBcgUBLDNYAMFGI8A9rnyQuPGv28aAtgn4RnjPhowRxAgAobPMGz8/5zt3B661oSCNfxmh0njn/GOnwSIrAl8MM2gV4Oyljs3/oYkgIh8+JcvzbiQixZc4+TpjBFA6nO3FpVUevsaki6+ZFBWO0GANnMsGNHDC8dG9/R/WnB2gxHvfMX8Ro2/xMf04eGr2d5zFTP4S/dsEIzy8Ty4EtUtACAAAtACaAFAApAAJACQACQACQAkAAlAAgAJAAhAC6AFAAlAApAAQAKQACQAkACAALQAWgCQACQACQAkAAlAAgAJQAKQAEACAALQAhAAEIAEQABAABIAAQABAAFoAQgACEACIAAgAAmAAIAAJAACAAIAAtACEAAQgARAAEAAEgABAAEAAWgBCAAIQAIgACAACYAAgAAkAAIAAgAC0AIQABCABEAAQAASAAEAAQABaAEIAAhAAiAAIAAJgACAAD8fJIDyFkACAAKwCEQAQAASAAEAAUgABAAEAASgBSAAIAAJgACAACQAAgACAALQAhAAEIAEQABAABIAAQABSAAEAAQABKAFIAAgAAmAAIAAJAACAAIAAtACEAAQgARAAEAAEgABICoCHCMBNCfAMauOSaCZOquWImimVncC0AJIABKABNCdACwClS8Cq0gAzQlQZZUyCzRTapVRBM2UWeW0AM0toNyqrGca6KW+0gruIgH0JsCuoCU7mQd62SmWFJIAehOgUCwpYB7opUAsKakhAbQmQE2JWBLcyETQysagWCIbKIRWNohYonkRoL0FFIhYIqX7mAo62Vd6/F3By0kAnQmwXI4L8BpzQSevnRBgRxEJoDEBinacEEBeZDJo5EX5QYCcRqqhj8ackwIcWEsL0NcC1h44KYAsYj7o4/igHxcgr4AE0JYABXmnCCCPMSG0cWLITwiwvogE0JUARetPE4AIUBoAJwVYU0oCaEqA0jVnCNA8m0mhidnNZwgg69+mKnp4e72cKYDMPkIL0NICjvyY9z8KsPdhJoYWHt7bggCyeDcJoCMBdi+WlgQ4eleQuaFC+7uOtiiA5C4gATQkwIJcaVkAeSSf6WE++Y9IKAEap9dQH9Opmd4YUgCpnEELML0FzKiU0ALIuoVMEbNZuE5aE0Dm5ZAAJidAzjxpXYCmGZuYJeayaUZTGAGkYcp2EsDUBNg+pUHCCSCHsrlxmKGUZR+S8AJI9bgqEsDEBKgaVy12BJCKMWSAifN/TIXYE0AqxmynXqaxvcXxD/GdQdVjdewFFLWATWOrxb4AcuiGHOaMSeTccEgiEUAapi4kAcxJgIVTGyQyAaRpbjZ/GTKEmuy5TRKpACLrhuWTACYkQP6wdaF/2NoXR1ZmPs57hLwv+eOZldI2AaRx3tjdVNDbfDF2Xqt3fwjz1bG5Qx8w+d3ixreAhrkZua0/Itx3Bx99cgifGPEsa69aeFTOTgCRvTePLyUBvJgA5ZMmfBn2QXa+PXx9+uQiZpPX+Hza4DU2Hmbr6+ObV40YX0ACeCkBtt2U8YatW39ZNg+4fvS1q7iXmEdoXpf169XN9h7rt33UvLzzsqZeTgK4PgGKX16x3/6j/REc+cBzz/WfODmZGeZiqpa/URzRL/gjO/6Ohx5Kyxh5dVcq7UJqNm4oiHjD5o/4NKWlL/gGZKT363sOLcA1LaB+187CgpK2XI6/TXUrLn5WfCm9eqclBQKJgcRAPNPvZ+BYXW1dbV1dVWlZeWWbVf4/O3cEtZePVasAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/sound.9fd5812c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/chat_notify.2529c259.mp3\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/jpeg;base64,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\""],"sourceRoot":""}