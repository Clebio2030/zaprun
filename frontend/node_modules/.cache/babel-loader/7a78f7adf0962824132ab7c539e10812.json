{"ast":null,"code":"import React,{useEffect,useRef,useState,useContext}from\"react\";import{useParams}from\"react-router-dom\";import{useHistory}from\"react-router-dom\";import{makeStyles}from\"@material-ui/core/styles\";import Paper from\"@material-ui/core/Paper\";import{toast}from\"react-toastify\";import MainContainer from\"../../components/MainContainer\";import MainHeader from\"../../components/MainHeader\";import Title from\"../../components/Title\";import{Grid,LinearProgress,Typography}from\"@material-ui/core\";import api from\"../../services/api\";import{has,get,isNull}from\"lodash\";import CardCounter from\"../../components/Dashboard/CardCounter\";import GroupIcon from\"@material-ui/icons/Group\";import ScheduleIcon from\"@material-ui/icons/Schedule\";import EventAvailableIcon from\"@material-ui/icons/EventAvailable\";import DoneIcon from\"@material-ui/icons/Done\";import DoneAllIcon from\"@material-ui/icons/DoneAll\";import CheckCircleIcon from\"@material-ui/icons/CheckCircle\";import WhatsAppIcon from\"@material-ui/icons/WhatsApp\";import ListAltIcon from\"@material-ui/icons/ListAlt\";import{useDate}from\"../../hooks/useDate\";import usePlans from\"../../hooks/usePlans\";import{AuthContext}from\"../../context/Auth/AuthContext\";// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport{i18n}from\"../../translate/i18n\";const useStyles=makeStyles(theme=>({mainPaper:{flex:1,// padding: theme.spacing(2),\npadding:theme.padding,overflowY:\"scroll\",...theme.scrollbarStyles},textRight:{textAlign:\"right\"},tabPanelsContainer:{// padding: theme.spacing(2),\npadding:theme.padding}}));const CampaignReport=()=>{const classes=useStyles();const history=useHistory();const{campaignId}=useParams();const[campaign,setCampaign]=useState({});const[validContacts,setValidContacts]=useState(0);const[delivered,setDelivered]=useState(0);const[confirmationRequested,setConfirmationRequested]=useState(0);const[confirmed,setConfirmed]=useState(0);const[percent,setPercent]=useState(0);const[loading,setLoading]=useState(false);const mounted=useRef(true);//   const socketManager = useContext(SocketContext);\nconst{user,socket}=useContext(AuthContext);const{datetimeToClient}=useDate();const{getPlanCompany}=usePlans();useEffect(()=>{async function fetchData(){const companyId=user.companyId;const planConfigs=await getPlanCompany(undefined,companyId);if(!planConfigs.plan.useCampaigns){toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");setTimeout(()=>{history.push(\"/\");},1000);}}fetchData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(()=>{if(mounted.current){findCampaign();}return()=>{mounted.current=false;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(()=>{if(mounted.current&&has(campaign,\"shipping\")){if(has(campaign,\"contactList\")){const contactList=get(campaign,\"contactList\");const valids=contactList.contacts.filter(c=>c.isWhatsappValid);setValidContacts(valids.length);}if(has(campaign,\"shipping\")){const contacts=get(campaign,\"shipping\");const delivered=contacts.filter(c=>!isNull(c.deliveredAt));const confirmationRequested=contacts.filter(c=>!isNull(c.confirmationRequestedAt));const confirmed=contacts.filter(c=>!isNull(c.deliveredAt)&&!isNull(c.confirmationRequestedAt));setDelivered(delivered.length);setConfirmationRequested(confirmationRequested.length);setConfirmed(confirmed.length);setDelivered(delivered.length);}}},[campaign]);useEffect(()=>{setPercent(delivered/validContacts*100);},[delivered,validContacts]);useEffect(()=>{const companyId=user.companyId;// const socket = socketManager.GetSocket();\nconst onCampaignEvent=data=>{if(data.record.id===+campaignId){setCampaign(data.record);if(data.record.status===\"FINALIZADA\"){setTimeout(()=>{findCampaign();},5000);}}};socket.on(\"company-\".concat(companyId,\"-campaign\"),onCampaignEvent);return()=>{socket.off(\"company-\".concat(companyId,\"-campaign\"),onCampaignEvent);};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[campaignId]);const findCampaign=async()=>{setLoading(true);const{data}=await api.get(\"/campaigns/\".concat(campaignId));setCampaign(data);setLoading(false);};const formatStatus=val=>{switch(val){case\"INATIVA\":return i18n.t(\"campaignReport.inactive\");case\"PROGRAMADA\":return i18n.t(\"campaignReport.scheduled\");case\"EM_ANDAMENTO\":return i18n.t(\"campaignReport.process\");case\"CANCELADA\":return i18n.t(\"campaignReport.cancelled\");case\"FINALIZADA\":return i18n.t(\"campaignReport.finished\");default:return val;}};return/*#__PURE__*/React.createElement(MainContainer,null,/*#__PURE__*/React.createElement(MainHeader,null,/*#__PURE__*/React.createElement(Grid,{style:{width:\"99.6%\"},container:true},/*#__PURE__*/React.createElement(Grid,{xs:12,item:true},/*#__PURE__*/React.createElement(Title,null,i18n.t(\"campaignReport.title\"),\" \",campaign.name||i18n.t(\"campaignReport.campaign\"))))),/*#__PURE__*/React.createElement(Paper,{className:classes.mainPaper,variant:\"outlined\"},/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",component:\"h2\"},\"Status: \",formatStatus(campaign.status),\" \",delivered,\" de \",validContacts),/*#__PURE__*/React.createElement(Grid,{spacing:2,container:true},/*#__PURE__*/React.createElement(Grid,{xs:12,item:true},/*#__PURE__*/React.createElement(LinearProgress,{variant:\"determinate\",style:{height:15,borderRadius:3,margin:\"20px 0\"},value:percent})),/*#__PURE__*/React.createElement(Grid,{xs:12,md:4,item:true},/*#__PURE__*/React.createElement(CardCounter,{icon:/*#__PURE__*/React.createElement(GroupIcon,{fontSize:\"inherit\"}),title:i18n.t(\"campaignReport.validContacts\"),value:validContacts,loading:loading})),campaign.confirmation&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Grid,{xs:12,md:4,item:true},/*#__PURE__*/React.createElement(CardCounter,{icon:/*#__PURE__*/React.createElement(DoneIcon,{fontSize:\"inherit\"}),title:i18n.t(\"campaignReport.confirmationsRequested\"),value:confirmationRequested,loading:loading})),/*#__PURE__*/React.createElement(Grid,{xs:12,md:4,item:true},/*#__PURE__*/React.createElement(CardCounter,{icon:/*#__PURE__*/React.createElement(DoneAllIcon,{fontSize:\"inherit\"}),title:i18n.t(\"campaignReport.confirmations\"),value:confirmed,loading:loading}))),/*#__PURE__*/React.createElement(Grid,{xs:12,md:4,item:true},/*#__PURE__*/React.createElement(CardCounter,{icon:/*#__PURE__*/React.createElement(CheckCircleIcon,{fontSize:\"inherit\"}),title:i18n.t(\"campaignReport.deliver\"),value:delivered,loading:loading})),campaign.whatsappId&&/*#__PURE__*/React.createElement(Grid,{xs:12,md:4,item:true},/*#__PURE__*/React.createElement(CardCounter,{icon:/*#__PURE__*/React.createElement(WhatsAppIcon,{fontSize:\"inherit\"}),title:i18n.t(\"campaignReport.connection\"),value:campaign.whatsapp.name,loading:loading})),campaign.contactListId&&/*#__PURE__*/React.createElement(Grid,{xs:12,md:4,item:true},/*#__PURE__*/React.createElement(CardCounter,{icon:/*#__PURE__*/React.createElement(ListAltIcon,{fontSize:\"inherit\"}),title:i18n.t(\"campaignReport.contactLists\"),value:campaign.contactList.name,loading:loading})),/*#__PURE__*/React.createElement(Grid,{xs:12,md:4,item:true},/*#__PURE__*/React.createElement(CardCounter,{icon:/*#__PURE__*/React.createElement(ScheduleIcon,{fontSize:\"inherit\"}),title:i18n.t(\"campaignReport.schedule\"),value:datetimeToClient(campaign.scheduledAt),loading:loading})),/*#__PURE__*/React.createElement(Grid,{xs:12,md:4,item:true},/*#__PURE__*/React.createElement(CardCounter,{icon:/*#__PURE__*/React.createElement(EventAvailableIcon,{fontSize:\"inherit\"}),title:i18n.t(\"campaignReport.conclusion\"),value:datetimeToClient(campaign.completedAt),loading:loading})))));};export default CampaignReport;","map":{"version":3,"names":["React","useEffect","useRef","useState","useContext","useParams","useHistory","makeStyles","Paper","toast","MainContainer","MainHeader","Title","Grid","LinearProgress","Typography","api","has","get","isNull","CardCounter","GroupIcon","ScheduleIcon","EventAvailableIcon","DoneIcon","DoneAllIcon","CheckCircleIcon","WhatsAppIcon","ListAltIcon","useDate","usePlans","AuthContext","i18n","useStyles","theme","mainPaper","flex","padding","overflowY","scrollbarStyles","textRight","textAlign","tabPanelsContainer","CampaignReport","classes","history","campaignId","campaign","setCampaign","validContacts","setValidContacts","delivered","setDelivered","confirmationRequested","setConfirmationRequested","confirmed","setConfirmed","percent","setPercent","loading","setLoading","mounted","user","socket","datetimeToClient","getPlanCompany","fetchData","companyId","planConfigs","undefined","plan","useCampaigns","error","setTimeout","push","current","findCampaign","contactList","valids","contacts","filter","c","isWhatsappValid","length","deliveredAt","confirmationRequestedAt","onCampaignEvent","data","record","id","status","on","concat","off","formatStatus","val","t","createElement","style","width","container","xs","item","name","className","variant","component","spacing","height","borderRadius","margin","value","md","icon","fontSize","title","confirmation","Fragment","whatsappId","whatsapp","contactListId","scheduledAt","completedAt"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/pages/CampaignReport/index.js"],"sourcesContent":["import React, { useEffect, useRef, useState, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { toast } from \"react-toastify\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport { Grid, LinearProgress, Typography } from \"@material-ui/core\";\r\nimport api from \"../../services/api\";\r\nimport { has, get, isNull } from \"lodash\";\r\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\r\nimport GroupIcon from \"@material-ui/icons/Group\";\r\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\r\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\r\nimport DoneIcon from \"@material-ui/icons/Done\";\r\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport ListAltIcon from \"@material-ui/icons/ListAlt\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    // padding: theme.spacing(2),\r\n    padding: theme.padding,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  textRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  tabPanelsContainer: {\r\n    // padding: theme.spacing(2),\r\n    padding: theme.padding,\r\n  },\r\n}));\r\n\r\nconst CampaignReport = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const { campaignId } = useParams();\r\n\r\n  const [campaign, setCampaign] = useState({});\r\n  const [validContacts, setValidContacts] = useState(0);\r\n  const [delivered, setDelivered] = useState(0);\r\n  const [confirmationRequested, setConfirmationRequested] = useState(0);\r\n  const [confirmed, setConfirmed] = useState(0);\r\n  const [percent, setPercent] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const mounted = useRef(true);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n  const { datetimeToClient } = useDate();\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useCampaigns) {\r\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (mounted.current) {\r\n      findCampaign();\r\n    }\r\n\r\n    return () => {\r\n      mounted.current = false;\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (mounted.current && has(campaign, \"shipping\")) {\r\n      if (has(campaign, \"contactList\")) {\r\n        const contactList = get(campaign, \"contactList\");\r\n        const valids = contactList.contacts.filter((c) => c.isWhatsappValid);\r\n        setValidContacts(valids.length);\r\n      }\r\n\r\n      if (has(campaign, \"shipping\")) {\r\n        const contacts = get(campaign, \"shipping\");\r\n        const delivered = contacts.filter((c) => !isNull(c.deliveredAt));\r\n        const confirmationRequested = contacts.filter(\r\n          (c) => !isNull(c.confirmationRequestedAt)\r\n        );\r\n        const confirmed = contacts.filter(\r\n          (c) => !isNull(c.deliveredAt) && !isNull(c.confirmationRequestedAt)\r\n        );\r\n        setDelivered(delivered.length);\r\n        setConfirmationRequested(confirmationRequested.length);\r\n        setConfirmed(confirmed.length);\r\n        setDelivered(delivered.length);\r\n      }\r\n    }\r\n  }, [campaign]);\r\n\r\n  useEffect(() => {\r\n    setPercent((delivered / validContacts) * 100);\r\n  }, [delivered, validContacts]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onCampaignEvent = (data) => {\r\n\r\n      if (data.record.id === +campaignId) {\r\n        setCampaign(data.record);\r\n\r\n        if (data.record.status === \"FINALIZADA\") {\r\n          setTimeout(() => {\r\n            findCampaign();\r\n          }, 5000);\r\n        }\r\n      }\r\n    };\r\n    socket.on(`company-${companyId}-campaign`, onCampaignEvent);\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-campaign`, onCampaignEvent);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [campaignId]);\r\n\r\n  const findCampaign = async () => {\r\n    setLoading(true);\r\n    const { data } = await api.get(`/campaigns/${campaignId}`);\r\n    setCampaign(data);\r\n    setLoading(false);\r\n  };\r\n\r\n  const formatStatus = (val) => {\r\n    switch (val) {\r\n      case \"INATIVA\":\r\n        return i18n.t(\"campaignReport.inactive\");\r\n      case \"PROGRAMADA\":\r\n        return i18n.t(\"campaignReport.scheduled\");\r\n      case \"EM_ANDAMENTO\":\r\n        return i18n.t(\"campaignReport.process\");\r\n      case \"CANCELADA\":\r\n        return i18n.t(\"campaignReport.cancelled\");\r\n      case \"FINALIZADA\":\r\n        return i18n.t(\"campaignReport.finished\");\r\n      default:\r\n        return val;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} item>\r\n            <Title>{i18n.t(\"campaignReport.title\")} {campaign.name || i18n.t(\"campaignReport.campaign\")}</Title>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper className={classes.mainPaper} variant=\"outlined\">\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          Status: {formatStatus(campaign.status)} {delivered} de {validContacts}\r\n        </Typography>\r\n        <Grid spacing={2} container>\r\n          <Grid xs={12} item>\r\n            <LinearProgress\r\n              variant=\"determinate\"\r\n              style={{ height: 15, borderRadius: 3, margin: \"20px 0\" }}\r\n              value={percent}\r\n            />\r\n          </Grid>\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<GroupIcon fontSize=\"inherit\" />}\r\n              title={i18n.t(\"campaignReport.validContacts\")}\r\n              value={validContacts}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n          {campaign.confirmation && (\r\n            <>\r\n              <Grid xs={12} md={4} item>\r\n                <CardCounter\r\n                  icon={<DoneIcon fontSize=\"inherit\" />}\r\n                  title={i18n.t(\"campaignReport.confirmationsRequested\")}\r\n                  value={confirmationRequested}\r\n                  loading={loading}\r\n                />\r\n              </Grid>\r\n              <Grid xs={12} md={4} item>\r\n                <CardCounter\r\n                  icon={<DoneAllIcon fontSize=\"inherit\" />}\r\n                  title={i18n.t(\"campaignReport.confirmations\")}\r\n                  value={confirmed}\r\n                  loading={loading}\r\n                />\r\n              </Grid>\r\n            </>\r\n          )}\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<CheckCircleIcon fontSize=\"inherit\" />}\r\n              title={i18n.t(\"campaignReport.deliver\")}\r\n              value={delivered}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n          {campaign.whatsappId && (\r\n            <Grid xs={12} md={4} item>\r\n              <CardCounter\r\n                icon={<WhatsAppIcon fontSize=\"inherit\" />}\r\n                title={i18n.t(\"campaignReport.connection\")}\r\n                value={campaign.whatsapp.name}\r\n                loading={loading}\r\n              />\r\n            </Grid>\r\n          )}\r\n          {campaign.contactListId && (\r\n            <Grid xs={12} md={4} item>\r\n              <CardCounter\r\n                icon={<ListAltIcon fontSize=\"inherit\" />}\r\n                title={i18n.t(\"campaignReport.contactLists\")}\r\n                value={campaign.contactList.name}\r\n                loading={loading}\r\n              />\r\n            </Grid>\r\n          )}\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<ScheduleIcon fontSize=\"inherit\" />}\r\n              title={i18n.t(\"campaignReport.schedule\")}\r\n              value={datetimeToClient(campaign.scheduledAt)}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<EventAvailableIcon fontSize=\"inherit\" />}\r\n              title={i18n.t(\"campaignReport.conclusion\")}\r\n              value={datetimeToClient(campaign.completedAt)}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default CampaignReport;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}