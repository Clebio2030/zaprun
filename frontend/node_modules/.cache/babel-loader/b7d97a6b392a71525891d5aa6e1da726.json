{"ast":null,"code":"import React,{useContext,useEffect,useRef,useState}from\"react\";import{useParams,useHistory}from\"react-router-dom\";import{Button,Dialog,DialogActions,DialogContent,DialogTitle,Grid,makeStyles,Paper,Tab,Tabs,TextField}from\"@material-ui/core\";import ChatList from\"./ChatList\";import ChatMessages from\"./ChatMessages\";import{UsersFilter}from\"../../components/UsersFilter\";import api from\"../../services/api\";// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport{has,isObject}from\"lodash\";import{AuthContext}from\"../../context/Auth/AuthContext\";import withWidth,{isWidthUp}from\"@material-ui/core/withWidth\";import{i18n}from\"../../translate/i18n\";const useStyles=makeStyles(theme=>({mainContainer:{display:\"flex\",flexDirection:\"column\",position:\"relative\",flex:1,padding:theme.spacing(2),height:\"calc(100% - 48px)\",overflowY:\"hidden\",border:\"1px solid rgba(0, 0, 0, 0.12)\"},gridContainer:{flex:1,height:\"100%\",border:\"1px solid rgba(0, 0, 0, 0.12)\",background:theme.palette.background.color},gridItem:{height:\"100%\"},gridItemTab:{height:\"92%\",width:\"100%\"},btnContainer:{textAlign:\"right\",padding:10}}));export function ChatModal(_ref){let{open,chat,type,handleClose,handleLoadNewChat}=_ref;const[users,setUsers]=useState([]);const[title,setTitle]=useState(\"\");useEffect(()=>{setTitle(\"\");setUsers([]);if(type===\"edit\"){const userList=chat.users.map(u=>({id:u.user.id,name:u.user.name}));setUsers(userList);setTitle(chat.title);}},[chat,open,type]);const handleSave=async()=>{try{if(type===\"edit\"){await api.put(\"/chats/\".concat(chat.id),{users,title});}else{const{data}=await api.post(\"/chats\",{users,title});handleLoadNewChat(data);}handleClose();}catch(err){}};return/*#__PURE__*/React.createElement(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\"},/*#__PURE__*/React.createElement(DialogTitle,{id:\"alert-dialog-title\"},i18n.t(\"chatInternal.modal.title\")),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(Grid,{spacing:2,container:true},/*#__PURE__*/React.createElement(Grid,{xs:12,style:{padding:18},item:true},/*#__PURE__*/React.createElement(TextField,{label:\"T\\xEDtulo\",placeholder:\"T\\xEDtulo\",value:title,onChange:e=>setTitle(e.target.value),variant:\"outlined\",size:\"small\",fullWidth:true})),/*#__PURE__*/React.createElement(Grid,{xs:12,item:true},/*#__PURE__*/React.createElement(UsersFilter,{onFiltered:users=>setUsers(users),initialUsers:users})))),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:handleClose,color:\"primary\"},i18n.t(\"chatInternal.modal.cancel\")),/*#__PURE__*/React.createElement(Button,{onClick:handleSave,color:\"primary\",variant:\"contained\",disabled:users===undefined||users.length===0||title===null||title===\"\"||title===undefined},i18n.t(\"chatInternal.modal.save\"))));}function Chat(props){const classes=useStyles();const{user,socket}=useContext(AuthContext);const history=useHistory();const[showDialog,setShowDialog]=useState(false);const[dialogType,setDialogType]=useState(\"new\");const[currentChat,setCurrentChat]=useState({});const[chats,setChats]=useState([]);const[chatsPageInfo,setChatsPageInfo]=useState({hasMore:false});const[messages,setMessages]=useState([]);const[messagesPageInfo,setMessagesPageInfo]=useState({hasMore:false});const[messagesPage,setMessagesPage]=useState(1);const[loading,setLoading]=useState(false);const[tab,setTab]=useState(0);const isMounted=useRef(true);const scrollToBottomRef=useRef();const{id}=useParams();useEffect(()=>{return()=>{isMounted.current=false;};},[]);useEffect(()=>{if(isMounted.current){findChats().then(data=>{const{records}=data;if(records.length>0){setChats(records);setChatsPageInfo(data);if(id&&records.length){const chat=records.find(r=>r.uuid===id);selectChat(chat);}}});}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(()=>{if(isObject(currentChat)&&has(currentChat,\"id\")){findMessages(currentChat.id).then(()=>{if(typeof scrollToBottomRef.current===\"function\"){setTimeout(()=>{scrollToBottomRef.current();},300);}});}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[currentChat]);useEffect(()=>{const companyId=user.companyId;// const socket = socketConnection({ companyId, userId: user.id });\nconst onChatUser=data=>{console.log(data);if(data.action===\"create\"){setChats(prev=>[data.record,...prev]);}if(data.action===\"update\"){const changedChats=chats.map(chat=>{if(chat.id===data.record.id){setCurrentChat(data.record);return{...data.record};}return chat;});setChats(changedChats);}};const onChat=data=>{if(data.action===\"delete\"){const filteredChats=chats.filter(c=>c.id!==+data.id);setChats(filteredChats);setMessages([]);setMessagesPage(1);setMessagesPageInfo({hasMore:false});setCurrentChat({});history.push(\"/chats\");}};const onCurrentChat=data=>{if(data.action===\"new-message\"){setMessages(prev=>[...prev,data.newMessage]);const changedChats=chats.map(chat=>{if(chat.id===data.newMessage.chatId){return{...data.chat};}return chat;});setChats(changedChats);scrollToBottomRef.current();}if(data.action===\"update\"){const changedChats=chats.map(chat=>{if(chat.id===data.chat.id){return{...data.chat};}return chat;});setChats(changedChats);scrollToBottomRef.current();}};socket.on(\"company-\".concat(companyId,\"-chat-user-\").concat(user.id),onChatUser);socket.on(\"company-\".concat(companyId,\"-chat\"),onChat);if(isObject(currentChat)&&has(currentChat,\"id\")){socket.on(\"company-\".concat(companyId,\"-chat-\").concat(currentChat.id),onCurrentChat);}return()=>{socket.off(\"company-\".concat(companyId,\"-chat-user-\").concat(user.id),onChatUser);socket.off(\"company-\".concat(companyId,\"-chat\"),onChat);if(isObject(currentChat)&&has(currentChat,\"id\")){socket.off(\"company-\".concat(companyId,\"-chat-\").concat(currentChat.id),onCurrentChat);}};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[currentChat]);const selectChat=chat=>{try{setMessages([]);setMessagesPage(1);setCurrentChat(chat);setTab(1);}catch(err){}};const sendMessage=async contentMessage=>{setLoading(true);try{await api.post(\"/chats/\".concat(currentChat.id,\"/messages\"),{message:contentMessage});}catch(err){}setLoading(false);};const deleteChat=async chat=>{try{await api.delete(\"/chats/\".concat(chat.id));}catch(err){}};const findMessages=async chatId=>{setLoading(true);try{const{data}=await api.get(\"/chats/\".concat(chatId,\"/messages?pageNumber=\").concat(messagesPage));setMessagesPage(prev=>prev+1);setMessagesPageInfo(data);setMessages(prev=>[...data.records,...prev]);}catch(err){}setLoading(false);};const loadMoreMessages=async()=>{if(!loading){findMessages(currentChat.id);}};const findChats=async()=>{try{const{data}=await api.get(\"/chats\");return data;}catch(err){console.log(err);}};const renderGrid=()=>{return/*#__PURE__*/React.createElement(Grid,{className:classes.gridContainer,container:true},/*#__PURE__*/React.createElement(Grid,{className:classes.gridItem,md:3,item:true},/*#__PURE__*/React.createElement(\"div\",{className:classes.btnContainer},/*#__PURE__*/React.createElement(Button,{onClick:()=>{setDialogType(\"new\");setShowDialog(true);},color:\"primary\",variant:\"contained\"},i18n.t(\"chatInternal.new\"))),/*#__PURE__*/React.createElement(ChatList,{chats:chats,pageInfo:chatsPageInfo,loading:loading,handleSelectChat:chat=>selectChat(chat),handleDeleteChat:chat=>deleteChat(chat),handleEditChat:()=>{setDialogType(\"edit\");setShowDialog(true);}})),/*#__PURE__*/React.createElement(Grid,{className:classes.gridItem,md:9,item:true},isObject(currentChat)&&has(currentChat,\"id\")&&/*#__PURE__*/React.createElement(ChatMessages,{chat:currentChat,scrollToBottomRef:scrollToBottomRef,pageInfo:messagesPageInfo,messages:messages,loading:loading,handleSendMessage:sendMessage,handleLoadMore:loadMoreMessages})));};const renderTab=()=>{return/*#__PURE__*/React.createElement(Grid,{className:classes.gridContainer,container:true},/*#__PURE__*/React.createElement(Grid,{md:12,item:true},/*#__PURE__*/React.createElement(Tabs,{value:tab,indicatorColor:\"primary\",textColor:\"primary\",onChange:(e,v)=>setTab(v),\"aria-label\":\"disabled tabs example\"},/*#__PURE__*/React.createElement(Tab,{label:\"Chats\"}),/*#__PURE__*/React.createElement(Tab,{label:\"Mensagens\"}))),tab===0&&/*#__PURE__*/React.createElement(Grid,{className:classes.gridItemTab,md:12,item:true},/*#__PURE__*/React.createElement(\"div\",{className:classes.btnContainer},/*#__PURE__*/React.createElement(Button,{onClick:()=>setShowDialog(true),color:\"primary\",variant:\"contained\"},\"Novo\")),/*#__PURE__*/React.createElement(ChatList,{chats:chats,pageInfo:chatsPageInfo,loading:loading,handleSelectChat:chat=>selectChat(chat),handleDeleteChat:chat=>deleteChat(chat)})),tab===1&&/*#__PURE__*/React.createElement(Grid,{className:classes.gridItemTab,md:12,item:true},isObject(currentChat)&&has(currentChat,\"id\")&&/*#__PURE__*/React.createElement(ChatMessages,{scrollToBottomRef:scrollToBottomRef,pageInfo:messagesPageInfo,messages:messages,loading:loading,handleSendMessage:sendMessage,handleLoadMore:loadMoreMessages})));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ChatModal,{type:dialogType,open:showDialog,chat:currentChat,handleLoadNewChat:data=>{setMessages([]);setMessagesPage(1);setCurrentChat(data);setTab(1);history.push(\"/chats/\".concat(data.uuid));},handleClose:()=>setShowDialog(false)}),/*#__PURE__*/React.createElement(Paper,{className:classes.mainContainer},isWidthUp(\"md\",props.width)?renderGrid():renderTab()));}export default withWidth()(Chat);","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","useParams","useHistory","Button","Dialog","DialogActions","DialogContent","DialogTitle","Grid","makeStyles","Paper","Tab","Tabs","TextField","ChatList","ChatMessages","UsersFilter","api","has","isObject","AuthContext","withWidth","isWidthUp","i18n","useStyles","theme","mainContainer","display","flexDirection","position","flex","padding","spacing","height","overflowY","border","gridContainer","background","palette","color","gridItem","gridItemTab","width","btnContainer","textAlign","ChatModal","_ref","open","chat","type","handleClose","handleLoadNewChat","users","setUsers","title","setTitle","userList","map","u","id","user","name","handleSave","put","concat","data","post","err","createElement","onClose","t","container","xs","style","item","label","placeholder","value","onChange","e","target","variant","size","fullWidth","onFiltered","initialUsers","onClick","disabled","undefined","length","Chat","props","classes","socket","history","showDialog","setShowDialog","dialogType","setDialogType","currentChat","setCurrentChat","chats","setChats","chatsPageInfo","setChatsPageInfo","hasMore","messages","setMessages","messagesPageInfo","setMessagesPageInfo","messagesPage","setMessagesPage","loading","setLoading","tab","setTab","isMounted","scrollToBottomRef","current","findChats","then","records","find","r","uuid","selectChat","findMessages","setTimeout","companyId","onChatUser","console","log","action","prev","record","changedChats","onChat","filteredChats","filter","c","push","onCurrentChat","newMessage","chatId","on","off","sendMessage","contentMessage","message","deleteChat","delete","get","loadMoreMessages","renderGrid","className","md","pageInfo","handleSelectChat","handleDeleteChat","handleEditChat","handleSendMessage","handleLoadMore","renderTab","indicatorColor","textColor","v","Fragment"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/pages/Chat/index.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from \"react\";\r\n\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Grid,\r\n  makeStyles,\r\n  Paper,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport ChatList from \"./ChatList\";\r\nimport ChatMessages from \"./ChatMessages\";\r\nimport { UsersFilter } from \"../../components/UsersFilter\";\r\nimport api from \"../../services/api\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\nimport { has, isObject } from \"lodash\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    position: \"relative\",\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n    height: `calc(100% - 48px)`,\r\n    overflowY: \"hidden\",\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    height: \"100%\",\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n    background: theme.palette.background.color,\r\n  },\r\n  gridItem: {\r\n    height: \"100%\",\r\n  },\r\n  gridItemTab: {\r\n    height: \"92%\",\r\n    width: \"100%\",\r\n  },\r\n  btnContainer: {\r\n    textAlign: \"right\",\r\n    padding: 10,\r\n  },\r\n}));\r\n\r\nexport function ChatModal({\r\n  open,\r\n  chat,\r\n  type,\r\n  handleClose,\r\n  handleLoadNewChat,\r\n}) {\r\n  const [users, setUsers] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setTitle(\"\");\r\n    setUsers([]);\r\n    if (type === \"edit\") {\r\n      const userList = chat.users.map((u) => ({\r\n        id: u.user.id,\r\n        name: u.user.name,\r\n      }));\r\n      setUsers(userList);\r\n      setTitle(chat.title);\r\n    }\r\n  }, [chat, open, type]);\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      if (type === \"edit\") {\r\n        await api.put(`/chats/${chat.id}`, {\r\n          users,\r\n          title,\r\n        });\r\n      } else {\r\n        const { data } = await api.post(\"/chats\", {\r\n          users,\r\n          title,\r\n        });\r\n        handleLoadNewChat(data);\r\n      }\r\n      handleClose();\r\n    } catch (err) { }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">{i18n.t(\"chatInternal.modal.title\")}</DialogTitle>\r\n      <DialogContent>\r\n        <Grid spacing={2} container>\r\n          <Grid xs={12} style={{ padding: 18 }} item>\r\n            <TextField\r\n              label=\"Título\"\r\n              placeholder=\"Título\"\r\n              value={title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              fullWidth\r\n            />\r\n          </Grid>\r\n          <Grid xs={12} item>\r\n            <UsersFilter\r\n              onFiltered={(users) => setUsers(users)}\r\n              initialUsers={users}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          {i18n.t(\"chatInternal.modal.cancel\")}\r\n        </Button>\r\n        <Button\r\n          onClick={handleSave}\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          disabled={users === undefined || users.length === 0 || title === null || title === \"\" || title === undefined}\r\n        >\r\n          {i18n.t(\"chatInternal.modal.save\")}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction Chat(props) {\r\n  const classes = useStyles();\r\n  const { user, socket } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const [showDialog, setShowDialog] = useState(false);\r\n  const [dialogType, setDialogType] = useState(\"new\");\r\n  const [currentChat, setCurrentChat] = useState({});\r\n  const [chats, setChats] = useState([]);\r\n  const [chatsPageInfo, setChatsPageInfo] = useState({ hasMore: false });\r\n  const [messages, setMessages] = useState([]);\r\n  const [messagesPageInfo, setMessagesPageInfo] = useState({ hasMore: false });\r\n  const [messagesPage, setMessagesPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [tab, setTab] = useState(0);\r\n  const isMounted = useRef(true);\r\n  const scrollToBottomRef = useRef();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      findChats().then((data) => {\r\n        const { records } = data;\r\n        if (records.length > 0) {\r\n          setChats(records);\r\n          setChatsPageInfo(data);\r\n\r\n          if (id && records.length) {\r\n            const chat = records.find((r) => r.uuid === id);\r\n            selectChat(chat);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\r\n      findMessages(currentChat.id).then(() => {\r\n        if (typeof scrollToBottomRef.current === \"function\") {\r\n          setTimeout(() => {\r\n            scrollToBottomRef.current();\r\n          }, 300);\r\n        }\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentChat]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketConnection({ companyId, userId: user.id });\r\n\r\n    const onChatUser = (data) => {\r\n\r\n      console.log(data)\r\n      if (data.action === \"create\") {\r\n        setChats((prev) => [data.record, ...prev]);\r\n      }\r\n      if (data.action === \"update\") {\r\n        const changedChats = chats.map((chat) => {\r\n          if (chat.id === data.record.id) {\r\n            setCurrentChat(data.record);\r\n            return {\r\n              ...data.record,\r\n            };\r\n          }\r\n          return chat;\r\n        });\r\n        setChats(changedChats);\r\n      }\r\n    }\r\n    const onChat = (data) => {\r\n      if (data.action === \"delete\") {\r\n        const filteredChats = chats.filter((c) => c.id !== +data.id);\r\n        setChats(filteredChats);\r\n        setMessages([]);\r\n        setMessagesPage(1);\r\n        setMessagesPageInfo({ hasMore: false });\r\n        setCurrentChat({});\r\n        history.push(\"/chats\");\r\n      }\r\n    }\r\n\r\n    const onCurrentChat = (data) => {\r\n      if (data.action === \"new-message\") {\r\n        setMessages((prev) => [...prev, data.newMessage]);\r\n        const changedChats = chats.map((chat) => {\r\n          if (chat.id === data.newMessage.chatId) {\r\n            return {\r\n              ...data.chat,\r\n            };\r\n          }\r\n          return chat;\r\n        });\r\n        setChats(changedChats);\r\n        scrollToBottomRef.current();\r\n      }\r\n\r\n      if (data.action === \"update\") {\r\n        const changedChats = chats.map((chat) => {\r\n          if (chat.id === data.chat.id) {\r\n            return {\r\n              ...data.chat,\r\n            };\r\n          }\r\n          return chat;\r\n        });\r\n        setChats(changedChats);\r\n        scrollToBottomRef.current();\r\n      }\r\n    }\r\n\r\n    socket.on(`company-${companyId}-chat-user-${user.id}`, onChatUser);\r\n    socket.on(`company-${companyId}-chat`, onChat);\r\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\r\n      socket.on(`company-${companyId}-chat-${currentChat.id}`, onCurrentChat);\r\n    }\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-chat-user-${user.id}`, onChatUser);\r\n      socket.off(`company-${companyId}-chat`, onChat);\r\n      if (isObject(currentChat) && has(currentChat, \"id\")) {\r\n        socket.off(`company-${companyId}-chat-${currentChat.id}`, onCurrentChat);\r\n      }\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentChat]);\r\n\r\n  const selectChat = (chat) => {\r\n    try {\r\n      setMessages([]);\r\n      setMessagesPage(1);\r\n      setCurrentChat(chat);\r\n      setTab(1);\r\n    } catch (err) { }\r\n  };\r\n\r\n  const sendMessage = async (contentMessage) => {\r\n    setLoading(true);\r\n    try {\r\n      await api.post(`/chats/${currentChat.id}/messages`, {\r\n        message: contentMessage,\r\n      });\r\n    } catch (err) { }\r\n    setLoading(false);\r\n  };\r\n\r\n  const deleteChat = async (chat) => {\r\n    try {\r\n      await api.delete(`/chats/${chat.id}`);\r\n    } catch (err) { }\r\n  };\r\n\r\n  const findMessages = async (chatId) => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await api.get(\r\n        `/chats/${chatId}/messages?pageNumber=${messagesPage}`\r\n      );\r\n      setMessagesPage((prev) => prev + 1);\r\n      setMessagesPageInfo(data);\r\n      setMessages((prev) => [...data.records, ...prev]);\r\n    } catch (err) { }\r\n    setLoading(false);\r\n  };\r\n\r\n  const loadMoreMessages = async () => {\r\n    if (!loading) {\r\n      findMessages(currentChat.id);\r\n    }\r\n  };\r\n\r\n  const findChats = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/chats\");\r\n      return data;\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const renderGrid = () => {\r\n    return (\r\n      <Grid className={classes.gridContainer} container>\r\n        <Grid className={classes.gridItem} md={3} item>\r\n          {/* {user.profile === \"admin\" && ( */}\r\n          <div className={classes.btnContainer}>\r\n            <Button\r\n              onClick={() => {\r\n                setDialogType(\"new\");\r\n                setShowDialog(true);\r\n              }}\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n            >\r\n              {i18n.t(\"chatInternal.new\")}\r\n            </Button>\r\n          </div>\r\n          {/* )} */}\r\n          <ChatList\r\n            chats={chats}\r\n            pageInfo={chatsPageInfo}\r\n            loading={loading}\r\n            handleSelectChat={(chat) => selectChat(chat)}\r\n            handleDeleteChat={(chat) => deleteChat(chat)}\r\n            handleEditChat={() => {\r\n              setDialogType(\"edit\");\r\n              setShowDialog(true);\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid className={classes.gridItem} md={9} item>\r\n          {isObject(currentChat) && has(currentChat, \"id\") && (\r\n            <ChatMessages\r\n              chat={currentChat}\r\n              scrollToBottomRef={scrollToBottomRef}\r\n              pageInfo={messagesPageInfo}\r\n              messages={messages}\r\n              loading={loading}\r\n              handleSendMessage={sendMessage}\r\n              handleLoadMore={loadMoreMessages}\r\n            />\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  const renderTab = () => {\r\n    return (\r\n      <Grid className={classes.gridContainer} container>\r\n        <Grid md={12} item>\r\n          <Tabs\r\n            value={tab}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            onChange={(e, v) => setTab(v)}\r\n            aria-label=\"disabled tabs example\"\r\n          >\r\n            <Tab label=\"Chats\" />\r\n            <Tab label=\"Mensagens\" />\r\n          </Tabs>\r\n        </Grid>\r\n        {tab === 0 && (\r\n          <Grid className={classes.gridItemTab} md={12} item>\r\n            <div className={classes.btnContainer}>\r\n              <Button\r\n                onClick={() => setShowDialog(true)}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n              >\r\n                Novo\r\n              </Button>\r\n            </div>\r\n            <ChatList\r\n              chats={chats}\r\n              pageInfo={chatsPageInfo}\r\n              loading={loading}\r\n              handleSelectChat={(chat) => selectChat(chat)}\r\n              handleDeleteChat={(chat) => deleteChat(chat)}\r\n            />\r\n          </Grid>\r\n        )}\r\n        {tab === 1 && (\r\n          <Grid className={classes.gridItemTab} md={12} item>\r\n            {isObject(currentChat) && has(currentChat, \"id\") && (\r\n              <ChatMessages\r\n                scrollToBottomRef={scrollToBottomRef}\r\n                pageInfo={messagesPageInfo}\r\n                messages={messages}\r\n                loading={loading}\r\n                handleSendMessage={sendMessage}\r\n                handleLoadMore={loadMoreMessages}\r\n              />\r\n            )}\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ChatModal\r\n        type={dialogType}\r\n        open={showDialog}\r\n        chat={currentChat}\r\n        handleLoadNewChat={(data) => {\r\n          setMessages([]);\r\n          setMessagesPage(1);\r\n          setCurrentChat(data);\r\n          setTab(1);\r\n          history.push(`/chats/${data.uuid}`);\r\n        }}\r\n        handleClose={() => setShowDialog(false)}\r\n      />\r\n      <Paper className={classes.mainContainer}>\r\n        {isWidthUp(\"md\", props.width) ? renderGrid() : renderTab()}\r\n      </Paper>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withWidth()(Chat);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}