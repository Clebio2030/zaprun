{"ast":null,"code":"import React,{useState,useEffect,useReducer,useContext,useCallback}from\"react\";import{SiOpenai}from\"react-icons/si\";import typebotIcon from\"../../assets/typebot-ico.png\";import{toast}from\"react-toastify\";import{useHistory}from\"react-router-dom\";import{makeStyles}from\"@material-ui/core/styles\";import Paper from\"@material-ui/core/Paper\";import Button from\"@material-ui/core/Button\";import api from\"../../services/api\";import MainHeader from\"../../components/MainHeader\";import Title from\"../../components/Title\";import MainHeaderButtonsWrapper from\"../../components/MainHeaderButtonsWrapper\";import MainContainer from\"../../components/MainContainer\";import toastError from\"../../errors/toastError\";import{AuthContext}from\"../../context/Auth/AuthContext\";import{SpeedDial,SpeedDialAction,SpeedDialIcon,Stack,Typography}from\"@mui/material\";import{useParams}from\"react-router-dom/cjs/react-router-dom.min\";import{Box,CircularProgress}from\"@material-ui/core\";import messageNode from\"./nodes/messageNode.js\";import\"reactflow/dist/style.css\";import ReactFlow,{MiniMap,Controls,Background,useNodesState,useEdgesState,addEdge,onElementsRemove,useReactFlow}from\"react-flow-renderer\";import FlowBuilderAddTextModal from\"../../components/FlowBuilderAddTextModal\";import FlowBuilderIntervalModal from\"../../components/FlowBuilderIntervalModal\";import startNode from\"./nodes/startNode\";import conditionNode from\"./nodes/conditionNode\";import menuNode from\"./nodes/menuNode\";import intervalNode from\"./nodes/intervalNode\";import imgNode from\"./nodes/imgNode\";import randomizerNode from\"./nodes/randomizerNode\";import videoNode from\"./nodes/videoNode\";import FlowBuilderConditionModal from\"../../components/FlowBuilderConditionModal\";import FlowBuilderMenuModal from\"../../components/FlowBuilderMenuModal\";import{AccessTime,CallSplit,DynamicFeed,Image,ImportExport,LibraryBooks,Message,MicNone,RocketLaunch,Videocam}from\"@mui/icons-material\";import RemoveEdge from\"./nodes/removeEdge\";import FlowBuilderAddImgModal from\"../../components/FlowBuilderAddImgModal\";import FlowBuilderTicketModal from\"../../components/FlowBuilderAddTicketModal\";import FlowBuilderAddQueueFlowModal from\"../../components/FlowBuilderAddQueueFlowModal\";import FlowBuilderAddAudioModal from\"../../components/FlowBuilderAddAudioModal\";import audioNode from\"./nodes/audioNode\";import typebotNode from\"./nodes/typebotNode\";import openaiNode from\"./nodes/openaiNode\";import QueueFlowNode from\"./nodes/QueueFlowNode\";import{useNodeStorage}from\"../../stores/useNodeStorage\";import FlowBuilderRandomizerModal from\"../../components/FlowBuilderRandomizerModal\";import FlowBuilderAddVideoModal from\"../../components/FlowBuilderAddVideoModal\";import FlowBuilderSingleBlockModal from\"../../components/FlowBuilderSingleBlockModal\";import singleBlockNode from\"./nodes/singleBlockNode\";import{colorPrimary}from\"../../styles/styles\";import ticketNode from\"./nodes/ticketNode\";import{ConfirmationNumber,CompareArrows}from\"@material-ui/icons\";import FlowBuilderTypebotModal from\"../../components/FlowBuilderAddTypebotModal\";import FlowBuilderOpenAIModal from\"../../components/FlowBuilderAddOpenAIModal\";const useStyles=makeStyles(theme=>({mainPaper:{flex:1,padding:theme.spacing(1),position:\"relative\",backgroundColor:\"#F8F9FA\",overflowY:\"scroll\",...theme.scrollbarStyles},speeddial:{backgroundColor:\"red\"}}));function geraStringAleatoria(tamanho){var stringAleatoria=\"\";var caracteres=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";for(var i=0;i<tamanho;i++){stringAleatoria+=caracteres.charAt(Math.floor(Math.random()*caracteres.length));}return stringAleatoria;}const nodeTypes={message:messageNode,start:startNode,condition:conditionNode,menu:menuNode,interval:intervalNode,img:imgNode,audio:audioNode,randomizer:randomizerNode,video:videoNode,singleBlock:singleBlockNode,ticket:ticketNode,typebot:typebotNode,openai:openaiNode,QueueFlow:QueueFlowNode};const edgeTypes={buttonedge:RemoveEdge};const initialNodes=[{id:\"1\",position:{x:250,y:100},data:{label:\"Inicio do fluxo\"},type:\"start\"}];const initialEdges=[];export const FlowBuilderConfig=()=>{const classes=useStyles();const history=useHistory();const{id}=useParams();const storageItems=useNodeStorage();const{user}=useContext(AuthContext);const[loading,setLoading]=useState(false);const[pageNumber,setPageNumber]=useState(1);const[dataNode,setDataNode]=useState(null);const[hasMore,setHasMore]=useState(false);const[modalAddText,setModalAddText]=useState(null);const[modalAddInterval,setModalAddInterval]=useState(false);const[modalAddCondition,setModalAddCondition]=useState(null);const[modalAddMenu,setModalAddMenu]=useState(null);const[modalAddImg,setModalAddImg]=useState(null);const[modalAddAudio,setModalAddAudio]=useState(null);const[modalAddRandomizer,setModalAddRandomizer]=useState(null);const[modalAddVideo,setModalAddVideo]=useState(null);const[modalAddSingleBlock,setModalAddSingleBlock]=useState(null);const[modalAddTicket,setModalAddTicket]=useState(null);const[modalAddQueueFlow,setModalAddQueueFlow]=useState(null);const[modalAddTypebot,setModalAddTypebot]=useState(null);const[modalAddOpenAI,setModalAddOpenAI]=useState(null);const connectionLineStyle={stroke:\"#2b2b2b\",strokeWidth:\"6px\"};const addNode=(type,data)=>{const posY=nodes[nodes.length-1].position.y;const posX=nodes[nodes.length-1].position.x+nodes[nodes.length-1].width+40;if(type===\"start\"){return setNodes(old=>{return[...old.filter(item=>item.id!==\"1\"),{id:\"1\",position:{x:posX,y:posY},data:{label:\"Inicio do fluxo\"},type:\"start\"}];});}if(type===\"text\"){return setNodes(old=>{return[...old,{id:geraStringAleatoria(30),position:{x:posX,y:posY},data:{label:data.text},type:\"message\"}];});}if(type===\"interval\"){return setNodes(old=>{return[...old,{id:geraStringAleatoria(30),position:{x:posX,y:posY},data:{label:\"Intervalo \".concat(data.sec,\" seg.\"),sec:data.sec},type:\"interval\"}];});}if(type===\"condition\"){return setNodes(old=>{return[...old,{id:geraStringAleatoria(30),position:{x:posX,y:posY},data:{key:data.key,condition:data.condition,value:data.value},type:\"condition\"}];});}if(type===\"menu\"){return setNodes(old=>{return[...old,{id:geraStringAleatoria(30),position:{x:posX,y:posY},data:{message:data.message,arrayOption:data.arrayOption},type:\"menu\"}];});}if(type===\"img\"){return setNodes(old=>{return[...old,{id:geraStringAleatoria(30),position:{x:posX,y:posY},data:{url:data.url},type:\"img\"}];});}if(type===\"audio\"){return setNodes(old=>{return[...old,{id:geraStringAleatoria(30),position:{x:posX,y:posY},data:{url:data.url,record:data.record},type:\"audio\"}];});}if(type===\"randomizer\"){return setNodes(old=>{return[...old,{id:geraStringAleatoria(30),position:{x:posX,y:posY},data:{percent:data.percent},type:\"randomizer\"}];});}if(type===\"video\"){return setNodes(old=>{return[...old,{id:geraStringAleatoria(30),position:{x:posX,y:posY},data:{url:data.url},type:\"video\"}];});}if(type===\"singleBlock\"){return setNodes(old=>{return[...old,{id:geraStringAleatoria(30),position:{x:posX,y:posY},data:{...data},type:\"singleBlock\"}];});}if(type===\"ticket\"){return setNodes(old=>{return[...old,{id:geraStringAleatoria(30),position:{x:posX,y:posY},data:{...data},type:\"ticket\"}];});}if(type===\"QueueFlow\"){return setNodes(old=>{return[...old,{id:geraStringAleatoria(30),position:{x:posX,y:posY},data:{...data},type:\"QueueFlow\"}];});}if(type===\"typebot\"){return setNodes(old=>{return[...old,{id:geraStringAleatoria(30),position:{x:posX,y:posY},data:{...data},type:\"typebot\"}];});}if(type===\"openai\"){return setNodes(old=>{return[...old,{id:geraStringAleatoria(30),position:{x:posX,y:posY},data:{...data},type:\"openai\"}];});}};const textAdd=data=>{addNode(\"text\",data);};const intervalAdd=data=>{addNode(\"interval\",data);};const conditionAdd=data=>{addNode(\"condition\",data);};const menuAdd=data=>{addNode(\"menu\",data);};const imgAdd=data=>{addNode(\"img\",data);};const audioAdd=data=>{addNode(\"audio\",data);};const randomizerAdd=data=>{addNode(\"randomizer\",data);};const videoAdd=data=>{addNode(\"video\",data);};const singleBlockAdd=data=>{addNode(\"singleBlock\",data);};const ticketAdd=data=>{addNode(\"ticket\",data);};const typebotAdd=data=>{addNode(\"typebot\",data);};const openaiAdd=data=>{addNode(\"openai\",data);};const QueueFlowAdd=data=>{addNode(\"QueueFlow\",data);};useEffect(()=>{setLoading(true);const delayDebounceFn=setTimeout(()=>{const fetchContacts=async()=>{try{const{data}=await api.get(\"/flowbuilder/flow/\".concat(id));if(data.flow.flow!==null){setNodes(data.flow.flow.nodes);setEdges(data.flow.flow.connections);}setLoading(false);}catch(err){toastError(err);}};fetchContacts();},500);return()=>clearTimeout(delayDebounceFn);},[id]);useEffect(()=>{if(storageItems.action===\"delete\"){setNodes(old=>old.filter(item=>item.id!==storageItems.node));setEdges(old=>{const newData=old.filter(item=>item.source!==storageItems.node);const newClearTarget=newData.filter(item=>item.target!==storageItems.node);return newClearTarget;});storageItems.setNodesStorage(\"\");storageItems.setAct(\"idle\");}if(storageItems.action===\"duplicate\"){const nodeDuplicate=nodes.filter(item=>item.id===storageItems.node)[0];const maioresX=nodes.map(node=>node.position.x);const maiorX=Math.max(...maioresX);const finalY=nodes[nodes.length-1].position.y;const nodeNew={...nodeDuplicate,id:geraStringAleatoria(30),position:{x:maiorX+240,y:finalY},selected:false,style:{backgroundColor:\"#555555\",padding:0,borderRadius:8}};setNodes(old=>[...old,nodeNew]);storageItems.setNodesStorage(\"\");storageItems.setAct(\"idle\");}},[storageItems.action]);const loadMore=()=>{setPageNumber(prevState=>prevState+1);};const handleScroll=e=>{if(!hasMore||loading)return;const{scrollTop,scrollHeight,clientHeight}=e.currentTarget;if(scrollHeight-(scrollTop+100)<clientHeight){loadMore();}};const[nodes,setNodes,onNodesChange]=useNodesState(initialNodes);const[edges,setEdges,onEdgesChange]=useEdgesState(initialEdges);const onConnect=useCallback(params=>setEdges(eds=>addEdge(params,eds)),[setEdges]);const saveFlow=async()=>{await api.post(\"/flowbuilder/flow\",{idFlow:id,nodes:nodes,connections:edges}).then(res=>{toast.success(\"Fluxo salvo com sucesso\");});};const doubleClick=(event,node)=>{setDataNode(node);if(node.type===\"message\"){setModalAddText(\"edit\");}else if(node.type===\"interval\"){setModalAddInterval(\"edit\");}else if(node.type===\"condition\"){setModalAddCondition(\"edit\");}else if(node.type===\"menu\"){setModalAddMenu(\"edit\");}else if(node.type===\"img\"){setModalAddImg(\"edit\");}else if(node.type===\"audio\"){setModalAddAudio(\"edit\");}else if(node.type===\"randomizer\"){setModalAddRandomizer(\"edit\");}else if(node.type===\"singleBlock\"){setModalAddSingleBlock(\"edit\");}else if(node.type===\"ticket\"){setModalAddTicket(\"edit\");}else if(node.type===\"QueueFlow\"){setModalAddQueueFlow(\"edit\");}else if(node.type===\"typebot\"){setModalAddTypebot(\"edit\");}else if(node.type===\"openai\"){setModalAddOpenAI(\"edit\");}};const clickNode=(event,node)=>{setNodes(old=>old.map(item=>{if(item.id===node.id){return{...item,style:{backgroundColor:\"#FF7606\",padding:1,borderRadius:8}};}return{...item,style:{backgroundColor:\"#13111C\",padding:0,borderRadius:8}};}));};const clickEdge=(event,node)=>{setNodes(old=>old.map(item=>{return{...item,style:{backgroundColor:\"#13111C\",padding:0,borderRadius:8}};}));};const updateNode=dataAlter=>{setNodes(old=>old.map(itemNode=>{if(itemNode.id===dataAlter.id){return dataAlter;}return itemNode;}));setModalAddText(null);setModalAddInterval(null);setModalAddMenu(null);};const actions=[{icon:/*#__PURE__*/React.createElement(RocketLaunch,{sx:{color:\"#3ABA38\"}}),name:\"Inicio\",type:\"start\"},{icon:/*#__PURE__*/React.createElement(LibraryBooks,{sx:{color:\"#EC5858\"}}),name:\"Conteúdo\",type:\"content\"},{icon:/*#__PURE__*/React.createElement(DynamicFeed,{sx:{color:\"#683AC8\"}}),name:\"Menu\",type:\"menu\"},{icon:/*#__PURE__*/React.createElement(CallSplit,{sx:{color:\"#1FBADC\"}}),name:\"Randomizador\",type:\"random\"},{icon:/*#__PURE__*/React.createElement(AccessTime,{sx:{color:\"#F7953B\"}}),name:\"Intervalo\",type:\"interval\"},{icon:/*#__PURE__*/React.createElement(ConfirmationNumber,{sx:{color:\"#F7953B\"}}),name:\"Ticket\",type:\"ticket\"},{icon:/*#__PURE__*/React.createElement(CompareArrows,{sx:{color:\"#F7953B\"}}),name:\"Trocar_Fluxo\",type:\"QueueFlow\"},{icon:/*#__PURE__*/React.createElement(Box,{component:\"img\",sx:{width:24,height:24,color:\"#3aba38\"},src:typebotIcon,alt:\"icon\"}),name:\"TypeBot\",type:\"typebot\"},{icon:/*#__PURE__*/React.createElement(SiOpenai,{sx:{color:\"#F7953B\"}}),name:\"OpenAI\",type:\"openai\"}];const clickActions=type=>{switch(type){case\"start\":addNode(\"start\");break;case\"menu\":setModalAddMenu(\"create\");break;case\"content\":setModalAddSingleBlock(\"create\");break;case\"random\":setModalAddRandomizer(\"create\");break;case\"interval\":setModalAddInterval(\"create\");break;case\"ticket\":setModalAddTicket(\"create\");break;case\"QueueFlow\":setModalAddQueueFlow(\"create\");break;case\"typebot\":setModalAddTypebot(\"create\");break;case\"openai\":setModalAddOpenAI(\"create\");break;default:}};return/*#__PURE__*/React.createElement(Stack,{sx:{height:\"100vh\"}},/*#__PURE__*/React.createElement(FlowBuilderAddTextModal,{open:modalAddText,onSave:textAdd,data:dataNode,onUpdate:updateNode,close:setModalAddText}),/*#__PURE__*/React.createElement(FlowBuilderIntervalModal,{open:modalAddInterval,onSave:intervalAdd,data:dataNode,onUpdate:updateNode,close:setModalAddInterval}),/*#__PURE__*/React.createElement(FlowBuilderConditionModal,{open:modalAddCondition,onSave:conditionAdd,data:dataNode,onUpdate:updateNode,close:setModalAddCondition}),/*#__PURE__*/React.createElement(FlowBuilderMenuModal,{open:modalAddMenu,onSave:menuAdd,data:dataNode,onUpdate:updateNode,close:setModalAddMenu}),/*#__PURE__*/React.createElement(FlowBuilderAddImgModal,{open:modalAddImg,onSave:imgAdd,data:dataNode,onUpdate:updateNode,close:setModalAddImg}),/*#__PURE__*/React.createElement(FlowBuilderAddAudioModal,{open:modalAddAudio,onSave:audioAdd,data:dataNode,onUpdate:updateNode,close:setModalAddAudio}),/*#__PURE__*/React.createElement(FlowBuilderRandomizerModal,{open:modalAddRandomizer,onSave:randomizerAdd,data:dataNode,onUpdate:updateNode,close:setModalAddRandomizer}),/*#__PURE__*/React.createElement(FlowBuilderAddVideoModal,{open:modalAddVideo,onSave:videoAdd,data:dataNode,onUpdate:updateNode,close:setModalAddVideo}),/*#__PURE__*/React.createElement(FlowBuilderSingleBlockModal,{open:modalAddSingleBlock,onSave:singleBlockAdd,data:dataNode,onUpdate:updateNode,close:setModalAddSingleBlock}),/*#__PURE__*/React.createElement(FlowBuilderTicketModal,{open:modalAddTicket,onSave:ticketAdd,data:dataNode,onUpdate:updateNode,close:setModalAddTicket}),/*#__PURE__*/React.createElement(FlowBuilderAddQueueFlowModal,{open:modalAddQueueFlow,onSave:QueueFlowAdd,data:dataNode,onUpdate:updateNode,close:setModalAddQueueFlow}),/*#__PURE__*/React.createElement(FlowBuilderOpenAIModal,{open:modalAddOpenAI,onSave:openaiAdd,data:dataNode,onUpdate:updateNode,close:setModalAddOpenAI}),/*#__PURE__*/React.createElement(FlowBuilderTypebotModal,{open:modalAddTypebot,onSave:typebotAdd,data:dataNode,onUpdate:updateNode,close:setModalAddTypebot}),/*#__PURE__*/React.createElement(MainHeader,null,/*#__PURE__*/React.createElement(Title,null,\"Desenhe seu fluxo\")),!loading&&/*#__PURE__*/React.createElement(Paper,{className:classes.mainPaper,variant:\"outlined\",onScroll:handleScroll},/*#__PURE__*/React.createElement(Stack,null,/*#__PURE__*/React.createElement(SpeedDial,{ariaLabel:\"SpeedDial basic example\",sx:{position:\"absolute\",top:16,left:16,\".MuiSpeedDial-fab\":{backgroundColor:colorPrimary(),\"&:hover\":{backgroundColor:colorPrimary()}}},icon:/*#__PURE__*/React.createElement(SpeedDialIcon,null),direction:\"down\"},actions.map(action=>/*#__PURE__*/React.createElement(SpeedDialAction,{key:action.name,icon:action.icon,tooltipTitle:action.name,tooltipOpen:true,tooltipPlacement:\"right\",onClick:()=>{clickActions(action.type);}})))),/*#__PURE__*/React.createElement(Stack,{sx:{position:\"absolute\",justifyContent:\"center\",flexDirection:\"row\",width:\"100%\"}},/*#__PURE__*/React.createElement(Typography,{style:{color:\"#010101\",textShadow:\"#010101 1px 0 10px\"}},\"N\\xE3o se esque\\xE7a de salvar seu fluxo!\")),/*#__PURE__*/React.createElement(Stack,{direction:\"row\",justifyContent:\"end\"},/*#__PURE__*/React.createElement(Button,{sx:{textTransform:\"none\"},variant:\"contained\",color:\"primary\",onClick:()=>saveFlow()},\"Salvar\")),/*#__PURE__*/React.createElement(Stack,{direction:\"row\",style:{width:\"100%\",height:\"90%\",position:\"relative\",display:\"flex\"}},/*#__PURE__*/React.createElement(ReactFlow,{nodes:nodes,edges:edges,deleteKeyCode:[\"Backspace\",\"Delete\"],onNodesChange:onNodesChange,onEdgesChange:onEdgesChange,onNodeDoubleClick:doubleClick,onNodeClick:clickNode,onEdgeClick:clickEdge,onConnect:onConnect,nodeTypes:nodeTypes,fitView:true,connectionLineStyle:connectionLineStyle,style:{//backgroundImage: `url(${imgBackground})`,\n//backgroundSize: \"cover\"\nbackgroundColor:\"#F8F9FA\"},edgeTypes:edgeTypes,variant:\"cross\",defaultEdgeOptions:{style:{color:\"#ff0000\",strokeWidth:\"6px\"},animated:false}},/*#__PURE__*/React.createElement(Controls,null),/*#__PURE__*/React.createElement(MiniMap,null),/*#__PURE__*/React.createElement(Background,{variant:\"dots\",gap:12,size:-1})),/*#__PURE__*/React.createElement(Stack,{style:{backgroundColor:\"#FAFAFA\",height:\"20px\",width:\"58px\",position:\"absolute\",bottom:0,right:0,zIndex:1111}}))),loading&&/*#__PURE__*/React.createElement(Stack,{justifyContent:\"center\",alignItems:\"center\",height:\"70vh\"},/*#__PURE__*/React.createElement(CircularProgress,null)));};","map":{"version":3,"names":["React","useState","useEffect","useReducer","useContext","useCallback","SiOpenai","typebotIcon","toast","useHistory","makeStyles","Paper","Button","api","MainHeader","Title","MainHeaderButtonsWrapper","MainContainer","toastError","AuthContext","SpeedDial","SpeedDialAction","SpeedDialIcon","Stack","Typography","useParams","Box","CircularProgress","messageNode","ReactFlow","MiniMap","Controls","Background","useNodesState","useEdgesState","addEdge","onElementsRemove","useReactFlow","FlowBuilderAddTextModal","FlowBuilderIntervalModal","startNode","conditionNode","menuNode","intervalNode","imgNode","randomizerNode","videoNode","FlowBuilderConditionModal","FlowBuilderMenuModal","AccessTime","CallSplit","DynamicFeed","Image","ImportExport","LibraryBooks","Message","MicNone","RocketLaunch","Videocam","RemoveEdge","FlowBuilderAddImgModal","FlowBuilderTicketModal","FlowBuilderAddQueueFlowModal","FlowBuilderAddAudioModal","audioNode","typebotNode","openaiNode","QueueFlowNode","useNodeStorage","FlowBuilderRandomizerModal","FlowBuilderAddVideoModal","FlowBuilderSingleBlockModal","singleBlockNode","colorPrimary","ticketNode","ConfirmationNumber","CompareArrows","FlowBuilderTypebotModal","FlowBuilderOpenAIModal","useStyles","theme","mainPaper","flex","padding","spacing","position","backgroundColor","overflowY","scrollbarStyles","speeddial","geraStringAleatoria","tamanho","stringAleatoria","caracteres","i","charAt","Math","floor","random","length","nodeTypes","message","start","condition","menu","interval","img","audio","randomizer","video","singleBlock","ticket","typebot","openai","QueueFlow","edgeTypes","buttonedge","initialNodes","id","x","y","data","label","type","initialEdges","FlowBuilderConfig","classes","history","storageItems","user","loading","setLoading","pageNumber","setPageNumber","dataNode","setDataNode","hasMore","setHasMore","modalAddText","setModalAddText","modalAddInterval","setModalAddInterval","modalAddCondition","setModalAddCondition","modalAddMenu","setModalAddMenu","modalAddImg","setModalAddImg","modalAddAudio","setModalAddAudio","modalAddRandomizer","setModalAddRandomizer","modalAddVideo","setModalAddVideo","modalAddSingleBlock","setModalAddSingleBlock","modalAddTicket","setModalAddTicket","modalAddQueueFlow","setModalAddQueueFlow","modalAddTypebot","setModalAddTypebot","modalAddOpenAI","setModalAddOpenAI","connectionLineStyle","stroke","strokeWidth","addNode","posY","nodes","posX","width","setNodes","old","filter","item","text","concat","sec","key","value","arrayOption","url","record","percent","textAdd","intervalAdd","conditionAdd","menuAdd","imgAdd","audioAdd","randomizerAdd","videoAdd","singleBlockAdd","ticketAdd","typebotAdd","openaiAdd","QueueFlowAdd","delayDebounceFn","setTimeout","fetchContacts","get","flow","setEdges","connections","err","clearTimeout","action","node","newData","source","newClearTarget","target","setNodesStorage","setAct","nodeDuplicate","maioresX","map","maiorX","max","finalY","nodeNew","selected","style","borderRadius","loadMore","prevState","handleScroll","e","scrollTop","scrollHeight","clientHeight","currentTarget","onNodesChange","edges","onEdgesChange","onConnect","params","eds","saveFlow","post","idFlow","then","res","success","doubleClick","event","clickNode","clickEdge","updateNode","dataAlter","itemNode","actions","icon","createElement","sx","color","name","component","height","src","alt","clickActions","open","onSave","onUpdate","close","className","variant","onScroll","ariaLabel","top","left","direction","tooltipTitle","tooltipOpen","tooltipPlacement","onClick","justifyContent","flexDirection","textShadow","textTransform","display","deleteKeyCode","onNodeDoubleClick","onNodeClick","onEdgeClick","fitView","defaultEdgeOptions","animated","gap","size","bottom","right","zIndex","alignItems"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/pages/FlowBuilderConfig/index.js"],"sourcesContent":["import React, {\r\n  useState,\r\n  useEffect,\r\n  useReducer,\r\n  useContext,\r\n  useCallback,\r\n} from \"react\";\r\nimport { SiOpenai } from \"react-icons/si\";\r\nimport typebotIcon from \"../../assets/typebot-ico.png\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport api from \"../../services/api\";\r\n\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport {\r\n  SpeedDial,\r\n  SpeedDialAction,\r\n  SpeedDialIcon,\r\n  Stack,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { Box, CircularProgress } from \"@material-ui/core\";\r\nimport messageNode from \"./nodes/messageNode.js\";\r\n\r\nimport \"reactflow/dist/style.css\";\r\n\r\nimport ReactFlow, {\r\n  MiniMap,\r\n  Controls,\r\n  Background,\r\n  useNodesState,\r\n  useEdgesState,\r\n  addEdge,\r\n  onElementsRemove,\r\n  useReactFlow,\r\n} from \"react-flow-renderer\";\r\nimport FlowBuilderAddTextModal from \"../../components/FlowBuilderAddTextModal\";\r\nimport FlowBuilderIntervalModal from \"../../components/FlowBuilderIntervalModal\";\r\nimport startNode from \"./nodes/startNode\";\r\nimport conditionNode from \"./nodes/conditionNode\";\r\nimport menuNode from \"./nodes/menuNode\";\r\nimport intervalNode from \"./nodes/intervalNode\";\r\nimport imgNode from \"./nodes/imgNode\";\r\nimport randomizerNode from \"./nodes/randomizerNode\";\r\nimport videoNode from \"./nodes/videoNode\";\r\nimport FlowBuilderConditionModal from \"../../components/FlowBuilderConditionModal\";\r\nimport FlowBuilderMenuModal from \"../../components/FlowBuilderMenuModal\";\r\nimport {\r\n  AccessTime,\r\n  CallSplit,\r\n  DynamicFeed,\r\n  Image,\r\n  ImportExport,\r\n  LibraryBooks,\r\n  Message,\r\n  MicNone,\r\n  RocketLaunch,\r\n  Videocam,\r\n} from \"@mui/icons-material\";\r\nimport RemoveEdge from \"./nodes/removeEdge\";\r\nimport FlowBuilderAddImgModal from \"../../components/FlowBuilderAddImgModal\";\r\nimport FlowBuilderTicketModal from \"../../components/FlowBuilderAddTicketModal\";\r\nimport FlowBuilderAddQueueFlowModal from \"../../components/FlowBuilderAddQueueFlowModal\";\r\nimport FlowBuilderAddAudioModal from \"../../components/FlowBuilderAddAudioModal\";\r\n\r\nimport audioNode from \"./nodes/audioNode\";\r\nimport typebotNode from \"./nodes/typebotNode\";\r\nimport openaiNode from \"./nodes/openaiNode\";\r\nimport QueueFlowNode from \"./nodes/QueueFlowNode\";\r\n\r\nimport { useNodeStorage } from \"../../stores/useNodeStorage\";\r\nimport FlowBuilderRandomizerModal from \"../../components/FlowBuilderRandomizerModal\";\r\nimport FlowBuilderAddVideoModal from \"../../components/FlowBuilderAddVideoModal\";\r\nimport FlowBuilderSingleBlockModal from \"../../components/FlowBuilderSingleBlockModal\";\r\nimport singleBlockNode from \"./nodes/singleBlockNode\";\r\nimport { colorPrimary } from \"../../styles/styles\";\r\nimport ticketNode from \"./nodes/ticketNode\";\r\nimport { ConfirmationNumber,CompareArrows } from \"@material-ui/icons\";\r\nimport FlowBuilderTypebotModal from \"../../components/FlowBuilderAddTypebotModal\";\r\nimport FlowBuilderOpenAIModal from \"../../components/FlowBuilderAddOpenAIModal\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    position: \"relative\",\r\n    backgroundColor: \"#F8F9FA\",\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  speeddial: {\r\n    backgroundColor: \"red\",\r\n  },\r\n}));\r\n\r\nfunction geraStringAleatoria(tamanho) {\r\n  var stringAleatoria = \"\";\r\n  var caracteres =\r\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n  for (var i = 0; i < tamanho; i++) {\r\n    stringAleatoria += caracteres.charAt(\r\n      Math.floor(Math.random() * caracteres.length)\r\n    );\r\n  }\r\n  return stringAleatoria;\r\n}\r\n\r\nconst nodeTypes = {\r\n  message: messageNode,\r\n  start: startNode,\r\n  condition: conditionNode,\r\n  menu: menuNode,\r\n  interval: intervalNode,\r\n  img: imgNode,\r\n  audio: audioNode,\r\n  randomizer: randomizerNode,\r\n  video: videoNode,\r\n  singleBlock: singleBlockNode,\r\n  ticket: ticketNode,\r\n  typebot: typebotNode,\r\n  openai: openaiNode,\r\n  QueueFlow: QueueFlowNode,\r\n\r\n};\r\n\r\nconst edgeTypes = {\r\n  buttonedge: RemoveEdge,\r\n};\r\n\r\nconst initialNodes = [\r\n  {\r\n    id: \"1\",\r\n    position: { x: 250, y: 100 },\r\n    data: { label: \"Inicio do fluxo\" },\r\n    type: \"start\",\r\n  },\r\n];\r\n\r\nconst initialEdges = [];\r\n\r\nexport const FlowBuilderConfig = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  const storageItems = useNodeStorage();\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [dataNode, setDataNode] = useState(null);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [modalAddText, setModalAddText] = useState(null);\r\n  const [modalAddInterval, setModalAddInterval] = useState(false);\r\n  const [modalAddCondition, setModalAddCondition] = useState(null);\r\n  const [modalAddMenu, setModalAddMenu] = useState(null);\r\n  const [modalAddImg, setModalAddImg] = useState(null);\r\n  const [modalAddAudio, setModalAddAudio] = useState(null);\r\n  const [modalAddRandomizer, setModalAddRandomizer] = useState(null);\r\n  const [modalAddVideo, setModalAddVideo] = useState(null);\r\n  const [modalAddSingleBlock, setModalAddSingleBlock] = useState(null);\r\n  const [modalAddTicket, setModalAddTicket] = useState(null);\r\n  const [modalAddQueueFlow, setModalAddQueueFlow] = useState(null);\r\n  const [modalAddTypebot, setModalAddTypebot] = useState(null);\r\n  const [modalAddOpenAI, setModalAddOpenAI] = useState(null);\r\n\r\n  const connectionLineStyle = { stroke: \"#2b2b2b\", strokeWidth: \"6px\" };\r\n\r\n  const addNode = (type, data) => {\r\n    const posY = nodes[nodes.length - 1].position.y;\r\n    const posX =\r\n      nodes[nodes.length - 1].position.x + nodes[nodes.length - 1].width + 40;\r\n    if (type === \"start\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old.filter((item) => item.id !== \"1\"),\r\n          {\r\n            id: \"1\",\r\n            position: { x: posX, y: posY },\r\n            data: { label: \"Inicio do fluxo\" },\r\n            type: \"start\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"text\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { label: data.text },\r\n            type: \"message\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"interval\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { label: `Intervalo ${data.sec} seg.`, sec: data.sec },\r\n            type: \"interval\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"condition\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: {\r\n              key: data.key,\r\n              condition: data.condition,\r\n              value: data.value,\r\n            },\r\n            type: \"condition\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"menu\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: {\r\n              message: data.message,\r\n              arrayOption: data.arrayOption,\r\n            },\r\n            type: \"menu\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"img\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { url: data.url },\r\n            type: \"img\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"audio\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { url: data.url, record: data.record },\r\n            type: \"audio\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"randomizer\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { percent: data.percent },\r\n            type: \"randomizer\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"video\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { url: data.url },\r\n            type: \"video\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"singleBlock\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { ...data },\r\n            type: \"singleBlock\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n\r\n    if (type === \"ticket\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { ...data },\r\n            type: \"ticket\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"QueueFlow\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { ...data },\r\n            type: \"QueueFlow\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n\r\n    if (type === \"typebot\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { ...data },\r\n            type: \"typebot\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n\r\n    if (type === \"openai\") {\r\n      return setNodes((old) => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { ...data },\r\n            type: \"openai\",\r\n          },\r\n        ];\r\n      });\r\n    }\r\n  };\r\n\r\n  const textAdd = (data) => {\r\n    addNode(\"text\", data);\r\n  };\r\n\r\n  const intervalAdd = (data) => {\r\n    addNode(\"interval\", data);\r\n  };\r\n\r\n  const conditionAdd = (data) => {\r\n    addNode(\"condition\", data);\r\n  };\r\n\r\n  const menuAdd = (data) => {\r\n    addNode(\"menu\", data);\r\n  };\r\n\r\n  const imgAdd = (data) => {\r\n    addNode(\"img\", data);\r\n  };\r\n\r\n  const audioAdd = (data) => {\r\n    addNode(\"audio\", data);\r\n  };\r\n\r\n  const randomizerAdd = (data) => {\r\n    addNode(\"randomizer\", data);\r\n  };\r\n\r\n  const videoAdd = (data) => {\r\n    addNode(\"video\", data);\r\n  };\r\n\r\n  const singleBlockAdd = (data) => {\r\n    addNode(\"singleBlock\", data);\r\n  };\r\n\r\n  const ticketAdd = (data) => {\r\n    addNode(\"ticket\", data);\r\n  };\r\n\r\n  const typebotAdd = (data) => {\r\n    addNode(\"typebot\", data);\r\n  };\r\n\r\n  const openaiAdd = (data) => {\r\n    addNode(\"openai\", data);\r\n  };\r\n  const QueueFlowAdd = (data) => {\r\n    addNode(\"QueueFlow\", data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(`/flowbuilder/flow/${id}`);\r\n          if (data.flow.flow !== null) {\r\n            setNodes(data.flow.flow.nodes);\r\n            setEdges(data.flow.flow.connections);\r\n          }\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (storageItems.action === \"delete\") {\r\n      setNodes((old) => old.filter((item) => item.id !== storageItems.node));\r\n      setEdges((old) => {\r\n        const newData = old.filter((item) => item.source !== storageItems.node);\r\n        const newClearTarget = newData.filter(\r\n          (item) => item.target !== storageItems.node\r\n        );\r\n        return newClearTarget;\r\n      });\r\n      storageItems.setNodesStorage(\"\");\r\n      storageItems.setAct(\"idle\");\r\n    }\r\n    if (storageItems.action === \"duplicate\") {\r\n      const nodeDuplicate = nodes.filter(\r\n        (item) => item.id === storageItems.node\r\n      )[0];\r\n      const maioresX = nodes.map((node) => node.position.x);\r\n      const maiorX = Math.max(...maioresX);\r\n      const finalY = nodes[nodes.length - 1].position.y;\r\n      const nodeNew = {\r\n        ...nodeDuplicate,\r\n        id: geraStringAleatoria(30),\r\n        position: {\r\n          x: maiorX + 240,\r\n          y: finalY,\r\n        },\r\n        selected: false,\r\n        style: { backgroundColor: \"#555555\", padding: 0, borderRadius: 8 },\r\n      };\r\n      setNodes((old) => [...old, nodeNew]);\r\n      storageItems.setNodesStorage(\"\");\r\n      storageItems.setAct(\"idle\");\r\n    }\r\n  }, [storageItems.action]);\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\r\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\r\n\r\n  const onConnect = useCallback(\r\n    (params) => setEdges((eds) => addEdge(params, eds)),\r\n    [setEdges]\r\n  );\r\n\r\n  const saveFlow = async () => {\r\n    await api\r\n      .post(\"/flowbuilder/flow\", {\r\n        idFlow: id,\r\n        nodes: nodes,\r\n        connections: edges,\r\n      })\r\n      .then((res) => {\r\n        toast.success(\"Fluxo salvo com sucesso\");\r\n      });\r\n  };\r\n\r\n  const doubleClick = (event, node) => {\r\n    setDataNode(node);\r\n    if (node.type === \"message\") {\r\n      setModalAddText(\"edit\");\r\n    }\r\n    else if (node.type === \"interval\") {\r\n      setModalAddInterval(\"edit\");\r\n    }\r\n    else if (node.type === \"condition\") {\r\n      setModalAddCondition(\"edit\");\r\n    }\r\n    else if (node.type === \"menu\") {\r\n      setModalAddMenu(\"edit\");\r\n    }\r\n    else if (node.type === \"img\") {\r\n      setModalAddImg(\"edit\");\r\n    }\r\n    else if (node.type === \"audio\") {\r\n      setModalAddAudio(\"edit\");\r\n    }\r\n    else if (node.type === \"randomizer\") {\r\n      setModalAddRandomizer(\"edit\");\r\n    }\r\n    else if (node.type === \"singleBlock\") {\r\n      setModalAddSingleBlock(\"edit\");\r\n    }\r\n    else if (node.type === \"ticket\") {\r\n      setModalAddTicket(\"edit\");\r\n    }\r\n    else if(node.type === \"QueueFlow\"){\r\n      setModalAddQueueFlow(\"edit\");\r\n    }\r\n    else if (node.type === \"typebot\") {\r\n      setModalAddTypebot(\"edit\");\r\n    }\r\n    else if (node.type === \"openai\") {\r\n      setModalAddOpenAI(\"edit\");\r\n    }\r\n  };\r\n\r\n  const clickNode = (event, node) => {\r\n    setNodes((old) =>\r\n      old.map((item) => {\r\n        if (item.id === node.id) {\r\n          return {\r\n            ...item,\r\n            style: { backgroundColor: \"#FF7606\", padding: 1, borderRadius: 8 },\r\n          };\r\n        }\r\n        return {\r\n          ...item,\r\n          style: { backgroundColor: \"#13111C\", padding: 0, borderRadius: 8 },\r\n        };\r\n      })\r\n    );\r\n  };\r\n  const clickEdge = (event, node) => {\r\n    setNodes((old) =>\r\n      old.map((item) => {\r\n        return {\r\n          ...item,\r\n          style: { backgroundColor: \"#13111C\", padding: 0, borderRadius: 8 },\r\n        };\r\n      })\r\n    );\r\n  };\r\n\r\n  const updateNode = (dataAlter) => {\r\n    setNodes((old) =>\r\n      old.map((itemNode) => {\r\n        if (itemNode.id === dataAlter.id) {\r\n          return dataAlter;\r\n        }\r\n        return itemNode;\r\n      })\r\n    );\r\n    setModalAddText(null);\r\n    setModalAddInterval(null);\r\n    setModalAddMenu(null);\r\n  };\r\n\r\n  const actions = [\r\n    {\r\n      icon: (\r\n        <RocketLaunch\r\n          sx={{\r\n            color: \"#3ABA38\",\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Inicio\",\r\n      type: \"start\",\r\n    },\r\n    {\r\n      icon: (\r\n        <LibraryBooks\r\n          sx={{\r\n            color: \"#EC5858\",\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Conteúdo\",\r\n      type: \"content\",\r\n    },\r\n    {\r\n      icon: (\r\n        <DynamicFeed\r\n          sx={{\r\n            color: \"#683AC8\",\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Menu\",\r\n      type: \"menu\",\r\n    },\r\n    {\r\n      icon: (\r\n        <CallSplit\r\n          sx={{\r\n            color: \"#1FBADC\",\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Randomizador\",\r\n      type: \"random\",\r\n    },\r\n    {\r\n      icon: (\r\n        <AccessTime\r\n          sx={{\r\n            color: \"#F7953B\",\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Intervalo\",\r\n      type: \"interval\",\r\n    },\r\n    {\r\n      icon: (\r\n        <ConfirmationNumber\r\n          sx={{\r\n            color: \"#F7953B\",\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Ticket\",\r\n      type: \"ticket\",\r\n    },\r\n    {\r\n      icon: (\r\n        <CompareArrows\r\n        sx={{\r\n          color: \"#F7953B\",\r\n          }}\r\n          />\r\n          ),\r\n          name: \"Trocar_Fluxo\",\r\n          type: \"QueueFlow\",\r\n    },\r\n    {\r\n      icon: (\r\n        <Box\r\n          component=\"img\"\r\n          sx={{\r\n            width: 24,\r\n            height: 24,\r\n            color: \"#3aba38\",\r\n          }}\r\n          src={typebotIcon}\r\n          alt=\"icon\"\r\n        />\r\n      ),\r\n      name: \"TypeBot\",\r\n      type: \"typebot\",\r\n    },\r\n    {\r\n      icon: (\r\n        <SiOpenai\r\n          sx={{\r\n            color: \"#F7953B\",\r\n          }}\r\n        />\r\n      ),\r\n      name: \"OpenAI\",\r\n      type: \"openai\",\r\n    },\r\n  ];\r\n\r\n  const clickActions = (type) => {\r\n    switch (type) {\r\n      case \"start\":\r\n        addNode(\"start\");\r\n        break;\r\n      case \"menu\":\r\n        setModalAddMenu(\"create\");\r\n        break;\r\n      case \"content\":\r\n        setModalAddSingleBlock(\"create\");\r\n        break;\r\n      case \"random\":\r\n        setModalAddRandomizer(\"create\");\r\n        break;\r\n      case \"interval\":\r\n        setModalAddInterval(\"create\");\r\n        break;\r\n      case \"ticket\":\r\n        setModalAddTicket(\"create\");\r\n        break;\r\n      case \"QueueFlow\":\r\n        setModalAddQueueFlow(\"create\");\r\n        break;\r\n      case \"typebot\":\r\n        setModalAddTypebot(\"create\");\r\n        break;\r\n      case \"openai\":\r\n        setModalAddOpenAI(\"create\");\r\n        break;\r\n      default:\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Stack sx={{ height: \"100vh\" }}>\r\n      <FlowBuilderAddTextModal\r\n        open={modalAddText}\r\n        onSave={textAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddText}\r\n      />\r\n      <FlowBuilderIntervalModal\r\n        open={modalAddInterval}\r\n        onSave={intervalAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddInterval}\r\n      />\r\n      <FlowBuilderConditionModal\r\n        open={modalAddCondition}\r\n        onSave={conditionAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddCondition}\r\n      />\r\n      <FlowBuilderMenuModal\r\n        open={modalAddMenu}\r\n        onSave={menuAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddMenu}\r\n      />\r\n      <FlowBuilderAddImgModal\r\n        open={modalAddImg}\r\n        onSave={imgAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddImg}\r\n      />\r\n      <FlowBuilderAddAudioModal\r\n        open={modalAddAudio}\r\n        onSave={audioAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddAudio}\r\n      />\r\n      <FlowBuilderRandomizerModal\r\n        open={modalAddRandomizer}\r\n        onSave={randomizerAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddRandomizer}\r\n      />\r\n      <FlowBuilderAddVideoModal\r\n        open={modalAddVideo}\r\n        onSave={videoAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddVideo}\r\n      />\r\n      <FlowBuilderSingleBlockModal\r\n        open={modalAddSingleBlock}\r\n        onSave={singleBlockAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddSingleBlock}\r\n      />\r\n      <FlowBuilderTicketModal\r\n        open={modalAddTicket}\r\n        onSave={ticketAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddTicket}\r\n      />\r\n        <FlowBuilderAddQueueFlowModal\r\n        open={modalAddQueueFlow}\r\n        onSave={QueueFlowAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddQueueFlow}\r\n      />\r\n\r\n      <FlowBuilderOpenAIModal\r\n        open={modalAddOpenAI}\r\n        onSave={openaiAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddOpenAI}\r\n      />\r\n\r\n      <FlowBuilderTypebotModal\r\n        open={modalAddTypebot}\r\n        onSave={typebotAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddTypebot}\r\n      />\r\n\r\n      <MainHeader>\r\n        <Title>Desenhe seu fluxo</Title>\r\n      </MainHeader>\r\n      {!loading && (\r\n        <Paper\r\n          className={classes.mainPaper}\r\n          variant=\"outlined\"\r\n          onScroll={handleScroll}\r\n        >\r\n          <Stack>\r\n            <SpeedDial\r\n              ariaLabel=\"SpeedDial basic example\"\r\n              sx={{\r\n                position: \"absolute\",\r\n                top: 16,\r\n                left: 16,\r\n                \".MuiSpeedDial-fab\": {\r\n                  backgroundColor: colorPrimary(),\r\n                  \"&:hover\": {\r\n                    backgroundColor: colorPrimary(),\r\n                  },\r\n                },\r\n              }}\r\n              icon={<SpeedDialIcon />}\r\n              direction={\"down\"}\r\n            >\r\n              {actions.map((action) => (\r\n                <SpeedDialAction\r\n                  key={action.name}\r\n                  icon={action.icon}\r\n                  tooltipTitle={action.name}\r\n                  tooltipOpen\r\n                  tooltipPlacement={\"right\"}\r\n                  onClick={() => {\r\n                    clickActions(action.type);\r\n                  }}\r\n                />\r\n              ))}\r\n            </SpeedDial>\r\n          </Stack>\r\n          <Stack\r\n            sx={{\r\n              position: \"absolute\",\r\n              justifyContent: \"center\",\r\n              flexDirection: \"row\",\r\n              width: \"100%\",\r\n            }}\r\n          >\r\n            <Typography\r\n              style={{ color: \"#010101\", textShadow: \"#010101 1px 0 10px\" }}\r\n            >\r\n              Não se esqueça de salvar seu fluxo!\r\n            </Typography>\r\n          </Stack>\r\n          <Stack direction={\"row\"} justifyContent={\"end\"}>\r\n            <Button\r\n              sx={{ textTransform: \"none\" }}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={() => saveFlow()}\r\n            >\r\n              Salvar\r\n            </Button>\r\n          </Stack>\r\n\r\n          <Stack\r\n            direction={\"row\"}\r\n            style={{\r\n              width: \"100%\",\r\n              height: \"90%\",\r\n              position: \"relative\",\r\n              display: \"flex\",\r\n            }}\r\n          >\r\n            <ReactFlow\r\n              nodes={nodes}\r\n              edges={edges}\r\n              deleteKeyCode={[\"Backspace\", \"Delete\"]}\r\n              onNodesChange={onNodesChange}\r\n              onEdgesChange={onEdgesChange}\r\n              onNodeDoubleClick={doubleClick}\r\n              onNodeClick={clickNode}\r\n              onEdgeClick={clickEdge}\r\n              onConnect={onConnect}\r\n              nodeTypes={nodeTypes}\r\n              fitView\r\n              connectionLineStyle={connectionLineStyle}\r\n              style={{\r\n                //backgroundImage: `url(${imgBackground})`,\r\n                //backgroundSize: \"cover\"\r\n                backgroundColor: \"#F8F9FA\",\r\n              }}\r\n              edgeTypes={edgeTypes}\r\n              variant={\"cross\"}\r\n              defaultEdgeOptions={{\r\n                style: { color: \"#ff0000\", strokeWidth: \"6px\" },\r\n                animated: false,\r\n              }}\r\n            >\r\n              <Controls />\r\n              <MiniMap />\r\n              <Background variant=\"dots\" gap={12} size={-1} />\r\n            </ReactFlow>\r\n\r\n            <Stack\r\n              style={{\r\n                backgroundColor: \"#FAFAFA\",\r\n                height: \"20px\",\r\n                width: \"58px\",\r\n                position: \"absolute\",\r\n                bottom: 0,\r\n                right: 0,\r\n                zIndex: 1111,\r\n              }}\r\n            />\r\n          </Stack>\r\n        </Paper>\r\n      )}\r\n      {loading && (\r\n        <Stack justifyContent={\"center\"} alignItems={\"center\"} height={\"70vh\"}>\r\n          <CircularProgress />\r\n        </Stack>\r\n      )}\r\n    </Stack>\r\n  );\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EACVC,QAAQ,CACRC,SAAS,CACTC,UAAU,CACVC,UAAU,CACVC,WAAW,KACN,OAAO,CACd,OAASC,QAAQ,KAAQ,gBAAgB,CACzC,MAAO,CAAAC,WAAW,KAAM,8BAA8B,CAEtD,OAASC,KAAK,KAAQ,gBAAgB,CACtC,OAASC,UAAU,KAAQ,kBAAkB,CAE7C,OAASC,UAAU,KAAQ,0BAA0B,CACrD,MAAO,CAAAC,KAAK,KAAM,yBAAyB,CAC3C,MAAO,CAAAC,MAAM,KAAM,0BAA0B,CAE7C,MAAO,CAAAC,GAAG,KAAM,oBAAoB,CAEpC,MAAO,CAAAC,UAAU,KAAM,6BAA6B,CACpD,MAAO,CAAAC,KAAK,KAAM,wBAAwB,CAC1C,MAAO,CAAAC,wBAAwB,KAAM,2CAA2C,CAChF,MAAO,CAAAC,aAAa,KAAM,gCAAgC,CAC1D,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAChD,OAASC,WAAW,KAAQ,gCAAgC,CAC5D,OACEC,SAAS,CACTC,eAAe,CACfC,aAAa,CACbC,KAAK,CACLC,UAAU,KACL,eAAe,CACtB,OAASC,SAAS,KAAQ,2CAA2C,CACrE,OAASC,GAAG,CAAEC,gBAAgB,KAAQ,mBAAmB,CACzD,MAAO,CAAAC,WAAW,KAAM,wBAAwB,CAEhD,MAAO,0BAA0B,CAEjC,MAAO,CAAAC,SAAS,EACdC,OAAO,CACPC,QAAQ,CACRC,UAAU,CACVC,aAAa,CACbC,aAAa,CACbC,OAAO,CACPC,gBAAgB,CAChBC,YAAY,KACP,qBAAqB,CAC5B,MAAO,CAAAC,uBAAuB,KAAM,0CAA0C,CAC9E,MAAO,CAAAC,wBAAwB,KAAM,2CAA2C,CAChF,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CACjD,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAC/C,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,cAAc,KAAM,wBAAwB,CACnD,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,yBAAyB,KAAM,4CAA4C,CAClF,MAAO,CAAAC,oBAAoB,KAAM,uCAAuC,CACxE,OACEC,UAAU,CACVC,SAAS,CACTC,WAAW,CACXC,KAAK,CACLC,YAAY,CACZC,YAAY,CACZC,OAAO,CACPC,OAAO,CACPC,YAAY,CACZC,QAAQ,KACH,qBAAqB,CAC5B,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAC3C,MAAO,CAAAC,sBAAsB,KAAM,yCAAyC,CAC5E,MAAO,CAAAC,sBAAsB,KAAM,4CAA4C,CAC/E,MAAO,CAAAC,4BAA4B,KAAM,+CAA+C,CACxF,MAAO,CAAAC,wBAAwB,KAAM,2CAA2C,CAEhF,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAC3C,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CAEjD,OAASC,cAAc,KAAQ,6BAA6B,CAC5D,MAAO,CAAAC,0BAA0B,KAAM,6CAA6C,CACpF,MAAO,CAAAC,wBAAwB,KAAM,2CAA2C,CAChF,MAAO,CAAAC,2BAA2B,KAAM,8CAA8C,CACtF,MAAO,CAAAC,eAAe,KAAM,yBAAyB,CACrD,OAASC,YAAY,KAAQ,qBAAqB,CAClD,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAC3C,OAASC,kBAAkB,CAACC,aAAa,KAAQ,oBAAoB,CACrE,MAAO,CAAAC,uBAAuB,KAAM,6CAA6C,CACjF,MAAO,CAAAC,sBAAsB,KAAM,4CAA4C,CAE/E,KAAM,CAAAC,SAAS,CAAGrE,UAAU,CAAEsE,KAAK,GAAM,CACvCC,SAAS,CAAE,CACTC,IAAI,CAAE,CAAC,CACPC,OAAO,CAAEH,KAAK,CAACI,OAAO,CAAC,CAAC,CAAC,CACzBC,QAAQ,CAAE,UAAU,CACpBC,eAAe,CAAE,SAAS,CAC1BC,SAAS,CAAE,QAAQ,CACnB,GAAGP,KAAK,CAACQ,eACX,CAAC,CACDC,SAAS,CAAE,CACTH,eAAe,CAAE,KACnB,CACF,CAAC,CAAC,CAAC,CAEH,QAAS,CAAAI,mBAAmBA,CAACC,OAAO,CAAE,CACpC,GAAI,CAAAC,eAAe,CAAG,EAAE,CACxB,GAAI,CAAAC,UAAU,CACZ,gEAAgE,CAClE,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGH,OAAO,CAAEG,CAAC,EAAE,CAAE,CAChCF,eAAe,EAAIC,UAAU,CAACE,MAAM,CAClCC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAGL,UAAU,CAACM,MAAM,CAC9C,CAAC,CACH,CACA,MAAO,CAAAP,eAAe,CACxB,CAEA,KAAM,CAAAQ,SAAS,CAAG,CAChBC,OAAO,CAAEzE,WAAW,CACpB0E,KAAK,CAAE9D,SAAS,CAChB+D,SAAS,CAAE9D,aAAa,CACxB+D,IAAI,CAAE9D,QAAQ,CACd+D,QAAQ,CAAE9D,YAAY,CACtB+D,GAAG,CAAE9D,OAAO,CACZ+D,KAAK,CAAE3C,SAAS,CAChB4C,UAAU,CAAE/D,cAAc,CAC1BgE,KAAK,CAAE/D,SAAS,CAChBgE,WAAW,CAAEtC,eAAe,CAC5BuC,MAAM,CAAErC,UAAU,CAClBsC,OAAO,CAAE/C,WAAW,CACpBgD,MAAM,CAAE/C,UAAU,CAClBgD,SAAS,CAAE/C,aAEb,CAAC,CAED,KAAM,CAAAgD,SAAS,CAAG,CAChBC,UAAU,CAAEzD,UACd,CAAC,CAED,KAAM,CAAA0D,YAAY,CAAG,CACnB,CACEC,EAAE,CAAE,GAAG,CACPjC,QAAQ,CAAE,CAAEkC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE,GAAI,CAAC,CAC5BC,IAAI,CAAE,CAAEC,KAAK,CAAE,iBAAkB,CAAC,CAClCC,IAAI,CAAE,OACR,CAAC,CACF,CAED,KAAM,CAAAC,YAAY,CAAG,EAAE,CAEvB,MAAO,MAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CACrC,KAAM,CAAAC,OAAO,CAAG/C,SAAS,CAAC,CAAC,CAC3B,KAAM,CAAAgD,OAAO,CAAGtH,UAAU,CAAC,CAAC,CAC5B,KAAM,CAAE6G,EAAG,CAAC,CAAG7F,SAAS,CAAC,CAAC,CAE1B,KAAM,CAAAuG,YAAY,CAAG5D,cAAc,CAAC,CAAC,CAErC,KAAM,CAAE6D,IAAK,CAAC,CAAG7H,UAAU,CAACe,WAAW,CAAC,CAExC,KAAM,CAAC+G,OAAO,CAAEC,UAAU,CAAC,CAAGlI,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACmI,UAAU,CAAEC,aAAa,CAAC,CAAGpI,QAAQ,CAAC,CAAC,CAAC,CAC/C,KAAM,CAACqI,QAAQ,CAAEC,WAAW,CAAC,CAAGtI,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACuI,OAAO,CAAEC,UAAU,CAAC,CAAGxI,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACyI,YAAY,CAAEC,eAAe,CAAC,CAAG1I,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAAC2I,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG5I,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAAC6I,iBAAiB,CAAEC,oBAAoB,CAAC,CAAG9I,QAAQ,CAAC,IAAI,CAAC,CAChE,KAAM,CAAC+I,YAAY,CAAEC,eAAe,CAAC,CAAGhJ,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAACiJ,WAAW,CAAEC,cAAc,CAAC,CAAGlJ,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACmJ,aAAa,CAAEC,gBAAgB,CAAC,CAAGpJ,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAACqJ,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGtJ,QAAQ,CAAC,IAAI,CAAC,CAClE,KAAM,CAACuJ,aAAa,CAAEC,gBAAgB,CAAC,CAAGxJ,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAACyJ,mBAAmB,CAAEC,sBAAsB,CAAC,CAAG1J,QAAQ,CAAC,IAAI,CAAC,CACpE,KAAM,CAAC2J,cAAc,CAAEC,iBAAiB,CAAC,CAAG5J,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAAC6J,iBAAiB,CAAEC,oBAAoB,CAAC,CAAG9J,QAAQ,CAAC,IAAI,CAAC,CAChE,KAAM,CAAC+J,eAAe,CAAEC,kBAAkB,CAAC,CAAGhK,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACiK,cAAc,CAAEC,iBAAiB,CAAC,CAAGlK,QAAQ,CAAC,IAAI,CAAC,CAE1D,KAAM,CAAAmK,mBAAmB,CAAG,CAAEC,MAAM,CAAE,SAAS,CAAEC,WAAW,CAAE,KAAM,CAAC,CAErE,KAAM,CAAAC,OAAO,CAAGA,CAAC5C,IAAI,CAAEF,IAAI,GAAK,CAC9B,KAAM,CAAA+C,IAAI,CAAGC,KAAK,CAACA,KAAK,CAACtE,MAAM,CAAG,CAAC,CAAC,CAACd,QAAQ,CAACmC,CAAC,CAC/C,KAAM,CAAAkD,IAAI,CACRD,KAAK,CAACA,KAAK,CAACtE,MAAM,CAAG,CAAC,CAAC,CAACd,QAAQ,CAACkC,CAAC,CAAGkD,KAAK,CAACA,KAAK,CAACtE,MAAM,CAAG,CAAC,CAAC,CAACwE,KAAK,CAAG,EAAE,CACzE,GAAIhD,IAAI,GAAK,OAAO,CAAE,CACpB,MAAO,CAAAiD,QAAQ,CAAEC,GAAG,EAAK,CACvB,MAAO,CACL,GAAGA,GAAG,CAACC,MAAM,CAAEC,IAAI,EAAKA,IAAI,CAACzD,EAAE,GAAK,GAAG,CAAC,CACxC,CACEA,EAAE,CAAE,GAAG,CACPjC,QAAQ,CAAE,CAAEkC,CAAC,CAAEmD,IAAI,CAAElD,CAAC,CAAEgD,IAAK,CAAC,CAC9B/C,IAAI,CAAE,CAAEC,KAAK,CAAE,iBAAkB,CAAC,CAClCC,IAAI,CAAE,OACR,CAAC,CACF,CACH,CAAC,CAAC,CACJ,CACA,GAAIA,IAAI,GAAK,MAAM,CAAE,CACnB,MAAO,CAAAiD,QAAQ,CAAEC,GAAG,EAAK,CACvB,MAAO,CACL,GAAGA,GAAG,CACN,CACEvD,EAAE,CAAE5B,mBAAmB,CAAC,EAAE,CAAC,CAC3BL,QAAQ,CAAE,CAAEkC,CAAC,CAAEmD,IAAI,CAAElD,CAAC,CAAEgD,IAAK,CAAC,CAC9B/C,IAAI,CAAE,CAAEC,KAAK,CAAED,IAAI,CAACuD,IAAK,CAAC,CAC1BrD,IAAI,CAAE,SACR,CAAC,CACF,CACH,CAAC,CAAC,CACJ,CACA,GAAIA,IAAI,GAAK,UAAU,CAAE,CACvB,MAAO,CAAAiD,QAAQ,CAAEC,GAAG,EAAK,CACvB,MAAO,CACL,GAAGA,GAAG,CACN,CACEvD,EAAE,CAAE5B,mBAAmB,CAAC,EAAE,CAAC,CAC3BL,QAAQ,CAAE,CAAEkC,CAAC,CAAEmD,IAAI,CAAElD,CAAC,CAAEgD,IAAK,CAAC,CAC9B/C,IAAI,CAAE,CAAEC,KAAK,cAAAuD,MAAA,CAAexD,IAAI,CAACyD,GAAG,SAAO,CAAEA,GAAG,CAAEzD,IAAI,CAACyD,GAAI,CAAC,CAC5DvD,IAAI,CAAE,UACR,CAAC,CACF,CACH,CAAC,CAAC,CACJ,CACA,GAAIA,IAAI,GAAK,WAAW,CAAE,CACxB,MAAO,CAAAiD,QAAQ,CAAEC,GAAG,EAAK,CACvB,MAAO,CACL,GAAGA,GAAG,CACN,CACEvD,EAAE,CAAE5B,mBAAmB,CAAC,EAAE,CAAC,CAC3BL,QAAQ,CAAE,CAAEkC,CAAC,CAAEmD,IAAI,CAAElD,CAAC,CAAEgD,IAAK,CAAC,CAC9B/C,IAAI,CAAE,CACJ0D,GAAG,CAAE1D,IAAI,CAAC0D,GAAG,CACb5E,SAAS,CAAEkB,IAAI,CAAClB,SAAS,CACzB6E,KAAK,CAAE3D,IAAI,CAAC2D,KACd,CAAC,CACDzD,IAAI,CAAE,WACR,CAAC,CACF,CACH,CAAC,CAAC,CACJ,CACA,GAAIA,IAAI,GAAK,MAAM,CAAE,CACnB,MAAO,CAAAiD,QAAQ,CAAEC,GAAG,EAAK,CACvB,MAAO,CACL,GAAGA,GAAG,CACN,CACEvD,EAAE,CAAE5B,mBAAmB,CAAC,EAAE,CAAC,CAC3BL,QAAQ,CAAE,CAAEkC,CAAC,CAAEmD,IAAI,CAAElD,CAAC,CAAEgD,IAAK,CAAC,CAC9B/C,IAAI,CAAE,CACJpB,OAAO,CAAEoB,IAAI,CAACpB,OAAO,CACrBgF,WAAW,CAAE5D,IAAI,CAAC4D,WACpB,CAAC,CACD1D,IAAI,CAAE,MACR,CAAC,CACF,CACH,CAAC,CAAC,CACJ,CACA,GAAIA,IAAI,GAAK,KAAK,CAAE,CAClB,MAAO,CAAAiD,QAAQ,CAAEC,GAAG,EAAK,CACvB,MAAO,CACL,GAAGA,GAAG,CACN,CACEvD,EAAE,CAAE5B,mBAAmB,CAAC,EAAE,CAAC,CAC3BL,QAAQ,CAAE,CAAEkC,CAAC,CAAEmD,IAAI,CAAElD,CAAC,CAAEgD,IAAK,CAAC,CAC9B/C,IAAI,CAAE,CAAE6D,GAAG,CAAE7D,IAAI,CAAC6D,GAAI,CAAC,CACvB3D,IAAI,CAAE,KACR,CAAC,CACF,CACH,CAAC,CAAC,CACJ,CACA,GAAIA,IAAI,GAAK,OAAO,CAAE,CACpB,MAAO,CAAAiD,QAAQ,CAAEC,GAAG,EAAK,CACvB,MAAO,CACL,GAAGA,GAAG,CACN,CACEvD,EAAE,CAAE5B,mBAAmB,CAAC,EAAE,CAAC,CAC3BL,QAAQ,CAAE,CAAEkC,CAAC,CAAEmD,IAAI,CAAElD,CAAC,CAAEgD,IAAK,CAAC,CAC9B/C,IAAI,CAAE,CAAE6D,GAAG,CAAE7D,IAAI,CAAC6D,GAAG,CAAEC,MAAM,CAAE9D,IAAI,CAAC8D,MAAO,CAAC,CAC5C5D,IAAI,CAAE,OACR,CAAC,CACF,CACH,CAAC,CAAC,CACJ,CACA,GAAIA,IAAI,GAAK,YAAY,CAAE,CACzB,MAAO,CAAAiD,QAAQ,CAAEC,GAAG,EAAK,CACvB,MAAO,CACL,GAAGA,GAAG,CACN,CACEvD,EAAE,CAAE5B,mBAAmB,CAAC,EAAE,CAAC,CAC3BL,QAAQ,CAAE,CAAEkC,CAAC,CAAEmD,IAAI,CAAElD,CAAC,CAAEgD,IAAK,CAAC,CAC9B/C,IAAI,CAAE,CAAE+D,OAAO,CAAE/D,IAAI,CAAC+D,OAAQ,CAAC,CAC/B7D,IAAI,CAAE,YACR,CAAC,CACF,CACH,CAAC,CAAC,CACJ,CACA,GAAIA,IAAI,GAAK,OAAO,CAAE,CACpB,MAAO,CAAAiD,QAAQ,CAAEC,GAAG,EAAK,CACvB,MAAO,CACL,GAAGA,GAAG,CACN,CACEvD,EAAE,CAAE5B,mBAAmB,CAAC,EAAE,CAAC,CAC3BL,QAAQ,CAAE,CAAEkC,CAAC,CAAEmD,IAAI,CAAElD,CAAC,CAAEgD,IAAK,CAAC,CAC9B/C,IAAI,CAAE,CAAE6D,GAAG,CAAE7D,IAAI,CAAC6D,GAAI,CAAC,CACvB3D,IAAI,CAAE,OACR,CAAC,CACF,CACH,CAAC,CAAC,CACJ,CACA,GAAIA,IAAI,GAAK,aAAa,CAAE,CAC1B,MAAO,CAAAiD,QAAQ,CAAEC,GAAG,EAAK,CACvB,MAAO,CACL,GAAGA,GAAG,CACN,CACEvD,EAAE,CAAE5B,mBAAmB,CAAC,EAAE,CAAC,CAC3BL,QAAQ,CAAE,CAAEkC,CAAC,CAAEmD,IAAI,CAAElD,CAAC,CAAEgD,IAAK,CAAC,CAC9B/C,IAAI,CAAE,CAAE,GAAGA,IAAK,CAAC,CACjBE,IAAI,CAAE,aACR,CAAC,CACF,CACH,CAAC,CAAC,CACJ,CAEA,GAAIA,IAAI,GAAK,QAAQ,CAAE,CACrB,MAAO,CAAAiD,QAAQ,CAAEC,GAAG,EAAK,CACvB,MAAO,CACL,GAAGA,GAAG,CACN,CACEvD,EAAE,CAAE5B,mBAAmB,CAAC,EAAE,CAAC,CAC3BL,QAAQ,CAAE,CAAEkC,CAAC,CAAEmD,IAAI,CAAElD,CAAC,CAAEgD,IAAK,CAAC,CAC9B/C,IAAI,CAAE,CAAE,GAAGA,IAAK,CAAC,CACjBE,IAAI,CAAE,QACR,CAAC,CACF,CACH,CAAC,CAAC,CACJ,CACA,GAAIA,IAAI,GAAK,WAAW,CAAE,CACxB,MAAO,CAAAiD,QAAQ,CAAEC,GAAG,EAAK,CACvB,MAAO,CACL,GAAGA,GAAG,CACN,CACEvD,EAAE,CAAE5B,mBAAmB,CAAC,EAAE,CAAC,CAC3BL,QAAQ,CAAE,CAAEkC,CAAC,CAAEmD,IAAI,CAAElD,CAAC,CAAEgD,IAAK,CAAC,CAC9B/C,IAAI,CAAE,CAAE,GAAGA,IAAK,CAAC,CACjBE,IAAI,CAAE,WACR,CAAC,CACF,CACH,CAAC,CAAC,CACJ,CAEA,GAAIA,IAAI,GAAK,SAAS,CAAE,CACtB,MAAO,CAAAiD,QAAQ,CAAEC,GAAG,EAAK,CACvB,MAAO,CACL,GAAGA,GAAG,CACN,CACEvD,EAAE,CAAE5B,mBAAmB,CAAC,EAAE,CAAC,CAC3BL,QAAQ,CAAE,CAAEkC,CAAC,CAAEmD,IAAI,CAAElD,CAAC,CAAEgD,IAAK,CAAC,CAC9B/C,IAAI,CAAE,CAAE,GAAGA,IAAK,CAAC,CACjBE,IAAI,CAAE,SACR,CAAC,CACF,CACH,CAAC,CAAC,CACJ,CAEA,GAAIA,IAAI,GAAK,QAAQ,CAAE,CACrB,MAAO,CAAAiD,QAAQ,CAAEC,GAAG,EAAK,CACvB,MAAO,CACL,GAAGA,GAAG,CACN,CACEvD,EAAE,CAAE5B,mBAAmB,CAAC,EAAE,CAAC,CAC3BL,QAAQ,CAAE,CAAEkC,CAAC,CAAEmD,IAAI,CAAElD,CAAC,CAAEgD,IAAK,CAAC,CAC9B/C,IAAI,CAAE,CAAE,GAAGA,IAAK,CAAC,CACjBE,IAAI,CAAE,QACR,CAAC,CACF,CACH,CAAC,CAAC,CACJ,CACF,CAAC,CAED,KAAM,CAAA8D,OAAO,CAAIhE,IAAI,EAAK,CACxB8C,OAAO,CAAC,MAAM,CAAE9C,IAAI,CAAC,CACvB,CAAC,CAED,KAAM,CAAAiE,WAAW,CAAIjE,IAAI,EAAK,CAC5B8C,OAAO,CAAC,UAAU,CAAE9C,IAAI,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAkE,YAAY,CAAIlE,IAAI,EAAK,CAC7B8C,OAAO,CAAC,WAAW,CAAE9C,IAAI,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAmE,OAAO,CAAInE,IAAI,EAAK,CACxB8C,OAAO,CAAC,MAAM,CAAE9C,IAAI,CAAC,CACvB,CAAC,CAED,KAAM,CAAAoE,MAAM,CAAIpE,IAAI,EAAK,CACvB8C,OAAO,CAAC,KAAK,CAAE9C,IAAI,CAAC,CACtB,CAAC,CAED,KAAM,CAAAqE,QAAQ,CAAIrE,IAAI,EAAK,CACzB8C,OAAO,CAAC,OAAO,CAAE9C,IAAI,CAAC,CACxB,CAAC,CAED,KAAM,CAAAsE,aAAa,CAAItE,IAAI,EAAK,CAC9B8C,OAAO,CAAC,YAAY,CAAE9C,IAAI,CAAC,CAC7B,CAAC,CAED,KAAM,CAAAuE,QAAQ,CAAIvE,IAAI,EAAK,CACzB8C,OAAO,CAAC,OAAO,CAAE9C,IAAI,CAAC,CACxB,CAAC,CAED,KAAM,CAAAwE,cAAc,CAAIxE,IAAI,EAAK,CAC/B8C,OAAO,CAAC,aAAa,CAAE9C,IAAI,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAyE,SAAS,CAAIzE,IAAI,EAAK,CAC1B8C,OAAO,CAAC,QAAQ,CAAE9C,IAAI,CAAC,CACzB,CAAC,CAED,KAAM,CAAA0E,UAAU,CAAI1E,IAAI,EAAK,CAC3B8C,OAAO,CAAC,SAAS,CAAE9C,IAAI,CAAC,CAC1B,CAAC,CAED,KAAM,CAAA2E,SAAS,CAAI3E,IAAI,EAAK,CAC1B8C,OAAO,CAAC,QAAQ,CAAE9C,IAAI,CAAC,CACzB,CAAC,CACD,KAAM,CAAA4E,YAAY,CAAI5E,IAAI,EAAK,CAC7B8C,OAAO,CAAC,WAAW,CAAE9C,IAAI,CAAC,CAC5B,CAAC,CAEDvH,SAAS,CAAC,IAAM,CACdiI,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAmE,eAAe,CAAGC,UAAU,CAAC,IAAM,CACvC,KAAM,CAAAC,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAE/E,IAAK,CAAC,CAAG,KAAM,CAAA5G,GAAG,CAAC4L,GAAG,sBAAAxB,MAAA,CAAsB3D,EAAE,CAAE,CAAC,CACzD,GAAIG,IAAI,CAACiF,IAAI,CAACA,IAAI,GAAK,IAAI,CAAE,CAC3B9B,QAAQ,CAACnD,IAAI,CAACiF,IAAI,CAACA,IAAI,CAACjC,KAAK,CAAC,CAC9BkC,QAAQ,CAAClF,IAAI,CAACiF,IAAI,CAACA,IAAI,CAACE,WAAW,CAAC,CACtC,CACAzE,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAO0E,GAAG,CAAE,CACZ3L,UAAU,CAAC2L,GAAG,CAAC,CACjB,CACF,CAAC,CACDL,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,GAAG,CAAC,CACP,MAAO,IAAMM,YAAY,CAACR,eAAe,CAAC,CAC5C,CAAC,CAAE,CAAChF,EAAE,CAAC,CAAC,CAERpH,SAAS,CAAC,IAAM,CACd,GAAI8H,YAAY,CAAC+E,MAAM,GAAK,QAAQ,CAAE,CACpCnC,QAAQ,CAAEC,GAAG,EAAKA,GAAG,CAACC,MAAM,CAAEC,IAAI,EAAKA,IAAI,CAACzD,EAAE,GAAKU,YAAY,CAACgF,IAAI,CAAC,CAAC,CACtEL,QAAQ,CAAE9B,GAAG,EAAK,CAChB,KAAM,CAAAoC,OAAO,CAAGpC,GAAG,CAACC,MAAM,CAAEC,IAAI,EAAKA,IAAI,CAACmC,MAAM,GAAKlF,YAAY,CAACgF,IAAI,CAAC,CACvE,KAAM,CAAAG,cAAc,CAAGF,OAAO,CAACnC,MAAM,CAClCC,IAAI,EAAKA,IAAI,CAACqC,MAAM,GAAKpF,YAAY,CAACgF,IACzC,CAAC,CACD,MAAO,CAAAG,cAAc,CACvB,CAAC,CAAC,CACFnF,YAAY,CAACqF,eAAe,CAAC,EAAE,CAAC,CAChCrF,YAAY,CAACsF,MAAM,CAAC,MAAM,CAAC,CAC7B,CACA,GAAItF,YAAY,CAAC+E,MAAM,GAAK,WAAW,CAAE,CACvC,KAAM,CAAAQ,aAAa,CAAG9C,KAAK,CAACK,MAAM,CAC/BC,IAAI,EAAKA,IAAI,CAACzD,EAAE,GAAKU,YAAY,CAACgF,IACrC,CAAC,CAAC,CAAC,CAAC,CACJ,KAAM,CAAAQ,QAAQ,CAAG/C,KAAK,CAACgD,GAAG,CAAET,IAAI,EAAKA,IAAI,CAAC3H,QAAQ,CAACkC,CAAC,CAAC,CACrD,KAAM,CAAAmG,MAAM,CAAG1H,IAAI,CAAC2H,GAAG,CAAC,GAAGH,QAAQ,CAAC,CACpC,KAAM,CAAAI,MAAM,CAAGnD,KAAK,CAACA,KAAK,CAACtE,MAAM,CAAG,CAAC,CAAC,CAACd,QAAQ,CAACmC,CAAC,CACjD,KAAM,CAAAqG,OAAO,CAAG,CACd,GAAGN,aAAa,CAChBjG,EAAE,CAAE5B,mBAAmB,CAAC,EAAE,CAAC,CAC3BL,QAAQ,CAAE,CACRkC,CAAC,CAAEmG,MAAM,CAAG,GAAG,CACflG,CAAC,CAAEoG,MACL,CAAC,CACDE,QAAQ,CAAE,KAAK,CACfC,KAAK,CAAE,CAAEzI,eAAe,CAAE,SAAS,CAAEH,OAAO,CAAE,CAAC,CAAE6I,YAAY,CAAE,CAAE,CACnE,CAAC,CACDpD,QAAQ,CAAEC,GAAG,EAAK,CAAC,GAAGA,GAAG,CAAEgD,OAAO,CAAC,CAAC,CACpC7F,YAAY,CAACqF,eAAe,CAAC,EAAE,CAAC,CAChCrF,YAAY,CAACsF,MAAM,CAAC,MAAM,CAAC,CAC7B,CACF,CAAC,CAAE,CAACtF,YAAY,CAAC+E,MAAM,CAAC,CAAC,CAEzB,KAAM,CAAAkB,QAAQ,CAAGA,CAAA,GAAM,CACrB5F,aAAa,CAAE6F,SAAS,EAAKA,SAAS,CAAG,CAAC,CAAC,CAC7C,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIC,CAAC,EAAK,CAC1B,GAAI,CAAC5F,OAAO,EAAIN,OAAO,CAAE,OACzB,KAAM,CAAEmG,SAAS,CAAEC,YAAY,CAAEC,YAAa,CAAC,CAAGH,CAAC,CAACI,aAAa,CACjE,GAAIF,YAAY,EAAID,SAAS,CAAG,GAAG,CAAC,CAAGE,YAAY,CAAE,CACnDN,QAAQ,CAAC,CAAC,CACZ,CACF,CAAC,CAED,KAAM,CAACxD,KAAK,CAAEG,QAAQ,CAAE6D,aAAa,CAAC,CAAGxM,aAAa,CAACoF,YAAY,CAAC,CACpE,KAAM,CAACqH,KAAK,CAAE/B,QAAQ,CAAEgC,aAAa,CAAC,CAAGzM,aAAa,CAAC0F,YAAY,CAAC,CAEpE,KAAM,CAAAgH,SAAS,CAAGvO,WAAW,CAC1BwO,MAAM,EAAKlC,QAAQ,CAAEmC,GAAG,EAAK3M,OAAO,CAAC0M,MAAM,CAAEC,GAAG,CAAC,CAAC,CACnD,CAACnC,QAAQ,CACX,CAAC,CAED,KAAM,CAAAoC,QAAQ,CAAG,KAAAA,CAAA,GAAY,CAC3B,KAAM,CAAAlO,GAAG,CACNmO,IAAI,CAAC,mBAAmB,CAAE,CACzBC,MAAM,CAAE3H,EAAE,CACVmD,KAAK,CAAEA,KAAK,CACZmC,WAAW,CAAE8B,KACf,CAAC,CAAC,CACDQ,IAAI,CAAEC,GAAG,EAAK,CACb3O,KAAK,CAAC4O,OAAO,CAAC,yBAAyB,CAAC,CAC1C,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGA,CAACC,KAAK,CAAEtC,IAAI,GAAK,CACnCzE,WAAW,CAACyE,IAAI,CAAC,CACjB,GAAIA,IAAI,CAACrF,IAAI,GAAK,SAAS,CAAE,CAC3BgB,eAAe,CAAC,MAAM,CAAC,CACzB,CAAC,IACI,IAAIqE,IAAI,CAACrF,IAAI,GAAK,UAAU,CAAE,CACjCkB,mBAAmB,CAAC,MAAM,CAAC,CAC7B,CAAC,IACI,IAAImE,IAAI,CAACrF,IAAI,GAAK,WAAW,CAAE,CAClCoB,oBAAoB,CAAC,MAAM,CAAC,CAC9B,CAAC,IACI,IAAIiE,IAAI,CAACrF,IAAI,GAAK,MAAM,CAAE,CAC7BsB,eAAe,CAAC,MAAM,CAAC,CACzB,CAAC,IACI,IAAI+D,IAAI,CAACrF,IAAI,GAAK,KAAK,CAAE,CAC5BwB,cAAc,CAAC,MAAM,CAAC,CACxB,CAAC,IACI,IAAI6D,IAAI,CAACrF,IAAI,GAAK,OAAO,CAAE,CAC9B0B,gBAAgB,CAAC,MAAM,CAAC,CAC1B,CAAC,IACI,IAAI2D,IAAI,CAACrF,IAAI,GAAK,YAAY,CAAE,CACnC4B,qBAAqB,CAAC,MAAM,CAAC,CAC/B,CAAC,IACI,IAAIyD,IAAI,CAACrF,IAAI,GAAK,aAAa,CAAE,CACpCgC,sBAAsB,CAAC,MAAM,CAAC,CAChC,CAAC,IACI,IAAIqD,IAAI,CAACrF,IAAI,GAAK,QAAQ,CAAE,CAC/BkC,iBAAiB,CAAC,MAAM,CAAC,CAC3B,CAAC,IACI,IAAGmD,IAAI,CAACrF,IAAI,GAAK,WAAW,CAAC,CAChCoC,oBAAoB,CAAC,MAAM,CAAC,CAC9B,CAAC,IACI,IAAIiD,IAAI,CAACrF,IAAI,GAAK,SAAS,CAAE,CAChCsC,kBAAkB,CAAC,MAAM,CAAC,CAC5B,CAAC,IACI,IAAI+C,IAAI,CAACrF,IAAI,GAAK,QAAQ,CAAE,CAC/BwC,iBAAiB,CAAC,MAAM,CAAC,CAC3B,CACF,CAAC,CAED,KAAM,CAAAoF,SAAS,CAAGA,CAACD,KAAK,CAAEtC,IAAI,GAAK,CACjCpC,QAAQ,CAAEC,GAAG,EACXA,GAAG,CAAC4C,GAAG,CAAE1C,IAAI,EAAK,CAChB,GAAIA,IAAI,CAACzD,EAAE,GAAK0F,IAAI,CAAC1F,EAAE,CAAE,CACvB,MAAO,CACL,GAAGyD,IAAI,CACPgD,KAAK,CAAE,CAAEzI,eAAe,CAAE,SAAS,CAAEH,OAAO,CAAE,CAAC,CAAE6I,YAAY,CAAE,CAAE,CACnE,CAAC,CACH,CACA,MAAO,CACL,GAAGjD,IAAI,CACPgD,KAAK,CAAE,CAAEzI,eAAe,CAAE,SAAS,CAAEH,OAAO,CAAE,CAAC,CAAE6I,YAAY,CAAE,CAAE,CACnE,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CACD,KAAM,CAAAwB,SAAS,CAAGA,CAACF,KAAK,CAAEtC,IAAI,GAAK,CACjCpC,QAAQ,CAAEC,GAAG,EACXA,GAAG,CAAC4C,GAAG,CAAE1C,IAAI,EAAK,CAChB,MAAO,CACL,GAAGA,IAAI,CACPgD,KAAK,CAAE,CAAEzI,eAAe,CAAE,SAAS,CAAEH,OAAO,CAAE,CAAC,CAAE6I,YAAY,CAAE,CAAE,CACnE,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CAED,KAAM,CAAAyB,UAAU,CAAIC,SAAS,EAAK,CAChC9E,QAAQ,CAAEC,GAAG,EACXA,GAAG,CAAC4C,GAAG,CAAEkC,QAAQ,EAAK,CACpB,GAAIA,QAAQ,CAACrI,EAAE,GAAKoI,SAAS,CAACpI,EAAE,CAAE,CAChC,MAAO,CAAAoI,SAAS,CAClB,CACA,MAAO,CAAAC,QAAQ,CACjB,CAAC,CACH,CAAC,CACDhH,eAAe,CAAC,IAAI,CAAC,CACrBE,mBAAmB,CAAC,IAAI,CAAC,CACzBI,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,CAED,KAAM,CAAA2G,OAAO,CAAG,CACd,CACEC,IAAI,cACF7P,KAAA,CAAA8P,aAAA,CAACrM,YAAY,EACXsM,EAAE,CAAE,CACFC,KAAK,CAAE,SACT,CAAE,CACH,CACF,CACDC,IAAI,CAAE,QAAQ,CACdtI,IAAI,CAAE,OACR,CAAC,CACD,CACEkI,IAAI,cACF7P,KAAA,CAAA8P,aAAA,CAACxM,YAAY,EACXyM,EAAE,CAAE,CACFC,KAAK,CAAE,SACT,CAAE,CACH,CACF,CACDC,IAAI,CAAE,UAAU,CAChBtI,IAAI,CAAE,SACR,CAAC,CACD,CACEkI,IAAI,cACF7P,KAAA,CAAA8P,aAAA,CAAC3M,WAAW,EACV4M,EAAE,CAAE,CACFC,KAAK,CAAE,SACT,CAAE,CACH,CACF,CACDC,IAAI,CAAE,MAAM,CACZtI,IAAI,CAAE,MACR,CAAC,CACD,CACEkI,IAAI,cACF7P,KAAA,CAAA8P,aAAA,CAAC5M,SAAS,EACR6M,EAAE,CAAE,CACFC,KAAK,CAAE,SACT,CAAE,CACH,CACF,CACDC,IAAI,CAAE,cAAc,CACpBtI,IAAI,CAAE,QACR,CAAC,CACD,CACEkI,IAAI,cACF7P,KAAA,CAAA8P,aAAA,CAAC7M,UAAU,EACT8M,EAAE,CAAE,CACFC,KAAK,CAAE,SACT,CAAE,CACH,CACF,CACDC,IAAI,CAAE,WAAW,CACjBtI,IAAI,CAAE,UACR,CAAC,CACD,CACEkI,IAAI,cACF7P,KAAA,CAAA8P,aAAA,CAACnL,kBAAkB,EACjBoL,EAAE,CAAE,CACFC,KAAK,CAAE,SACT,CAAE,CACH,CACF,CACDC,IAAI,CAAE,QAAQ,CACdtI,IAAI,CAAE,QACR,CAAC,CACD,CACEkI,IAAI,cACF7P,KAAA,CAAA8P,aAAA,CAAClL,aAAa,EACdmL,EAAE,CAAE,CACFC,KAAK,CAAE,SACP,CAAE,CACD,CACA,CACDC,IAAI,CAAE,cAAc,CACpBtI,IAAI,CAAE,WACZ,CAAC,CACD,CACEkI,IAAI,cACF7P,KAAA,CAAA8P,aAAA,CAACpO,GAAG,EACFwO,SAAS,CAAC,KAAK,CACfH,EAAE,CAAE,CACFpF,KAAK,CAAE,EAAE,CACTwF,MAAM,CAAE,EAAE,CACVH,KAAK,CAAE,SACT,CAAE,CACFI,GAAG,CAAE7P,WAAY,CACjB8P,GAAG,CAAC,MAAM,CACX,CACF,CACDJ,IAAI,CAAE,SAAS,CACftI,IAAI,CAAE,SACR,CAAC,CACD,CACEkI,IAAI,cACF7P,KAAA,CAAA8P,aAAA,CAACxP,QAAQ,EACPyP,EAAE,CAAE,CACFC,KAAK,CAAE,SACT,CAAE,CACH,CACF,CACDC,IAAI,CAAE,QAAQ,CACdtI,IAAI,CAAE,QACR,CAAC,CACF,CAED,KAAM,CAAA2I,YAAY,CAAI3I,IAAI,EAAK,CAC7B,OAAQA,IAAI,EACV,IAAK,OAAO,CACV4C,OAAO,CAAC,OAAO,CAAC,CAChB,MACF,IAAK,MAAM,CACTtB,eAAe,CAAC,QAAQ,CAAC,CACzB,MACF,IAAK,SAAS,CACZU,sBAAsB,CAAC,QAAQ,CAAC,CAChC,MACF,IAAK,QAAQ,CACXJ,qBAAqB,CAAC,QAAQ,CAAC,CAC/B,MACF,IAAK,UAAU,CACbV,mBAAmB,CAAC,QAAQ,CAAC,CAC7B,MACF,IAAK,QAAQ,CACXgB,iBAAiB,CAAC,QAAQ,CAAC,CAC3B,MACF,IAAK,WAAW,CACdE,oBAAoB,CAAC,QAAQ,CAAC,CAC9B,MACF,IAAK,SAAS,CACZE,kBAAkB,CAAC,QAAQ,CAAC,CAC5B,MACF,IAAK,QAAQ,CACXE,iBAAiB,CAAC,QAAQ,CAAC,CAC3B,MACF,QACF,CACF,CAAC,CAED,mBACEnK,KAAA,CAAA8P,aAAA,CAACvO,KAAK,EAACwO,EAAE,CAAE,CAAEI,MAAM,CAAE,OAAQ,CAAE,eAC7BnQ,KAAA,CAAA8P,aAAA,CAACxN,uBAAuB,EACtBiO,IAAI,CAAE7H,YAAa,CACnB8H,MAAM,CAAE/E,OAAQ,CAChBhE,IAAI,CAAEa,QAAS,CACfmI,QAAQ,CAAEhB,UAAW,CACrBiB,KAAK,CAAE/H,eAAgB,CACxB,CAAC,cACF3I,KAAA,CAAA8P,aAAA,CAACvN,wBAAwB,EACvBgO,IAAI,CAAE3H,gBAAiB,CACvB4H,MAAM,CAAE9E,WAAY,CACpBjE,IAAI,CAAEa,QAAS,CACfmI,QAAQ,CAAEhB,UAAW,CACrBiB,KAAK,CAAE7H,mBAAoB,CAC5B,CAAC,cACF7I,KAAA,CAAA8P,aAAA,CAAC/M,yBAAyB,EACxBwN,IAAI,CAAEzH,iBAAkB,CACxB0H,MAAM,CAAE7E,YAAa,CACrBlE,IAAI,CAAEa,QAAS,CACfmI,QAAQ,CAAEhB,UAAW,CACrBiB,KAAK,CAAE3H,oBAAqB,CAC7B,CAAC,cACF/I,KAAA,CAAA8P,aAAA,CAAC9M,oBAAoB,EACnBuN,IAAI,CAAEvH,YAAa,CACnBwH,MAAM,CAAE5E,OAAQ,CAChBnE,IAAI,CAAEa,QAAS,CACfmI,QAAQ,CAAEhB,UAAW,CACrBiB,KAAK,CAAEzH,eAAgB,CACxB,CAAC,cACFjJ,KAAA,CAAA8P,aAAA,CAAClM,sBAAsB,EACrB2M,IAAI,CAAErH,WAAY,CAClBsH,MAAM,CAAE3E,MAAO,CACfpE,IAAI,CAAEa,QAAS,CACfmI,QAAQ,CAAEhB,UAAW,CACrBiB,KAAK,CAAEvH,cAAe,CACvB,CAAC,cACFnJ,KAAA,CAAA8P,aAAA,CAAC/L,wBAAwB,EACvBwM,IAAI,CAAEnH,aAAc,CACpBoH,MAAM,CAAE1E,QAAS,CACjBrE,IAAI,CAAEa,QAAS,CACfmI,QAAQ,CAAEhB,UAAW,CACrBiB,KAAK,CAAErH,gBAAiB,CACzB,CAAC,cACFrJ,KAAA,CAAA8P,aAAA,CAACzL,0BAA0B,EACzBkM,IAAI,CAAEjH,kBAAmB,CACzBkH,MAAM,CAAEzE,aAAc,CACtBtE,IAAI,CAAEa,QAAS,CACfmI,QAAQ,CAAEhB,UAAW,CACrBiB,KAAK,CAAEnH,qBAAsB,CAC9B,CAAC,cACFvJ,KAAA,CAAA8P,aAAA,CAACxL,wBAAwB,EACvBiM,IAAI,CAAE/G,aAAc,CACpBgH,MAAM,CAAExE,QAAS,CACjBvE,IAAI,CAAEa,QAAS,CACfmI,QAAQ,CAAEhB,UAAW,CACrBiB,KAAK,CAAEjH,gBAAiB,CACzB,CAAC,cACFzJ,KAAA,CAAA8P,aAAA,CAACvL,2BAA2B,EAC1BgM,IAAI,CAAE7G,mBAAoB,CAC1B8G,MAAM,CAAEvE,cAAe,CACvBxE,IAAI,CAAEa,QAAS,CACfmI,QAAQ,CAAEhB,UAAW,CACrBiB,KAAK,CAAE/G,sBAAuB,CAC/B,CAAC,cACF3J,KAAA,CAAA8P,aAAA,CAACjM,sBAAsB,EACrB0M,IAAI,CAAE3G,cAAe,CACrB4G,MAAM,CAAEtE,SAAU,CAClBzE,IAAI,CAAEa,QAAS,CACfmI,QAAQ,CAAEhB,UAAW,CACrBiB,KAAK,CAAE7G,iBAAkB,CAC1B,CAAC,cACA7J,KAAA,CAAA8P,aAAA,CAAChM,4BAA4B,EAC7ByM,IAAI,CAAEzG,iBAAkB,CACxB0G,MAAM,CAAEnE,YAAa,CACrB5E,IAAI,CAAEa,QAAS,CACfmI,QAAQ,CAAEhB,UAAW,CACrBiB,KAAK,CAAE3G,oBAAqB,CAC7B,CAAC,cAEF/J,KAAA,CAAA8P,aAAA,CAAChL,sBAAsB,EACrByL,IAAI,CAAErG,cAAe,CACrBsG,MAAM,CAAEpE,SAAU,CAClB3E,IAAI,CAAEa,QAAS,CACfmI,QAAQ,CAAEhB,UAAW,CACrBiB,KAAK,CAAEvG,iBAAkB,CAC1B,CAAC,cAEFnK,KAAA,CAAA8P,aAAA,CAACjL,uBAAuB,EACtB0L,IAAI,CAAEvG,eAAgB,CACtBwG,MAAM,CAAErE,UAAW,CACnB1E,IAAI,CAAEa,QAAS,CACfmI,QAAQ,CAAEhB,UAAW,CACrBiB,KAAK,CAAEzG,kBAAmB,CAC3B,CAAC,cAEFjK,KAAA,CAAA8P,aAAA,CAAChP,UAAU,mBACTd,KAAA,CAAA8P,aAAA,CAAC/O,KAAK,MAAC,mBAAwB,CACrB,CAAC,CACZ,CAACmH,OAAO,eACPlI,KAAA,CAAA8P,aAAA,CAACnP,KAAK,EACJgQ,SAAS,CAAE7I,OAAO,CAAC7C,SAAU,CAC7B2L,OAAO,CAAC,UAAU,CAClBC,QAAQ,CAAE1C,YAAa,eAEvBnO,KAAA,CAAA8P,aAAA,CAACvO,KAAK,mBACJvB,KAAA,CAAA8P,aAAA,CAAC1O,SAAS,EACR0P,SAAS,CAAC,yBAAyB,CACnCf,EAAE,CAAE,CACF1K,QAAQ,CAAE,UAAU,CACpB0L,GAAG,CAAE,EAAE,CACPC,IAAI,CAAE,EAAE,CACR,mBAAmB,CAAE,CACnB1L,eAAe,CAAEb,YAAY,CAAC,CAAC,CAC/B,SAAS,CAAE,CACTa,eAAe,CAAEb,YAAY,CAAC,CAChC,CACF,CACF,CAAE,CACFoL,IAAI,cAAE7P,KAAA,CAAA8P,aAAA,CAACxO,aAAa,KAAE,CAAE,CACxB2P,SAAS,CAAE,MAAO,EAEjBrB,OAAO,CAACnC,GAAG,CAAEV,MAAM,eAClB/M,KAAA,CAAA8P,aAAA,CAACzO,eAAe,EACd8J,GAAG,CAAE4B,MAAM,CAACkD,IAAK,CACjBJ,IAAI,CAAE9C,MAAM,CAAC8C,IAAK,CAClBqB,YAAY,CAAEnE,MAAM,CAACkD,IAAK,CAC1BkB,WAAW,MACXC,gBAAgB,CAAE,OAAQ,CAC1BC,OAAO,CAAEA,CAAA,GAAM,CACbf,YAAY,CAACvD,MAAM,CAACpF,IAAI,CAAC,CAC3B,CAAE,CACH,CACF,CACQ,CACN,CAAC,cACR3H,KAAA,CAAA8P,aAAA,CAACvO,KAAK,EACJwO,EAAE,CAAE,CACF1K,QAAQ,CAAE,UAAU,CACpBiM,cAAc,CAAE,QAAQ,CACxBC,aAAa,CAAE,KAAK,CACpB5G,KAAK,CAAE,MACT,CAAE,eAEF3K,KAAA,CAAA8P,aAAA,CAACtO,UAAU,EACTuM,KAAK,CAAE,CAAEiC,KAAK,CAAE,SAAS,CAAEwB,UAAU,CAAE,oBAAqB,CAAE,EAC/D,2CAEW,CACP,CAAC,cACRxR,KAAA,CAAA8P,aAAA,CAACvO,KAAK,EAAC0P,SAAS,CAAE,KAAM,CAACK,cAAc,CAAE,KAAM,eAC7CtR,KAAA,CAAA8P,aAAA,CAAClP,MAAM,EACLmP,EAAE,CAAE,CAAE0B,aAAa,CAAE,MAAO,CAAE,CAC9Bb,OAAO,CAAC,WAAW,CACnBZ,KAAK,CAAC,SAAS,CACfqB,OAAO,CAAEA,CAAA,GAAMtC,QAAQ,CAAC,CAAE,EAC3B,QAEO,CACH,CAAC,cAER/O,KAAA,CAAA8P,aAAA,CAACvO,KAAK,EACJ0P,SAAS,CAAE,KAAM,CACjBlD,KAAK,CAAE,CACLpD,KAAK,CAAE,MAAM,CACbwF,MAAM,CAAE,KAAK,CACb9K,QAAQ,CAAE,UAAU,CACpBqM,OAAO,CAAE,MACX,CAAE,eAEF1R,KAAA,CAAA8P,aAAA,CAACjO,SAAS,EACR4I,KAAK,CAAEA,KAAM,CACbiE,KAAK,CAAEA,KAAM,CACbiD,aAAa,CAAE,CAAC,WAAW,CAAE,QAAQ,CAAE,CACvClD,aAAa,CAAEA,aAAc,CAC7BE,aAAa,CAAEA,aAAc,CAC7BiD,iBAAiB,CAAEvC,WAAY,CAC/BwC,WAAW,CAAEtC,SAAU,CACvBuC,WAAW,CAAEtC,SAAU,CACvBZ,SAAS,CAAEA,SAAU,CACrBxI,SAAS,CAAEA,SAAU,CACrB2L,OAAO,MACP3H,mBAAmB,CAAEA,mBAAoB,CACzC2D,KAAK,CAAE,CACL;AACA;AACAzI,eAAe,CAAE,SACnB,CAAE,CACF6B,SAAS,CAAEA,SAAU,CACrByJ,OAAO,CAAE,OAAQ,CACjBoB,kBAAkB,CAAE,CAClBjE,KAAK,CAAE,CAAEiC,KAAK,CAAE,SAAS,CAAE1F,WAAW,CAAE,KAAM,CAAC,CAC/C2H,QAAQ,CAAE,KACZ,CAAE,eAEFjS,KAAA,CAAA8P,aAAA,CAAC/N,QAAQ,KAAE,CAAC,cACZ/B,KAAA,CAAA8P,aAAA,CAAChO,OAAO,KAAE,CAAC,cACX9B,KAAA,CAAA8P,aAAA,CAAC9N,UAAU,EAAC4O,OAAO,CAAC,MAAM,CAACsB,GAAG,CAAE,EAAG,CAACC,IAAI,CAAE,CAAC,CAAE,CAAE,CACtC,CAAC,cAEZnS,KAAA,CAAA8P,aAAA,CAACvO,KAAK,EACJwM,KAAK,CAAE,CACLzI,eAAe,CAAE,SAAS,CAC1B6K,MAAM,CAAE,MAAM,CACdxF,KAAK,CAAE,MAAM,CACbtF,QAAQ,CAAE,UAAU,CACpB+M,MAAM,CAAE,CAAC,CACTC,KAAK,CAAE,CAAC,CACRC,MAAM,CAAE,IACV,CAAE,CACH,CACI,CACF,CACR,CACApK,OAAO,eACNlI,KAAA,CAAA8P,aAAA,CAACvO,KAAK,EAAC+P,cAAc,CAAE,QAAS,CAACiB,UAAU,CAAE,QAAS,CAACpC,MAAM,CAAE,MAAO,eACpEnQ,KAAA,CAAA8P,aAAA,CAACnO,gBAAgB,KAAE,CACd,CAEJ,CAAC,CAEZ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}