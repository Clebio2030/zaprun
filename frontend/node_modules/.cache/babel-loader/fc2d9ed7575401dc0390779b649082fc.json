{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import InputLabel from\"@material-ui/core/InputLabel\";import MenuItem from\"@material-ui/core/MenuItem\";import FormControl from\"@material-ui/core/FormControl\";import Select from\"@material-ui/core/Select\";import Chip from\"@material-ui/core/Chip\";import toastError from\"../../errors/toastError\";import api from\"../../services/api\";import{i18n}from\"../../translate/i18n\";const useStyles=makeStyles(theme=>({chips:{display:\"flex\",flexWrap:\"wrap\"},chip:{margin:2}}));const QueueSelectCustom=_ref=>{let{selectedQueueIds,onChange}=_ref;const classes=useStyles();const[queues,setQueues]=useState([]);useEffect(()=>{(async()=>{try{const{data}=await api.get(\"/queue\");setQueues(data);}catch(err){toastError(err);}})();},[]);const handleChange=e=>{onChange(e.target.value);};return/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:6}},/*#__PURE__*/React.createElement(FormControl,{fullWidth:true,margin:\"dense\",variant:\"outlined\"},/*#__PURE__*/React.createElement(InputLabel,null,i18n.t(\"queueSelect.inputLabel\")),/*#__PURE__*/React.createElement(Select,{multiple:true,labelWidth:60,value:selectedQueueIds,onChange:handleChange,MenuProps:{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null},renderValue:selected=>/*#__PURE__*/React.createElement(\"div\",{className:classes.chips},(selected===null||selected===void 0?void 0:selected.length)>0&&selected.map(id=>{if(id===\"0\"){return/*#__PURE__*/React.createElement(Chip,{key:id,size:\"small\",label:i18n.t(\"queueSelect.withoutQueue\"),className:classes.chip});}const queue=queues.find(q=>q.id===id);return queue?/*#__PURE__*/React.createElement(Chip,{key:id,style:{backgroundColor:queue.color},variant:\"outlined\",label:queue.name,className:classes.chip}):null;}))},/*#__PURE__*/React.createElement(MenuItem,{value:\"0\"},i18n.t(\"queueSelect.withoutQueue\")),queues.map(queue=>/*#__PURE__*/React.createElement(MenuItem,{key:queue.id,value:queue.id},queue.name)))));};export default QueueSelectCustom;","map":{"version":3,"names":["React","useEffect","useState","makeStyles","InputLabel","MenuItem","FormControl","Select","Chip","toastError","api","i18n","useStyles","theme","chips","display","flexWrap","chip","margin","QueueSelectCustom","_ref","selectedQueueIds","onChange","classes","queues","setQueues","data","get","err","handleChange","e","target","value","createElement","style","marginTop","fullWidth","variant","t","multiple","labelWidth","MenuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","renderValue","selected","className","length","map","id","key","size","label","queue","find","q","backgroundColor","color","name"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/components/QueueSelectCustom/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tchips: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\tchip: {\r\n\t\tmargin: 2,\r\n\t},\r\n})); \r\n\r\nconst QueueSelectCustom = ({ selectedQueueIds, onChange }) => {\r\n\tconst classes = useStyles();\r\n\tconst [queues, setQueues] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(\"/queue\");\r\n\t\t\t\tsetQueues(data);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t})();\r\n\t}, []);\r\n\r\n\tconst handleChange = e => {\r\n\t\tonChange(e.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div style={{ marginTop: 6 }}>\r\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tmultiple\r\n\t\t\t\t\tlabelWidth={60}\r\n\t\t\t\t\tvalue={selectedQueueIds}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tMenuProps={{\r\n\t\t\t\t\t\tanchorOrigin: {\r\n\t\t\t\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttransformOrigin: {\r\n\t\t\t\t\t\t\tvertical: \"top\",\r\n\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tgetContentAnchorEl: null,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trenderValue={selected => (\r\n\t\t\t\t\t\t<div className={classes.chips}>\r\n\t\t\t\t\t\t\t{selected?.length > 0 &&\r\n\t\t\t\t\t\t\t\tselected.map(id => {\r\n\t\t\t\t\t\t\t\t\tif (id === \"0\") {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueSelect.withoutQueue\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\r\n\t\t\t\t\t\t\t\t\treturn queue ? (\r\n\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : null;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<MenuItem value=\"0\">\r\n\t\t\t\t\t\t{i18n.t(\"queueSelect.withoutQueue\")}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t{queues.map(queue => (\r\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\r\n\t\t\t\t\t\t\t{queue.name}\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Select>\r\n\t\t\t</FormControl>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default QueueSelectCustom;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}