{"ast":null,"code":"import React,{useState,useEffect,useReducer,useContext,useCallback}from\"react\";import{toast}from\"react-toastify\";import{makeStyles}from\"@material-ui/core/styles\";import Paper from\"@material-ui/core/Paper\";import Button from\"@material-ui/core/Button\";import Table from\"@material-ui/core/Table\";import TableBody from\"@material-ui/core/TableBody\";import TableCell from\"@material-ui/core/TableCell\";import TableHead from\"@material-ui/core/TableHead\";import TableRow from\"@material-ui/core/TableRow\";import IconButton from\"@material-ui/core/IconButton\";import SearchIcon from\"@material-ui/icons/Search\";import TextField from\"@material-ui/core/TextField\";import InputAdornment from\"@material-ui/core/InputAdornment\";import CheckCircleIcon from'@material-ui/icons/CheckCircle';import DeleteOutlineIcon from\"@material-ui/icons/DeleteOutline\";import EditIcon from\"@material-ui/icons/Edit\";import MainContainer from\"../../components/MainContainer\";import MainHeader from\"../../components/MainHeader\";import Title from\"../../components/Title\";import api from\"../../services/api\";import{i18n}from\"../../translate/i18n\";import TableRowSkeleton from\"../../components/TableRowSkeleton\";import QuickMessageDialog from\"../../components/QuickMessageDialog\";import ConfirmationModal from\"../../components/ConfirmationModal\";import toastError from\"../../errors/toastError\";import{Grid}from\"@material-ui/core\";import{isArray}from\"lodash\";// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport{AuthContext}from\"../../context/Auth/AuthContext\";const reducer=(state,action)=>{if(action.type===\"LOAD_QUICKMESSAGES\"){const quickmessages=action.payload;const newQuickmessages=[];if(isArray(quickmessages)){quickmessages.forEach(quickemessage=>{const quickemessageIndex=state.findIndex(u=>u.id===quickemessage.id);if(quickemessageIndex!==-1){state[quickemessageIndex]=quickemessage;}else{newQuickmessages.push(quickemessage);}});}return[...state,...newQuickmessages];}if(action.type===\"UPDATE_QUICKMESSAGES\"){const quickemessage=action.payload;const quickemessageIndex=state.findIndex(u=>u.id===quickemessage.id);if(quickemessageIndex!==-1){state[quickemessageIndex]=quickemessage;return[...state];}else{return[quickemessage,...state];}}if(action.type===\"DELETE_QUICKMESSAGE\"){const quickemessageId=action.payload;const quickemessageIndex=state.findIndex(u=>u.id===quickemessageId);if(quickemessageIndex!==-1){state.splice(quickemessageIndex,1);}return[...state];}if(action.type===\"RESET\"){return[];}};const useStyles=makeStyles(theme=>({mainPaper:{flex:1,padding:theme.spacing(1),overflowY:\"scroll\",...theme.scrollbarStyles}}));const Quickemessages=()=>{const classes=useStyles();const[loading,setLoading]=useState(false);const[pageNumber,setPageNumber]=useState(1);const[hasMore,setHasMore]=useState(false);const[selectedQuickemessage,setSelectedQuickemessage]=useState(null);const[deletingQuickemessage,setDeletingQuickemessage]=useState(null);const[quickemessageModalOpen,setQuickMessageDialogOpen]=useState(false);const[confirmModalOpen,setConfirmModalOpen]=useState(false);const[searchParam,setSearchParam]=useState(\"\");const[quickemessages,dispatch]=useReducer(reducer,[]);//   const socketManager = useContext(SocketContext);\nconst{user,socket}=useContext(AuthContext);const{profile}=user;useEffect(()=>{dispatch({type:\"RESET\"});setPageNumber(1);},[searchParam]);useEffect(()=>{setLoading(true);const delayDebounceFn=setTimeout(()=>{fetchQuickemessages();},500);return()=>clearTimeout(delayDebounceFn);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[searchParam,pageNumber]);useEffect(()=>{const companyId=user.companyId;// const socket = socketManager.GetSocket();\nconst onQuickMessageEvent=data=>{if(data.action===\"update\"||data.action===\"create\"){dispatch({type:\"UPDATE_QUICKMESSAGES\",payload:data.record});}if(data.action===\"delete\"){dispatch({type:\"DELETE_QUICKMESSAGE\",payload:+data.id});}};socket.on(\"company-\".concat(companyId,\"-quickemessage\"),onQuickMessageEvent);return()=>{socket.off(\"company-\".concat(companyId,\"-quickemessage\"),onQuickMessageEvent);};},[socket]);const fetchQuickemessages=async()=>{try{const companyId=user.companyId;//const searchParam = ({ companyId, userId: user.id });\nconst{data}=await api.get(\"/quick-messages\",{params:{searchParam,pageNumber}});dispatch({type:\"LOAD_QUICKMESSAGES\",payload:data.records});setHasMore(data.hasMore);setLoading(false);}catch(err){toastError(err);}};const handleOpenQuickMessageDialog=()=>{setSelectedQuickemessage(null);setQuickMessageDialogOpen(true);};const handleCloseQuickMessageDialog=()=>{setSelectedQuickemessage(null);setQuickMessageDialogOpen(false);//window.location.reload();\nfetchQuickemessages();};const handleSearch=event=>{setSearchParam(event.target.value.toLowerCase());};const handleEditQuickemessage=quickemessage=>{setSelectedQuickemessage(quickemessage);setQuickMessageDialogOpen(true);};const handleDeleteQuickemessage=async quickemessageId=>{try{await api.delete(\"/quick-messages/\".concat(quickemessageId));toast.success(i18n.t(\"quickemessages.toasts.deleted\"));}catch(err){toastError(err);}setDeletingQuickemessage(null);setSearchParam(\"\");setPageNumber(1);fetchQuickemessages();dispatch({type:\"RESET\"});};const loadMore=()=>{setPageNumber(prevState=>prevState+1);};const handleScroll=e=>{if(!hasMore||loading)return;const{scrollTop,scrollHeight,clientHeight}=e.currentTarget;if(scrollHeight-(scrollTop+100)<clientHeight){loadMore();}};return/*#__PURE__*/React.createElement(MainContainer,null,/*#__PURE__*/React.createElement(ConfirmationModal,{title:deletingQuickemessage&&\"\".concat(i18n.t(\"quickMessages.confirmationModal.deleteTitle\"),\" \").concat(deletingQuickemessage.shortcode,\"?\"),open:confirmModalOpen,onClose:setConfirmModalOpen,onConfirm:()=>handleDeleteQuickemessage(deletingQuickemessage.id)},i18n.t(\"quickMessages.confirmationModal.deleteMessage\")),/*#__PURE__*/React.createElement(QuickMessageDialog,{resetPagination:()=>{setPageNumber(1);fetchQuickemessages();},open:quickemessageModalOpen,onClose:handleCloseQuickMessageDialog,\"aria-labelledby\":\"form-dialog-title\",quickemessageId:selectedQuickemessage&&selectedQuickemessage.id}),/*#__PURE__*/React.createElement(MainHeader,null,/*#__PURE__*/React.createElement(Grid,{style:{width:\"99.6%\"},container:true},/*#__PURE__*/React.createElement(Grid,{xs:12,sm:8,item:true},/*#__PURE__*/React.createElement(Title,null,i18n.t(\"quickMessages.title\"))),/*#__PURE__*/React.createElement(Grid,{xs:12,sm:4,item:true},/*#__PURE__*/React.createElement(Grid,{spacing:2,container:true},/*#__PURE__*/React.createElement(Grid,{xs:6,sm:6,item:true},/*#__PURE__*/React.createElement(TextField,{fullWidth:true,placeholder:i18n.t(\"quickMessages.searchPlaceholder\"),type:\"search\",value:searchParam,onChange:handleSearch,InputProps:{startAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"start\"},/*#__PURE__*/React.createElement(SearchIcon,{style:{color:\"gray\"}}))}})),/*#__PURE__*/React.createElement(Grid,{xs:6,sm:6,item:true},/*#__PURE__*/React.createElement(Button,{fullWidth:true,variant:\"contained\",onClick:handleOpenQuickMessageDialog,color:\"primary\"},i18n.t(\"quickMessages.buttons.add\"))))))),/*#__PURE__*/React.createElement(Paper,{className:classes.mainPaper,variant:\"outlined\",onScroll:handleScroll},/*#__PURE__*/React.createElement(Table,{size:\"small\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"quickMessages.table.shortcode\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"quickMessages.table.mediaName\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"quickMessages.table.status\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"quickMessages.table.actions\")))),/*#__PURE__*/React.createElement(TableBody,null,/*#__PURE__*/React.createElement(React.Fragment,null,quickemessages.map(quickemessage=>{var _quickemessage$mediaN;return/*#__PURE__*/React.createElement(TableRow,{key:quickemessage.id},/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},quickemessage.shortcode),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},(_quickemessage$mediaN=quickemessage.mediaName)!==null&&_quickemessage$mediaN!==void 0?_quickemessage$mediaN:i18n.t(\"quickMessages.noAttachment\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},quickemessage.geral===true?/*#__PURE__*/React.createElement(CheckCircleIcon,{style:{color:'green'}}):''),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},/*#__PURE__*/React.createElement(IconButton,{size:\"small\",onClick:()=>handleEditQuickemessage(quickemessage)},/*#__PURE__*/React.createElement(EditIcon,null)),/*#__PURE__*/React.createElement(IconButton,{size:\"small\",onClick:e=>{setConfirmModalOpen(true);setDeletingQuickemessage(quickemessage);}},/*#__PURE__*/React.createElement(DeleteOutlineIcon,null))));}),loading&&/*#__PURE__*/React.createElement(TableRowSkeleton,{columns:5}))))));};export default Quickemessages;","map":{"version":3,"names":["React","useState","useEffect","useReducer","useContext","useCallback","toast","makeStyles","Paper","Button","Table","TableBody","TableCell","TableHead","TableRow","IconButton","SearchIcon","TextField","InputAdornment","CheckCircleIcon","DeleteOutlineIcon","EditIcon","MainContainer","MainHeader","Title","api","i18n","TableRowSkeleton","QuickMessageDialog","ConfirmationModal","toastError","Grid","isArray","AuthContext","reducer","state","action","type","quickmessages","payload","newQuickmessages","forEach","quickemessage","quickemessageIndex","findIndex","u","id","push","quickemessageId","splice","useStyles","theme","mainPaper","flex","padding","spacing","overflowY","scrollbarStyles","Quickemessages","classes","loading","setLoading","pageNumber","setPageNumber","hasMore","setHasMore","selectedQuickemessage","setSelectedQuickemessage","deletingQuickemessage","setDeletingQuickemessage","quickemessageModalOpen","setQuickMessageDialogOpen","confirmModalOpen","setConfirmModalOpen","searchParam","setSearchParam","quickemessages","dispatch","user","socket","profile","delayDebounceFn","setTimeout","fetchQuickemessages","clearTimeout","companyId","onQuickMessageEvent","data","record","on","concat","off","get","params","records","err","handleOpenQuickMessageDialog","handleCloseQuickMessageDialog","handleSearch","event","target","value","toLowerCase","handleEditQuickemessage","handleDeleteQuickemessage","delete","success","t","loadMore","prevState","handleScroll","e","scrollTop","scrollHeight","clientHeight","currentTarget","createElement","title","shortcode","open","onClose","onConfirm","resetPagination","style","width","container","xs","sm","item","fullWidth","placeholder","onChange","InputProps","startAdornment","position","color","variant","onClick","className","onScroll","size","align","Fragment","map","_quickemessage$mediaN","key","mediaName","geral","columns"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/pages/QuickMessages/index.js"],"sourcesContent":["import React, { useState, useEffect, useReducer, useContext, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport QuickMessageDialog from \"../../components/QuickMessageDialog\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUICKMESSAGES\") {\n    const quickmessages = action.payload;\n    const newQuickmessages = [];\n\n    if (isArray(quickmessages)) {\n      quickmessages.forEach((quickemessage) => {\n        const quickemessageIndex = state.findIndex(\n          (u) => u.id === quickemessage.id\n        );\n        if (quickemessageIndex !== -1) {\n          state[quickemessageIndex] = quickemessage;\n        } else {\n          newQuickmessages.push(quickemessage);\n        }\n      });\n    }\n\n    return [...state, ...newQuickmessages];\n  }\n\n  if (action.type === \"UPDATE_QUICKMESSAGES\") {\n    const quickemessage = action.payload;\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessage.id);\n\n    if (quickemessageIndex !== -1) {\n      state[quickemessageIndex] = quickemessage;\n      return [...state];\n    } else {\n      return [quickemessage, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUICKMESSAGE\") {\n    const quickemessageId = action.payload;\n\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessageId);\n    if (quickemessageIndex !== -1) {\n      state.splice(quickemessageIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Quickemessages = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedQuickemessage, setSelectedQuickemessage] = useState(null);\n  const [deletingQuickemessage, setDeletingQuickemessage] = useState(null);\n  const [quickemessageModalOpen, setQuickMessageDialogOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [quickemessages, dispatch] = useReducer(reducer, []);\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n  const { profile } = user;\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchQuickemessages();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    // const socket = socketManager.GetSocket();\n\n    const onQuickMessageEvent = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUICKMESSAGES\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUICKMESSAGE\", payload: +data.id });\n      }\n    };\n    socket.on(`company-${companyId}-quickemessage`, onQuickMessageEvent);\n\n    return () => {\n      socket.off(`company-${companyId}-quickemessage`, onQuickMessageEvent);\n    };\n  }, [socket]);\n\n  const fetchQuickemessages = async () => {\n    try {\n      const companyId = user.companyId;\n      //const searchParam = ({ companyId, userId: user.id });\n      const { data } = await api.get(\"/quick-messages\", {\n        params: { searchParam, pageNumber },\n      });\n\n      dispatch({ type: \"LOAD_QUICKMESSAGES\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenQuickMessageDialog = () => {\n    setSelectedQuickemessage(null);\n    setQuickMessageDialogOpen(true);\n  };\n\n  const handleCloseQuickMessageDialog = () => {\n    setSelectedQuickemessage(null);\n    setQuickMessageDialogOpen(false);\n    //window.location.reload();\n    fetchQuickemessages();\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditQuickemessage = (quickemessage) => {\n    setSelectedQuickemessage(quickemessage);\n    setQuickMessageDialogOpen(true);\n  };\n\n  const handleDeleteQuickemessage = async (quickemessageId) => {\n    try {\n      await api.delete(`/quick-messages/${quickemessageId}`);\n      toast.success(i18n.t(\"quickemessages.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingQuickemessage(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n    fetchQuickemessages();\n    dispatch({ type: \"RESET\" });\n\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={deletingQuickemessage && `${i18n.t(\"quickMessages.confirmationModal.deleteTitle\")} ${deletingQuickemessage.shortcode}?`}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteQuickemessage(deletingQuickemessage.id)}\n      >\n        {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QuickMessageDialog\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchQuickemessages();\n        }}\n        open={quickemessageModalOpen}\n        onClose={handleCloseQuickMessageDialog}\n        aria-labelledby=\"form-dialog-title\"\n        quickemessageId={selectedQuickemessage && selectedQuickemessage.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"quickMessages.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"quickMessages.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenQuickMessageDialog}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"quickMessages.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.shortcode\")}\n              </TableCell>\n\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.mediaName\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {quickemessages.map((quickemessage) => (\n                <TableRow key={quickemessage.id}>\n                  <TableCell align=\"center\">{quickemessage.shortcode}</TableCell>\n\n                  <TableCell align=\"center\">\n                    {quickemessage.mediaName ?? i18n.t(\"quickMessages.noAttachment\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {quickemessage.geral === true ? (\n                      <CheckCircleIcon style={{ color: 'green' }} />\n                    ) : (\n                      ''\n                    )}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQuickemessage(quickemessage)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingQuickemessage(quickemessage);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={5} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Quickemessages;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}