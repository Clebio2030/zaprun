{"ast":null,"code":"import React,{useState,useEffect,useContext,useRef}from\"react\";import*as Yup from\"yup\";import{Formik,Form,Field,FieldArray}from\"formik\";import{toast}from\"react-toastify\";import{useHistory}from\"react-router-dom\";import{makeStyles}from\"@material-ui/core/styles\";import{green}from\"@material-ui/core/colors\";import Button from\"@material-ui/core/Button\";import TextField from\"@material-ui/core/TextField\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogTitle from\"@material-ui/core/DialogTitle\";import CircularProgress from\"@material-ui/core/CircularProgress\";import{i18n}from\"../../translate/i18n\";import api from\"../../services/api\";import toastError from\"../../errors/toastError\";import{Chip,FormControl,FormControlLabel,Grid,IconButton,InputLabel,MenuItem,Select,Switch,Typography}from\"@material-ui/core\";import Autocomplete,{createFilterOptions}from\"@material-ui/lab/Autocomplete\";import moment from\"moment\";import{AuthContext}from\"../../context/Auth/AuthContext\";import{isArray,capitalize}from\"lodash\";import DeleteOutline from\"@material-ui/icons/DeleteOutline\";import AttachFile from\"@material-ui/icons/AttachFile\";import{head}from\"lodash\";import ConfirmationModal from\"../ConfirmationModal\";import MessageVariablesPicker from\"../MessageVariablesPicker\";import useQueues from\"../../hooks/useQueues\";import UserStatusIcon from\"../UserModal/statusIcon\";import{Facebook,Instagram,WhatsApp}from\"@material-ui/icons\";const useStyles=makeStyles(theme=>({root:{display:\"flex\",flexWrap:\"wrap\"},// multFieldLine: {\n// \tdisplay: \"flex\",\n// \t\"& > *:not(:last-child)\": {\n// \t\tmarginRight: theme.spacing(1),\n// \t},\n// },\nbtnWrapper:{position:\"relative\"},buttonProgress:{color:green[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}// formControl: {\n// \tmargin: theme.spacing(1),\n// \tminWidth: 120,\n// },\n}));const ScheduleSchema=Yup.object().shape({body:Yup.string().min(5,\"Mensagem muito curta\").required(\"Obrigatório\"),contactId:Yup.number().required(\"Obrigatório\"),sendAt:Yup.string().required(\"Obrigatório\")});const ScheduleModal=_ref=>{let{open,onClose,scheduleId,contactId,cleanContact,reload}=_ref;const classes=useStyles();const history=useHistory();const{user}=useContext(AuthContext);const isMounted=useRef(true);const{companyId}=user;const initialState={body:\"\",contactId:\"\",sendAt:moment().add(1,'hour').format('YYYY-MM-DDTHH:mm'),sentAt:\"\",openTicket:\"enabled\",ticketUserId:\"\",queueId:\"\",statusTicket:\"closed\",intervalo:1,valorIntervalo:0,enviarQuantasVezes:1,tipoDias:4,assinar:false};const initialContact={id:\"\",name:\"\",channel:\"\"};const[schedule,setSchedule]=useState(initialState);const[currentContact,setCurrentContact]=useState(initialContact);const[contacts,setContacts]=useState([initialContact]);const[intervalo,setIntervalo]=useState(1);// const [valorIntervalo, setValorIntervalo] = useState(initialContact);\n// const [enviarQuantasVezes, setEnviarQuantasVezes] = useState(initialContact);\nconst[tipoDias,setTipoDias]=useState(4);const[attachment,setAttachment]=useState(null);const attachmentFile=useRef(null);const[confirmationOpen,setConfirmationOpen]=useState(false);const messageInputRef=useRef();const[channelFilter,setChannelFilter]=useState(\"whatsapp\");const[whatsapps,setWhatsapps]=useState([]);const[selectedWhatsapps,setSelectedWhatsapps]=useState([]);const[loading,setLoading]=useState(false);const[queues,setQueues]=useState([]);const[allQueues,setAllQueues]=useState([]);const[selectedUser,setSelectedUser]=useState(null);const[selectedQueue,setSelectedQueue]=useState(null);const{findAll:findAllQueues}=useQueues();const[options,setOptions]=useState([]);const[searchParam,setSearchParam]=useState(\"\");useEffect(()=>{return()=>{isMounted.current=false;};},[]);useEffect(()=>{if(isMounted.current){const loadQueues=async()=>{const list=await findAllQueues();setAllQueues(list);setQueues(list);};loadQueues();}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(()=>{if(searchParam.length<3){setLoading(false);setSelectedQueue(\"\");return;}const delayDebounceFn=setTimeout(()=>{setLoading(true);const fetchUsers=async()=>{try{const{data}=await api.get(\"/users/\");setOptions(data.users);setLoading(false);}catch(err){setLoading(false);toastError(err);}};fetchUsers();},500);return()=>clearTimeout(delayDebounceFn);},[searchParam]);useEffect(()=>{api.get(\"/whatsapp/filter\",{params:{session:0,channel:channelFilter}}).then(_ref2=>{let{data}=_ref2;// Mapear os dados recebidos da API para adicionar a propriedade 'selected'\nconst mappedWhatsapps=data.map(whatsapp=>({...whatsapp,selected:false}));setWhatsapps(mappedWhatsapps);if(mappedWhatsapps.length&&(mappedWhatsapps===null||mappedWhatsapps===void 0?void 0:mappedWhatsapps.length)===1){setSelectedWhatsapps(mappedWhatsapps[0].id);}});},[currentContact,channelFilter]);useEffect(()=>{if(contactId&&contacts.length){const contact=contacts.find(c=>c.id===contactId);if(contact){setCurrentContact(contact);}}},[contactId,contacts]);useEffect(()=>{const{companyId}=user;if(open){try{(async()=>{const{data:contactList}=await api.get('/contacts/list',{params:{companyId:companyId}});let customList=contactList.map(c=>({id:c.id,name:c.name,channel:c.channel}));if(isArray(customList)){setContacts([{id:\"\",name:\"\",channel:\"\"},...customList]);}if(contactId){setSchedule(prevState=>{return{...prevState,contactId};});}if(!scheduleId)return;const{data}=await api.get(\"/schedules/\".concat(scheduleId));setSchedule(prevState=>{return{...prevState,...data,sendAt:moment(data.sendAt).format('YYYY-MM-DDTHH:mm')};});if(data.whatsapp){setSelectedWhatsapps(data.whatsapp.id);}if(data.ticketUser){setSelectedUser(data.ticketUser);}if(data.queueId){setSelectedQueue(data.queueId);}if(data.intervalo){setIntervalo(data.intervalo);}if(data.tipoDias){setTipoDias(data.tipoDias);}setCurrentContact(data.contact);})();}catch(err){toastError(err);}}},[scheduleId,contactId,open,user]);const filterOptions=createFilterOptions({trim:true});const handleClose=()=>{onClose();setAttachment(null);setSchedule(initialState);};const handleAttachmentFile=e=>{const file=head(e.target.files);if(file){setAttachment(file);}};const IconChannel=channel=>{switch(channel){case\"facebook\":return/*#__PURE__*/React.createElement(Facebook,{style:{color:\"#3b5998\",verticalAlign:\"middle\"}});case\"instagram\":return/*#__PURE__*/React.createElement(Instagram,{style:{color:\"#e1306c\",verticalAlign:\"middle\"}});case\"whatsapp\":return/*#__PURE__*/React.createElement(WhatsApp,{style:{color:\"#25d366\",verticalAlign:\"middle\"}});default:return\"error\";}};const renderOption=option=>{if(option.name){return/*#__PURE__*/React.createElement(React.Fragment,null,IconChannel(option.channel),/*#__PURE__*/React.createElement(Typography,{component:\"span\",style:{fontSize:14,marginLeft:\"10px\",display:\"inline-flex\",alignItems:\"center\",lineHeight:\"2\"}},option.name));}else{return\"\".concat(i18n.t(\"newTicketModal.add\"),\" \").concat(option.name);}};const handleSaveSchedule=async values=>{const scheduleData={...values,userId:user.id,whatsappId:selectedWhatsapps,ticketUserId:(selectedUser===null||selectedUser===void 0?void 0:selectedUser.id)||null,queueId:selectedQueue||null,intervalo:intervalo||1,tipoDias:tipoDias||4};try{if(scheduleId){await api.put(\"/schedules/\".concat(scheduleId),scheduleData);if(attachment!=null){const formData=new FormData();formData.append(\"file\",attachment);await api.post(\"/schedules/\".concat(scheduleId,\"/media-upload\"),formData);}}else{const{data}=await api.post(\"/schedules\",scheduleData);if(attachment!=null){const formData=new FormData();formData.append(\"file\",attachment);await api.post(\"/schedules/\".concat(data.id,\"/media-upload\"),formData);}}toast.success(i18n.t(\"scheduleModal.success\"));if(typeof reload=='function'){reload();}if(contactId){if(typeof cleanContact==='function'){cleanContact();history.push('/schedules');}}}catch(err){toastError(err);}setCurrentContact(initialContact);setSchedule(initialState);handleClose();};const handleClickMsgVar=async(msgVar,setValueFunc)=>{const el=messageInputRef.current;const firstHalfText=el.value.substring(0,el.selectionStart);const secondHalfText=el.value.substring(el.selectionEnd);const newCursorPos=el.selectionStart+msgVar.length;setValueFunc(\"body\",\"\".concat(firstHalfText).concat(msgVar).concat(secondHalfText));await new Promise(r=>setTimeout(r,100));messageInputRef.current.setSelectionRange(newCursorPos,newCursorPos);};const deleteMedia=async()=>{if(attachment){setAttachment(null);attachmentFile.current.value=null;}if(schedule.mediaPath){await api.delete(\"/schedules/\".concat(schedule.id,\"/media-upload\"));setSchedule(prev=>({...prev,mediaPath:null}));toast.success(i18n.t(\"scheduleModal.toasts.deleted\"));if(typeof reload==\"function\"){reload();}}};return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(ConfirmationModal,{title:i18n.t(\"scheduleModal.confirmationModal.deleteTitle\"),open:confirmationOpen,onClose:()=>setConfirmationOpen(false),onConfirm:deleteMedia},i18n.t(\"scheduleModal.confirmationModal.deleteMessage\")),/*#__PURE__*/React.createElement(Dialog,{open:open,onClose:handleClose,maxWidth:\"md\",fullWidth:true,scroll:\"paper\"},/*#__PURE__*/React.createElement(DialogTitle,{id:\"form-dialog-title\"},schedule.status==='ERRO'?'Erro de Envio':\"Mensagem \".concat(capitalize(schedule.status))),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"none\"}},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\".png,.jpg,.jpeg\",ref:attachmentFile,onChange:e=>handleAttachmentFile(e)})),/*#__PURE__*/React.createElement(Formik,{initialValues:schedule,enableReinitialize:true,validationSchema:ScheduleSchema,onSubmit:(values,actions)=>{setTimeout(()=>{handleSaveSchedule(values);actions.setSubmitting(false);},400);}},_ref3=>{let{touched,errors,isSubmitting,values,setFieldValue}=_ref3;return/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(DialogContent,{dividers:true},/*#__PURE__*/React.createElement(\"div\",{className:classes.multFieldLine},/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",fullWidth:true},/*#__PURE__*/React.createElement(Autocomplete,{fullWidth:true,value:currentContact,options:contacts,onChange:(e,contact)=>{const contactId=contact?contact.id:'';setSchedule({...schedule,contactId});setCurrentContact(contact?contact:initialContact);setChannelFilter(contact?contact.channel:\"whatsapp\");},getOptionLabel:option=>option.name,renderOption:renderOption,getOptionSelected:(option,value)=>{return value.id===option.id;},renderInput:params=>/*#__PURE__*/React.createElement(TextField,Object.assign({},params,{variant:\"outlined\",placeholder:\"Contato\"}))}))),/*#__PURE__*/React.createElement(\"div\",{className:classes.multFieldLine},/*#__PURE__*/React.createElement(Field,{as:TextField,rows:9,multiline:true,label:i18n.t(\"scheduleModal.form.body\"),name:\"body\",inputRef:messageInputRef,error:touched.body&&Boolean(errors.body),helperText:touched.body&&errors.body,variant:\"outlined\",margin:\"dense\",fullWidth:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:12,xl:6},/*#__PURE__*/React.createElement(MessageVariablesPicker,{disabled:isSubmitting,onClick:value=>handleClickMsgVar(value,setFieldValue)})),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:6,xl:6},/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",margin:\"dense\",fullWidth:true,className:classes.formControl},/*#__PURE__*/React.createElement(InputLabel,{id:\"whatsapp-selection-label\"},i18n.t(\"campaigns.dialog.form.whatsapp\")),/*#__PURE__*/React.createElement(Field,{as:Select,label:i18n.t(\"campaigns.dialog.form.whatsapp\"),placeholder:i18n.t(\"campaigns.dialog.form.whatsapp\"),labelId:\"whatsapp-selection-label\",id:\"whatsappIds\",name:\"whatsappIds\",required:true,error:touched.whatsappId&&Boolean(errors.whatsappId),value:selectedWhatsapps,onChange:event=>setSelectedWhatsapps(event.target.value)},whatsapps&&whatsapps.map(whatsapp=>/*#__PURE__*/React.createElement(MenuItem,{key:whatsapp.id,value:whatsapp.id},whatsapp.name))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:12,xl:6},/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",margin:\"dense\",fullWidth:true,className:classes.formControl},/*#__PURE__*/React.createElement(InputLabel,{id:\"openTicket-selection-label\"},i18n.t(\"campaigns.dialog.form.openTicket\")),/*#__PURE__*/React.createElement(Field,{as:Select,label:i18n.t(\"campaigns.dialog.form.openTicket\"),placeholder:i18n.t(\"campaigns.dialog.form.openTicket\"),labelId:\"openTicket-selection-label\",id:\"openTicket\",name:\"openTicket\",error:touched.openTicket&&Boolean(errors.openTicket)},/*#__PURE__*/React.createElement(MenuItem,{value:\"enabled\"},i18n.t(\"campaigns.dialog.form.enabledOpenTicket\")),/*#__PURE__*/React.createElement(MenuItem,{value:\"disabled\"},i18n.t(\"campaigns.dialog.form.disabledOpenTicket\")))))),/*#__PURE__*/React.createElement(Grid,{spacing:1,container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:6,xl:6},/*#__PURE__*/React.createElement(Autocomplete,{style:{marginTop:'8px'},variant:\"outlined\",margin:\"dense\",className:classes.formControl,getOptionLabel:option=>\"\".concat(option.name),value:selectedUser,size:\"small\",onChange:(e,newValue)=>{setSelectedUser(newValue);if(newValue!=null&&Array.isArray(newValue.queues)){if(newValue.queues.length===1){setSelectedQueue(newValue.queues[0].id);}setQueues(newValue.queues);}else{setQueues(allQueues);setSelectedQueue(\"\");}},options:options,filterOptions:filterOptions,freeSolo:true,fullWidth:true,disabled:values.openTicket===\"disabled\",autoHighlight:true,noOptionsText:i18n.t(\"transferTicketModal.noOptions\"),loading:loading,renderOption:option=>/*#__PURE__*/React.createElement(\"span\",null,\" \",/*#__PURE__*/React.createElement(UserStatusIcon,{user:option}),\" \",option.name),renderInput:params=>/*#__PURE__*/React.createElement(TextField,Object.assign({},params,{label:i18n.t(\"transferTicketModal.fieldLabel\"),variant:\"outlined\",onChange:e=>setSearchParam(e.target.value),InputProps:{...params.InputProps,endAdornment:/*#__PURE__*/React.createElement(React.Fragment,null,loading?/*#__PURE__*/React.createElement(CircularProgress,{color:\"inherit\",size:20}):null,params.InputProps.endAdornment)}}))})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:6,xl:6},/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",margin:\"dense\",fullWidth:true,className:classes.formControl},/*#__PURE__*/React.createElement(InputLabel,null,i18n.t(\"transferTicketModal.fieldQueueLabel\")),/*#__PURE__*/React.createElement(Select,{value:selectedQueue,onChange:e=>setSelectedQueue(e.target.value),label:i18n.t(\"transferTicketModal.fieldQueuePlaceholder\"),disabled:values.openTicket===\"disabled\"},queues.map(queue=>/*#__PURE__*/React.createElement(MenuItem,{key:queue.id,value:queue.id},queue.name)))))),/*#__PURE__*/React.createElement(Grid,{spacing:1,container:true,style:{marginTop:'-10px'}},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:6,xl:6},/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",margin:\"dense\",fullWidth:true,className:classes.formControl},/*#__PURE__*/React.createElement(InputLabel,{id:\"statusTicket-selection-label\"},i18n.t(\"campaigns.dialog.form.statusTicket\")),/*#__PURE__*/React.createElement(Field,{as:Select,disabled:values.openTicket===\"disabled\",label:i18n.t(\"campaigns.dialog.form.statusTicket\"),placeholder:i18n.t(\"campaigns.dialog.form.statusTicket\"),labelId:\"statusTicket-selection-label\",id:\"statusTicket\",name:\"statusTicket\",error:touched.statusTicket&&Boolean(errors.statusTicket)},/*#__PURE__*/React.createElement(MenuItem,{value:\"closed\"},i18n.t(\"campaigns.dialog.form.closedTicketStatus\")),/*#__PURE__*/React.createElement(MenuItem,{value:\"open\"},i18n.t(\"campaigns.dialog.form.openTicketStatus\"))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:6,xl:6},/*#__PURE__*/React.createElement(Field,{as:TextField,label:i18n.t(\"scheduleModal.form.sendAt\"),type:\"datetime-local\",name:\"sendAt\"// InputLabelProps={{\n// \tshrink: true,\n// }}\n,error:touched.sendAt&&Boolean(errors.sendAt),helperText:touched.sendAt&&errors.sendAt,variant:\"outlined\",fullWidth:true,size:\"small\",style:{marginTop:'8px'}})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:6,xl:6},/*#__PURE__*/React.createElement(FormControlLabel,{control:/*#__PURE__*/React.createElement(Field,{as:Switch,color:\"primary\",name:\"assinar\",checked:values.assinar,disabled:values.openTicket===\"disabled\"}),label:i18n.t(\"scheduleModal.form.assinar\")}))),/*#__PURE__*/React.createElement(\"h3\",null,\"Recorr\\xEAncia\"),/*#__PURE__*/React.createElement(\"p\",null,\"Voc\\xEA pode escolher enviar a mensagem de forma recorrente e escolher o intervalo. Caso seja uma mensagem a ser enviada uma unica vez, n\\xE3o altere nada nesta se\\xE7\\xE3o.\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:4,xl:4},/*#__PURE__*/React.createElement(FormControl,{size:\"small\",fullWidth:true,variant:\"outlined\"},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-simple-select-label\"},\"Intervalo\"),/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:intervalo// name=\"intervalo\"\n,onChange:e=>setIntervalo(e.target.value||1),label:\"Intervalo\"},/*#__PURE__*/React.createElement(MenuItem,{value:1},\"Dias\"),/*#__PURE__*/React.createElement(MenuItem,{value:2},\"Semanas\"),/*#__PURE__*/React.createElement(MenuItem,{value:3},\"Meses\"),/*#__PURE__*/React.createElement(MenuItem,{value:4},\"Minutos\")))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:4,xl:4},/*#__PURE__*/React.createElement(Field,{as:TextField,label:\"Valor do Intervalo\",name:\"valorIntervalo\",size:\"small\",error:touched.valorIntervalo&&Boolean(errors.valorIntervalo),InputLabelProps:{shrink:true},variant:\"outlined\",fullWidth:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:4,xl:4},/*#__PURE__*/React.createElement(Field,{as:TextField,label:\"Enviar quantas vezes\",name:\"enviarQuantasVezes\",size:\"small\",error:touched.enviarQuantasVezes&&Boolean(errors.enviarQuantasVezes),variant:\"outlined\",fullWidth:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:12,xl:12},/*#__PURE__*/React.createElement(FormControl,{size:\"small\",fullWidth:true,variant:\"outlined\"},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-simple-select-label\"},\"Enviar quantas vezes\"),/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:tipoDias,onChange:e=>setTipoDias(e.target.value||4),label:\"Enviar quantas vezes\"},/*#__PURE__*/React.createElement(MenuItem,{value:4},\"Enviar normalmente em dias n\\xE3o \\xFAteis\"),/*#__PURE__*/React.createElement(MenuItem,{value:5},\"Enviar um dia \\xFAtil antes\"),/*#__PURE__*/React.createElement(MenuItem,{value:6},\"Enviar um dia \\xFAtil depois\"))))),(schedule.mediaPath||attachment)&&/*#__PURE__*/React.createElement(Grid,{xs:12,item:true},/*#__PURE__*/React.createElement(Button,{startIcon:/*#__PURE__*/React.createElement(AttachFile,null)},attachment?attachment.name:schedule.mediaName),/*#__PURE__*/React.createElement(IconButton,{onClick:()=>setConfirmationOpen(true),color:\"secondary\"},/*#__PURE__*/React.createElement(DeleteOutline,{color:\"secondary\"})))),/*#__PURE__*/React.createElement(DialogActions,null,!attachment&&!schedule.mediaPath&&/*#__PURE__*/React.createElement(Button,{color:\"primary\",onClick:()=>attachmentFile.current.click(),disabled:isSubmitting,variant:\"outlined\"},i18n.t(\"quickMessages.buttons.attach\")),/*#__PURE__*/React.createElement(Button,{onClick:handleClose,color:\"secondary\",disabled:isSubmitting,variant:\"outlined\"},i18n.t(\"scheduleModal.buttons.cancel\")),(schedule.sentAt===null||schedule.sentAt===\"\")&&/*#__PURE__*/React.createElement(Button,{type:\"submit\",color:\"primary\",disabled:isSubmitting,variant:\"contained\",className:classes.btnWrapper},scheduleId?\"\".concat(i18n.t(\"scheduleModal.buttons.okEdit\")):\"\".concat(i18n.t(\"scheduleModal.buttons.okAdd\")),isSubmitting&&/*#__PURE__*/React.createElement(CircularProgress,{size:24,className:classes.buttonProgress}))));})));};export default ScheduleModal;","map":{"version":3,"names":["React","useState","useEffect","useContext","useRef","Yup","Formik","Form","Field","FieldArray","toast","useHistory","makeStyles","green","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","CircularProgress","i18n","api","toastError","Chip","FormControl","FormControlLabel","Grid","IconButton","InputLabel","MenuItem","Select","Switch","Typography","Autocomplete","createFilterOptions","moment","AuthContext","isArray","capitalize","DeleteOutline","AttachFile","head","ConfirmationModal","MessageVariablesPicker","useQueues","UserStatusIcon","Facebook","Instagram","WhatsApp","useStyles","theme","root","display","flexWrap","btnWrapper","position","buttonProgress","color","top","left","marginTop","marginLeft","ScheduleSchema","object","shape","body","string","min","required","contactId","number","sendAt","ScheduleModal","_ref","open","onClose","scheduleId","cleanContact","reload","classes","history","user","isMounted","companyId","initialState","add","format","sentAt","openTicket","ticketUserId","queueId","statusTicket","intervalo","valorIntervalo","enviarQuantasVezes","tipoDias","assinar","initialContact","id","name","channel","schedule","setSchedule","currentContact","setCurrentContact","contacts","setContacts","setIntervalo","setTipoDias","attachment","setAttachment","attachmentFile","confirmationOpen","setConfirmationOpen","messageInputRef","channelFilter","setChannelFilter","whatsapps","setWhatsapps","selectedWhatsapps","setSelectedWhatsapps","loading","setLoading","queues","setQueues","allQueues","setAllQueues","selectedUser","setSelectedUser","selectedQueue","setSelectedQueue","findAll","findAllQueues","options","setOptions","searchParam","setSearchParam","current","loadQueues","list","length","delayDebounceFn","setTimeout","fetchUsers","data","get","users","err","clearTimeout","params","session","then","_ref2","mappedWhatsapps","map","whatsapp","selected","contact","find","c","contactList","customList","prevState","concat","ticketUser","filterOptions","trim","handleClose","handleAttachmentFile","e","file","target","files","IconChannel","createElement","style","verticalAlign","renderOption","option","Fragment","component","fontSize","alignItems","lineHeight","t","handleSaveSchedule","values","scheduleData","userId","whatsappId","put","formData","FormData","append","post","success","push","handleClickMsgVar","msgVar","setValueFunc","el","firstHalfText","value","substring","selectionStart","secondHalfText","selectionEnd","newCursorPos","Promise","r","setSelectionRange","deleteMedia","mediaPath","delete","prev","className","title","onConfirm","maxWidth","fullWidth","scroll","status","type","accept","ref","onChange","initialValues","enableReinitialize","validationSchema","onSubmit","actions","setSubmitting","_ref3","touched","errors","isSubmitting","setFieldValue","dividers","multFieldLine","variant","getOptionLabel","getOptionSelected","renderInput","Object","assign","placeholder","as","rows","multiline","label","inputRef","error","Boolean","helperText","margin","item","xs","md","xl","disabled","onClick","container","spacing","formControl","labelId","event","key","size","newValue","Array","freeSolo","autoHighlight","noOptionsText","InputProps","endAdornment","queue","control","checked","InputLabelProps","shrink","startIcon","mediaName","click"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/components/ScheduleModal/index.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field, FieldArray } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Chip, FormControl, FormControlLabel, Grid, IconButton, InputLabel, MenuItem, Select, Switch, Typography } from \"@material-ui/core\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport moment from \"moment\"\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { isArray, capitalize } from \"lodash\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport AttachFile from \"@material-ui/icons/AttachFile\";\r\nimport { head } from \"lodash\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\r\nimport useQueues from \"../../hooks/useQueues\";\r\nimport UserStatusIcon from \"../UserModal/statusIcon\";\r\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\t// multFieldLine: {\r\n\t// \tdisplay: \"flex\",\r\n\t// \t\"& > *:not(:last-child)\": {\r\n\t// \t\tmarginRight: theme.spacing(1),\r\n\t// \t},\r\n\t// },\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\t// formControl: {\r\n\t// \tmargin: theme.spacing(1),\r\n\t// \tminWidth: 120,\r\n\t// },\r\n}));\r\n\r\nconst ScheduleSchema = Yup.object().shape({\r\n\tbody: Yup.string()\r\n\t\t.min(5, \"Mensagem muito curta\")\r\n\t\t.required(\"Obrigatório\"),\r\n\tcontactId: Yup.number().required(\"Obrigatório\"),\r\n\tsendAt: Yup.string().required(\"Obrigatório\")\r\n});\r\n\r\nconst ScheduleModal = ({ open, onClose, scheduleId, contactId, cleanContact, reload }) => {\r\n\tconst classes = useStyles();\r\n\tconst history = useHistory();\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst isMounted = useRef(true);\r\n\tconst { companyId } = user;\r\n\r\n\tconst initialState = {\r\n\t\tbody: \"\",\r\n\t\tcontactId: \"\",\r\n\t\tsendAt: moment().add(1, 'hour').format('YYYY-MM-DDTHH:mm'),\r\n\t\tsentAt: \"\",\r\n\t\topenTicket: \"enabled\",\r\n\t\tticketUserId: \"\",\r\n\t\tqueueId: \"\",\r\n\t\tstatusTicket: \"closed\",\r\n\t\tintervalo: 1,\r\n\t\tvalorIntervalo: 0,\r\n\t\tenviarQuantasVezes: 1,\r\n\t\ttipoDias: 4,\r\n\t\tassinar: false\r\n\t};\r\n\r\n\tconst initialContact = {\r\n\t\tid: \"\",\r\n\t\tname: \"\",\r\n\t\tchannel: \"\"\r\n\t}\r\n\r\n\tconst [schedule, setSchedule] = useState(initialState);\r\n\tconst [currentContact, setCurrentContact] = useState(initialContact);\r\n\tconst [contacts, setContacts] = useState([initialContact]);\r\n\tconst [intervalo, setIntervalo] = useState(1);\r\n\t// const [valorIntervalo, setValorIntervalo] = useState(initialContact);\r\n\t// const [enviarQuantasVezes, setEnviarQuantasVezes] = useState(initialContact);\r\n\tconst [tipoDias, setTipoDias] = useState(4);\r\n\tconst [attachment, setAttachment] = useState(null);\r\n\tconst attachmentFile = useRef(null);\r\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\r\n\tconst messageInputRef = useRef();\r\n\tconst [channelFilter, setChannelFilter] = useState(\"whatsapp\");\r\n\tconst [whatsapps, setWhatsapps] = useState([]);\r\n\tconst [selectedWhatsapps, setSelectedWhatsapps] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [queues, setQueues] = useState([]);\r\n\tconst [allQueues, setAllQueues] = useState([]);\r\n\tconst [selectedUser, setSelectedUser] = useState(null);\r\n\tconst [selectedQueue, setSelectedQueue] = useState(null);\r\n\tconst { findAll: findAllQueues } = useQueues();\r\n\tconst [options, setOptions] = useState([]);\r\n\tconst [searchParam, setSearchParam] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tisMounted.current = false;\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isMounted.current) {\r\n\t\t\tconst loadQueues = async () => {\r\n\t\t\t\tconst list = await findAllQueues();\r\n\t\t\t\tsetAllQueues(list);\r\n\t\t\t\tsetQueues(list);\r\n\t\t\t};\r\n\t\t\tloadQueues();\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (searchParam.length < 3) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetSelectedQueue(\"\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst delayDebounceFn = setTimeout(() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tconst fetchUsers = async () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst { data } = await api.get(\"/users/\");\r\n\t\t\t\t\tsetOptions(data.users);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\ttoastError(err);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tfetchUsers();\r\n\t\t}, 500);\r\n\t\treturn () => clearTimeout(delayDebounceFn);\r\n\t}, [searchParam]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi\r\n\t\t\t.get(`/whatsapp/filter`, { params: { session: 0, channel: channelFilter } })\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\t// Mapear os dados recebidos da API para adicionar a propriedade 'selected'\r\n\t\t\t\tconst mappedWhatsapps = data.map((whatsapp) => ({\r\n\t\t\t\t\t...whatsapp,\r\n\t\t\t\t\tselected: false,\r\n\t\t\t\t}));\r\n\r\n\t\t\t\tsetWhatsapps(mappedWhatsapps);\r\n\t\t\t\tif (mappedWhatsapps.length && mappedWhatsapps?.length === 1){\r\n\t\t\t\t\tsetSelectedWhatsapps(mappedWhatsapps[0].id)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}, [currentContact, channelFilter])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (contactId && contacts.length) {\r\n\t\t\tconst contact = contacts.find(c => c.id === contactId);\r\n\t\t\tif (contact) {\r\n\t\t\t\tsetCurrentContact(contact);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [contactId, contacts]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { companyId } = user;\r\n\t\tif (open) {\r\n\t\t\ttry {\r\n\t\t\t\t(async () => {\r\n\t\t\t\t\tconst { data: contactList } = await api.get('/contacts/list', { params: { companyId: companyId } });\r\n\t\t\t\t\tlet customList = contactList.map((c) => ({ id: c.id, name: c.name, channel: c.channel }));\r\n\t\t\t\t\tif (isArray(customList)) {\r\n\t\t\t\t\t\tsetContacts([{ id: \"\", name: \"\", channel: \"\" }, ...customList]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (contactId) {\r\n\t\t\t\t\t\tsetSchedule(prevState => {\r\n\t\t\t\t\t\t\treturn { ...prevState, contactId }\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!scheduleId) return;\r\n\r\n\t\t\t\t\tconst { data } = await api.get(`/schedules/${scheduleId}`);\r\n\t\t\t\t\tsetSchedule(prevState => {\r\n\t\t\t\t\t\treturn { ...prevState, ...data, sendAt: moment(data.sendAt).format('YYYY-MM-DDTHH:mm') };\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (data.whatsapp) {\r\n\t\t\t\t\t\tsetSelectedWhatsapps(data.whatsapp.id);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (data.ticketUser) {\r\n\t\t\t\t\t\tsetSelectedUser(data.ticketUser);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (data.queueId) {\r\n\t\t\t\t\t\tsetSelectedQueue(data.queueId);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (data.intervalo) {\r\n\t\t\t\t\t\tsetIntervalo(data.intervalo);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (data.tipoDias) {\r\n\t\t\t\t\t\tsetTipoDias(data.tipoDias);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsetCurrentContact(data.contact);\r\n\t\t\t\t})()\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [scheduleId, contactId, open, user]);\r\n\r\n\tconst filterOptions = createFilterOptions({\r\n\t\ttrim: true,\r\n\t});\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetAttachment(null);\r\n\t\tsetSchedule(initialState);\r\n\t};\r\n\r\n\tconst handleAttachmentFile = (e) => {\r\n\t\tconst file = head(e.target.files);\r\n\t\tif (file) {\r\n\t\t\tsetAttachment(file);\r\n\t\t}\r\n\t};\r\n\r\n\tconst IconChannel = (channel) => {\r\n\t\tswitch (channel) {\r\n\t\t\tcase \"facebook\":\r\n\t\t\t\treturn <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\r\n\t\t\tcase \"instagram\":\r\n\t\t\t\treturn <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\r\n\t\t\tcase \"whatsapp\":\r\n\t\t\t\treturn <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\r\n\t\t\tdefault:\r\n\t\t\t\treturn \"error\";\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderOption = option => {\r\n\t\tif (option.name) {\r\n\t\t\treturn <>\r\n\t\t\t\t{IconChannel(option.channel)}\r\n\t\t\t\t<Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\r\n\t\t\t\t\t{option.name}\r\n\t\t\t\t</Typography>\r\n\t\t\t</>\r\n\t\t} else {\r\n\t\t\treturn `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\r\n\t\t}\r\n\t};\r\n\tconst handleSaveSchedule = async values => {\r\n\t\tconst scheduleData = {\r\n\t\t\t...values, userId: user.id, whatsappId: selectedWhatsapps, ticketUserId: selectedUser?.id || null,\r\n\t\t\tqueueId: selectedQueue || null, intervalo: intervalo || 1, tipoDias: tipoDias || 4\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tif (scheduleId) {\r\n\t\t\t\tawait api.put(`/schedules/${scheduleId}`, scheduleData);\r\n\t\t\t\tif (attachment != null) {\r\n\t\t\t\t\tconst formData = new FormData();\r\n\t\t\t\t\tformData.append(\"file\", attachment);\r\n\t\t\t\t\tawait api.post(\r\n\t\t\t\t\t\t`/schedules/${scheduleId}/media-upload`,\r\n\t\t\t\t\t\tformData\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst { data } = await api.post(\"/schedules\", scheduleData);\r\n\t\t\t\tif (attachment != null) {\r\n\t\t\t\t\tconst formData = new FormData();\r\n\t\t\t\t\tformData.append(\"file\", attachment);\r\n\t\t\t\t\tawait api.post(`/schedules/${data.id}/media-upload`, formData);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"scheduleModal.success\"));\r\n\t\t\tif (typeof reload == 'function') {\r\n\t\t\t\treload();\r\n\t\t\t}\r\n\t\t\tif (contactId) {\r\n\t\t\t\tif (typeof cleanContact === 'function') {\r\n\t\t\t\t\tcleanContact();\r\n\t\t\t\t\thistory.push('/schedules');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\tsetCurrentContact(initialContact);\r\n\t\tsetSchedule(initialState);\r\n\t\thandleClose();\r\n\t};\r\n\tconst handleClickMsgVar = async (msgVar, setValueFunc) => {\r\n\t\tconst el = messageInputRef.current;\r\n\t\tconst firstHalfText = el.value.substring(0, el.selectionStart);\r\n\t\tconst secondHalfText = el.value.substring(el.selectionEnd);\r\n\t\tconst newCursorPos = el.selectionStart + msgVar.length;\r\n\r\n\t\tsetValueFunc(\"body\", `${firstHalfText}${msgVar}${secondHalfText}`);\r\n\r\n\t\tawait new Promise(r => setTimeout(r, 100));\r\n\t\tmessageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\r\n\t};\r\n\r\n\tconst deleteMedia = async () => {\r\n\t\tif (attachment) {\r\n\t\t\tsetAttachment(null);\r\n\t\t\tattachmentFile.current.value = null;\r\n\t\t}\r\n\r\n\t\tif (schedule.mediaPath) {\r\n\t\t\tawait api.delete(`/schedules/${schedule.id}/media-upload`);\r\n\t\t\tsetSchedule((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\tmediaPath: null,\r\n\t\t\t}));\r\n\t\t\ttoast.success(i18n.t(\"scheduleModal.toasts.deleted\"));\r\n\t\t\tif (typeof reload == \"function\") {\r\n\t\t\t\treload();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<ConfirmationModal\r\n\t\t\t\ttitle={i18n.t(\"scheduleModal.confirmationModal.deleteTitle\")}\r\n\t\t\t\topen={confirmationOpen}\r\n\t\t\t\tonClose={() => setConfirmationOpen(false)}\r\n\t\t\t\tonConfirm={deleteMedia}\r\n\t\t\t>\r\n\t\t\t\t{i18n.t(\"scheduleModal.confirmationModal.deleteMessage\")}\r\n\t\t\t</ConfirmationModal>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tmaxWidth=\"md\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tscroll=\"paper\"\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{schedule.status === 'ERRO' ? 'Erro de Envio' : `Mensagem ${capitalize(schedule.status)}`}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<div style={{ display: \"none\" }}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\taccept=\".png,.jpg,.jpeg\"\r\n\t\t\t\t\t\tref={attachmentFile}\r\n\t\t\t\t\t\tonChange={(e) => handleAttachmentFile(e)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={schedule}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={ScheduleSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveSchedule(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ touched, errors, isSubmitting, values, setFieldValue }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={currentContact}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={contacts}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, contact) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst contactId = contact ? contact.id : '';\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetSchedule({ ...schedule, contactId });\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentContact(contact ? contact : initialContact);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetChannelFilter(contact ? contact.channel : \"whatsapp\");\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.name}\r\n\t\t\t\t\t\t\t\t\t\t\trenderOption={renderOption}\r\n\t\t\t\t\t\t\t\t\t\t\tgetOptionSelected={(option, value) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn value.id === option.id\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} variant=\"outlined\" placeholder=\"Contato\" />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\trows={9}\r\n\t\t\t\t\t\t\t\t\t\tmultiline={true}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.body\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\r\n\t\t\t\t\t\t\t\t\t\tinputRef={messageInputRef}\r\n\t\t\t\t\t\t\t\t\t\terror={touched.body && Boolean(errors.body)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.body && errors.body}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={6}>\r\n\t\t\t\t\t\t\t\t\t<MessageVariablesPicker\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\tonClick={value => handleClickMsgVar(value, setFieldValue)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"whatsapp-selection-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"whatsapp-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"whatsappIds\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"whatsappIds\"\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={touched.whatsappId && Boolean(errors.whatsappId)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedWhatsapps}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => setSelectedWhatsapps(event.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsapps &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twhatsapps.map((whatsapp) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={whatsapp.id} value={whatsapp.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{whatsapp.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"openTicket-selection-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"campaigns.dialog.form.openTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"campaigns.dialog.form.openTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"campaigns.dialog.form.openTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"openTicket-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"openTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"openTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.openTicket && Boolean(errors.openTicket)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"enabled\"}>{i18n.t(\"campaigns.dialog.form.enabledOpenTicket\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"disabled\"}>{i18n.t(\"campaigns.dialog.form.disabledOpenTicket\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid spacing={1} container>\r\n\t\t\t\t\t\t\t\t\t{/* SELECIONAR USUARIO */}\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '8px' }}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => `${option.name}`}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={selectedUser}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedUser(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (newValue != null && Array.isArray(newValue.queues)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (newValue.queues.length === 1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedQueue(newValue.queues[0].id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetQueues(newValue.queues);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetQueues(allQueues);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedQueue(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={options}\r\n\t\t\t\t\t\t\t\t\t\t\tfilterOptions={filterOptions}\r\n\t\t\t\t\t\t\t\t\t\t\tfreeSolo\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\r\n\t\t\t\t\t\t\t\t\t\t\tautoHighlight\r\n\t\t\t\t\t\t\t\t\t\t\tnoOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\r\n\t\t\t\t\t\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\t\t\t\t\t\trenderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldLabel\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSearchParam(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...params.InputProps,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"transferTicketModal.fieldQueueLabel\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedQueue}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSelectedQueue(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{queues.map((queue) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{queue.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid spacing={1} container style={{ marginTop: '-10px' }}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"statusTicket-selection-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"campaigns.dialog.form.statusTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"campaigns.dialog.form.statusTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"campaigns.dialog.form.statusTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"statusTicket-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"statusTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"statusTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.statusTicket && Boolean(errors.statusTicket)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"closed\"}>{i18n.t(\"campaigns.dialog.form.closedTicketStatus\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"open\"}>{i18n.t(\"campaigns.dialog.form.openTicketStatus\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.sendAt\")}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"sendAt\"\r\n\t\t\t\t\t\t\t\t\t\t\t// InputLabelProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t// \tshrink: true,\r\n\t\t\t\t\t\t\t\t\t\t\t// }}\r\n\t\t\t\t\t\t\t\t\t\t\terror={touched.sendAt && Boolean(errors.sendAt)}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.sendAt && errors.sendAt}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '8px' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={Switch}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"assinar\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={values.assinar}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.assinar\")}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<h3>Recorrência</h3>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tVocê pode escolher enviar a mensagem de forma recorrente e\r\n\t\t\t\t\t\t\t\t\tescolher o intervalo. Caso seja uma mensagem a ser enviada\r\n\t\t\t\t\t\t\t\t\tuma unica vez, não altere nada nesta seção.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={4} xl={4}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl size=\"small\" fullWidth variant=\"outlined\">\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"demo-simple-select-label\">Intervalo</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"demo-simple-select-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"demo-simple-select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={intervalo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t// name=\"intervalo\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIntervalo(e.target.value || 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Intervalo\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={1}>Dias</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={2}>Semanas</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={3}>Meses</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={4}>Minutos</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={4} xl={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Valor do Intervalo\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"valorIntervalo\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\terror={touched.valorIntervalo && Boolean(errors.valorIntervalo)}\r\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={4} xl={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Enviar quantas vezes\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"enviarQuantasVezes\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\ttouched.enviarQuantasVezes &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tBoolean(errors.enviarQuantasVezes)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl size=\"small\" fullWidth variant=\"outlined\">\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"demo-simple-select-label\">Enviar quantas vezes</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"demo-simple-select-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"demo-simple-select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={tipoDias}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTipoDias(e.target.value || 4)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Enviar quantas vezes\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={4}>Enviar normalmente em dias não úteis</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={5}>Enviar um dia útil antes</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={6}>Enviar um dia útil depois</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{(schedule.mediaPath || attachment) && (\r\n\t\t\t\t\t\t\t\t\t<Grid xs={12} item>\r\n\t\t\t\t\t\t\t\t\t\t<Button startIcon={<AttachFile />}>\r\n\t\t\t\t\t\t\t\t\t\t\t{attachment ? attachment.name : schedule.mediaName}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setConfirmationOpen(true)}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline color=\"secondary\" />\r\n\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t{!attachment && !schedule.mediaPath && (\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => attachmentFile.current.click()}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"quickMessages.buttons.attach\")}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"scheduleModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{(schedule.sentAt === null || schedule.sentAt === \"\") && (\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{scheduleId\r\n\t\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"scheduleModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"scheduleModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ScheduleModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}