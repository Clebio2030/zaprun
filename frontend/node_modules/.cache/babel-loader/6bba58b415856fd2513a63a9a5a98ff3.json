{"ast":null,"code":"import rules from\"../../rules\";const check=(role,action,data)=>{const permissions=rules[role];if(!permissions){// role is not present in the rules\nreturn false;}const staticPermissions=permissions.static;if(staticPermissions&&staticPermissions.includes(action)){// static rule not provided for action\nreturn true;}const dynamicPermissions=permissions.dynamic;if(dynamicPermissions){const permissionCondition=dynamicPermissions[action];if(!permissionCondition){// dynamic rule not provided for action\nreturn false;}return permissionCondition(data);}return false;};const Can=_ref=>{let{role,perform,data,yes,no}=_ref;return check(role,perform,data)?yes():no();};Can.defaultProps={yes:()=>null,no:()=>null};export{Can};","map":{"version":3,"names":["rules","check","role","action","data","permissions","staticPermissions","static","includes","dynamicPermissions","dynamic","permissionCondition","Can","_ref","perform","yes","no","defaultProps"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/components/Can/index.js"],"sourcesContent":["import rules from \"../../rules\";\r\n\r\nconst check = (role, action, data) => {\r\n\tconst permissions = rules[role];\r\n\tif (!permissions) {\r\n\t\t// role is not present in the rules\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst staticPermissions = permissions.static;\r\n\r\n\tif (staticPermissions && staticPermissions.includes(action)) {\r\n\t\t// static rule not provided for action\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconst dynamicPermissions = permissions.dynamic;\r\n\r\n\tif (dynamicPermissions) {\r\n\t\tconst permissionCondition = dynamicPermissions[action];\r\n\t\tif (!permissionCondition) {\r\n\t\t\t// dynamic rule not provided for action\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn permissionCondition(data);\r\n\t}\r\n\treturn false;\r\n};\r\n\r\nconst Can = ({ role, perform, data, yes, no }) =>\r\n\tcheck(role, perform, data) ? yes() : no();\r\n\r\nCan.defaultProps = {\r\n\tyes: () => null,\r\n\tno: () => null,\r\n};\r\n\r\nexport { Can };\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,aAAa,CAE/B,KAAM,CAAAC,KAAK,CAAGA,CAACC,IAAI,CAAEC,MAAM,CAAEC,IAAI,GAAK,CACrC,KAAM,CAAAC,WAAW,CAAGL,KAAK,CAACE,IAAI,CAAC,CAC/B,GAAI,CAACG,WAAW,CAAE,CACjB;AACA,MAAO,MAAK,CACb,CAEA,KAAM,CAAAC,iBAAiB,CAAGD,WAAW,CAACE,MAAM,CAE5C,GAAID,iBAAiB,EAAIA,iBAAiB,CAACE,QAAQ,CAACL,MAAM,CAAC,CAAE,CAC5D;AACA,MAAO,KAAI,CACZ,CAEA,KAAM,CAAAM,kBAAkB,CAAGJ,WAAW,CAACK,OAAO,CAE9C,GAAID,kBAAkB,CAAE,CACvB,KAAM,CAAAE,mBAAmB,CAAGF,kBAAkB,CAACN,MAAM,CAAC,CACtD,GAAI,CAACQ,mBAAmB,CAAE,CACzB;AACA,MAAO,MAAK,CACb,CAEA,MAAO,CAAAA,mBAAmB,CAACP,IAAI,CAAC,CACjC,CACA,MAAO,MAAK,CACb,CAAC,CAED,KAAM,CAAAQ,GAAG,CAAGC,IAAA,MAAC,CAAEX,IAAI,CAAEY,OAAO,CAAEV,IAAI,CAAEW,GAAG,CAAEC,EAAG,CAAC,CAAAH,IAAA,OAC5C,CAAAZ,KAAK,CAACC,IAAI,CAAEY,OAAO,CAAEV,IAAI,CAAC,CAAGW,GAAG,CAAC,CAAC,CAAGC,EAAE,CAAC,CAAC,GAE1CJ,GAAG,CAACK,YAAY,CAAG,CAClBF,GAAG,CAAEA,CAAA,GAAM,IAAI,CACfC,EAAE,CAAEA,CAAA,GAAM,IACX,CAAC,CAED,OAASJ,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module"}