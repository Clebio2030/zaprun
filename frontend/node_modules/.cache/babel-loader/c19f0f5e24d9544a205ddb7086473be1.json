{"ast":null,"code":"import{useState,useEffect}from\"react\";import toastError from\"../../errors/toastError\";import api from\"../../services/api\";const useContacts=_ref=>{let{searchParam,pageNumber,date,dateStart,dateEnd}=_ref;const[loading,setLoading]=useState(true);const[hasMore,setHasMore]=useState(false);const[contacts,setContacts]=useState([]);const[count,setCount]=useState(0);useEffect(()=>{setLoading(true);const delayDebounceFn=setTimeout(()=>{const fetchContacts=async()=>{try{const{data}=await api.get(\"/contacts\",{params:{searchParam,pageNumber,date,dateStart,dateEnd}});setContacts(data.contacts);setHasMore(data.hasMore);setCount(data.count);setLoading(false);}catch(err){setLoading(false);toastError(err);}};fetchContacts();},500);return()=>clearTimeout(delayDebounceFn);},[searchParam,pageNumber,date,dateStart,dateEnd]);return{contacts,loading,hasMore,count};};export default useContacts;","map":{"version":3,"names":["useState","useEffect","toastError","api","useContacts","_ref","searchParam","pageNumber","date","dateStart","dateEnd","loading","setLoading","hasMore","setHasMore","contacts","setContacts","count","setCount","delayDebounceFn","setTimeout","fetchContacts","data","get","params","err","clearTimeout"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/hooks/useContacts/index.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useContacts = ({ searchParam, pageNumber, date, dateStart, dateEnd }) => {\n    const [loading, setLoading] = useState(true);\n    const [hasMore, setHasMore] = useState(false);\n    const [contacts, setContacts] = useState([]);\n    const [count, setCount] = useState(0);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchContacts = async () => {\n                try {\n                    const { data } = await api.get(\"/contacts\", {\n                        params: {\n                            searchParam,\n                            pageNumber,\n                            date,\n                            dateStart,\n                            dateEnd,\n                        },\n                    });\n                    setContacts(data.contacts);\n\n                    setHasMore(data.hasMore);\n                    setCount(data.count);\n                    setLoading(false);\n                } catch (err) {\n                    setLoading(false);\n                    toastError(err);\n                }\n            };\n\n            fetchContacts();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchParam, pageNumber, date, dateStart, dateEnd]);\n\n    return { contacts, loading, hasMore, count };\n};\n\nexport default useContacts;\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAEhD,MAAO,CAAAC,GAAG,KAAM,oBAAoB,CAEpC,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAA2D,IAA1D,CAAEC,WAAW,CAAEC,UAAU,CAAEC,IAAI,CAAEC,SAAS,CAAEC,OAAQ,CAAC,CAAAL,IAAA,CACtE,KAAM,CAACM,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACe,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACiB,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAAC,CAErCC,SAAS,CAAC,IAAM,CACZW,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAO,eAAe,CAAGC,UAAU,CAAC,IAAM,CACrC,KAAM,CAAAC,aAAa,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACA,KAAM,CAAEC,IAAK,CAAC,CAAG,KAAM,CAAAnB,GAAG,CAACoB,GAAG,CAAC,WAAW,CAAE,CACxCC,MAAM,CAAE,CACJlB,WAAW,CACXC,UAAU,CACVC,IAAI,CACJC,SAAS,CACTC,OACJ,CACJ,CAAC,CAAC,CACFM,WAAW,CAACM,IAAI,CAACP,QAAQ,CAAC,CAE1BD,UAAU,CAACQ,IAAI,CAACT,OAAO,CAAC,CACxBK,QAAQ,CAACI,IAAI,CAACL,KAAK,CAAC,CACpBL,UAAU,CAAC,KAAK,CAAC,CACrB,CAAE,MAAOa,GAAG,CAAE,CACVb,UAAU,CAAC,KAAK,CAAC,CACjBV,UAAU,CAACuB,GAAG,CAAC,CACnB,CACJ,CAAC,CAEDJ,aAAa,CAAC,CAAC,CACnB,CAAC,CAAE,GAAG,CAAC,CACP,MAAO,IAAMK,YAAY,CAACP,eAAe,CAAC,CAC9C,CAAC,CAAE,CAACb,WAAW,CAAEC,UAAU,CAAEC,IAAI,CAAEC,SAAS,CAAEC,OAAO,CAAC,CAAC,CAEvD,MAAO,CAAEK,QAAQ,CAAEJ,OAAO,CAAEE,OAAO,CAAEI,KAAM,CAAC,CAChD,CAAC,CAED,cAAe,CAAAb,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module"}