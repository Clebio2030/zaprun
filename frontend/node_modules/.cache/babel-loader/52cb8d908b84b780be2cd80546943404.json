{"ast":null,"code":"import React,{useState,useCallback,useContext,useEffect}from\"react\";import{toast}from\"react-toastify\";import{add,format,parseISO}from\"date-fns\";import Menu from\"@material-ui/core/Menu\";import MenuItem from\"@material-ui/core/MenuItem\";import PopupState,{bindTrigger,bindMenu}from\"material-ui-popup-state\";// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport{makeStyles}from\"@material-ui/core/styles\";import{green}from\"@material-ui/core/colors\";import{Button,TableBody,TableRow,TableCell,IconButton,Table,TableHead,Paper,Tooltip,Typography,CircularProgress,Box,Card,CardContent}from\"@material-ui/core\";import{Edit,CheckCircle,SignalCellularConnectedNoInternet2Bar,SignalCellularConnectedNoInternet0Bar,SignalCellular4Bar,CropFree,DeleteOutline,Facebook,Instagram,WhatsApp}from\"@material-ui/icons\";import FacebookLogin from\"react-facebook-login/dist/facebook-login-render-props\";import MainContainer from\"../../components/MainContainer\";import MainHeader from\"../../components/MainHeader\";import MainHeaderButtonsWrapper from\"../../components/MainHeaderButtonsWrapper\";import Title from\"../../components/Title\";import TableRowSkeleton from\"../../components/TableRowSkeleton\";import api from\"../../services/api\";import WhatsAppModal from\"../../components/WhatsAppModal\";import ConfirmationModal from\"../../components/ConfirmationModal\";import QrcodeModal from\"../../components/QrcodeModal\";import{i18n}from\"../../translate/i18n\";import{WhatsAppsContext}from\"../../context/WhatsApp/WhatsAppsContext\";import toastError from\"../../errors/toastError\";import formatSerializedId from'../../utils/formatSerializedId';import{AuthContext}from\"../../context/Auth/AuthContext\";import usePlans from\"../../hooks/usePlans\";import{useHistory}from\"react-router-dom/cjs/react-router-dom.min\";import ForbiddenPage from\"../../components/ForbiddenPage\";import{Can}from\"../../components/Can\";const useStyles=makeStyles(theme=>({mainPaper:{flex:1,// padding: theme.spacing(1),\npadding:theme.padding,overflowY:\"scroll\",...theme.scrollbarStyles},customTableCell:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},tooltip:{backgroundColor:\"#f5f5f9\",color:\"rgba(0, 0, 0, 0.87)\",fontSize:theme.typography.pxToRem(14),border:\"1px solid #dadde9\",maxWidth:450},tooltipPopper:{textAlign:\"center\"},buttonProgress:{color:green[500]}}));function CircularProgressWithLabel(props){return/*#__PURE__*/React.createElement(Box,{position:\"relative\",display:\"inline-flex\"},/*#__PURE__*/React.createElement(CircularProgress,Object.assign({variant:\"determinate\"},props)),/*#__PURE__*/React.createElement(Box,{top:0,left:0,bottom:0,right:0,position:\"absolute\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},/*#__PURE__*/React.createElement(Typography,{variant:\"caption\",component:\"div\",color:\"textSecondary\"},\"\".concat(Math.round(props.value),\"%\"))));}const CustomToolTip=_ref=>{let{title,content,children}=_ref;const classes=useStyles();return/*#__PURE__*/React.createElement(Tooltip,{arrow:true,classes:{tooltip:classes.tooltip,popper:classes.tooltipPopper},title:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Typography,{gutterBottom:true,color:\"inherit\"},title),content&&/*#__PURE__*/React.createElement(Typography,null,content))},children);};const IconChannel=channel=>{switch(channel){case\"facebook\":return/*#__PURE__*/React.createElement(Facebook,{style:{color:\"#3b5998\"}});case\"instagram\":return/*#__PURE__*/React.createElement(Instagram,{style:{color:\"#e1306c\"}});case\"whatsapp\":return/*#__PURE__*/React.createElement(WhatsApp,{style:{color:\"#25d366\"}});default:return\"error\";}};const Connections=()=>{const classes=useStyles();const{whatsApps,loading}=useContext(WhatsAppsContext);const[whatsAppModalOpen,setWhatsAppModalOpen]=useState(false);const[statusImport,setStatusImport]=useState([]);const[qrModalOpen,setQrModalOpen]=useState(false);const[selectedWhatsApp,setSelectedWhatsApp]=useState(null);const[confirmModalOpen,setConfirmModalOpen]=useState(false);const history=useHistory();const confirmationModalInitialState={action:\"\",title:\"\",message:\"\",whatsAppId:\"\",open:false};const[confirmModalInfo,setConfirmModalInfo]=useState(confirmationModalInitialState);const[planConfig,setPlanConfig]=useState(false);//   const socketManager = useContext(SocketContext);\nconst{user,socket}=useContext(AuthContext);const companyId=user.companyId;const{getPlanCompany}=usePlans();useEffect(()=>{async function fetchData(){const planConfigs=await getPlanCompany(undefined,companyId);setPlanConfig(planConfigs);}fetchData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const responseFacebook=response=>{if(response.status!==\"unknown\"){const{accessToken,id}=response;api.post(\"/facebook\",{facebookUserId:id,facebookUserToken:accessToken}).then(response=>{toast.success(i18n.t(\"connections.facebook.success\"));}).catch(error=>{toastError(error);});}};const responseInstagram=response=>{if(response.status!==\"unknown\"){const{accessToken,id}=response;api.post(\"/facebook\",{addInstagram:true,facebookUserId:id,facebookUserToken:accessToken}).then(response=>{toast.success(i18n.t(\"connections.facebook.success\"));}).catch(error=>{toastError(error);});}};useEffect(()=>{// const socket = socketManager.GetSocket();\nsocket.on(\"importMessages-\".concat(user.companyId),data=>{if(data.action===\"refresh\"){setStatusImport([]);history.go(0);}if(data.action===\"update\"){setStatusImport(data.status);}});/* return () => {\n      socket.disconnect();\n    }; */},[whatsApps]);const handleStartWhatsAppSession=async whatsAppId=>{try{await api.post(\"/whatsappsession/\".concat(whatsAppId));}catch(err){toastError(err);}};const handleRequestNewQrCode=async whatsAppId=>{try{await api.put(\"/whatsappsession/\".concat(whatsAppId));}catch(err){toastError(err);}};const handleOpenWhatsAppModal=()=>{setSelectedWhatsApp(null);setWhatsAppModalOpen(true);};const handleCloseWhatsAppModal=useCallback(()=>{setWhatsAppModalOpen(false);setSelectedWhatsApp(null);},[setSelectedWhatsApp,setWhatsAppModalOpen]);const handleOpenQrModal=whatsApp=>{setSelectedWhatsApp(whatsApp);setQrModalOpen(true);};const handleCloseQrModal=useCallback(()=>{setSelectedWhatsApp(null);setQrModalOpen(false);},[setQrModalOpen,setSelectedWhatsApp]);const handleEditWhatsApp=whatsApp=>{setSelectedWhatsApp(whatsApp);setWhatsAppModalOpen(true);};const openInNewTab=url=>{window.open(url,'_blank','noopener,noreferrer');};const handleOpenConfirmationModal=(action,whatsAppId)=>{if(action===\"disconnect\"){setConfirmModalInfo({action:action,title:i18n.t(\"connections.confirmationModal.disconnectTitle\"),message:i18n.t(\"connections.confirmationModal.disconnectMessage\"),whatsAppId:whatsAppId});}if(action===\"delete\"){setConfirmModalInfo({action:action,title:i18n.t(\"connections.confirmationModal.deleteTitle\"),message:i18n.t(\"connections.confirmationModal.deleteMessage\"),whatsAppId:whatsAppId});}if(action===\"closedImported\"){setConfirmModalInfo({action:action,title:i18n.t(\"connections.confirmationModal.closedImportedTitle\"),message:i18n.t(\"connections.confirmationModal.closedImportedMessage\"),whatsAppId:whatsAppId});}setConfirmModalOpen(true);};const handleSubmitConfirmationModal=async()=>{if(confirmModalInfo.action===\"disconnect\"){try{await api.delete(\"/whatsappsession/\".concat(confirmModalInfo.whatsAppId));}catch(err){toastError(err);}}if(confirmModalInfo.action===\"delete\"){try{await api.delete(\"/whatsapp/\".concat(confirmModalInfo.whatsAppId));toast.success(i18n.t(\"connections.toasts.deleted\"));}catch(err){toastError(err);}}if(confirmModalInfo.action===\"closedImported\"){try{await api.post(\"/closedimported/\".concat(confirmModalInfo.whatsAppId));toast.success(i18n.t(\"connections.toasts.closedimported\"));}catch(err){toastError(err);}}setConfirmModalInfo(confirmationModalInitialState);};const renderImportButton=whatsApp=>{if((whatsApp===null||whatsApp===void 0?void 0:whatsApp.statusImportMessages)===\"renderButtonCloseTickets\"){return/*#__PURE__*/React.createElement(Button,{style:{marginLeft:12},size:\"small\",variant:\"outlined\",color:\"primary\",onClick:()=>{handleOpenConfirmationModal(\"closedImported\",whatsApp.id);}},i18n.t(\"connections.buttons.closedImported\"));}if(whatsApp===null||whatsApp===void 0?void 0:whatsApp.importOldMessages){let isTimeStamp=!isNaN(new Date(Math.floor(whatsApp===null||whatsApp===void 0?void 0:whatsApp.statusImportMessages)).getTime());if(isTimeStamp){const ultimoStatus=new Date(Math.floor(whatsApp===null||whatsApp===void 0?void 0:whatsApp.statusImportMessages)).getTime();const dataLimite=+add(ultimoStatus,{seconds:+35}).getTime();if(dataLimite>new Date().getTime()){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{disabled:true,style:{marginLeft:12},size:\"small\",endIcon:/*#__PURE__*/React.createElement(CircularProgress,{size:12,className:classes.buttonProgress}),variant:\"outlined\",color:\"primary\"},i18n.t(\"connections.buttons.preparing\")));}}}};const renderActionButtons=whatsApp=>{return/*#__PURE__*/React.createElement(React.Fragment,null,whatsApp.status===\"qrcode\"&&/*#__PURE__*/React.createElement(Can,{role:user.profile===\"user\"&&user.allowConnections===\"enabled\"?\"admin\":user.profile,perform:\"connections-page:addConnection\",yes:()=>/*#__PURE__*/React.createElement(Button,{size:\"small\",variant:\"contained\",color:\"primary\",onClick:()=>handleOpenQrModal(whatsApp)},i18n.t(\"connections.buttons.qrcode\"))}),whatsApp.status===\"DISCONNECTED\"&&/*#__PURE__*/React.createElement(Can,{role:user.profile===\"user\"&&user.allowConnections===\"enabled\"?\"admin\":user.profile,perform:\"connections-page:addConnection\",yes:()=>/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{size:\"small\",variant:\"outlined\",color:\"primary\",onClick:()=>handleStartWhatsAppSession(whatsApp.id)},i18n.t(\"connections.buttons.tryAgain\")),\" \",/*#__PURE__*/React.createElement(Button,{size:\"small\",variant:\"outlined\",color:\"secondary\",onClick:()=>handleRequestNewQrCode(whatsApp.id)},i18n.t(\"connections.buttons.newQr\")))}),(whatsApp.status===\"CONNECTED\"||whatsApp.status===\"PAIRING\"||whatsApp.status===\"TIMEOUT\")&&/*#__PURE__*/React.createElement(Can,{role:user.profile,perform:\"connections-page:addConnection\",yes:()=>/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{size:\"small\",variant:\"outlined\",color:\"secondary\",onClick:()=>{handleOpenConfirmationModal(\"disconnect\",whatsApp.id);}},i18n.t(\"connections.buttons.disconnect\")),renderImportButton(whatsApp))}),whatsApp.status===\"OPENING\"&&/*#__PURE__*/React.createElement(Button,{size:\"small\",variant:\"outlined\",disabled:true,color:\"default\"},i18n.t(\"connections.buttons.connecting\")));};const renderStatusToolTips=whatsApp=>{return/*#__PURE__*/React.createElement(\"div\",{className:classes.customTableCell},whatsApp.status===\"DISCONNECTED\"&&/*#__PURE__*/React.createElement(CustomToolTip,{title:i18n.t(\"connections.toolTips.disconnected.title\"),content:i18n.t(\"connections.toolTips.disconnected.content\")},/*#__PURE__*/React.createElement(SignalCellularConnectedNoInternet0Bar,{color:\"secondary\"})),whatsApp.status===\"OPENING\"&&/*#__PURE__*/React.createElement(CircularProgress,{size:24,className:classes.buttonProgress}),whatsApp.status===\"qrcode\"&&/*#__PURE__*/React.createElement(CustomToolTip,{title:i18n.t(\"connections.toolTips.qrcode.title\"),content:i18n.t(\"connections.toolTips.qrcode.content\")},/*#__PURE__*/React.createElement(CropFree,null)),whatsApp.status===\"CONNECTED\"&&/*#__PURE__*/React.createElement(CustomToolTip,{title:i18n.t(\"connections.toolTips.connected.title\")},/*#__PURE__*/React.createElement(SignalCellular4Bar,{style:{color:green[500]}})),(whatsApp.status===\"TIMEOUT\"||whatsApp.status===\"PAIRING\")&&/*#__PURE__*/React.createElement(CustomToolTip,{title:i18n.t(\"connections.toolTips.timeout.title\"),content:i18n.t(\"connections.toolTips.timeout.content\")},/*#__PURE__*/React.createElement(SignalCellularConnectedNoInternet2Bar,{color:\"secondary\"})));};const restartWhatsapps=async()=>{try{await api.post(\"/whatsapp-restart/\");toast.success(i18n.t(\"connections.waitConnection\"));}catch(err){toastError(err);}};return/*#__PURE__*/React.createElement(MainContainer,null,/*#__PURE__*/React.createElement(ConfirmationModal,{title:confirmModalInfo.title,open:confirmModalOpen,onClose:setConfirmModalOpen,onConfirm:handleSubmitConfirmationModal},confirmModalInfo.message),qrModalOpen&&/*#__PURE__*/React.createElement(QrcodeModal,{open:qrModalOpen,onClose:handleCloseQrModal,whatsAppId:!whatsAppModalOpen&&(selectedWhatsApp===null||selectedWhatsApp===void 0?void 0:selectedWhatsApp.id)}),/*#__PURE__*/React.createElement(WhatsAppModal,{open:whatsAppModalOpen,onClose:handleCloseWhatsAppModal,whatsAppId:!qrModalOpen&&(selectedWhatsApp===null||selectedWhatsApp===void 0?void 0:selectedWhatsApp.id)}),user.profile===\"user\"&&user.allowConnections===\"disabled\"?/*#__PURE__*/React.createElement(ForbiddenPage,null):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MainHeader,null,/*#__PURE__*/React.createElement(Title,null,i18n.t(\"connections.title\"),\" (\",whatsApps.length,\")\"),/*#__PURE__*/React.createElement(MainHeaderButtonsWrapper,null,/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:restartWhatsapps},i18n.t(\"connections.restartConnections\")),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:()=>openInNewTab(\"https://wa.me/\".concat(process.env.REACT_APP_NUMBER_SUPPORT))},i18n.t(\"connections.callSupport\")),/*#__PURE__*/React.createElement(PopupState,{variant:\"popover\",popupId:\"demo-popup-menu\"},popupState=>/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Can,{role:user.profile,perform:\"connections-page:addConnection\",yes:()=>{var _planConfig$plan,_process$env$REACT_AP,_process$env$REACT_AP2;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,Object.assign({variant:\"contained\",color:\"primary\"},bindTrigger(popupState)),i18n.t(\"connections.newConnection\")),/*#__PURE__*/React.createElement(Menu,bindMenu(popupState),/*#__PURE__*/React.createElement(MenuItem,{disabled:(planConfig===null||planConfig===void 0?void 0:(_planConfig$plan=planConfig.plan)===null||_planConfig$plan===void 0?void 0:_planConfig$plan.useWhatsapp)?false:true,onClick:()=>{handleOpenWhatsAppModal();popupState.close();}},/*#__PURE__*/React.createElement(WhatsApp,{fontSize:\"small\",style:{marginRight:\"10px\",color:\"#25D366\"}}),\"WhatsApp\"),/*#__PURE__*/React.createElement(FacebookLogin,{appId:process.env.REACT_APP_FACEBOOK_APP_ID,autoLoad:false,fields:\"name,email,picture\",version:\"9.0\",scope:((_process$env$REACT_AP=process.env.REACT_APP_REQUIRE_BUSINESS_MANAGEMENT)===null||_process$env$REACT_AP===void 0?void 0:_process$env$REACT_AP.toUpperCase())===\"TRUE\"?\"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\":\"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\",callback:responseFacebook,render:renderProps=>{var _planConfig$plan2;return/*#__PURE__*/React.createElement(MenuItem,{disabled:(planConfig===null||planConfig===void 0?void 0:(_planConfig$plan2=planConfig.plan)===null||_planConfig$plan2===void 0?void 0:_planConfig$plan2.useFacebook)?false:true,onClick:renderProps.onClick},/*#__PURE__*/React.createElement(Facebook,{fontSize:\"small\",style:{marginRight:\"10px\",color:\"#3b5998\"}}),\"Facebook\");}}),/*#__PURE__*/React.createElement(FacebookLogin,{appId:process.env.REACT_APP_FACEBOOK_APP_ID,autoLoad:false,fields:\"name,email,picture\",version:\"9.0\",scope:((_process$env$REACT_AP2=process.env.REACT_APP_REQUIRE_BUSINESS_MANAGEMENT)===null||_process$env$REACT_AP2===void 0?void 0:_process$env$REACT_AP2.toUpperCase())===\"TRUE\"?\"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\":\"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\",callback:responseInstagram,render:renderProps=>{var _planConfig$plan3;return/*#__PURE__*/React.createElement(MenuItem,{disabled:(planConfig===null||planConfig===void 0?void 0:(_planConfig$plan3=planConfig.plan)===null||_planConfig$plan3===void 0?void 0:_planConfig$plan3.useInstagram)?false:true,onClick:renderProps.onClick},/*#__PURE__*/React.createElement(Instagram,{fontSize:\"small\",style:{marginRight:\"10px\",color:\"#e1306c\"}}),\"Instagram\");}})));}}))))),(statusImport===null||statusImport===void 0?void 0:statusImport.all)?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{style:{margin:\"auto\",marginBottom:12}},/*#__PURE__*/React.createElement(Card,{className:classes.root},/*#__PURE__*/React.createElement(CardContent,{className:classes.content},/*#__PURE__*/React.createElement(Typography,{component:\"h5\",variant:\"h5\"},(statusImport===null||statusImport===void 0?void 0:statusImport.this)===-1?i18n.t(\"connections.buttons.preparing\"):i18n.t(\"connections.buttons.importing\")),(statusImport===null||statusImport===void 0?void 0:statusImport.this)===-1?/*#__PURE__*/React.createElement(Typography,{component:\"h6\",variant:\"h6\",align:\"center\"},/*#__PURE__*/React.createElement(CircularProgress,{size:24})):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Typography,{component:\"h6\",variant:\"h6\",align:\"center\"},\"\".concat(i18n.t(\"connections.typography.processed\"),\" \").concat(statusImport===null||statusImport===void 0?void 0:statusImport.this,\" \").concat(i18n.t(\"connections.typography.in\"),\" \").concat(statusImport===null||statusImport===void 0?void 0:statusImport.all,\"  \").concat(i18n.t(\"connections.typography.date\"),\": \").concat(statusImport===null||statusImport===void 0?void 0:statusImport.date,\" \")),/*#__PURE__*/React.createElement(Typography,{align:\"center\"},/*#__PURE__*/React.createElement(CircularProgressWithLabel,{style:{margin:\"auto\"},value:(statusImport===null||statusImport===void 0?void 0:statusImport.this)/(statusImport===null||statusImport===void 0?void 0:statusImport.all)*100}))))))):null,/*#__PURE__*/React.createElement(Paper,{className:classes.mainPaper,variant:\"outlined\"},/*#__PURE__*/React.createElement(Table,{size:\"small\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Channel\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"connections.table.name\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"connections.table.number\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"connections.table.status\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"connections.table.session\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"connections.table.lastUpdate\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"connections.table.default\")),/*#__PURE__*/React.createElement(Can,{role:user.profile===\"user\"&&user.allowConnections===\"enabled\"?\"admin\":user.profile,perform:\"connections-page:addConnection\",yes:()=>/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"connections.table.actions\"))}))),/*#__PURE__*/React.createElement(TableBody,null,loading?/*#__PURE__*/React.createElement(TableRowSkeleton,null):/*#__PURE__*/React.createElement(React.Fragment,null,(whatsApps===null||whatsApps===void 0?void 0:whatsApps.length)>0&&whatsApps.map(whatsApp=>/*#__PURE__*/React.createElement(TableRow,{key:whatsApp.id},/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},IconChannel(whatsApp.channel)),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},whatsApp.name),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},whatsApp.number&&whatsApp.channel==='whatsapp'?/*#__PURE__*/React.createElement(React.Fragment,null,formatSerializedId(whatsApp.number)):whatsApp.number),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},renderStatusToolTips(whatsApp)),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},renderActionButtons(whatsApp)),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},format(parseISO(whatsApp.updatedAt),\"dd/MM/yy HH:mm\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},whatsApp.isDefault&&/*#__PURE__*/React.createElement(\"div\",{className:classes.customTableCell},/*#__PURE__*/React.createElement(CheckCircle,{style:{color:green[500]}}))),/*#__PURE__*/React.createElement(Can,{role:user.profile,perform:\"connections-page:addConnection\",yes:()=>/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},/*#__PURE__*/React.createElement(IconButton,{size:\"small\",onClick:()=>handleEditWhatsApp(whatsApp)},/*#__PURE__*/React.createElement(Edit,null)),/*#__PURE__*/React.createElement(IconButton,{size:\"small\",onClick:e=>{handleOpenConfirmationModal(\"delete\",whatsApp.id);}},/*#__PURE__*/React.createElement(DeleteOutline,null)))})))))))));};export default Connections;","map":{"version":3,"names":["React","useState","useCallback","useContext","useEffect","toast","add","format","parseISO","Menu","MenuItem","PopupState","bindTrigger","bindMenu","makeStyles","green","Button","TableBody","TableRow","TableCell","IconButton","Table","TableHead","Paper","Tooltip","Typography","CircularProgress","Box","Card","CardContent","Edit","CheckCircle","SignalCellularConnectedNoInternet2Bar","SignalCellularConnectedNoInternet0Bar","SignalCellular4Bar","CropFree","DeleteOutline","Facebook","Instagram","WhatsApp","FacebookLogin","MainContainer","MainHeader","MainHeaderButtonsWrapper","Title","TableRowSkeleton","api","WhatsAppModal","ConfirmationModal","QrcodeModal","i18n","WhatsAppsContext","toastError","formatSerializedId","AuthContext","usePlans","useHistory","ForbiddenPage","Can","useStyles","theme","mainPaper","flex","padding","overflowY","scrollbarStyles","customTableCell","display","alignItems","justifyContent","tooltip","backgroundColor","color","fontSize","typography","pxToRem","border","maxWidth","tooltipPopper","textAlign","buttonProgress","CircularProgressWithLabel","props","createElement","position","Object","assign","variant","top","left","bottom","right","component","concat","Math","round","value","CustomToolTip","_ref","title","content","children","classes","arrow","popper","Fragment","gutterBottom","IconChannel","channel","style","Connections","whatsApps","loading","whatsAppModalOpen","setWhatsAppModalOpen","statusImport","setStatusImport","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","history","confirmationModalInitialState","action","message","whatsAppId","open","confirmModalInfo","setConfirmModalInfo","planConfig","setPlanConfig","user","socket","companyId","getPlanCompany","fetchData","planConfigs","undefined","responseFacebook","response","status","accessToken","id","post","facebookUserId","facebookUserToken","then","success","t","catch","error","responseInstagram","addInstagram","on","data","go","handleStartWhatsAppSession","err","handleRequestNewQrCode","put","handleOpenWhatsAppModal","handleCloseWhatsAppModal","handleOpenQrModal","whatsApp","handleCloseQrModal","handleEditWhatsApp","openInNewTab","url","window","handleOpenConfirmationModal","handleSubmitConfirmationModal","delete","renderImportButton","statusImportMessages","marginLeft","size","onClick","importOldMessages","isTimeStamp","isNaN","Date","floor","getTime","ultimoStatus","dataLimite","seconds","disabled","endIcon","className","renderActionButtons","role","profile","allowConnections","perform","yes","renderStatusToolTips","restartWhatsapps","onClose","onConfirm","length","process","env","REACT_APP_NUMBER_SUPPORT","popupId","popupState","_planConfig$plan","_process$env$REACT_AP","_process$env$REACT_AP2","plan","useWhatsapp","close","marginRight","appId","REACT_APP_FACEBOOK_APP_ID","autoLoad","fields","version","scope","REACT_APP_REQUIRE_BUSINESS_MANAGEMENT","toUpperCase","callback","render","renderProps","_planConfig$plan2","useFacebook","_planConfig$plan3","useInstagram","all","margin","marginBottom","root","this","align","date","map","key","name","number","updatedAt","isDefault","e"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/pages/Connections/index.js"],"sourcesContent":["\nimport React, { useState, useCallback, useContext, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { add, format, parseISO } from \"date-fns\";\n\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  TableBody,\n  TableRow,\n  TableCell,\n  IconButton,\n  Table,\n  TableHead,\n  Paper,\n  Tooltip,\n  Typography,\n  CircularProgress,\n  Box,\n  Card,\n  CardContent,\n} from \"@material-ui/core\";\nimport {\n  Edit,\n  CheckCircle,\n  SignalCellularConnectedNoInternet2Bar,\n  SignalCellularConnectedNoInternet0Bar,\n  SignalCellular4Bar,\n  CropFree,\n  DeleteOutline,\n  Facebook,\n  Instagram,\n  WhatsApp,\n} from \"@material-ui/icons\";\n\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\nimport formatSerializedId from '../../utils/formatSerializedId';\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\nimport { Can } from \"../../components/Can\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  tooltip: {\n    backgroundColor: \"#f5f5f9\",\n    color: \"rgba(0, 0, 0, 0.87)\",\n    fontSize: theme.typography.pxToRem(14),\n    border: \"1px solid #dadde9\",\n    maxWidth: 450,\n  },\n  tooltipPopper: {\n    textAlign: \"center\",\n  },\n  buttonProgress: {\n    color: green[500],\n  },\n}));\n\nfunction CircularProgressWithLabel(props) {\n  return (\n    <Box position=\"relative\" display=\"inline-flex\">\n      <CircularProgress variant=\"determinate\" {...props} />\n      <Box\n        top={0}\n        left={0}\n        bottom={0}\n        right={0}\n        position=\"absolute\"\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <Typography\n          variant=\"caption\"\n          component=\"div\"\n          color=\"textSecondary\"\n        >{`${Math.round(props.value)}%`}</Typography>\n      </Box>\n    </Box>\n  );\n}\n\nconst CustomToolTip = ({ title, content, children }) => {\n  const classes = useStyles();\n\n  return (\n    <Tooltip\n      arrow\n      classes={{\n        tooltip: classes.tooltip,\n        popper: classes.tooltipPopper,\n      }}\n      title={\n        <React.Fragment>\n          <Typography gutterBottom color=\"inherit\">\n            {title}\n          </Typography>\n          {content && <Typography>{content}</Typography>}\n        </React.Fragment>\n      }\n    >\n      {children}\n    </Tooltip>\n  );\n};\n\nconst IconChannel = (channel) => {\n  switch (channel) {\n    case \"facebook\":\n      return <Facebook style={{ color: \"#3b5998\" }} />;\n    case \"instagram\":\n      return <Instagram style={{ color: \"#e1306c\" }} />;\n    case \"whatsapp\":\n      return <WhatsApp style={{ color: \"#25d366\" }} />;\n    default:\n      return \"error\";\n  }\n};\n\nconst Connections = () => {\n  const classes = useStyles();\n\n  const { whatsApps, loading } = useContext(WhatsAppsContext);\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n  const [statusImport, setStatusImport] = useState([]);\n  const [qrModalOpen, setQrModalOpen] = useState(false);\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const history = useHistory();\n  const confirmationModalInitialState = {\n    action: \"\",\n    title: \"\",\n    message: \"\",\n    whatsAppId: \"\",\n    open: false,\n  };\n  const [confirmModalInfo, setConfirmModalInfo] = useState(confirmationModalInitialState);\n  const [planConfig, setPlanConfig] = useState(false);\n\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n  const companyId = user.companyId;\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      setPlanConfig(planConfigs)\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const responseFacebook = (response) => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          facebookUserId: id,\n          facebookUserToken: accessToken,\n        })\n        .then((response) => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch((error) => {\n          toastError(error);\n        });\n    }\n  };\n\n  const responseInstagram = (response) => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          addInstagram: true,\n          facebookUserId: id,\n          facebookUserToken: accessToken,\n        })\n        .then((response) => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch((error) => {\n          toastError(error);\n        });\n    }\n  };\n\n  useEffect(() => {\n    // const socket = socketManager.GetSocket();\n    socket.on(`importMessages-${user.companyId}`, (data) => {\n      if (data.action === \"refresh\") {\n        setStatusImport([]);\n        history.go(0);\n      }\n      if (data.action === \"update\") {\n        setStatusImport(data.status);\n      }\n    });\n\n    /* return () => {\n      socket.disconnect();\n    }; */\n  }, [whatsApps]);\n\n  const handleStartWhatsAppSession = async (whatsAppId) => {\n    try {\n      await api.post(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleRequestNewQrCode = async (whatsAppId) => {\n    try {\n      await api.put(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenWhatsAppModal = () => {\n    setSelectedWhatsApp(null);\n    setWhatsAppModalOpen(true);\n  };\n\n  const handleCloseWhatsAppModal = useCallback(() => {\n    setWhatsAppModalOpen(false);\n    setSelectedWhatsApp(null);\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n  const handleOpenQrModal = (whatsApp) => {\n    setSelectedWhatsApp(whatsApp);\n    setQrModalOpen(true);\n  };\n\n  const handleCloseQrModal = useCallback(() => {\n    setSelectedWhatsApp(null);\n    setQrModalOpen(false);\n  }, [setQrModalOpen, setSelectedWhatsApp]);\n\n  const handleEditWhatsApp = (whatsApp) => {\n    setSelectedWhatsApp(whatsApp);\n    setWhatsAppModalOpen(true);\n  };\n\n  const openInNewTab = url => {\n    window.open(url, '_blank', 'noopener,noreferrer');\n  };\n\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\n    if (action === \"disconnect\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n        whatsAppId: whatsAppId,\n      });\n    }\n\n    if (action === \"delete\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n        whatsAppId: whatsAppId,\n      });\n    }\n    if (action === \"closedImported\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.closedImportedTitle\"),\n        message: i18n.t(\"connections.confirmationModal.closedImportedMessage\"),\n        whatsAppId: whatsAppId,\n      });\n    }\n    setConfirmModalOpen(true);\n  };\n\n  const handleSubmitConfirmationModal = async () => {\n    if (confirmModalInfo.action === \"disconnect\") {\n      try {\n        await api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    if (confirmModalInfo.action === \"delete\") {\n      try {\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n    if (confirmModalInfo.action === \"closedImported\") {\n      try {\n        await api.post(`/closedimported/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.closedimported\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    setConfirmModalInfo(confirmationModalInitialState);\n  };\n\n\n  const renderImportButton = (whatsApp) => {\n    if (whatsApp?.statusImportMessages === \"renderButtonCloseTickets\") {\n      return (\n        <Button\n          style={{ marginLeft: 12 }}\n          size=\"small\"\n          variant=\"outlined\"\n          color=\"primary\"\n          onClick={() => {\n            handleOpenConfirmationModal(\"closedImported\", whatsApp.id);\n          }}\n        >\n          {i18n.t(\"connections.buttons.closedImported\")}\n        </Button>\n      );\n    }\n\n    if (whatsApp?.importOldMessages) {\n      let isTimeStamp = !isNaN(\n        new Date(Math.floor(whatsApp?.statusImportMessages)).getTime()\n      );\n\n      if (isTimeStamp) {\n        const ultimoStatus = new Date(\n          Math.floor(whatsApp?.statusImportMessages)\n        ).getTime();\n        const dataLimite = +add(ultimoStatus, { seconds: +35 }).getTime();\n        if (dataLimite > new Date().getTime()) {\n          return (\n            <>\n              <Button\n                disabled\n                style={{ marginLeft: 12 }}\n                size=\"small\"\n                endIcon={\n                  <CircularProgress\n                    size={12}\n                    className={classes.buttonProgress}\n                  />\n                }\n                variant=\"outlined\"\n                color=\"primary\"\n              >\n                {i18n.t(\"connections.buttons.preparing\")}\n              </Button>\n            </>\n          );\n        }\n      }\n    }\n  };\n\n  const renderActionButtons = (whatsApp) => {\n    return (\n      <>\n        {whatsApp.status === \"qrcode\" && (\n          <Can\n            role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\n            perform=\"connections-page:addConnection\"\n            yes={() => (\n              <Button\n                size=\"small\"\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => handleOpenQrModal(whatsApp)}\n              >\n                {i18n.t(\"connections.buttons.qrcode\")}\n              </Button>\n            )}\n          />\n        )}\n        {whatsApp.status === \"DISCONNECTED\" && (\n          <Can\n            role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\n            perform=\"connections-page:addConnection\"\n            yes={() => (\n              <>\n                <Button\n                  size=\"small\"\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  onClick={() => handleStartWhatsAppSession(whatsApp.id)}\n                >\n                  {i18n.t(\"connections.buttons.tryAgain\")}\n                </Button>{\" \"}\n                <Button\n                  size=\"small\"\n                  variant=\"outlined\"\n                  color=\"secondary\"\n                  onClick={() => handleRequestNewQrCode(whatsApp.id)}\n                >\n                  {i18n.t(\"connections.buttons.newQr\")}\n                </Button>\n              </>\n            )}\n          />\n        )}\n        {(whatsApp.status === \"CONNECTED\" ||\n          whatsApp.status === \"PAIRING\" ||\n          whatsApp.status === \"TIMEOUT\") && (\n            <Can\n              role={user.profile}\n              perform=\"connections-page:addConnection\"\n              yes={() => (\n                <>\n                  <Button\n                    size=\"small\"\n                    variant=\"outlined\"\n                    color=\"secondary\"\n                    onClick={() => {\n                      handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n                    }}\n                  >\n                    {i18n.t(\"connections.buttons.disconnect\")}\n                  </Button>\n\n                  {renderImportButton(whatsApp)}\n                </>\n              )}\n            />\n          )}\n        {whatsApp.status === \"OPENING\" && (\n          <Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n            {i18n.t(\"connections.buttons.connecting\")}\n          </Button>\n        )}\n      </>\n    );\n  };\n\n  const renderStatusToolTips = (whatsApp) => {\n    return (\n      <div className={classes.customTableCell}>\n        {whatsApp.status === \"DISCONNECTED\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.disconnected.title\")}\n            content={i18n.t(\"connections.toolTips.disconnected.content\")}\n          >\n            <SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"OPENING\" && (\n          <CircularProgress size={24} className={classes.buttonProgress} />\n        )}\n        {whatsApp.status === \"qrcode\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.qrcode.title\")}\n            content={i18n.t(\"connections.toolTips.qrcode.content\")}\n          >\n            <CropFree />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"CONNECTED\" && (\n          <CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n            <SignalCellular4Bar style={{ color: green[500] }} />\n          </CustomToolTip>\n        )}\n        {(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.timeout.title\")}\n            content={i18n.t(\"connections.toolTips.timeout.content\")}\n          >\n            <SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n      </div>\n    );\n  };\n\n  const restartWhatsapps = async () => {\n\n    try {\n      await api.post(`/whatsapp-restart/`);\n      toast.success(i18n.t(\"connections.waitConnection\"));\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={confirmModalInfo.title}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={handleSubmitConfirmationModal}\n      >\n        {confirmModalInfo.message}\n      </ConfirmationModal>\n      {qrModalOpen && (\n        <QrcodeModal\n          open={qrModalOpen}\n          onClose={handleCloseQrModal}\n          whatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n        />\n      )}\n      <WhatsAppModal\n        open={whatsAppModalOpen}\n        onClose={handleCloseWhatsAppModal}\n        whatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n      />\n      {user.profile === \"user\" && user.allowConnections === \"disabled\" ?\n        <ForbiddenPage />\n        :\n        <>\n          <MainHeader>\n            <Title>{i18n.t(\"connections.title\")} ({whatsApps.length})</Title>\n            <MainHeaderButtonsWrapper>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={restartWhatsapps}\n              >\n                {i18n.t(\"connections.restartConnections\")}\n              </Button>\n\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => openInNewTab(`https://wa.me/${process.env.REACT_APP_NUMBER_SUPPORT}`)}\n              >\n                {i18n.t(\"connections.callSupport\")}\n              </Button>\n              <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\n                {(popupState) => (\n                  <React.Fragment>\n                    <Can\n                      role={user.profile}\n                      perform=\"connections-page:addConnection\"\n                      yes={() => (\n                        <>\n                          <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            {...bindTrigger(popupState)}\n                          >\n                            {i18n.t(\"connections.newConnection\")}\n                          </Button>\n                          <Menu {...bindMenu(popupState)}>\n                            {/* WHATSAPP */}\n                            <MenuItem\n                              disabled={planConfig?.plan?.useWhatsapp ? false : true}\n                              onClick={() => {\n                                handleOpenWhatsAppModal();\n                                popupState.close();\n                              }}\n                            >\n                              <WhatsApp\n                                fontSize=\"small\"\n                                style={{\n                                  marginRight: \"10px\",\n                                  color: \"#25D366\",\n                                }}\n                              />\n                              WhatsApp\n                            </MenuItem>\n                            {/* FACEBOOK */}\n                            <FacebookLogin\n                              appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                              autoLoad={false}\n                              fields=\"name,email,picture\"\n                              version=\"9.0\"\n                              scope={process.env.REACT_APP_REQUIRE_BUSINESS_MANAGEMENT?.toUpperCase() === \"TRUE\" ?\n                                \"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\n                                : \"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\"}\n                              callback={responseFacebook}\n                              render={(renderProps) => (\n                                <MenuItem\n                                  disabled={planConfig?.plan?.useFacebook ? false : true}\n                                  onClick={renderProps.onClick}\n                                >\n                                  <Facebook\n                                    fontSize=\"small\"\n                                    style={{\n                                      marginRight: \"10px\",\n                                      color: \"#3b5998\",\n                                    }}\n                                  />\n                                  Facebook\n                                </MenuItem>\n                              )}\n                            />\n                            {/* INSTAGRAM */}\n                            <FacebookLogin\n                              appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                              autoLoad={false}\n                              fields=\"name,email,picture\"\n                              version=\"9.0\"\n                              scope={process.env.REACT_APP_REQUIRE_BUSINESS_MANAGEMENT?.toUpperCase() === \"TRUE\" ?\n                                \"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\n                                : \"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\"}\n                              callback={responseInstagram}\n                              render={(renderProps) => (\n                                <MenuItem\n                                  disabled={planConfig?.plan?.useInstagram ? false : true}\n                                  onClick={renderProps.onClick}\n                                >\n                                  <Instagram\n                                    fontSize=\"small\"\n                                    style={{\n                                      marginRight: \"10px\",\n                                      color: \"#e1306c\",\n                                    }}\n                                  />\n                                  Instagram\n                                </MenuItem>\n                              )}\n                            />\n                          </Menu>\n                        </>\n                      )}\n                    />\n                  </React.Fragment>\n                )}\n              </PopupState>\n            </MainHeaderButtonsWrapper>\n          </MainHeader>\n\n          {\n            statusImport?.all ? (\n              <>\n                <div style={{ margin: \"auto\", marginBottom: 12 }}>\n                  <Card className={classes.root}>\n                    <CardContent className={classes.content}>\n                      <Typography component=\"h5\" variant=\"h5\">\n\n                        {statusImport?.this === -1 ? i18n.t(\"connections.buttons.preparing\") : i18n.t(\"connections.buttons.importing\")}\n\n                      </Typography>\n                      {statusImport?.this === -1 ?\n                        <Typography component=\"h6\" variant=\"h6\" align=\"center\">\n\n                          <CircularProgress\n                            size={24}\n                          />\n\n                        </Typography>\n                        :\n                        <>\n                          <Typography component=\"h6\" variant=\"h6\" align=\"center\">\n                            {`${i18n.t(`connections.typography.processed`)} ${statusImport?.this} ${i18n.t(`connections.typography.in`)} ${statusImport?.all}  ${i18n.t(`connections.typography.date`)}: ${statusImport?.date} `}\n                          </Typography>\n                          <Typography align=\"center\">\n                            <CircularProgressWithLabel\n                              style={{ margin: \"auto\" }}\n                              value={(statusImport?.this / statusImport?.all) * 100}\n                            />\n                          </Typography>\n                        </>\n                      }\n                    </CardContent>\n                  </Card>\n                </div>\n              </>\n            ) : null\n          }\n\n          <Paper className={classes.mainPaper} variant=\"outlined\">\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"center\">Channel</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.name\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.number\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.status\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.session\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.lastUpdate\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.default\")}</TableCell>\n                  <Can\n                    role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\n                    perform=\"connections-page:addConnection\"\n                    yes={() => (\n                      <TableCell align=\"center\">{i18n.t(\"connections.table.actions\")}</TableCell>\n                    )}\n                  />\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {loading ? (\n                  <TableRowSkeleton />\n                ) : (\n                  <>\n                    {whatsApps?.length > 0 &&\n                      whatsApps.map((whatsApp) => (\n                        <TableRow key={whatsApp.id}>\n                          <TableCell align=\"center\">{IconChannel(whatsApp.channel)}</TableCell>\n                          <TableCell align=\"center\">{whatsApp.name}</TableCell>\n                          <TableCell align=\"center\">{whatsApp.number && whatsApp.channel === 'whatsapp' ? (<>{formatSerializedId(whatsApp.number)}</>) : whatsApp.number}</TableCell>\n                          <TableCell align=\"center\">{renderStatusToolTips(whatsApp)}</TableCell>\n                          <TableCell align=\"center\">{renderActionButtons(whatsApp)}</TableCell>\n                          <TableCell align=\"center\">{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}</TableCell>\n                          <TableCell align=\"center\">\n                            {whatsApp.isDefault && (\n                              <div className={classes.customTableCell}>\n                                <CheckCircle style={{ color: green[500] }} />\n                              </div>\n                            )}\n                          </TableCell>\n                          <Can\n                            role={user.profile}\n                            perform=\"connections-page:addConnection\"\n                            yes={() => (\n                              <TableCell align=\"center\">\n                                <IconButton\n                                  size=\"small\"\n                                  onClick={() => handleEditWhatsApp(whatsApp)}\n                                >\n                                  <Edit />\n                                </IconButton>\n\n                                <IconButton\n                                  size=\"small\"\n                                  onClick={(e) => {\n                                    handleOpenConfirmationModal(\"delete\", whatsApp.id);\n                                  }}\n                                >\n                                  <DeleteOutline />\n                                </IconButton>\n                              </TableCell>\n                            )}\n                          />\n                        </TableRow>\n                      ))}\n                  </>\n                )}\n              </TableBody>\n            </Table>\n          </Paper>\n        </>\n      }\n    </MainContainer >\n\n  );\n};\n\nexport default Connections;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}