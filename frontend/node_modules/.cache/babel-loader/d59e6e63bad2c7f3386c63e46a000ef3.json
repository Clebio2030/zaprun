{"ast":null,"code":"import React,{useState,useEffect,useReducer,useContext,useMemo}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import List from\"@material-ui/core/List\";import Paper from\"@material-ui/core/Paper\";import TicketListItem from\"../TicketListItemCustom\";import TicketsListSkeleton from\"../TicketsListSkeleton\";import useTickets from\"../../hooks/useTickets\";import{i18n}from\"../../translate/i18n\";import{AuthContext}from\"../../context/Auth/AuthContext\";const useStyles=makeStyles(theme=>({ticketsListWrapper:{position:\"relative\",display:\"flex\",height:\"100%\",flexDirection:\"column\",overflow:\"hidden\",borderTopRightRadius:0,borderBottomRightRadius:0},ticketsList:{flex:1,maxHeight:\"100%\",overflowY:\"scroll\",...theme.scrollbarStyles,borderTop:\"2px solid rgba(0, 0, 0, 0.12)\"},ticketsListHeader:{color:\"rgb(67, 83, 105)\",zIndex:2,backgroundColor:\"white\",borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\"},ticketsCount:{fontWeight:\"normal\",color:\"rgb(104, 121, 146)\",marginLeft:\"8px\",fontSize:\"14px\"},noTicketsText:{textAlign:\"center\",color:\"rgb(104, 121, 146)\",fontSize:\"14px\",lineHeight:\"1.4\"},noTicketsTitle:{textAlign:\"center\",fontSize:\"16px\",fontWeight:\"600\",margin:\"0px\"},noTicketsDiv:{display:\"flex\",// height: \"190px\",\nmargin:40,flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\"}}));const ticketSortAsc=(a,b)=>{if(a.updatedAt<b.updatedAt){return-1;}if(a.updatedAt>b.updatedAt){return 1;}return 0;};const ticketSortDesc=(a,b)=>{if(a.updatedAt>b.updatedAt){return-1;}if(a.updatedAt<b.updatedAt){return 1;}return 0;};const reducer=(state,action)=>{const sortDir=action.sortDir;if(action.type===\"LOAD_TICKETS\"){const newTickets=action.payload;newTickets.forEach(ticket=>{const ticketIndex=state.findIndex(t=>t.id===ticket.id);if(ticketIndex!==-1){state[ticketIndex]=ticket;if(ticket.unreadMessages>0){state.unshift(state.splice(ticketIndex,1)[0]);}}else{state.push(ticket);}});if(sortDir&&['ASC','DESC'].includes(sortDir)){sortDir==='ASC'?state.sort(ticketSortAsc):state.sort(ticketSortDesc);}return[...state];}if(action.type===\"RESET_UNREAD\"){const ticketId=action.payload;const ticketIndex=state.findIndex(t=>t.id===ticketId);if(ticketIndex!==-1){state[ticketIndex].unreadMessages=0;}if(sortDir&&['ASC','DESC'].includes(sortDir)){sortDir==='ASC'?state.sort(ticketSortAsc):state.sort(ticketSortDesc);}return[...state];}if(action.type===\"UPDATE_TICKET\"){const ticket=action.payload;const ticketIndex=state.findIndex(t=>t.id===ticket.id);if(ticketIndex!==-1){state[ticketIndex]=ticket;}else{state.unshift(ticket);}if(sortDir&&['ASC','DESC'].includes(sortDir)){sortDir==='ASC'?state.sort(ticketSortAsc):state.sort(ticketSortDesc);}return[...state];}if(action.type===\"UPDATE_TICKET_UNREAD_MESSAGES\"){const ticket=action.payload;const ticketIndex=state.findIndex(t=>t.id===ticket.id);if(ticketIndex!==-1){state[ticketIndex]=ticket;state.unshift(state.splice(ticketIndex,1)[0]);}else{if(action.status===action.payload.status){state.unshift(ticket);}}if(sortDir&&['ASC','DESC'].includes(sortDir)){sortDir==='ASC'?state.sort(ticketSortAsc):state.sort(ticketSortDesc);}return[...state];}if(action.type===\"UPDATE_TICKET_CONTACT\"){const contact=action.payload;const ticketIndex=state.findIndex(t=>t.contactId===contact.id);if(ticketIndex!==-1){state[ticketIndex].contact=contact;}return[...state];}if(action.type===\"DELETE_TICKET\"){const ticketId=action.payload;const ticketIndex=state.findIndex(t=>t.id===ticketId);if(ticketIndex!==-1){state.splice(ticketIndex,1);}if(sortDir&&['ASC','DESC'].includes(sortDir)){sortDir==='ASC'?state.sort(ticketSortAsc):state.sort(ticketSortDesc);}return[...state];}if(action.type===\"RESET\"){return[];}};const TicketsListCustom=props=>{const{setTabOpen,status,searchParam,searchOnMessages,tags,users,showAll,selectedQueueIds,updateCount,style,whatsappIds,forceSearch,statusFilter,userFilter,sortTickets}=props;const classes=useStyles();const[pageNumber,setPageNumber]=useState(1);let[ticketsList,dispatch]=useReducer(reducer,[]);//   const socketManager = useContext(SocketContext);\nconst{user,socket}=useContext(AuthContext);const{profile,queues}=user;const showTicketWithoutQueue=user.allTicket==='enable';const companyId=user.companyId;useEffect(()=>{dispatch({type:\"RESET\"});setPageNumber(1);},[status,searchParam,dispatch,showAll,tags,users,forceSearch,selectedQueueIds,whatsappIds,statusFilter,sortTickets,searchOnMessages]);const{tickets,hasMore,loading}=useTickets({pageNumber,searchParam,status,showAll,searchOnMessages:searchOnMessages?\"true\":\"false\",tags:JSON.stringify(tags),users:JSON.stringify(users),queueIds:JSON.stringify(selectedQueueIds),whatsappIds:JSON.stringify(whatsappIds),statusFilter:JSON.stringify(statusFilter),userFilter,sortTickets});useEffect(()=>{// const queueIds = queues.map((q) => q.id);\n// const filteredTickets = tickets.filter(\n//     (t) => queueIds.indexOf(t.queueId) > -1\n// );\n// const allticket = user.allTicket === 'enabled';\n// if (profile === \"admin\" || allTicket || allowGroup || allHistoric) {\nif(companyId){dispatch({type:\"LOAD_TICKETS\",payload:tickets,status,sortDir:sortTickets});}// } else {\n//  dispatch({ type: \"LOAD_TICKETS\", payload: filteredTickets });\n// }\n},[tickets]);useEffect(()=>{const shouldUpdateTicket=ticket=>{return(!(ticket===null||ticket===void 0?void 0:ticket.userId)||(ticket===null||ticket===void 0?void 0:ticket.userId)===(user===null||user===void 0?void 0:user.id)||showAll)&&(!(ticket===null||ticket===void 0?void 0:ticket.queueId)&&showTicketWithoutQueue||selectedQueueIds.indexOf(ticket===null||ticket===void 0?void 0:ticket.queueId)>-1);// (!blockNonDefaultConnections || (ticket.status == 'group' && ignoreUserConnectionForGroups) || !user?.whatsappId || ticket.whatsappId == user?.whatsappId);\n};// const shouldUpdateTicketUser = (ticket) =>\n//     selectedQueueIds.indexOf(ticket?.queueId) > -1 && (ticket?.userId === user?.id || !ticket?.userId);\nconst notBelongsToUserQueues=ticket=>ticket.queueId&&selectedQueueIds.indexOf(ticket.queueId)===-1;const onCompanyTicketTicketsList=data=>{if(data.action===\"updateUnread\"){dispatch({type:\"RESET_UNREAD\",payload:data.ticketId,status:status,sortDir:sortTickets});}if(data.action===\"update\"&&shouldUpdateTicket(data.ticket)&&data.ticket.status===status){dispatch({type:\"UPDATE_TICKET\",payload:data.ticket,status:status,sortDir:sortTickets});}// else if (data.action === \"update\" && shouldUpdateTicketUser(data.ticket) && data.ticket.status === status) {\n//     dispatch({\n//         type: \"UPDATE_TICKET\",\n//         payload: data.ticket,\n//     });\n// }\nif(data.action===\"update\"&&notBelongsToUserQueues(data.ticket)){var _data$ticket;dispatch({type:\"DELETE_TICKET\",payload:(_data$ticket=data.ticket)===null||_data$ticket===void 0?void 0:_data$ticket.id,status:status,sortDir:sortTickets});}if(data.action===\"delete\"){dispatch({type:\"DELETE_TICKET\",payload:data===null||data===void 0?void 0:data.ticketId,status:status,sortDir:sortTickets});}};const onCompanyAppMessageTicketsList=data=>{if(data.action===\"create\"&&shouldUpdateTicket(data.ticket)&&data.ticket.status===status){dispatch({type:\"UPDATE_TICKET_UNREAD_MESSAGES\",payload:data.ticket,status:status,sortDir:sortTickets});}// else if (data.action === \"create\" && shouldUpdateTicketUser(data.ticket) && data.ticket.status === status) {\n//     dispatch({\n//         type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n//         payload: data.ticket,\n//     });\n// }\n};const onCompanyContactTicketsList=data=>{if(data.action===\"update\"&&data.contact){dispatch({type:\"UPDATE_TICKET_CONTACT\",payload:data.contact,status:status,sortDir:sortTickets});}};const onConnectTicketsList=()=>{if(status){socket.emit(\"joinTickets\",status);}else{socket.emit(\"joinNotification\");}};socket.on(\"connect\",onConnectTicketsList);socket.on(\"company-\".concat(companyId,\"-ticket\"),onCompanyTicketTicketsList);socket.on(\"company-\".concat(companyId,\"-appMessage\"),onCompanyAppMessageTicketsList);socket.on(\"company-\".concat(companyId,\"-contact\"),onCompanyContactTicketsList);return()=>{if(status){socket.emit(\"leaveTickets\",status);}else{socket.emit(\"leaveNotification\");}socket.off(\"connect\",onConnectTicketsList);socket.off(\"company-\".concat(companyId,\"-ticket\"),onCompanyTicketTicketsList);socket.off(\"company-\".concat(companyId,\"-appMessage\"),onCompanyAppMessageTicketsList);socket.off(\"company-\".concat(companyId,\"-contact\"),onCompanyContactTicketsList);};},[status,showAll,user,selectedQueueIds,tags,users,profile,queues,sortTickets,showTicketWithoutQueue]);useEffect(()=>{if(typeof updateCount===\"function\"){updateCount(ticketsList.length);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[ticketsList]);const loadMore=()=>{setPageNumber(prevState=>prevState+1);};const handleScroll=e=>{if(!hasMore||loading)return;const{scrollTop,scrollHeight,clientHeight}=e.currentTarget;if(scrollHeight-(scrollTop+100)<clientHeight){loadMore();}};if(status&&status!==\"search\"){ticketsList=ticketsList.filter(ticket=>ticket.status===status);}return/*#__PURE__*/React.createElement(Paper,{className:classes.ticketsListWrapper,style:style},/*#__PURE__*/React.createElement(Paper,{square:true,name:\"closed\",elevation:0,className:classes.ticketsList,onScroll:handleScroll},/*#__PURE__*/React.createElement(List,{style:{paddingTop:0}},ticketsList.length===0&&!loading?/*#__PURE__*/React.createElement(\"div\",{className:classes.noTicketsDiv},/*#__PURE__*/React.createElement(\"span\",{className:classes.noTicketsTitle},i18n.t(\"ticketsList.noTicketsTitle\")),/*#__PURE__*/React.createElement(\"p\",{className:classes.noTicketsText},i18n.t(\"ticketsList.noTicketsMessage\"))):/*#__PURE__*/React.createElement(React.Fragment,null,ticketsList.map(ticket=>/*#__PURE__*/React.createElement(TicketListItem,{ticket:ticket,key:ticket.id,setTabOpen:setTabOpen})// </List>\n)),loading&&/*#__PURE__*/React.createElement(TicketsListSkeleton,null))));};export default TicketsListCustom;","map":{"version":3,"names":["React","useState","useEffect","useReducer","useContext","useMemo","makeStyles","List","Paper","TicketListItem","TicketsListSkeleton","useTickets","i18n","AuthContext","useStyles","theme","ticketsListWrapper","position","display","height","flexDirection","overflow","borderTopRightRadius","borderBottomRightRadius","ticketsList","flex","maxHeight","overflowY","scrollbarStyles","borderTop","ticketsListHeader","color","zIndex","backgroundColor","borderBottom","alignItems","justifyContent","ticketsCount","fontWeight","marginLeft","fontSize","noTicketsText","textAlign","lineHeight","noTicketsTitle","margin","noTicketsDiv","ticketSortAsc","a","b","updatedAt","ticketSortDesc","reducer","state","action","sortDir","type","newTickets","payload","forEach","ticket","ticketIndex","findIndex","t","id","unreadMessages","unshift","splice","push","includes","sort","ticketId","status","contact","contactId","TicketsListCustom","props","setTabOpen","searchParam","searchOnMessages","tags","users","showAll","selectedQueueIds","updateCount","style","whatsappIds","forceSearch","statusFilter","userFilter","sortTickets","classes","pageNumber","setPageNumber","dispatch","user","socket","profile","queues","showTicketWithoutQueue","allTicket","companyId","tickets","hasMore","loading","JSON","stringify","queueIds","shouldUpdateTicket","userId","queueId","indexOf","notBelongsToUserQueues","onCompanyTicketTicketsList","data","_data$ticket","onCompanyAppMessageTicketsList","onCompanyContactTicketsList","onConnectTicketsList","emit","on","concat","off","length","loadMore","prevState","handleScroll","e","scrollTop","scrollHeight","clientHeight","currentTarget","filter","createElement","className","square","name","elevation","onScroll","paddingTop","Fragment","map","key"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/components/TicketsListCustom/index.js"],"sourcesContent":["import React, { useState, useEffect, useReducer, useContext, useMemo } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport TicketListItem from \"../TicketListItemCustom\";\r\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\r\n\r\nimport useTickets from \"../../hooks/useTickets\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    ticketsListWrapper: {\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        height: \"100%\",\r\n        flexDirection: \"column\",\r\n        overflow: \"hidden\",\r\n        borderTopRightRadius: 0,\r\n        borderBottomRightRadius: 0,\r\n    },\r\n\r\n    ticketsList: {\r\n        flex: 1,\r\n        maxHeight: \"100%\",\r\n        overflowY: \"scroll\",\r\n        ...theme.scrollbarStyles,\r\n        borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\r\n    },\r\n\r\n    ticketsListHeader: {\r\n        color: \"rgb(67, 83, 105)\",\r\n        zIndex: 2,\r\n        backgroundColor: \"white\",\r\n        borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-between\",\r\n    },\r\n\r\n    ticketsCount: {\r\n        fontWeight: \"normal\",\r\n        color: \"rgb(104, 121, 146)\",\r\n        marginLeft: \"8px\",\r\n        fontSize: \"14px\",\r\n    },\r\n\r\n    noTicketsText: {\r\n        textAlign: \"center\",\r\n        color: \"rgb(104, 121, 146)\",\r\n        fontSize: \"14px\",\r\n        lineHeight: \"1.4\",\r\n    },\r\n\r\n    noTicketsTitle: {\r\n        textAlign: \"center\",\r\n        fontSize: \"16px\",\r\n        fontWeight: \"600\",\r\n        margin: \"0px\",\r\n    },\r\n\r\n    noTicketsDiv: {\r\n        display: \"flex\",\r\n        // height: \"190px\",\r\n        margin: 40,\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n}));\r\n\r\nconst ticketSortAsc = (a, b) => {\r\n    \r\n    if (a.updatedAt < b.updatedAt) {\r\n        return -1;\r\n    }\r\n    if (a.updatedAt > b.updatedAt) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nconst ticketSortDesc = (a, b) => {\r\n   \r\n    if (a.updatedAt > b.updatedAt) {\r\n        return -1;\r\n    }\r\n    if (a.updatedAt < b.updatedAt) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n    const sortDir = action.sortDir;\r\n    \r\n    if (action.type === \"LOAD_TICKETS\") {\r\n        const newTickets = action.payload;\r\n\r\n        newTickets.forEach((ticket) => {\r\n            const ticketIndex = state.findIndex((t) => t.id === ticket.id);\r\n            if (ticketIndex !== -1) {\r\n                state[ticketIndex] = ticket;\r\n                if (ticket.unreadMessages > 0) {\r\n                    state.unshift(state.splice(ticketIndex, 1)[0]);\r\n                }\r\n            } else {\r\n                state.push(ticket);\r\n            }\r\n        });\r\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\r\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\r\n        }\r\n\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"RESET_UNREAD\") {\r\n        const ticketId = action.payload;\r\n\r\n        const ticketIndex = state.findIndex((t) => t.id === ticketId);\r\n        if (ticketIndex !== -1) {\r\n            state[ticketIndex].unreadMessages = 0;\r\n        }\r\n\r\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\r\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\r\n        }\r\n\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"UPDATE_TICKET\") {\r\n        const ticket = action.payload;\r\n\r\n        const ticketIndex = state.findIndex((t) => t.id === ticket.id);\r\n        if (ticketIndex !== -1) {\r\n            state[ticketIndex] = ticket;\r\n        } else {\r\n            state.unshift(ticket);\r\n        }\r\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\r\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\r\n        }\r\n\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\r\n        const ticket = action.payload;\r\n\r\n        const ticketIndex = state.findIndex((t) => t.id === ticket.id);\r\n        if (ticketIndex !== -1) {\r\n            state[ticketIndex] = ticket;\r\n            state.unshift(state.splice(ticketIndex, 1)[0]);\r\n        } else {\r\n            if (action.status === action.payload.status) {\r\n                state.unshift(ticket);\r\n            }\r\n        }\r\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\r\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\r\n        }\r\n\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"UPDATE_TICKET_CONTACT\") {\r\n        const contact = action.payload;\r\n        const ticketIndex = state.findIndex((t) => t.contactId === contact.id);\r\n        if (ticketIndex !== -1) {\r\n            state[ticketIndex].contact = contact;\r\n        }\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"DELETE_TICKET\") {\r\n        const ticketId = action.payload;\r\n        const ticketIndex = state.findIndex((t) => t.id === ticketId);\r\n        if (ticketIndex !== -1) {\r\n            state.splice(ticketIndex, 1);\r\n        }\r\n\r\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\r\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\r\n        }\r\n\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"RESET\") {\r\n        return [];\r\n    }\r\n};\r\n\r\nconst TicketsListCustom = (props) => {\r\n    const {\r\n        setTabOpen,\r\n        status,\r\n        searchParam,\r\n        searchOnMessages,\r\n        tags,\r\n        users,\r\n        showAll,\r\n        selectedQueueIds,\r\n        updateCount,\r\n        style,\r\n        whatsappIds,\r\n        forceSearch,\r\n        statusFilter,\r\n        userFilter,\r\n        sortTickets\r\n    } = props;\r\n\r\n    const classes = useStyles();\r\n    const [pageNumber, setPageNumber] = useState(1);\r\n    let [ticketsList, dispatch] = useReducer(reducer, []);\r\n    //   const socketManager = useContext(SocketContext);\r\n    const { user, socket } = useContext(AuthContext);\r\n\r\n    const { profile, queues } = user;\r\n    const showTicketWithoutQueue = user.allTicket === 'enable';\r\n    const companyId = user.companyId;\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: \"RESET\" });\r\n        setPageNumber(1);\r\n    }, [status, searchParam, dispatch, showAll, tags, users, forceSearch, selectedQueueIds, whatsappIds, statusFilter, sortTickets, searchOnMessages]);\r\n\r\n    const { tickets, hasMore, loading } = useTickets({\r\n        pageNumber,\r\n        searchParam,\r\n        status,\r\n        showAll,\r\n        searchOnMessages: searchOnMessages ? \"true\" : \"false\",\r\n        tags: JSON.stringify(tags),\r\n        users: JSON.stringify(users),\r\n        queueIds: JSON.stringify(selectedQueueIds),\r\n        whatsappIds: JSON.stringify(whatsappIds),\r\n        statusFilter: JSON.stringify(statusFilter),\r\n        userFilter,\r\n        sortTickets\r\n    });\r\n\r\n\r\n    useEffect(() => {\r\n        // const queueIds = queues.map((q) => q.id);\r\n        // const filteredTickets = tickets.filter(\r\n        //     (t) => queueIds.indexOf(t.queueId) > -1\r\n        // );\r\n        // const allticket = user.allTicket === 'enabled';\r\n        // if (profile === \"admin\" || allTicket || allowGroup || allHistoric) {\r\n        if (companyId) {\r\n            dispatch({\r\n                type: \"LOAD_TICKETS\",\r\n                payload: tickets,\r\n                status,\r\n                sortDir: sortTickets\r\n            });\r\n        }\r\n        // } else {\r\n        //  dispatch({ type: \"LOAD_TICKETS\", payload: filteredTickets });\r\n        // }\r\n\r\n    }, [tickets]);\r\n\r\n    useEffect(() => {\r\n        const shouldUpdateTicket = ticket => {\r\n            return (!ticket?.userId || ticket?.userId === user?.id || showAll) &&\r\n                ((!ticket?.queueId && showTicketWithoutQueue) || selectedQueueIds.indexOf(ticket?.queueId) > -1)\r\n            // (!blockNonDefaultConnections || (ticket.status == 'group' && ignoreUserConnectionForGroups) || !user?.whatsappId || ticket.whatsappId == user?.whatsappId);\r\n        }\r\n        // const shouldUpdateTicketUser = (ticket) =>\r\n        //     selectedQueueIds.indexOf(ticket?.queueId) > -1 && (ticket?.userId === user?.id || !ticket?.userId);\r\n\r\n        const notBelongsToUserQueues = (ticket) =>\r\n            ticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\r\n\r\n        const onCompanyTicketTicketsList = (data) => {\r\n            if (data.action === \"updateUnread\") {\r\n                dispatch({\r\n                    type: \"RESET_UNREAD\",\r\n                    payload: data.ticketId,\r\n                    status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n            }\r\n            if (data.action === \"update\" &&\r\n                shouldUpdateTicket(data.ticket) && data.ticket.status === status) {\r\n                dispatch({\r\n                    type: \"UPDATE_TICKET\",\r\n                    payload: data.ticket,\r\n                    status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n            }\r\n\r\n            // else if (data.action === \"update\" && shouldUpdateTicketUser(data.ticket) && data.ticket.status === status) {\r\n            //     dispatch({\r\n            //         type: \"UPDATE_TICKET\",\r\n            //         payload: data.ticket,\r\n            //     });\r\n            // }\r\n            if (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\r\n                dispatch({\r\n                    type: \"DELETE_TICKET\", payload: data.ticket?.id, status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n            }\r\n\r\n            if (data.action === \"delete\") {\r\n                dispatch({\r\n                    type: \"DELETE_TICKET\", payload: data?.ticketId, status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n\r\n            }\r\n        };\r\n\r\n        const onCompanyAppMessageTicketsList = (data) => {\r\n            if (data.action === \"create\" &&\r\n                shouldUpdateTicket(data.ticket) && data.ticket.status === status) {\r\n                dispatch({\r\n                    type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\r\n                    payload: data.ticket,\r\n                    status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n            }\r\n            // else if (data.action === \"create\" && shouldUpdateTicketUser(data.ticket) && data.ticket.status === status) {\r\n            //     dispatch({\r\n            //         type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\r\n            //         payload: data.ticket,\r\n            //     });\r\n            // }\r\n        };\r\n\r\n        const onCompanyContactTicketsList = (data) => {\r\n            if (data.action === \"update\" && data.contact) {\r\n                dispatch({\r\n                    type: \"UPDATE_TICKET_CONTACT\",\r\n                    payload: data.contact,\r\n                    status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n            }\r\n        };\r\n\r\n        const onConnectTicketsList = () => {\r\n            if (status) {\r\n                socket.emit(\"joinTickets\", status);\r\n            } else {\r\n                socket.emit(\"joinNotification\");\r\n            }\r\n        }\r\n\r\n        socket.on(\"connect\", onConnectTicketsList)\r\n        socket.on(`company-${companyId}-ticket`, onCompanyTicketTicketsList);\r\n        socket.on(`company-${companyId}-appMessage`, onCompanyAppMessageTicketsList);\r\n        socket.on(`company-${companyId}-contact`, onCompanyContactTicketsList);\r\n\r\n        return () => {\r\n            if (status) {\r\n                socket.emit(\"leaveTickets\", status);\r\n            } else {\r\n                socket.emit(\"leaveNotification\");\r\n            }\r\n            socket.off(\"connect\", onConnectTicketsList);\r\n            socket.off(`company-${companyId}-ticket`, onCompanyTicketTicketsList);\r\n            socket.off(`company-${companyId}-appMessage`, onCompanyAppMessageTicketsList);\r\n            socket.off(`company-${companyId}-contact`, onCompanyContactTicketsList);\r\n        };\r\n\r\n    }, [status, showAll, user, selectedQueueIds, tags, users, profile, queues, sortTickets, showTicketWithoutQueue]);\r\n\r\n    useEffect(() => {\r\n        if (typeof updateCount === \"function\") {\r\n            updateCount(ticketsList.length);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [ticketsList]);\r\n\r\n    const loadMore = () => {\r\n        setPageNumber((prevState) => prevState + 1);\r\n    };\r\n\r\n    const handleScroll = (e) => {\r\n        if (!hasMore || loading) return;\r\n\r\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n\r\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n            loadMore();\r\n        }\r\n    };\r\n\r\n    if (status && status !== \"search\") {\r\n        ticketsList = ticketsList.filter(ticket => ticket.status === status)\r\n    }\r\n\r\n    return (\r\n        <Paper className={classes.ticketsListWrapper} style={style}>\r\n            <Paper\r\n                square\r\n                name=\"closed\"\r\n                elevation={0}\r\n                className={classes.ticketsList}\r\n                onScroll={handleScroll}\r\n            >\r\n                <List style={{ paddingTop: 0 }} >\r\n                    {ticketsList.length === 0 && !loading ? (\r\n                        <div className={classes.noTicketsDiv}>\r\n                            <span className={classes.noTicketsTitle}>\r\n                                {i18n.t(\"ticketsList.noTicketsTitle\")}\r\n                            </span>\r\n                            <p className={classes.noTicketsText}>\r\n                                {i18n.t(\"ticketsList.noTicketsMessage\")}\r\n                            </p>\r\n                        </div>\r\n                    ) : (\r\n                        <>\r\n                            {ticketsList.map((ticket) => (\r\n                                <TicketListItem\r\n                                    ticket={ticket}\r\n                                    key={ticket.id}\r\n                                    setTabOpen={setTabOpen}\r\n                                />\r\n                                // </List>\r\n                            ))}\r\n                        </>\r\n                    )}\r\n                    {loading && <TicketsListSkeleton />}\r\n                </List>\r\n            </Paper>\r\n        </Paper>\r\n    );\r\n};\r\n\r\nexport default TicketsListCustom;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,CAAEC,UAAU,CAAEC,OAAO,KAAQ,OAAO,CAEnF,OAASC,UAAU,KAAQ,0BAA0B,CACrD,MAAO,CAAAC,IAAI,KAAM,wBAAwB,CACzC,MAAO,CAAAC,KAAK,KAAM,yBAAyB,CAE3C,MAAO,CAAAC,cAAc,KAAM,yBAAyB,CACpD,MAAO,CAAAC,mBAAmB,KAAM,wBAAwB,CAExD,MAAO,CAAAC,UAAU,KAAM,wBAAwB,CAC/C,OAASC,IAAI,KAAQ,sBAAsB,CAC3C,OAASC,WAAW,KAAQ,gCAAgC,CAE5D,KAAM,CAAAC,SAAS,CAAGR,UAAU,CAAES,KAAK,GAAM,CACrCC,kBAAkB,CAAE,CAChBC,QAAQ,CAAE,UAAU,CACpBC,OAAO,CAAE,MAAM,CACfC,MAAM,CAAE,MAAM,CACdC,aAAa,CAAE,QAAQ,CACvBC,QAAQ,CAAE,QAAQ,CAClBC,oBAAoB,CAAE,CAAC,CACvBC,uBAAuB,CAAE,CAC7B,CAAC,CAEDC,WAAW,CAAE,CACTC,IAAI,CAAE,CAAC,CACPC,SAAS,CAAE,MAAM,CACjBC,SAAS,CAAE,QAAQ,CACnB,GAAGZ,KAAK,CAACa,eAAe,CACxBC,SAAS,CAAE,+BACf,CAAC,CAEDC,iBAAiB,CAAE,CACfC,KAAK,CAAE,kBAAkB,CACzBC,MAAM,CAAE,CAAC,CACTC,eAAe,CAAE,OAAO,CACxBC,YAAY,CAAE,+BAA+B,CAC7ChB,OAAO,CAAE,MAAM,CACfiB,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,eACpB,CAAC,CAEDC,YAAY,CAAE,CACVC,UAAU,CAAE,QAAQ,CACpBP,KAAK,CAAE,oBAAoB,CAC3BQ,UAAU,CAAE,KAAK,CACjBC,QAAQ,CAAE,MACd,CAAC,CAEDC,aAAa,CAAE,CACXC,SAAS,CAAE,QAAQ,CACnBX,KAAK,CAAE,oBAAoB,CAC3BS,QAAQ,CAAE,MAAM,CAChBG,UAAU,CAAE,KAChB,CAAC,CAEDC,cAAc,CAAE,CACZF,SAAS,CAAE,QAAQ,CACnBF,QAAQ,CAAE,MAAM,CAChBF,UAAU,CAAE,KAAK,CACjBO,MAAM,CAAE,KACZ,CAAC,CAEDC,YAAY,CAAE,CACV5B,OAAO,CAAE,MAAM,CACf;AACA2B,MAAM,CAAE,EAAE,CACVzB,aAAa,CAAE,QAAQ,CACvBe,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QACpB,CACJ,CAAC,CAAC,CAAC,CAEH,KAAM,CAAAW,aAAa,CAAGA,CAACC,CAAC,CAAEC,CAAC,GAAK,CAE5B,GAAID,CAAC,CAACE,SAAS,CAAGD,CAAC,CAACC,SAAS,CAAE,CAC3B,MAAO,CAAC,CAAC,CACb,CACA,GAAIF,CAAC,CAACE,SAAS,CAAGD,CAAC,CAACC,SAAS,CAAE,CAC3B,MAAO,EAAC,CACZ,CACA,MAAO,EAAC,CACZ,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGA,CAACH,CAAC,CAAEC,CAAC,GAAK,CAE7B,GAAID,CAAC,CAACE,SAAS,CAAGD,CAAC,CAACC,SAAS,CAAE,CAC3B,MAAO,CAAC,CAAC,CACb,CACA,GAAIF,CAAC,CAACE,SAAS,CAAGD,CAAC,CAACC,SAAS,CAAE,CAC3B,MAAO,EAAC,CACZ,CACA,MAAO,EAAC,CACZ,CAAC,CAED,KAAM,CAAAE,OAAO,CAAGA,CAACC,KAAK,CAAEC,MAAM,GAAK,CAC/B,KAAM,CAAAC,OAAO,CAAGD,MAAM,CAACC,OAAO,CAE9B,GAAID,MAAM,CAACE,IAAI,GAAK,cAAc,CAAE,CAChC,KAAM,CAAAC,UAAU,CAAGH,MAAM,CAACI,OAAO,CAEjCD,UAAU,CAACE,OAAO,CAAEC,MAAM,EAAK,CAC3B,KAAM,CAAAC,WAAW,CAAGR,KAAK,CAACS,SAAS,CAAEC,CAAC,EAAKA,CAAC,CAACC,EAAE,GAAKJ,MAAM,CAACI,EAAE,CAAC,CAC9D,GAAIH,WAAW,GAAK,CAAC,CAAC,CAAE,CACpBR,KAAK,CAACQ,WAAW,CAAC,CAAGD,MAAM,CAC3B,GAAIA,MAAM,CAACK,cAAc,CAAG,CAAC,CAAE,CAC3BZ,KAAK,CAACa,OAAO,CAACb,KAAK,CAACc,MAAM,CAACN,WAAW,CAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAClD,CACJ,CAAC,IAAM,CACHR,KAAK,CAACe,IAAI,CAACR,MAAM,CAAC,CACtB,CACJ,CAAC,CAAC,CACF,GAAIL,OAAO,EAAI,CAAC,KAAK,CAAE,MAAM,CAAC,CAACc,QAAQ,CAACd,OAAO,CAAC,CAAE,CAC9CA,OAAO,GAAK,KAAK,CAAGF,KAAK,CAACiB,IAAI,CAACvB,aAAa,CAAC,CAAGM,KAAK,CAACiB,IAAI,CAACnB,cAAc,CAAC,CAC9E,CAEA,MAAO,CAAC,GAAGE,KAAK,CAAC,CACrB,CAEA,GAAIC,MAAM,CAACE,IAAI,GAAK,cAAc,CAAE,CAChC,KAAM,CAAAe,QAAQ,CAAGjB,MAAM,CAACI,OAAO,CAE/B,KAAM,CAAAG,WAAW,CAAGR,KAAK,CAACS,SAAS,CAAEC,CAAC,EAAKA,CAAC,CAACC,EAAE,GAAKO,QAAQ,CAAC,CAC7D,GAAIV,WAAW,GAAK,CAAC,CAAC,CAAE,CACpBR,KAAK,CAACQ,WAAW,CAAC,CAACI,cAAc,CAAG,CAAC,CACzC,CAEA,GAAIV,OAAO,EAAI,CAAC,KAAK,CAAE,MAAM,CAAC,CAACc,QAAQ,CAACd,OAAO,CAAC,CAAE,CAC9CA,OAAO,GAAK,KAAK,CAAGF,KAAK,CAACiB,IAAI,CAACvB,aAAa,CAAC,CAAGM,KAAK,CAACiB,IAAI,CAACnB,cAAc,CAAC,CAC9E,CAEA,MAAO,CAAC,GAAGE,KAAK,CAAC,CACrB,CAEA,GAAIC,MAAM,CAACE,IAAI,GAAK,eAAe,CAAE,CACjC,KAAM,CAAAI,MAAM,CAAGN,MAAM,CAACI,OAAO,CAE7B,KAAM,CAAAG,WAAW,CAAGR,KAAK,CAACS,SAAS,CAAEC,CAAC,EAAKA,CAAC,CAACC,EAAE,GAAKJ,MAAM,CAACI,EAAE,CAAC,CAC9D,GAAIH,WAAW,GAAK,CAAC,CAAC,CAAE,CACpBR,KAAK,CAACQ,WAAW,CAAC,CAAGD,MAAM,CAC/B,CAAC,IAAM,CACHP,KAAK,CAACa,OAAO,CAACN,MAAM,CAAC,CACzB,CACA,GAAIL,OAAO,EAAI,CAAC,KAAK,CAAE,MAAM,CAAC,CAACc,QAAQ,CAACd,OAAO,CAAC,CAAE,CAC9CA,OAAO,GAAK,KAAK,CAAGF,KAAK,CAACiB,IAAI,CAACvB,aAAa,CAAC,CAAGM,KAAK,CAACiB,IAAI,CAACnB,cAAc,CAAC,CAC9E,CAEA,MAAO,CAAC,GAAGE,KAAK,CAAC,CACrB,CAEA,GAAIC,MAAM,CAACE,IAAI,GAAK,+BAA+B,CAAE,CACjD,KAAM,CAAAI,MAAM,CAAGN,MAAM,CAACI,OAAO,CAE7B,KAAM,CAAAG,WAAW,CAAGR,KAAK,CAACS,SAAS,CAAEC,CAAC,EAAKA,CAAC,CAACC,EAAE,GAAKJ,MAAM,CAACI,EAAE,CAAC,CAC9D,GAAIH,WAAW,GAAK,CAAC,CAAC,CAAE,CACpBR,KAAK,CAACQ,WAAW,CAAC,CAAGD,MAAM,CAC3BP,KAAK,CAACa,OAAO,CAACb,KAAK,CAACc,MAAM,CAACN,WAAW,CAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAClD,CAAC,IAAM,CACH,GAAIP,MAAM,CAACkB,MAAM,GAAKlB,MAAM,CAACI,OAAO,CAACc,MAAM,CAAE,CACzCnB,KAAK,CAACa,OAAO,CAACN,MAAM,CAAC,CACzB,CACJ,CACA,GAAIL,OAAO,EAAI,CAAC,KAAK,CAAE,MAAM,CAAC,CAACc,QAAQ,CAACd,OAAO,CAAC,CAAE,CAC9CA,OAAO,GAAK,KAAK,CAAGF,KAAK,CAACiB,IAAI,CAACvB,aAAa,CAAC,CAAGM,KAAK,CAACiB,IAAI,CAACnB,cAAc,CAAC,CAC9E,CAEA,MAAO,CAAC,GAAGE,KAAK,CAAC,CACrB,CAEA,GAAIC,MAAM,CAACE,IAAI,GAAK,uBAAuB,CAAE,CACzC,KAAM,CAAAiB,OAAO,CAAGnB,MAAM,CAACI,OAAO,CAC9B,KAAM,CAAAG,WAAW,CAAGR,KAAK,CAACS,SAAS,CAAEC,CAAC,EAAKA,CAAC,CAACW,SAAS,GAAKD,OAAO,CAACT,EAAE,CAAC,CACtE,GAAIH,WAAW,GAAK,CAAC,CAAC,CAAE,CACpBR,KAAK,CAACQ,WAAW,CAAC,CAACY,OAAO,CAAGA,OAAO,CACxC,CACA,MAAO,CAAC,GAAGpB,KAAK,CAAC,CACrB,CAEA,GAAIC,MAAM,CAACE,IAAI,GAAK,eAAe,CAAE,CACjC,KAAM,CAAAe,QAAQ,CAAGjB,MAAM,CAACI,OAAO,CAC/B,KAAM,CAAAG,WAAW,CAAGR,KAAK,CAACS,SAAS,CAAEC,CAAC,EAAKA,CAAC,CAACC,EAAE,GAAKO,QAAQ,CAAC,CAC7D,GAAIV,WAAW,GAAK,CAAC,CAAC,CAAE,CACpBR,KAAK,CAACc,MAAM,CAACN,WAAW,CAAE,CAAC,CAAC,CAChC,CAEA,GAAIN,OAAO,EAAI,CAAC,KAAK,CAAE,MAAM,CAAC,CAACc,QAAQ,CAACd,OAAO,CAAC,CAAE,CAC9CA,OAAO,GAAK,KAAK,CAAGF,KAAK,CAACiB,IAAI,CAACvB,aAAa,CAAC,CAAGM,KAAK,CAACiB,IAAI,CAACnB,cAAc,CAAC,CAC9E,CAEA,MAAO,CAAC,GAAGE,KAAK,CAAC,CACrB,CAEA,GAAIC,MAAM,CAACE,IAAI,GAAK,OAAO,CAAE,CACzB,MAAO,EAAE,CACb,CACJ,CAAC,CAED,KAAM,CAAAmB,iBAAiB,CAAIC,KAAK,EAAK,CACjC,KAAM,CACFC,UAAU,CACVL,MAAM,CACNM,WAAW,CACXC,gBAAgB,CAChBC,IAAI,CACJC,KAAK,CACLC,OAAO,CACPC,gBAAgB,CAChBC,WAAW,CACXC,KAAK,CACLC,WAAW,CACXC,WAAW,CACXC,YAAY,CACZC,UAAU,CACVC,WACJ,CAAC,CAAGd,KAAK,CAET,KAAM,CAAAe,OAAO,CAAG7E,SAAS,CAAC,CAAC,CAC3B,KAAM,CAAC8E,UAAU,CAAEC,aAAa,CAAC,CAAG5F,QAAQ,CAAC,CAAC,CAAC,CAC/C,GAAI,CAACuB,WAAW,CAAEsE,QAAQ,CAAC,CAAG3F,UAAU,CAACiD,OAAO,CAAE,EAAE,CAAC,CACrD;AACA,KAAM,CAAE2C,IAAI,CAAEC,MAAO,CAAC,CAAG5F,UAAU,CAACS,WAAW,CAAC,CAEhD,KAAM,CAAEoF,OAAO,CAAEC,MAAO,CAAC,CAAGH,IAAI,CAChC,KAAM,CAAAI,sBAAsB,CAAGJ,IAAI,CAACK,SAAS,GAAK,QAAQ,CAC1D,KAAM,CAAAC,SAAS,CAAGN,IAAI,CAACM,SAAS,CAEhCnG,SAAS,CAAC,IAAM,CACZ4F,QAAQ,CAAC,CAAEtC,IAAI,CAAE,OAAQ,CAAC,CAAC,CAC3BqC,aAAa,CAAC,CAAC,CAAC,CACpB,CAAC,CAAE,CAACrB,MAAM,CAAEM,WAAW,CAAEgB,QAAQ,CAAEZ,OAAO,CAAEF,IAAI,CAAEC,KAAK,CAAEM,WAAW,CAAEJ,gBAAgB,CAAEG,WAAW,CAAEE,YAAY,CAAEE,WAAW,CAAEX,gBAAgB,CAAC,CAAC,CAElJ,KAAM,CAAEuB,OAAO,CAAEC,OAAO,CAAEC,OAAQ,CAAC,CAAG7F,UAAU,CAAC,CAC7CiF,UAAU,CACVd,WAAW,CACXN,MAAM,CACNU,OAAO,CACPH,gBAAgB,CAAEA,gBAAgB,CAAG,MAAM,CAAG,OAAO,CACrDC,IAAI,CAAEyB,IAAI,CAACC,SAAS,CAAC1B,IAAI,CAAC,CAC1BC,KAAK,CAAEwB,IAAI,CAACC,SAAS,CAACzB,KAAK,CAAC,CAC5B0B,QAAQ,CAAEF,IAAI,CAACC,SAAS,CAACvB,gBAAgB,CAAC,CAC1CG,WAAW,CAAEmB,IAAI,CAACC,SAAS,CAACpB,WAAW,CAAC,CACxCE,YAAY,CAAEiB,IAAI,CAACC,SAAS,CAAClB,YAAY,CAAC,CAC1CC,UAAU,CACVC,WACJ,CAAC,CAAC,CAGFxF,SAAS,CAAC,IAAM,CACZ;AACA;AACA;AACA;AACA;AACA;AACA,GAAImG,SAAS,CAAE,CACXP,QAAQ,CAAC,CACLtC,IAAI,CAAE,cAAc,CACpBE,OAAO,CAAE4C,OAAO,CAChB9B,MAAM,CACNjB,OAAO,CAAEmC,WACb,CAAC,CAAC,CACN,CACA;AACA;AACA;AAEJ,CAAC,CAAE,CAACY,OAAO,CAAC,CAAC,CAEbpG,SAAS,CAAC,IAAM,CACZ,KAAM,CAAA0G,kBAAkB,CAAGhD,MAAM,EAAI,CACjC,MAAO,CAAC,EAACA,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEiD,MAAM,GAAI,CAAAjD,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEiD,MAAM,KAAKd,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE/B,EAAE,GAAIkB,OAAO,IAC3D,EAACtB,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEkD,OAAO,GAAIX,sBAAsB,EAAKhB,gBAAgB,CAAC4B,OAAO,CAACnD,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEkD,OAAO,CAAC,CAAG,CAAC,CAAC,CAAC,CACpG;AACJ,CAAC,CACD;AACA;AAEA,KAAM,CAAAE,sBAAsB,CAAIpD,MAAM,EAClCA,MAAM,CAACkD,OAAO,EAAI3B,gBAAgB,CAAC4B,OAAO,CAACnD,MAAM,CAACkD,OAAO,CAAC,GAAK,CAAC,CAAC,CAErE,KAAM,CAAAG,0BAA0B,CAAIC,IAAI,EAAK,CACzC,GAAIA,IAAI,CAAC5D,MAAM,GAAK,cAAc,CAAE,CAChCwC,QAAQ,CAAC,CACLtC,IAAI,CAAE,cAAc,CACpBE,OAAO,CAAEwD,IAAI,CAAC3C,QAAQ,CACtBC,MAAM,CAAEA,MAAM,CACdjB,OAAO,CAAEmC,WACb,CAAC,CAAC,CACN,CACA,GAAIwB,IAAI,CAAC5D,MAAM,GAAK,QAAQ,EACxBsD,kBAAkB,CAACM,IAAI,CAACtD,MAAM,CAAC,EAAIsD,IAAI,CAACtD,MAAM,CAACY,MAAM,GAAKA,MAAM,CAAE,CAClEsB,QAAQ,CAAC,CACLtC,IAAI,CAAE,eAAe,CACrBE,OAAO,CAAEwD,IAAI,CAACtD,MAAM,CACpBY,MAAM,CAAEA,MAAM,CACdjB,OAAO,CAAEmC,WACb,CAAC,CAAC,CACN,CAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAIwB,IAAI,CAAC5D,MAAM,GAAK,QAAQ,EAAI0D,sBAAsB,CAACE,IAAI,CAACtD,MAAM,CAAC,CAAE,KAAAuD,YAAA,CACjErB,QAAQ,CAAC,CACLtC,IAAI,CAAE,eAAe,CAAEE,OAAO,EAAAyD,YAAA,CAAED,IAAI,CAACtD,MAAM,UAAAuD,YAAA,iBAAXA,YAAA,CAAanD,EAAE,CAAEQ,MAAM,CAAEA,MAAM,CAC/DjB,OAAO,CAAEmC,WACb,CAAC,CAAC,CACN,CAEA,GAAIwB,IAAI,CAAC5D,MAAM,GAAK,QAAQ,CAAE,CAC1BwC,QAAQ,CAAC,CACLtC,IAAI,CAAE,eAAe,CAAEE,OAAO,CAAEwD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE3C,QAAQ,CAAEC,MAAM,CAAEA,MAAM,CAC9DjB,OAAO,CAAEmC,WACb,CAAC,CAAC,CAEN,CACJ,CAAC,CAED,KAAM,CAAA0B,8BAA8B,CAAIF,IAAI,EAAK,CAC7C,GAAIA,IAAI,CAAC5D,MAAM,GAAK,QAAQ,EACxBsD,kBAAkB,CAACM,IAAI,CAACtD,MAAM,CAAC,EAAIsD,IAAI,CAACtD,MAAM,CAACY,MAAM,GAAKA,MAAM,CAAE,CAClEsB,QAAQ,CAAC,CACLtC,IAAI,CAAE,+BAA+B,CACrCE,OAAO,CAAEwD,IAAI,CAACtD,MAAM,CACpBY,MAAM,CAAEA,MAAM,CACdjB,OAAO,CAAEmC,WACb,CAAC,CAAC,CACN,CACA;AACA;AACA;AACA;AACA;AACA;AACJ,CAAC,CAED,KAAM,CAAA2B,2BAA2B,CAAIH,IAAI,EAAK,CAC1C,GAAIA,IAAI,CAAC5D,MAAM,GAAK,QAAQ,EAAI4D,IAAI,CAACzC,OAAO,CAAE,CAC1CqB,QAAQ,CAAC,CACLtC,IAAI,CAAE,uBAAuB,CAC7BE,OAAO,CAAEwD,IAAI,CAACzC,OAAO,CACrBD,MAAM,CAAEA,MAAM,CACdjB,OAAO,CAAEmC,WACb,CAAC,CAAC,CACN,CACJ,CAAC,CAED,KAAM,CAAA4B,oBAAoB,CAAGA,CAAA,GAAM,CAC/B,GAAI9C,MAAM,CAAE,CACRwB,MAAM,CAACuB,IAAI,CAAC,aAAa,CAAE/C,MAAM,CAAC,CACtC,CAAC,IAAM,CACHwB,MAAM,CAACuB,IAAI,CAAC,kBAAkB,CAAC,CACnC,CACJ,CAAC,CAEDvB,MAAM,CAACwB,EAAE,CAAC,SAAS,CAAEF,oBAAoB,CAAC,CAC1CtB,MAAM,CAACwB,EAAE,YAAAC,MAAA,CAAYpB,SAAS,YAAWY,0BAA0B,CAAC,CACpEjB,MAAM,CAACwB,EAAE,YAAAC,MAAA,CAAYpB,SAAS,gBAAee,8BAA8B,CAAC,CAC5EpB,MAAM,CAACwB,EAAE,YAAAC,MAAA,CAAYpB,SAAS,aAAYgB,2BAA2B,CAAC,CAEtE,MAAO,IAAM,CACT,GAAI7C,MAAM,CAAE,CACRwB,MAAM,CAACuB,IAAI,CAAC,cAAc,CAAE/C,MAAM,CAAC,CACvC,CAAC,IAAM,CACHwB,MAAM,CAACuB,IAAI,CAAC,mBAAmB,CAAC,CACpC,CACAvB,MAAM,CAAC0B,GAAG,CAAC,SAAS,CAAEJ,oBAAoB,CAAC,CAC3CtB,MAAM,CAAC0B,GAAG,YAAAD,MAAA,CAAYpB,SAAS,YAAWY,0BAA0B,CAAC,CACrEjB,MAAM,CAAC0B,GAAG,YAAAD,MAAA,CAAYpB,SAAS,gBAAee,8BAA8B,CAAC,CAC7EpB,MAAM,CAAC0B,GAAG,YAAAD,MAAA,CAAYpB,SAAS,aAAYgB,2BAA2B,CAAC,CAC3E,CAAC,CAEL,CAAC,CAAE,CAAC7C,MAAM,CAAEU,OAAO,CAAEa,IAAI,CAAEZ,gBAAgB,CAAEH,IAAI,CAAEC,KAAK,CAAEgB,OAAO,CAAEC,MAAM,CAAER,WAAW,CAAES,sBAAsB,CAAC,CAAC,CAEhHjG,SAAS,CAAC,IAAM,CACZ,GAAI,MAAO,CAAAkF,WAAW,GAAK,UAAU,CAAE,CACnCA,WAAW,CAAC5D,WAAW,CAACmG,MAAM,CAAC,CACnC,CACA;AACJ,CAAC,CAAE,CAACnG,WAAW,CAAC,CAAC,CAEjB,KAAM,CAAAoG,QAAQ,CAAGA,CAAA,GAAM,CACnB/B,aAAa,CAAEgC,SAAS,EAAKA,SAAS,CAAG,CAAC,CAAC,CAC/C,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIC,CAAC,EAAK,CACxB,GAAI,CAACxB,OAAO,EAAIC,OAAO,CAAE,OAEzB,KAAM,CAAEwB,SAAS,CAAEC,YAAY,CAAEC,YAAa,CAAC,CAAGH,CAAC,CAACI,aAAa,CAEjE,GAAIF,YAAY,EAAID,SAAS,CAAG,GAAG,CAAC,CAAGE,YAAY,CAAE,CACjDN,QAAQ,CAAC,CAAC,CACd,CACJ,CAAC,CAED,GAAIpD,MAAM,EAAIA,MAAM,GAAK,QAAQ,CAAE,CAC/BhD,WAAW,CAAGA,WAAW,CAAC4G,MAAM,CAACxE,MAAM,EAAIA,MAAM,CAACY,MAAM,GAAKA,MAAM,CAAC,CACxE,CAEA,mBACIxE,KAAA,CAAAqI,aAAA,CAAC7H,KAAK,EAAC8H,SAAS,CAAE3C,OAAO,CAAC3E,kBAAmB,CAACqE,KAAK,CAAEA,KAAM,eACvDrF,KAAA,CAAAqI,aAAA,CAAC7H,KAAK,EACF+H,MAAM,MACNC,IAAI,CAAC,QAAQ,CACbC,SAAS,CAAE,CAAE,CACbH,SAAS,CAAE3C,OAAO,CAACnE,WAAY,CAC/BkH,QAAQ,CAAEZ,YAAa,eAEvB9H,KAAA,CAAAqI,aAAA,CAAC9H,IAAI,EAAC8E,KAAK,CAAE,CAAEsD,UAAU,CAAE,CAAE,CAAE,EAC1BnH,WAAW,CAACmG,MAAM,GAAK,CAAC,EAAI,CAACnB,OAAO,cACjCxG,KAAA,CAAAqI,aAAA,QAAKC,SAAS,CAAE3C,OAAO,CAAC7C,YAAa,eACjC9C,KAAA,CAAAqI,aAAA,SAAMC,SAAS,CAAE3C,OAAO,CAAC/C,cAAe,EACnChC,IAAI,CAACmD,CAAC,CAAC,4BAA4B,CAClC,CAAC,cACP/D,KAAA,CAAAqI,aAAA,MAAGC,SAAS,CAAE3C,OAAO,CAAClD,aAAc,EAC/B7B,IAAI,CAACmD,CAAC,CAAC,8BAA8B,CACvC,CACF,CAAC,cAEN/D,KAAA,CAAAqI,aAAA,CAAArI,KAAA,CAAA4I,QAAA,MACKpH,WAAW,CAACqH,GAAG,CAAEjF,MAAM,eACpB5D,KAAA,CAAAqI,aAAA,CAAC5H,cAAc,EACXmD,MAAM,CAAEA,MAAO,CACfkF,GAAG,CAAElF,MAAM,CAACI,EAAG,CACfa,UAAU,CAAEA,UAAW,CAC1B,CACD;AACH,CACH,CACL,CACA2B,OAAO,eAAIxG,KAAA,CAAAqI,aAAA,CAAC3H,mBAAmB,KAAE,CAChC,CACH,CACJ,CAAC,CAEhB,CAAC,CAED,cAAe,CAAAiE,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module"}