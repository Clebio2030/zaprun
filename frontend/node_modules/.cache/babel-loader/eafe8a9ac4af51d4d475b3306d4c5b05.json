{"ast":null,"code":"import React,{useState,useEffect,useCallback}from\"react\";import{makeStyles,Paper,Typography,Modal,IconButton}from\"@material-ui/core\";import MainContainer from\"../../components/MainContainer\";import MainHeader from\"../../components/MainHeader\";import MainHeaderButtonsWrapper from\"../../components/MainHeaderButtonsWrapper\";import Title from\"../../components/Title\";import{i18n}from\"../../translate/i18n\";import useHelps from\"../../hooks/useHelps\";const useStyles=makeStyles(theme=>({mainPaperContainer:{overflowY:'auto',maxHeight:'calc(100vh - 200px)'},mainPaper:{width:'100%',display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(320px, 1fr))',gap:theme.spacing(3),padding:theme.spacing(2),marginBottom:theme.spacing(3)},helpPaper:{position:'relative',width:'100%',minHeight:'340px',padding:theme.spacing(2),boxShadow:theme.shadows[3],borderRadius:theme.spacing(1),cursor:'pointer',display:'flex',flexDirection:'column',justifyContent:'space-between',maxWidth:'340px'},paperHover:{transition:'transform 0.3s, box-shadow 0.3s','&:hover':{transform:'scale(1.03)',boxShadow:\"0 0 8px\",color:theme.palette.primary.main}},videoThumbnail:{width:'100%',height:'calc(100% - 56px)',objectFit:'cover',borderRadius:\"\".concat(theme.spacing(1),\"px \").concat(theme.spacing(1),\"px 0 0\")},videoTitle:{marginTop:theme.spacing(1),flex:1},videoDescription:{maxHeight:'100px',overflow:'hidden'},videoModal:{display:'flex',alignItems:'center',justifyContent:'center'},videoModalContent:{outline:'none',width:'90%',maxWidth:1024,aspectRatio:'16/9',position:'relative',backgroundColor:'white',borderRadius:theme.spacing(1),overflow:'hidden'}}));const Helps=()=>{const classes=useStyles();const[records,setRecords]=useState([]);const{list}=useHelps();const[selectedVideo,setSelectedVideo]=useState(null);useEffect(()=>{async function fetchData(){const helps=await list();setRecords(helps);}fetchData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const openVideoModal=video=>{setSelectedVideo(video);};const closeVideoModal=()=>{setSelectedVideo(null);};const handleModalClose=useCallback(event=>{if(event.key===\"Escape\"){closeVideoModal();}},[]);useEffect(()=>{document.addEventListener(\"keydown\",handleModalClose);return()=>{document.removeEventListener(\"keydown\",handleModalClose);};},[handleModalClose]);const renderVideoModal=()=>{return/*#__PURE__*/React.createElement(Modal,{open:Boolean(selectedVideo),onClose:closeVideoModal,className:classes.videoModal},/*#__PURE__*/React.createElement(\"div\",{className:classes.videoModalContent},selectedVideo&&/*#__PURE__*/React.createElement(\"iframe\",{style:{width:\"100%\",height:\"100%\",position:\"absolute\",top:0,left:0},src:\"https://www.youtube.com/embed/\".concat(selectedVideo),title:\"YouTube video player\",frameBorder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowFullScreen:true})));};const renderHelps=()=>{return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(classes.mainPaper,\" \").concat(classes.mainPaperContainer)},records.length?records.map((record,key)=>/*#__PURE__*/React.createElement(Paper,{key:key,className:\"\".concat(classes.helpPaper,\" \").concat(classes.paperHover),onClick:()=>openVideoModal(record.video)},/*#__PURE__*/React.createElement(\"img\",{src:\"https://img.youtube.com/vi/\".concat(record.video,\"/mqdefault.jpg\"),alt:\"Thumbnail\",className:classes.videoThumbnail}),/*#__PURE__*/React.createElement(Typography,{variant:\"button\",className:classes.videoTitle},record.title),/*#__PURE__*/React.createElement(Typography,{variant:\"caption\",className:classes.videoDescription},record.description))):null));};return/*#__PURE__*/React.createElement(MainContainer,null,/*#__PURE__*/React.createElement(MainHeader,null,/*#__PURE__*/React.createElement(Title,null,i18n.t(\"helps.title\"),\" (\",records.length,\")\"),/*#__PURE__*/React.createElement(MainHeaderButtonsWrapper,null)),/*#__PURE__*/React.createElement(\"div\",{className:classes.mainPaper},renderHelps()),renderVideoModal());};export default Helps;","map":{"version":3,"names":["React","useState","useEffect","useCallback","makeStyles","Paper","Typography","Modal","IconButton","MainContainer","MainHeader","MainHeaderButtonsWrapper","Title","i18n","useHelps","useStyles","theme","mainPaperContainer","overflowY","maxHeight","mainPaper","width","display","gridTemplateColumns","gap","spacing","padding","marginBottom","helpPaper","position","minHeight","boxShadow","shadows","borderRadius","cursor","flexDirection","justifyContent","maxWidth","paperHover","transition","transform","color","palette","primary","main","videoThumbnail","height","objectFit","concat","videoTitle","marginTop","flex","videoDescription","overflow","videoModal","alignItems","videoModalContent","outline","aspectRatio","backgroundColor","Helps","classes","records","setRecords","list","selectedVideo","setSelectedVideo","fetchData","helps","openVideoModal","video","closeVideoModal","handleModalClose","event","key","document","addEventListener","removeEventListener","renderVideoModal","createElement","open","Boolean","onClose","className","style","top","left","src","title","frameBorder","allow","allowFullScreen","renderHelps","Fragment","length","map","record","onClick","alt","variant","description","t"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/pages/Helps/index.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { makeStyles, Paper, Typography, Modal, IconButton } from \"@material-ui/core\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport useHelps from \"../../hooks/useHelps\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mainPaperContainer: {\r\n    overflowY: 'auto',\r\n    maxHeight: 'calc(100vh - 200px)',\r\n  },\r\n  mainPaper: {\r\n    width: '100%',\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))',\r\n    gap: theme.spacing(3),\r\n    padding: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  helpPaper: {\r\n    position: 'relative',\r\n    width: '100%',\r\n    minHeight: '340px',\r\n    padding: theme.spacing(2),\r\n    boxShadow: theme.shadows[3],\r\n    borderRadius: theme.spacing(1),\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    maxWidth: '340px',\r\n  },\r\n  paperHover: {\r\n    transition: 'transform 0.3s, box-shadow 0.3s',\r\n    '&:hover': {\r\n      transform: 'scale(1.03)',\r\n      boxShadow: `0 0 8px`,\r\n      color: theme.palette.primary.main,\r\n    },\r\n  },\r\n  videoThumbnail: {\r\n    width: '100%',\r\n    height: 'calc(100% - 56px)',\r\n    objectFit: 'cover',\r\n    borderRadius: `${theme.spacing(1)}px ${theme.spacing(1)}px 0 0`,\r\n  },\r\n  videoTitle: {\r\n    marginTop: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  videoDescription: {\r\n    maxHeight: '100px',\r\n    overflow: 'hidden',\r\n  },\r\n  videoModal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  videoModalContent: {\r\n    outline: 'none',\r\n    width: '90%',\r\n    maxWidth: 1024,\r\n    aspectRatio: '16/9',\r\n    position: 'relative',\r\n    backgroundColor: 'white',\r\n    borderRadius: theme.spacing(1),\r\n    overflow: 'hidden',\r\n  },\r\n}));\r\n\r\nconst Helps = () => {\r\n  const classes = useStyles();\r\n  const [records, setRecords] = useState([]);\r\n  const { list } = useHelps();\r\n  const [selectedVideo, setSelectedVideo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const helps = await list();\r\n      setRecords(helps);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const openVideoModal = (video) => {\r\n    setSelectedVideo(video);\r\n  };\r\n\r\n  const closeVideoModal = () => {\r\n    setSelectedVideo(null);\r\n  };\r\n\r\n  const handleModalClose = useCallback((event) => {\r\n    if (event.key === \"Escape\") {\r\n      closeVideoModal();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleModalClose);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleModalClose);\r\n    };\r\n  }, [handleModalClose]);\r\n\r\n  const renderVideoModal = () => {\r\n    return (\r\n      <Modal\r\n        open={Boolean(selectedVideo)}\r\n        onClose={closeVideoModal}\r\n        className={classes.videoModal}\r\n      >\r\n        <div className={classes.videoModalContent}>\r\n          {selectedVideo && (\r\n            <iframe\r\n              style={{ width: \"100%\", height: \"100%\", position: \"absolute\", top: 0, left: 0 }}\r\n              src={`https://www.youtube.com/embed/${selectedVideo}`}\r\n              title=\"YouTube video player\"\r\n              frameBorder=\"0\"\r\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n              allowFullScreen\r\n            />\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    );\r\n  };\r\n\r\n  const renderHelps = () => {\r\n    return (\r\n      <>\r\n        <div className={`${classes.mainPaper} ${classes.mainPaperContainer}`}>\r\n          {records.length ? records.map((record, key) => (\r\n            <Paper key={key} className={`${classes.helpPaper} ${classes.paperHover}`} onClick={() => openVideoModal(record.video)}>\r\n              <img\r\n                src={`https://img.youtube.com/vi/${record.video}/mqdefault.jpg`}\r\n                alt=\"Thumbnail\"\r\n                className={classes.videoThumbnail}\r\n              />\r\n              <Typography variant=\"button\" className={classes.videoTitle}>\r\n                {record.title}\r\n              </Typography>\r\n              <Typography variant=\"caption\" className={classes.videoDescription}>\r\n                {record.description}\r\n              </Typography>\r\n            </Paper>\r\n          )) : null}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"helps.title\")} ({records.length})</Title>\r\n        <MainHeaderButtonsWrapper></MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <div className={classes.mainPaper}>\r\n        {renderHelps()}\r\n      </div>\r\n      {renderVideoModal()}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Helps;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}