{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import*as Yup from\"yup\";import{Formik,FieldArray,Form,Field}from\"formik\";import{toast}from\"react-toastify\";import{makeStyles}from\"@material-ui/core/styles\";import{green}from\"@material-ui/core/colors\";import Button from\"@material-ui/core/Button\";import TextField from\"@material-ui/core/TextField\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogTitle from\"@material-ui/core/DialogTitle\";import IconButton from\"@material-ui/core/IconButton\";import DeleteOutlineIcon from\"@material-ui/icons/DeleteOutline\";import CircularProgress from\"@material-ui/core/CircularProgress\";import Compressor from\"compressorjs\";import{i18n}from\"../../translate/i18n\";import api from\"../../services/api\";import toastError from\"../../errors/toastError\";import{Checkbox,FormControl,InputLabel,MenuItem,Select,Stack,Typography}from\"@mui/material\";import{AccessTime,AddCircle,Delete,Image,KeyboardArrowDown,KeyboardArrowUp,Message,MicNone,Videocam}from\"@mui/icons-material\";import{capitalize}from\"../../utils/capitalize\";const useStyles=makeStyles(theme=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:theme.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:green[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));const FlowBuilderSingleBlockModal=_ref=>{let{open,onSave,onUpdate,data,close}=_ref;const classes=useStyles();const isMounted=useRef(true);const[activeModal,setActiveModal]=useState(false);const[rule,setRule]=useState();const[medias,setMedias]=useState([]);const[textDig,setTextDig]=useState();const[elements,setElements]=useState([]);const[elementsSeq,setElementsSeq]=useState([]);const[elementsSeqEdit,setElementsSeqEdit]=useState([]);const[elementsEdit,setElementsEdit]=useState([]);const[numberMessages,setNumberMessages]=useState(0);const[numberMessagesLast,setNumberMessagesLast]=useState(0);const[numberInterval,setNumberInterval]=useState(0);const[numberIntervalLast,setNumberIntervalLast]=useState(0);const[numberAudio,setNumberAudio]=useState(0);const[numberAudioLast,setNumberAudioLast]=useState(0);const[numberVideo,setNumberVideo]=useState(0);const[numberVideoLast,setNumberVideoLast]=useState(0);const[numberImg,setNumberImg]=useState(0);const[numberImgLast,setNumberImgLast]=useState(0);const[loading,setLoading]=useState(false);const[previewImg,setPreviewImg]=useState([]);const[previewAudios,setPreviewAudios]=useState([]);const[previewVideos,setPreviewVideos]=useState([]);const[arrayOption,setArrayOption]=useState([]);const[labels,setLabels]=useState({title:\"Adicionar conteúdo ao fluxo\",btn:\"Adicionar\"});const handleElements=newNameFiles=>{let elementsSequence=[];const newArrMessage=elementsSeq.filter(item=>item.includes(\"message\"));const newArrInterval=elementsSeq.filter(item=>item.includes(\"interval\"));const newArrImg=elementsSeq.filter(item=>item.includes(\"img\"));const newArrAudio=elementsSeq.filter(item=>item.includes(\"audio\"));const newArrVideo=elementsSeq.filter(item=>item.includes(\"video\"));//Todas as mensagens\nfor(let i=0;i<numberMessages;i++){const value=document.querySelector(\".\".concat(newArrMessage[i])).querySelector(\".MuiInputBase-input\").value;if(!value){toast.error(\"Campos de mensagem vazio!\");setLoading(false);throw\"\";}elementsSequence.push({type:\"message\",value:value,number:newArrMessage[i]});}//Todos os intervalos\nfor(let i=0;i<numberInterval;i++){const value=document.querySelector(\".\".concat(newArrInterval[i])).querySelector(\".MuiInputBase-input\").value;if(parseInt(value)===0||parseInt(value)>120){toast.error(\"Intervalo não pode ser 0 ou maior que 120!\");setLoading(false);throw\"\";}elementsSequence.push({type:\"interval\",value:value,number:newArrInterval[i]});}//Todas as imagens\nfor(let i=0;i<numberImg;i++){const onlyImg=newNameFiles!==null&&newNameFiles.filter(file=>file.includes(\"png\")||file.includes(\"jpg\")||file.includes(\"jpeg\"));const onlyImgNameOriginal=medias.filter(file=>file.name.includes(\"png\")||file.name.includes(\"jpg\")||file.name.includes(\"jpeg\"));if(elementsSeqEdit.includes(newArrImg[i])){const itemSelectedEdit=elementsEdit.filter(item=>item.number===newArrImg[i])[0];elementsSequence.push({type:\"img\",value:itemSelectedEdit.value,original:itemSelectedEdit.original,number:itemSelectedEdit.number});}else{let indexElem=0;if(elementsSeqEdit.filter(item=>item.includes(\"img\")).length>0){indexElem=elementsSeqEdit.filter(item=>item.includes(\"img\")).length-i;}else{indexElem=i;}elementsSequence.push({type:\"img\",value:onlyImg[indexElem],original:onlyImgNameOriginal[indexElem].name,number:newArrImg[i]});}}//Todos os audios\nfor(let i=0;i<numberAudio;i++){const onlyAudio=newNameFiles!==null&&newNameFiles.filter(file=>file.includes(\"mp3\")||file.includes(\"ogg\")||file.includes(\"mpeg\")||file.includes(\"opus\"));const onlyAudioNameOriginal=medias.filter(file=>file.name.includes(\"mp3\")||file.name.includes(\"ogg\")||file.name.includes(\"mpeg\")||file.name.includes(\"opus\"));if(elementsSeqEdit.includes(newArrAudio[i])){const itemSelectedEdit=elementsEdit.filter(item=>item.number===newArrAudio[i])[0];elementsSequence.push({type:\"audio\",value:itemSelectedEdit.value,original:itemSelectedEdit.original,number:itemSelectedEdit.number,record:document.querySelector(\".check\".concat(newArrAudio[i])).querySelector(\".PrivateSwitchBase-input\").checked});}else{let indexElem=0;if(elementsSeqEdit.filter(item=>item.includes(\"audio\")).length>0){indexElem=elementsSeqEdit.filter(item=>item.includes(\"audio\")).length-i;}else{indexElem=i;}elementsSequence.push({type:\"audio\",value:onlyAudio[indexElem],original:onlyAudioNameOriginal[indexElem].name,number:newArrAudio[i],record:document.querySelector(\".check\".concat(newArrAudio[i])).querySelector(\".PrivateSwitchBase-input\").checked});}}//Todos os videos\nfor(let i=0;i<numberVideo;i++){const onlyVideo=newNameFiles!==null&&newNameFiles.filter(file=>file.includes(\"mp4\")||file.includes(\"avi\"));const onlyVideoNameOriginal=medias.filter(file=>file.name.includes(\"mp4\")||file.name.includes(\"avi\"));if(elementsSeqEdit.includes(newArrVideo[i])){const itemSelectedEdit=elementsEdit.filter(item=>item.number===newArrVideo[i])[0];elementsSequence.push({type:\"video\",value:itemSelectedEdit.value,original:itemSelectedEdit.original,number:itemSelectedEdit.number});}else{let indexElem=0;if(elementsSeqEdit.filter(item=>item.includes(\"video\")).length>0){indexElem=elementsSeqEdit.filter(item=>item.includes(\"video\")).length-i;}else{indexElem=i;}elementsSequence.push({type:\"video\",value:onlyVideo[indexElem],original:onlyVideoNameOriginal[indexElem].name,number:newArrVideo[i]});}}return elementsSequence;};const deleteElementsTypeOne=(id,type)=>{if(type===\"message\"){setNumberMessages(old=>old-1);setElementsSeq(old=>old.filter(item=>item!==\"message\".concat(id)));setElementsSeqEdit(old=>old.filter(item=>item!==\"message\".concat(id)));document.querySelector(\".stackMessage\".concat(id)).remove();}if(type===\"interval\"){setNumberInterval(old=>old-1);setElementsSeq(old=>old.filter(item=>item!==\"interval\".concat(id)));setElementsSeqEdit(old=>old.filter(item=>item!==\"interval\".concat(id)));document.querySelector(\".stackInterval\".concat(id)).remove();}if(type===\"img\"){setNumberImg(old=>old-1);setPreviewImg(old=>{setMedias(oldMedia=>{try{return oldMedia.filter(mediaItem=>mediaItem.name!==old.filter(item=>item.number===id)[0].name);}catch(e){return oldMedia;}});return old.filter(item=>item.number!==id);});setElementsSeq(old=>old.filter(item=>item!==\"img\".concat(id)));setElementsSeqEdit(old=>old.filter(item=>item!==\"img\".concat(id)));document.querySelector(\".stackImg\".concat(id)).remove();}if(type===\"audio\"){setNumberAudio(old=>old-1);setPreviewAudios(old=>{setMedias(oldMedia=>{try{return oldMedia.filter(mediaItem=>mediaItem.name!==old.filter(item=>item.number===id)[0].name);}catch(e){return oldMedia;}});return old.filter(item=>item.number!==id);});setElementsSeq(old=>old.filter(item=>item!==\"audio\".concat(id)));setElementsSeqEdit(old=>old.filter(item=>item!==\"audio\".concat(id)));document.querySelector(\".stackAudio\".concat(id)).remove();}if(type===\"video\"){setNumberVideo(old=>old-1);setPreviewVideos(old=>{setMedias(oldMedia=>{try{return oldMedia.filter(mediaItem=>mediaItem.name!==old.filter(item=>item.number===id)[0].name);}catch(e){return oldMedia;}});return old.filter(item=>item.number!==id);});setElementsSeq(old=>old.filter(item=>item!==\"video\".concat(id)));setElementsSeqEdit(old=>old.filter(item=>item!==\"video\".concat(id)));document.querySelector(\".stackVideo\".concat(id)).remove();}};const moveElementDown=id=>{setElementsSeq(old=>{const array=old;const index=array.indexOf(id);moveItemParaFrente(index);if(index!==-1&&index<array.length-1){// Verifica se o elemento foi encontrado no array e não está na última posição\nconst novoArray=[...array];// Cria uma cópia do array original\nconst elementoMovido=novoArray.splice(index,1)[0];novoArray.splice(index+1,0,elementoMovido);return novoArray;}return array;});};const moveElementUp=id=>{setElementsSeq(old=>{const array=old;const index=array.indexOf(id);moveItemParaTras(index);if(index!==-1&&index>0){// Verifica se o elemento foi encontrado no array e não está na primeira posição\nconst novoArray=[...array];// Cria uma cópia do array original\nconst elementoMovido=novoArray.splice(index,1)[0];novoArray.splice(index-1,0,elementoMovido);return novoArray;}return array;});};function moveItemParaFrente(posicao){setElements(old=>{const array=old;if(posicao>=0&&posicao<array.length-1){const novoArray=[...array];// Cria uma cópia do array original\nconst elementoMovido=novoArray.splice(posicao,1)[0];novoArray.splice(posicao+1,0,elementoMovido);return novoArray;}return array;// Retorna o array original se a movimentação não for possível\n});}function moveItemParaTras(posicao){setElements(old=>{const array=old;if(posicao>0&&posicao<array.length){const novoArray=[...array];// Cria uma cópia do array original\nconst elementoMovido=novoArray.splice(posicao,1)[0];novoArray.splice(posicao-1,0,elementoMovido);return novoArray;}return array;// Retorna o array original se a movimentação não for possível\n});}const handleChangeMediasImg=(e,number)=>{if(!e.target.files){return;}if(e.target.files[0].size>2000000){toast.error(\"Arquivo é muito grande! 2MB máximo\");return;}const imgBlob=URL.createObjectURL(e.target.files[0]);setPreviewImg(old=>[...old,{number:number,url:imgBlob,name:e.target.files[0].name}]);const selectedMedias=Array.from(e.target.files);setMedias(old=>[...old,selectedMedias[0]]);document.querySelector(\".img\".concat(number)).src=imgBlob;document.querySelector(\".btnImg\".concat(number)).remove();};const handleChangeAudios=(e,number)=>{if(!e.target.files){return;}if(e.target.files[0].size>5000000){toast.error(\"Arquivo é muito grande! 5MB máximo\");return;}const audioBlob=URL.createObjectURL(e.target.files[0]);setPreviewAudios(old=>[...old,{number:number,url:audioBlob,name:e.target.files[0].name}]);const selectedMedias=Array.from(e.target.files);setMedias(old=>[...old,selectedMedias[0]]);document.querySelector(\".audio\".concat(number)).innerHTML=\"<audio controls=\\\"controls\\\">\\n    <source src=\\\"\".concat(audioBlob,\"\\\" type=\\\"audio/mp3\\\" />\\n    seu navegador n\\xE3o suporta HTML5\\n  </audio>\");document.querySelector(\".btnAudio\".concat(number)).remove();};const handleChangeVideos=(e,number)=>{if(!e.target.files){return;}if(e.target.files[0].size>20000000){toast.error(\"Arquivo é muito grande! 20MB máximo\");return;}const videoBlob=URL.createObjectURL(e.target.files[0]);setPreviewVideos(old=>[...old,{number:number,url:videoBlob,name:e.target.files[0].name}]);var divConteudo=document.createElement(\"div\");const selectedMedias=Array.from(e.target.files);setMedias(old=>[...old,selectedMedias[0]]);divConteudo.innerHTML=\"<video controls=\\\"controls\\\" style=\\\"width: 200px;\\\">\\n    <source src=\\\"\".concat(videoBlob,\"\\\" type=\\\"video/mp4\\\" />\\n    seu navegador n\\xE3o suporta HTML5\\n  </video>\");document.querySelector(\".video\".concat(number)).appendChild(divConteudo);document.querySelector(\".btnVideo\".concat(number)).remove();};const imgLayout=function(number){let valueDefault=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";return/*#__PURE__*/React.createElement(Stack,{sx:{border:\"1px solid #FF7606\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackImg\".concat(number),key:\"stackImg\".concat(number)},/*#__PURE__*/React.createElement(Stack,{sx:{position:\"absolute\",right:6}},/*#__PURE__*/React.createElement(Delete,{onClick:()=>deleteElementsTypeOne(number,\"img\")})),/*#__PURE__*/React.createElement(Typography,{textAlign:\"center\"},\"Imagem\"),/*#__PURE__*/React.createElement(Stack,{direction:\"row\",justifyContent:\"center\"},/*#__PURE__*/React.createElement(\"img\",{src:valueDefault.length>0?process.env.REACT_APP_BACKEND_URL+\"/public/\"+valueDefault:\"\",className:\"img\".concat(number),style:{width:\"200px\"}})),valueDefault.length===0&&/*#__PURE__*/React.createElement(Button,{variant:\"contained\",component:\"label\",className:\"btnImg\".concat(number)},\"Enviar imagem\",/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\"image/png, image/jpg, image/jpeg\",hidden:true,onChange:e=>handleChangeMediasImg(e,number)})));};const audioLayout=function(number){let valueDefault=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";let valueRecordDefault=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"\";return/*#__PURE__*/React.createElement(Stack,{sx:{border:\"1px solid #FF7606\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackAudio\".concat(number),key:\"stackAudio\".concat(number)},/*#__PURE__*/React.createElement(Stack,{sx:{position:\"absolute\",right:6},direction:\"row\",gap:1},/*#__PURE__*/React.createElement(Delete,{sx:{cursor:\"pointer\"},onClick:()=>deleteElementsTypeOne(number,\"audio\")})),/*#__PURE__*/React.createElement(Typography,{textAlign:\"center\"},\"Audio\"),/*#__PURE__*/React.createElement(\"div\",{className:\"audio\".concat(number),style:{display:\"flex\",flexDirection:\"row\",justifyContent:\"center\"}},valueDefault.length>0&&/*#__PURE__*/React.createElement(\"audio\",{controls:\"controls\"},/*#__PURE__*/React.createElement(\"source\",{src:process.env.REACT_APP_BACKEND_URL+\"/public/\"+valueDefault,type:\"audio/mp3\"}),\"seu navegador n\\xE3o suporta HTML5\")),valueDefault.length===0&&/*#__PURE__*/React.createElement(Button,{variant:\"contained\",component:\"label\",className:\"btnAudio\".concat(number)},\"Enviar audio\",/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\"audio/ogg, audio/mp3, audio/opus\",hidden:true,onChange:e=>handleChangeAudios(e,number)})),/*#__PURE__*/React.createElement(Stack,{direction:\"row\",justifyContent:\"center\"},/*#__PURE__*/React.createElement(Checkbox,{className:\"checkaudio\".concat(number),defaultChecked:valueRecordDefault===\"ok\"?false:true}),/*#__PURE__*/React.createElement(Stack,{justifyContent:\"center\"},/*#__PURE__*/React.createElement(Typography,null,\"Enviar como audio gravado na hora\"))));};const videoLayout=function(number){let valueDefault=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";return/*#__PURE__*/React.createElement(Stack,{sx:{border:\"1px solid #FF7606\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackVideo\".concat(number),key:\"stackVideo\".concat(number)},/*#__PURE__*/React.createElement(Stack,{sx:{position:\"absolute\",right:6}},/*#__PURE__*/React.createElement(Delete,{onClick:()=>deleteElementsTypeOne(number,\"video\")})),/*#__PURE__*/React.createElement(Typography,{textAlign:\"center\"},\"Video\"),/*#__PURE__*/React.createElement(\"div\",{className:\"video\".concat(number),style:{display:\"flex\",flexDirection:\"row\",justifyContent:\"center\"}},valueDefault.length>0&&/*#__PURE__*/React.createElement(\"video\",{controls:\"controls\",style:{width:'200px'}},/*#__PURE__*/React.createElement(\"source\",{src:process.env.REACT_APP_BACKEND_URL+\"/public/\"+valueDefault,type:\"video/mp4\"}),\"seu navegador n\\xE3o suporta HTML5\")),valueDefault.length===0&&/*#__PURE__*/React.createElement(Button,{variant:\"contained\",component:\"label\",className:\"btnVideo\".concat(number)},\"Enviar video\",/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\"video/mp4\",hidden:true,onChange:e=>handleChangeVideos(e,number)})));};const messageLayout=function(number){let valueDefault=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";return/*#__PURE__*/React.createElement(Stack,{sx:{border:\"1px solid #FF7606\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackMessage\".concat(number),key:\"stackMessage\".concat(number)},/*#__PURE__*/React.createElement(Stack,{sx:{position:\"absolute\",right:6}},/*#__PURE__*/React.createElement(Delete,{onClick:()=>deleteElementsTypeOne(number,\"message\")})),/*#__PURE__*/React.createElement(Typography,{textAlign:\"center\"},\"Texto\"),/*#__PURE__*/React.createElement(TextField,{label:\"Mensagem\",defaultValue:valueDefault,multiline:true,rows:7,className:\"message\".concat(number),name:\"text\",variant:\"outlined\",margin:\"dense\",style:{width:\"100%\"}}));};const intervalLayout=function(number){let valueDefault=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return/*#__PURE__*/React.createElement(Stack,{sx:{border:\"1px solid #FF7606\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackInterval\".concat(number),key:\"stackInterval\".concat(number)},/*#__PURE__*/React.createElement(Stack,{sx:{position:\"absolute\",right:6}},/*#__PURE__*/React.createElement(Delete,{onClick:()=>deleteElementsTypeOne(number,\"interval\")})),/*#__PURE__*/React.createElement(Typography,{textAlign:\"center\"},\"Intervalo\"),/*#__PURE__*/React.createElement(TextField,{label:\"Tempo em segundos\",className:\"interval\".concat(number),defaultValue:valueDefault,type:\"number\",InputProps:{inputProps:{min:0,max:120}},variant:\"outlined\",margin:\"dense\",style:{width:\"100%\"}}));};useEffect(()=>{if(open===\"edit\"){setLabels({title:\"Editar conteúdo\",btn:\"Salvar\"});setElementsSeq(data.data.seq);setElementsSeqEdit(data.data.seq);setElementsEdit(data.data.elements);if(data){const elementsEditLoc=data.data.elements;const sequence=data.data.seq;sequence.map(item=>{const itemNode=elementsEditLoc.filter(inode=>inode.number===item)[0];if(itemNode.type===\"message\"){const numberLoc=parseInt(item.replace(\"message\",\"\"));setElements(elm=>[...elm,messageLayout(numberLoc,itemNode.value)]);setNumberMessages(old=>{const arsOnly=sequence.filter(item=>item.includes(\"message\"));const arrNumberMax=arsOnly.map(item=>parseInt(item.replace(\"message\",\"\")));setNumberMessagesLast(Math.max.apply(null,arrNumberMax)+1);return old+1;});}if(itemNode.type===\"interval\"){const numberLoc=parseInt(item.replace(\"interval\",\"\"));setElements(elm=>[...elm,intervalLayout(numberLoc,itemNode.value)]);setNumberInterval(old=>{const arsOnly=sequence.filter(item=>item.includes(\"interval\"));const arrNumberMax=arsOnly.map(item=>parseInt(item.replace(\"interval\",\"\")));setNumberIntervalLast(Math.max.apply(null,arrNumberMax)+1);return old+1;});}if(itemNode.type===\"audio\"){const numberLoc=parseInt(item.replace(\"audio\",\"\"));setElements(elm=>[...elm,audioLayout(numberLoc,itemNode.value,itemNode.record?\"\":\"ok\")]);setNumberAudio(old=>{const arsOnly=sequence.filter(item=>item.includes(\"audio\"));const arrNumberMax=arsOnly.map(item=>parseInt(item.replace(\"audio\",\"\")));setNumberAudioLast(Math.max.apply(null,arrNumberMax)+1);return old+1;});}if(itemNode.type===\"img\"){const numberLoc=parseInt(item.replace(\"img\",\"\"));setElements(elm=>[...elm,imgLayout(numberLoc,itemNode.value)]);setNumberImg(old=>{const arsOnly=sequence.filter(item=>item.includes(\"img\"));const arrNumberMax=arsOnly.map(item=>parseInt(item.replace(\"img\",\"\")));setNumberImgLast(Math.max.apply(null,arrNumberMax)+1);return old+1;});}if(itemNode.type===\"video\"){const numberLoc=parseInt(item.replace(\"video\",\"\"));setElements(elm=>[...elm,videoLayout(numberLoc,itemNode.value)]);setNumberVideo(old=>{const arsOnly=sequence.filter(item=>item.includes(\"video\"));const arrNumberMax=arsOnly.map(item=>parseInt(item.replace(\"video\",\"\")));setNumberVideoLast(Math.max.apply(null,arrNumberMax)+1);return old+1;});}});}setActiveModal(true);}if(open===\"create\"){setLabels({title:\"Adicionar menu ao fluxo\",btn:\"Adicionar\"});setTextDig();setArrayOption([]);setActiveModal(true);}},[open]);useEffect(()=>{return()=>{isMounted.current=false;};},[]);const handleClose=async()=>{close(null);setActiveModal(false);setTimeout(()=>{setMedias([]);setPreviewImg([]);setPreviewAudios([]);setPreviewVideos([]);setArrayOption([]);setElements([]);setElementsSeq([]);setElementsEdit([]);setElementsSeqEdit([]);setNumberMessages(0);setNumberMessagesLast(0);setNumberInterval(0);setNumberIntervalLast(0);setNumberAudio(0);setNumberAudioLast(0);setNumberVideo(0);setNumberVideoLast(0);setNumberImg(0);setNumberImgLast(0);},500);};const verifyButtonsUpload=()=>{const newArrImg=elementsSeq.filter(item=>item.includes(\"img\"));const newArrAudio=elementsSeq.filter(item=>item.includes(\"audio\"));const newArrVideo=elementsSeq.filter(item=>item.includes(\"video\"));for(let i=0;i<numberImg;i++){const imgVerify=document.querySelector(\".btn\".concat(capitalize(newArrImg[i])));if(imgVerify){return true;}}for(let i=0;i<numberAudio;i++){const audioVerify=document.querySelector(\".btn\".concat(capitalize(newArrAudio[i])));if(audioVerify){return true;}}for(let i=0;i<numberVideo;i++){const videoVerify=document.querySelector(\".btn\".concat(capitalize(newArrVideo[i])));if(videoVerify){return true;}}};const handleSaveNode=async()=>{if(open===\"edit\"){setLoading(true);const formData=new FormData();medias.forEach(async(media,idx)=>{const file=media;if(!file){return;}if((media===null||media===void 0?void 0:media.type.split(\"/\")[0])==\"image\"){new Compressor(file,{quality:0.7,async success(media){formData.append(\"medias\",media);formData.append(\"body\",media.name);},error(err){alert(\"erro\");console.log(err.message);}});}else{formData.append(\"medias\",media);formData.append(\"body\",media.name);}});setTimeout(async()=>{if(numberAudio===0&&numberVideo===0&&numberImg===0||medias.length===0){try{const mountData={seq:elementsSeq,elements:handleElements(null)};onUpdate({...data,data:mountData});toast.success(\"Conteúdo adicionada com sucesso!\");handleClose();setLoading(false);return;}catch(e){setLoading(false);}return;}const verify=verifyButtonsUpload();if(verify){setLoading(false);return toast.error(\"Delete os cards vazios(Imagem, Audio e Video)\");}await api.post(\"/flowbuilder/content\",formData).then(async res=>{const mountData={seq:elementsSeq,elements:handleElements(res.data)};onUpdate({...data,data:mountData});toast.success(\"Conteúdo adicionada com sucesso!\");await handleClose();setLoading(false);}).catch(error=>{console.log(error);});},1500);}else if(open===\"create\"){setLoading(true);const formData=new FormData();medias.forEach(async(media,idx)=>{const file=media;if(!file){return;}if((media===null||media===void 0?void 0:media.type.split(\"/\")[0])==\"image\"){new Compressor(file,{quality:0.7,async success(media){formData.append(\"medias\",media);formData.append(\"body\",media.name);},error(err){alert(\"erro\");console.log(err.message);}});}else{formData.append(\"medias\",media);formData.append(\"body\",media.name);}});setTimeout(async()=>{if(numberAudio===0&&numberVideo===0&&numberImg===0){try{const mountData={seq:elementsSeq,elements:handleElements(null)};onSave({...mountData});toast.success(\"Conteúdo adicionada com sucesso!\");handleClose();setLoading(false);return;}catch(e){setLoading(false);}}const verify=verifyButtonsUpload();if(verify){setLoading(false);return toast.error(\"Delete os cards vazios(Imagem, Audio e Video)\");}await api.post(\"/flowbuilder/content\",formData).then(res=>{const mountData={seq:elementsSeq,elements:handleElements(res.data)};onSave({...mountData});toast.success(\"Conteúdo adicionada com sucesso!\");handleClose();setLoading(false);}).catch(error=>{console.log(error);});},1500);}};const scrollToBottom=className=>{const element=document.querySelector(className);element.scrollTop=element.scrollHeight;};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Dialog,{open:activeModal,fullWidth:\"md\",scroll:\"paper\"},!loading&&/*#__PURE__*/React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"Adicionar conte\\xFAdo ao fluxo\"),/*#__PURE__*/React.createElement(Stack,null,/*#__PURE__*/React.createElement(Stack,{className:\"body-card\",style:{gap:\"8px\",padding:\"16px\",overflow:\"auto\",height:\"70vh\",scrollBehavior:\"smooth\",display:loading&&\"none\"}},elements.map(item=>/*#__PURE__*/React.createElement(React.Fragment,null,item)),/*#__PURE__*/React.createElement(Stack,{direction:\"row\",gap:1},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:()=>{setElements(old=>[...old,messageLayout(numberMessagesLast)]);setNumberMessages(old=>{setElementsSeq(oldEleme=>[...oldEleme,\"message\".concat(numberMessagesLast)]);return old+1;});setNumberMessagesLast(old=>old+1);setTimeout(()=>{scrollToBottom(\".body-card\");},100);}},/*#__PURE__*/React.createElement(Message,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Texto\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:()=>{setElements(old=>[...old,intervalLayout(numberIntervalLast)]);setNumberInterval(old=>{setElementsSeq(oldEleme=>[...oldEleme,\"interval\".concat(numberIntervalLast)]);return old+1;});setNumberIntervalLast(old=>old+1);setTimeout(()=>{scrollToBottom(\".body-card\");},100);}},/*#__PURE__*/React.createElement(AccessTime,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Intervalo\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:()=>{setElements(old=>[...old,imgLayout(numberImgLast)]);setNumberImg(old=>{setElementsSeq(oldEleme=>[...oldEleme,\"img\".concat(numberImgLast)]);return old+1;});setNumberImgLast(old=>old+1);setTimeout(()=>{scrollToBottom(\".body-card\");},100);}},/*#__PURE__*/React.createElement(Image,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Imagem\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:()=>{setElements(old=>[...old,audioLayout(numberAudioLast)]);setNumberAudio(old=>{setElementsSeq(oldEleme=>[...oldEleme,\"audio\".concat(numberAudioLast)]);return old+1;});setNumberAudioLast(old=>old+1);setTimeout(()=>{scrollToBottom(\".body-card\");},100);}},/*#__PURE__*/React.createElement(MicNone,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Audio\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:()=>{setElements(old=>[...old,videoLayout(numberVideoLast)]);setNumberVideo(old=>{setElementsSeq(oldEleme=>[...oldEleme,\"video\".concat(numberVideoLast)]);return old+1;});setNumberVideoLast(old=>old+1);setTimeout(()=>{scrollToBottom(\".body-card\");},100);}},/*#__PURE__*/React.createElement(Videocam,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Video\"))),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:handleClose,color:\"secondary\",variant:\"outlined\",style:{display:loading&&\"none\"}},i18n.t(\"contactModal.buttons.cancel\")),/*#__PURE__*/React.createElement(Button,{type:\"submit\",color:\"primary\",variant:\"contained\",onClick:()=>handleSaveNode(),style:{display:loading&&\"none\"}},\"\".concat(labels.btn)))),loading&&/*#__PURE__*/React.createElement(Stack,{style:{gap:\"8px\",padding:\"16px\",height:\"70vh\",alignSelf:\"center\",justifyContent:\"center\"}},/*#__PURE__*/React.createElement(Stack,null,/*#__PURE__*/React.createElement(Typography,null,\"Subindo os arquivos e criando o conte\\xFAdo...\"),/*#__PURE__*/React.createElement(Stack,{style:{alignSelf:\"center\",marginTop:\"12px\"}},/*#__PURE__*/React.createElement(CircularProgress,null))))));};export default FlowBuilderSingleBlockModal;","map":{"version":3,"names":["React","useState","useEffect","useRef","Yup","Formik","FieldArray","Form","Field","toast","makeStyles","green","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","IconButton","DeleteOutlineIcon","CircularProgress","Compressor","i18n","api","toastError","Checkbox","FormControl","InputLabel","MenuItem","Select","Stack","Typography","AccessTime","AddCircle","Delete","Image","KeyboardArrowDown","KeyboardArrowUp","Message","MicNone","Videocam","capitalize","useStyles","theme","root","display","flexWrap","textField","marginRight","spacing","flex","extraAttr","justifyContent","alignItems","btnWrapper","position","buttonProgress","color","top","left","marginTop","marginLeft","FlowBuilderSingleBlockModal","_ref","open","onSave","onUpdate","data","close","classes","isMounted","activeModal","setActiveModal","rule","setRule","medias","setMedias","textDig","setTextDig","elements","setElements","elementsSeq","setElementsSeq","elementsSeqEdit","setElementsSeqEdit","elementsEdit","setElementsEdit","numberMessages","setNumberMessages","numberMessagesLast","setNumberMessagesLast","numberInterval","setNumberInterval","numberIntervalLast","setNumberIntervalLast","numberAudio","setNumberAudio","numberAudioLast","setNumberAudioLast","numberVideo","setNumberVideo","numberVideoLast","setNumberVideoLast","numberImg","setNumberImg","numberImgLast","setNumberImgLast","loading","setLoading","previewImg","setPreviewImg","previewAudios","setPreviewAudios","previewVideos","setPreviewVideos","arrayOption","setArrayOption","labels","setLabels","title","btn","handleElements","newNameFiles","elementsSequence","newArrMessage","filter","item","includes","newArrInterval","newArrImg","newArrAudio","newArrVideo","i","value","document","querySelector","concat","error","push","type","number","parseInt","onlyImg","file","onlyImgNameOriginal","name","itemSelectedEdit","original","indexElem","length","onlyAudio","onlyAudioNameOriginal","record","checked","onlyVideo","onlyVideoNameOriginal","deleteElementsTypeOne","id","old","remove","oldMedia","mediaItem","e","moveElementDown","array","index","indexOf","moveItemParaFrente","novoArray","elementoMovido","splice","moveElementUp","moveItemParaTras","posicao","handleChangeMediasImg","target","files","size","imgBlob","URL","createObjectURL","url","selectedMedias","Array","from","src","handleChangeAudios","audioBlob","innerHTML","handleChangeVideos","videoBlob","divConteudo","createElement","appendChild","imgLayout","valueDefault","arguments","undefined","sx","border","borderRadius","padding","className","key","right","onClick","textAlign","direction","process","env","REACT_APP_BACKEND_URL","style","width","variant","component","accept","hidden","onChange","audioLayout","valueRecordDefault","gap","cursor","flexDirection","controls","defaultChecked","videoLayout","messageLayout","label","defaultValue","multiline","rows","margin","intervalLayout","InputProps","inputProps","min","max","seq","elementsEditLoc","sequence","map","itemNode","inode","numberLoc","replace","elm","arsOnly","arrNumberMax","Math","apply","current","handleClose","setTimeout","verifyButtonsUpload","imgVerify","audioVerify","videoVerify","handleSaveNode","formData","FormData","forEach","media","idx","split","quality","success","append","err","alert","console","log","message","mountData","verify","post","then","res","catch","scrollToBottom","element","scrollTop","scrollHeight","fullWidth","scroll","overflow","height","scrollBehavior","Fragment","oldEleme","t","alignSelf"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/components/FlowBuilderSingleBlockModal/index.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Compressor from \"compressorjs\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  Checkbox,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n  Stack,\n  Typography\n} from \"@mui/material\";\nimport {\n  AccessTime,\n  AddCircle,\n  Delete,\n  Image,\n  KeyboardArrowDown,\n  KeyboardArrowUp,\n  Message,\n  MicNone,\n  Videocam\n} from \"@mui/icons-material\";\nimport { capitalize } from \"../../utils/capitalize\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n\n  btnWrapper: {\n    position: \"relative\"\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst FlowBuilderSingleBlockModal = ({\n  open,\n  onSave,\n  onUpdate,\n  data,\n  close\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const [activeModal, setActiveModal] = useState(false);\n\n  const [rule, setRule] = useState();\n\n  const [medias, setMedias] = useState([]);\n\n  const [textDig, setTextDig] = useState();\n\n  const [elements, setElements] = useState([]);\n\n  const [elementsSeq, setElementsSeq] = useState([]);\n\n  const [elementsSeqEdit, setElementsSeqEdit] = useState([]);\n\n  const [elementsEdit, setElementsEdit] = useState([]);\n\n  const [numberMessages, setNumberMessages] = useState(0);\n\n  const [numberMessagesLast, setNumberMessagesLast] = useState(0);\n\n  const [numberInterval, setNumberInterval] = useState(0);\n\n  const [numberIntervalLast, setNumberIntervalLast] = useState(0);\n\n  const [numberAudio, setNumberAudio] = useState(0);\n\n  const [numberAudioLast, setNumberAudioLast] = useState(0);\n\n  const [numberVideo, setNumberVideo] = useState(0);\n\n  const [numberVideoLast, setNumberVideoLast] = useState(0);\n\n  const [numberImg, setNumberImg] = useState(0);\n\n  const [numberImgLast, setNumberImgLast] = useState(0);\n\n  const [loading, setLoading] = useState(false);\n\n  const [previewImg, setPreviewImg] = useState([]);\n\n  const [previewAudios, setPreviewAudios] = useState([]);\n\n  const [previewVideos, setPreviewVideos] = useState([]);\n\n  const [arrayOption, setArrayOption] = useState([]);\n\n  const [labels, setLabels] = useState({\n    title: \"Adicionar conteúdo ao fluxo\",\n    btn: \"Adicionar\"\n  });\n\n  const handleElements = newNameFiles => {\n    let elementsSequence = [];\n\n    const newArrMessage = elementsSeq.filter(item => item.includes(\"message\"));\n    const newArrInterval = elementsSeq.filter(item =>\n      item.includes(\"interval\")\n    );\n    const newArrImg = elementsSeq.filter(item => item.includes(\"img\"));\n    const newArrAudio = elementsSeq.filter(item => item.includes(\"audio\"));\n    const newArrVideo = elementsSeq.filter(item => item.includes(\"video\"));\n\n    //Todas as mensagens\n    for (let i = 0; i < numberMessages; i++) {\n      const value = document\n        .querySelector(`.${newArrMessage[i]}`)\n        .querySelector(\".MuiInputBase-input\").value;\n      if (!value) {\n        toast.error(\"Campos de mensagem vazio!\");\n        setLoading(false);\n        throw \"\";\n      }\n      elementsSequence.push({\n        type: \"message\",\n        value: value,\n        number: newArrMessage[i]\n      });\n    }\n    //Todos os intervalos\n    for (let i = 0; i < numberInterval; i++) {\n      const value = document\n        .querySelector(`.${newArrInterval[i]}`)\n        .querySelector(\".MuiInputBase-input\").value;\n      if (parseInt(value) === 0 || parseInt(value) > 120) {\n        toast.error(\"Intervalo não pode ser 0 ou maior que 120!\");\n        setLoading(false);\n        throw \"\";\n      }\n      elementsSequence.push({\n        type: \"interval\",\n        value: value,\n        number: newArrInterval[i]\n      });\n    }\n\n    //Todas as imagens\n    for (let i = 0; i < numberImg; i++) {\n      const onlyImg =\n        newNameFiles !== null &&\n        newNameFiles.filter(\n          file =>\n            file.includes(\"png\") ||\n            file.includes(\"jpg\") ||\n            file.includes(\"jpeg\")\n        );\n      const onlyImgNameOriginal = medias.filter(\n        file =>\n          file.name.includes(\"png\") ||\n          file.name.includes(\"jpg\") ||\n          file.name.includes(\"jpeg\")\n      );      \n      if (elementsSeqEdit.includes(newArrImg[i])) {\n        const itemSelectedEdit = elementsEdit.filter(\n          item => item.number === newArrImg[i]\n        )[0];\n        elementsSequence.push({\n          type: \"img\",\n          value: itemSelectedEdit.value,\n          original: itemSelectedEdit.original,\n          number: itemSelectedEdit.number\n        });\n      } else {\n        let indexElem = 0;\n        if (elementsSeqEdit.filter(item => item.includes(\"img\")).length > 0) {\n          indexElem =\n            elementsSeqEdit.filter(item => item.includes(\"img\")).length - i;\n        } else {\n          indexElem = i;\n        }\n        elementsSequence.push({\n          type: \"img\",\n          value: onlyImg[indexElem],\n          original: onlyImgNameOriginal[indexElem].name,\n          number: newArrImg[i]\n        });\n      }\n    }\n    //Todos os audios\n    for (let i = 0; i < numberAudio; i++) {\n      const onlyAudio =\n        newNameFiles !== null &&\n        newNameFiles.filter(\n          file =>\n            file.includes(\"mp3\") ||\n            file.includes(\"ogg\") ||\n            file.includes(\"mpeg\") ||\n            file.includes(\"opus\")\n        );\n      const onlyAudioNameOriginal = medias.filter(\n        file =>\n          file.name.includes(\"mp3\") ||\n          file.name.includes(\"ogg\") ||\n          file.name.includes(\"mpeg\") ||\n          file.name.includes(\"opus\")\n      );\n      \n      if (elementsSeqEdit.includes(newArrAudio[i])) {\n        const itemSelectedEdit = elementsEdit.filter(\n          item => item.number === newArrAudio[i]\n        )[0];\n        elementsSequence.push({\n          type: \"audio\",\n          value: itemSelectedEdit.value,\n          original: itemSelectedEdit.original,\n          number: itemSelectedEdit.number,\n          record: document.querySelector(`.check${newArrAudio[i]}`).querySelector(\".PrivateSwitchBase-input\").checked\n        });\n      } else {\n        let indexElem = 0;\n        if (elementsSeqEdit.filter(item => item.includes(\"audio\")).length > 0) {\n          indexElem =\n            elementsSeqEdit.filter(item => item.includes(\"audio\")).length - i;\n        } else {\n          indexElem = i;\n        }\n        elementsSequence.push({\n          type: \"audio\",\n          value: onlyAudio[indexElem],\n          original: onlyAudioNameOriginal[indexElem].name,\n          number: newArrAudio[i],\n          record: document.querySelector(`.check${newArrAudio[i]}`).querySelector(\".PrivateSwitchBase-input\").checked\n        });        \n      }\n    }\n    //Todos os videos\n    for (let i = 0; i < numberVideo; i++) {\n      const onlyVideo =\n        newNameFiles !== null &&\n        newNameFiles.filter(\n          file => file.includes(\"mp4\") || file.includes(\"avi\")\n        );\n      const onlyVideoNameOriginal = medias.filter(\n        file => file.name.includes(\"mp4\") || file.name.includes(\"avi\")\n      );\n      if (elementsSeqEdit.includes(newArrVideo[i])) {\n        const itemSelectedEdit = elementsEdit.filter(\n          item => item.number === newArrVideo[i]\n        )[0];\n        elementsSequence.push({\n          type: \"video\",\n          value: itemSelectedEdit.value,\n          original: itemSelectedEdit.original,\n          number: itemSelectedEdit.number\n        });\n      } else {\n        let indexElem = 0;\n        if (elementsSeqEdit.filter(item => item.includes(\"video\")).length > 0) {\n          indexElem =\n            elementsSeqEdit.filter(item => item.includes(\"video\")).length - i;\n        } else {\n          indexElem = i;\n        }\n        elementsSequence.push({\n          type: \"video\",\n          value: onlyVideo[indexElem],\n          original: onlyVideoNameOriginal[indexElem].name,\n          number: newArrVideo[i]\n        });\n      }\n    }\n    return elementsSequence;\n  };\n\n  const deleteElementsTypeOne = (id, type) => {\n    if (type === \"message\") {\n      setNumberMessages(old => old - 1);\n      setElementsSeq(old => old.filter(item => item !== `message${id}`));\n      setElementsSeqEdit(old => old.filter(item => item !== `message${id}`))\n      document.querySelector(`.stackMessage${id}`).remove();\n    }\n    if (type === \"interval\") {\n      setNumberInterval(old => old - 1);\n      setElementsSeq(old => old.filter(item => item !== `interval${id}`));\n      setElementsSeqEdit(old => old.filter(item => item !== `interval${id}`))\n      document.querySelector(`.stackInterval${id}`).remove();\n    }\n    if (type === \"img\") {\n      setNumberImg(old => old - 1);\n      setPreviewImg(old => {\n        setMedias(oldMedia => {\n          try {\n            return oldMedia.filter(\n              mediaItem =>\n                mediaItem.name !==\n                old.filter(item => item.number === id)[0].name\n            );\n          } catch (e) {\n            return oldMedia;\n          }\n        });\n        return old.filter(item => item.number !== id);\n      });\n      setElementsSeq(old => old.filter(item => item !== `img${id}`));\n      setElementsSeqEdit(old => old.filter(item => item !== `img${id}`))\n      document.querySelector(`.stackImg${id}`).remove();\n    }\n    if (type === \"audio\") {\n      setNumberAudio(old => old - 1);\n      setPreviewAudios(old => {\n        setMedias(oldMedia => {\n          try {\n            return oldMedia.filter(\n              mediaItem =>\n                mediaItem.name !==\n                old.filter(item => item.number === id)[0].name\n            );\n          } catch (e) {\n            return oldMedia;\n          }\n        });\n        return old.filter(item => item.number !== id);\n      });\n      setElementsSeq(old => old.filter(item => item !== `audio${id}`));\n      setElementsSeqEdit(old => old.filter(item => item !== `audio${id}`))\n      document.querySelector(`.stackAudio${id}`).remove();\n    }\n    if (type === \"video\") {\n      setNumberVideo(old => old - 1);\n      setPreviewVideos(old => {\n        setMedias(oldMedia => {\n          try {\n            return oldMedia.filter(\n              mediaItem =>\n                mediaItem.name !==\n                old.filter(item => item.number === id)[0].name\n            );\n          } catch (e) {\n            return oldMedia;\n          }\n        });\n        return old.filter(item => item.number !== id);\n      });\n      setElementsSeq(old => old.filter(item => item !== `video${id}`));\n      setElementsSeqEdit(old => old.filter(item => item !== `video${id}`))\n      document.querySelector(`.stackVideo${id}`).remove();\n    }\n  };\n\n  const moveElementDown = id => {\n    setElementsSeq(old => {\n      const array = old;\n      const index = array.indexOf(id);\n      moveItemParaFrente(index);\n      if (index !== -1 && index < array.length - 1) {\n        // Verifica se o elemento foi encontrado no array e não está na última posição\n        const novoArray = [...array]; // Cria uma cópia do array original\n        const elementoMovido = novoArray.splice(index, 1)[0];\n        novoArray.splice(index + 1, 0, elementoMovido);\n        return novoArray;\n      }\n      return array;\n    });\n  };\n\n  const moveElementUp = id => {\n    setElementsSeq(old => {\n      const array = old;\n      const index = array.indexOf(id);\n      moveItemParaTras(index);\n\n      if (index !== -1 && index > 0) {\n        // Verifica se o elemento foi encontrado no array e não está na primeira posição\n        const novoArray = [...array]; // Cria uma cópia do array original\n        const elementoMovido = novoArray.splice(index, 1)[0];\n        novoArray.splice(index - 1, 0, elementoMovido);\n        return novoArray;\n      }\n      return array;\n    });\n  };\n\n  function moveItemParaFrente(posicao) {\n    setElements(old => {\n      const array = old;\n\n      if (posicao >= 0 && posicao < array.length - 1) {\n        const novoArray = [...array]; // Cria uma cópia do array original\n        const elementoMovido = novoArray.splice(posicao, 1)[0];\n        novoArray.splice(posicao + 1, 0, elementoMovido);\n        return novoArray;\n      }\n\n      return array; // Retorna o array original se a movimentação não for possível\n    });\n  }\n\n  function moveItemParaTras(posicao) {\n    setElements(old => {\n      const array = old;\n      if (posicao > 0 && posicao < array.length) {\n        const novoArray = [...array]; // Cria uma cópia do array original\n        const elementoMovido = novoArray.splice(posicao, 1)[0];\n        novoArray.splice(posicao - 1, 0, elementoMovido);\n        return novoArray;\n      }\n\n      return array; // Retorna o array original se a movimentação não for possível\n    });\n  }\n\n  const handleChangeMediasImg = (e, number) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    if (e.target.files[0].size > 2000000) {\n      toast.error(\"Arquivo é muito grande! 2MB máximo\");\n      return;\n    }\n    const imgBlob = URL.createObjectURL(e.target.files[0]);\n    setPreviewImg(old => [\n      ...old,\n      {\n        number: number,\n        url: imgBlob,\n        name: e.target.files[0].name\n      }\n    ]);\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(old => [...old, selectedMedias[0]]);\n\n    document.querySelector(`.img${number}`).src = imgBlob;\n    document.querySelector(`.btnImg${number}`).remove();\n  };\n\n  const handleChangeAudios = (e, number) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    if (e.target.files[0].size > 5000000) {\n      toast.error(\"Arquivo é muito grande! 5MB máximo\");\n      return;\n    }\n\n    const audioBlob = URL.createObjectURL(e.target.files[0]);\n    setPreviewAudios(old => [\n      ...old,\n      {\n        number: number,\n        url: audioBlob,\n        name: e.target.files[0].name\n      }\n    ]);\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(old => [...old, selectedMedias[0]]);\n\n    document.querySelector(\n      `.audio${number}`\n    ).innerHTML = `<audio controls=\"controls\">\n    <source src=\"${audioBlob}\" type=\"audio/mp3\" />\n    seu navegador não suporta HTML5\n  </audio>`;\n    document.querySelector(`.btnAudio${number}`).remove();\n  };\n\n  const handleChangeVideos = (e, number) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    if (e.target.files[0].size > 20000000) {\n      toast.error(\"Arquivo é muito grande! 20MB máximo\");\n      return;\n    }\n    const videoBlob = URL.createObjectURL(e.target.files[0]);\n    setPreviewVideos(old => [\n      ...old,\n      {\n        number: number,\n        url: videoBlob,\n        name: e.target.files[0].name\n      }\n    ]);\n\n    var divConteudo = document.createElement(\"div\");\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(old => [...old, selectedMedias[0]]);\n\n    divConteudo.innerHTML = `<video controls=\"controls\" style=\"width: 200px;\">\n    <source src=\"${videoBlob}\" type=\"video/mp4\" />\n    seu navegador não suporta HTML5\n  </video>`;\n\n    document.querySelector(`.video${number}`).appendChild(divConteudo);\n    document.querySelector(`.btnVideo${number}`).remove();\n  };\n\n  const imgLayout = (number, valueDefault = \"\") => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #FF7606\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\"\n        }}\n        className={`stackImg${number}`}\n        key={`stackImg${number}`}\n      >\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\n          <Delete onClick={() => deleteElementsTypeOne(number, \"img\")} />\n        </Stack>\n        <Typography textAlign={\"center\"}>Imagem</Typography>\n        <Stack direction={\"row\"} justifyContent={\"center\"}>\n          <img\n            src={\n              valueDefault.length > 0\n                ? process.env.REACT_APP_BACKEND_URL + \"/public/\" + valueDefault\n                : \"\"\n            }\n            className={`img${number}`}\n            style={{ width: \"200px\" }}\n          />\n        </Stack>\n        {valueDefault.length === 0 && (\n          <Button\n            variant=\"contained\"\n            component=\"label\"\n            className={`btnImg${number}`}\n          >\n            Enviar imagem\n            <input\n              type=\"file\"\n              accept=\"image/png, image/jpg, image/jpeg\"\n              hidden\n              onChange={e => handleChangeMediasImg(e, number)}\n            />\n          </Button>\n        )}\n      </Stack>\n    );\n  };\n\n  const audioLayout = (number, valueDefault = \"\", valueRecordDefault = \"\") => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #FF7606\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\"\n        }}\n        className={`stackAudio${number}`}\n        key={`stackAudio${number}`}\n      >\n        <Stack\n          sx={{ position: \"absolute\", right: 6 }}\n          direction={\"row\"}\n          gap={1}\n        >\n          {/* <KeyboardArrowUp\n            onClick={() => moveElementUp(`audio${number}`)}\n            sx={{ cursor: \"pointer\" }}\n          />\n          <KeyboardArrowDown\n            onClick={() => moveElementDown(`audio${number}`)}\n            sx={{ cursor: \"pointer\" }}\n          /> */}\n          <Delete\n            sx={{ cursor: \"pointer\" }}\n            onClick={() => deleteElementsTypeOne(number, \"audio\")}\n          />\n        </Stack>\n        <Typography textAlign={\"center\"}>Audio</Typography>\n        <div\n          className={`audio${number}`}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\"\n          }}\n        >\n          {valueDefault.length > 0 && (\n            <audio controls=\"controls\">\n              <source\n                src={\n                  process.env.REACT_APP_BACKEND_URL + \"/public/\" + valueDefault\n                }\n                type=\"audio/mp3\"\n              />\n              seu navegador não suporta HTML5\n            </audio>\n          )}\n        </div>\n        {valueDefault.length === 0 && (\n          <Button\n            variant=\"contained\"\n            component=\"label\"\n            className={`btnAudio${number}`}\n          >\n            Enviar audio\n            <input\n              type=\"file\"\n              accept=\"audio/ogg, audio/mp3, audio/opus\"\n              hidden\n              onChange={e => handleChangeAudios(e, number)}\n            />\n          </Button>\n        )}\n        <Stack direction={\"row\"} justifyContent={\"center\"}>\n          <Checkbox\n            className={`checkaudio${number}`}\n            defaultChecked={valueRecordDefault === \"ok\" ? false : true}\n          />\n          <Stack justifyContent={\"center\"}>\n            <Typography>Enviar como audio gravado na hora</Typography>\n          </Stack>\n        </Stack>\n      </Stack>\n    );\n  };\n\n  const videoLayout = (number, valueDefault = \"\") => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #FF7606\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\"\n        }}\n        className={`stackVideo${number}`}\n        key={`stackVideo${number}`}\n      >\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\n          <Delete onClick={() => deleteElementsTypeOne(number, \"video\")} />\n        </Stack>\n        <Typography textAlign={\"center\"}>Video</Typography>\n        <div\n          className={`video${number}`}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\"\n          }}\n        >\n          {valueDefault.length > 0 && (\n            <video controls=\"controls\" style={{width: '200px'}}>\n              <source\n                src={process.env.REACT_APP_BACKEND_URL + \"/public/\" + valueDefault}\n                type=\"video/mp4\"\n              />\n              seu navegador não suporta HTML5\n            </video>\n          )}\n        </div>\n        {valueDefault.length === 0 && (\n          <Button\n            variant=\"contained\"\n            component=\"label\"\n            className={`btnVideo${number}`}\n          >\n            Enviar video\n            <input\n              type=\"file\"\n              accept=\"video/mp4\"\n              hidden\n              onChange={e => handleChangeVideos(e, number)}\n            />\n          </Button>\n        )}\n      </Stack>\n    );\n  };\n\n  const messageLayout = (number, valueDefault = \"\") => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #FF7606\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\"\n        }}\n        className={`stackMessage${number}`}\n        key={`stackMessage${number}`}\n      >\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\n          <Delete onClick={() => deleteElementsTypeOne(number, \"message\")} />\n        </Stack>\n        <Typography textAlign={\"center\"}>Texto</Typography>\n        <TextField\n          label={\"Mensagem\"}\n          defaultValue={valueDefault}\n          multiline\n          rows={7}\n          className={`message${number}`}\n          name=\"text\"\n          variant=\"outlined\"\n          margin=\"dense\"\n          style={{ width: \"100%\" }}\n        />\n      </Stack>\n    );\n  };\n\n  const intervalLayout = (number, valueDefault = 0) => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #FF7606\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\"\n        }}\n        className={`stackInterval${number}`}\n        key={`stackInterval${number}`}\n      >\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\n          <Delete onClick={() => deleteElementsTypeOne(number, \"interval\")} />\n        </Stack>\n        <Typography textAlign={\"center\"}>Intervalo</Typography>\n        <TextField\n          label={\"Tempo em segundos\"}\n          className={`interval${number}`}\n          defaultValue={valueDefault}\n          type=\"number\"\n          InputProps={{ inputProps: { min: 0, max: 120 } }}\n          variant=\"outlined\"\n          margin=\"dense\"\n          style={{ width: \"100%\" }}\n        />\n      </Stack>\n    );\n  };\n\n \n\n  useEffect(() => {\n    if (open === \"edit\") {\n      setLabels({\n        title: \"Editar conteúdo\",\n        btn: \"Salvar\"\n      });\n\n      setElementsSeq(data.data.seq);\n\n    setElementsSeqEdit(data.data.seq);\n    setElementsEdit(data.data.elements);\n    if (data) {\n      const elementsEditLoc = data.data.elements;\n      const sequence = data.data.seq;\n\n      sequence.map(item => {\n        const itemNode = elementsEditLoc.filter(inode => inode.number === item)[0];\n        if (itemNode.type === \"message\") {\n          const numberLoc = parseInt(item.replace(\"message\", \"\"));\n          setElements(elm => [\n            ...elm,\n            messageLayout(numberLoc, itemNode.value)\n          ]);\n          setNumberMessages(old => {\n            const arsOnly = sequence.filter(item => item.includes(\"message\"));\n            const arrNumberMax = arsOnly.map(item =>\n              parseInt(item.replace(\"message\", \"\"))\n            );\n            setNumberMessagesLast(Math.max.apply(null, arrNumberMax) + 1);\n            return old + 1;\n          });\n        }\n        if (itemNode.type === \"interval\") {\n          const numberLoc = parseInt(item.replace(\"interval\", \"\"));\n          setElements(elm => [\n            ...elm,\n            intervalLayout(numberLoc, itemNode.value)\n          ]);\n          setNumberInterval(old => {\n            const arsOnly = sequence.filter(item => item.includes(\"interval\"));\n            const arrNumberMax = arsOnly.map(item =>\n              parseInt(item.replace(\"interval\", \"\"))\n            );\n            setNumberIntervalLast(Math.max.apply(null, arrNumberMax) + 1);\n            return old + 1;\n          });\n        }\n        if (itemNode.type === \"audio\") {\n          const numberLoc = parseInt(item.replace(\"audio\", \"\"));\n          setElements(elm => [\n            ...elm,\n            audioLayout(numberLoc, itemNode.value, itemNode.record ? \"\" : \"ok\")\n          ]);\n          setNumberAudio(old => {\n            const arsOnly = sequence.filter(item => item.includes(\"audio\"));\n            const arrNumberMax = arsOnly.map(item =>\n              parseInt(item.replace(\"audio\", \"\"))\n            );\n            setNumberAudioLast(Math.max.apply(null, arrNumberMax) + 1);\n            return old + 1;\n          });\n        }\n        if (itemNode.type === \"img\") {\n          const numberLoc = parseInt(item.replace(\"img\", \"\"));\n          setElements(elm => [...elm, imgLayout(numberLoc, itemNode.value)]);\n          setNumberImg(old => {\n            const arsOnly = sequence.filter(item => item.includes(\"img\"));\n            const arrNumberMax = arsOnly.map(item =>\n              parseInt(item.replace(\"img\", \"\"))\n            );\n            setNumberImgLast(Math.max.apply(null, arrNumberMax) + 1);\n            return old + 1;\n          });\n        }\n        if (itemNode.type === \"video\") {\n          const numberLoc = parseInt(item.replace(\"video\", \"\"));\n          setElements(elm => [...elm, videoLayout(numberLoc, itemNode.value)]);\n          setNumberVideo(old => {\n            const arsOnly = sequence.filter(item => item.includes(\"video\"));\n            const arrNumberMax = arsOnly.map(item =>\n              parseInt(item.replace(\"video\", \"\"))\n            );\n            setNumberVideoLast(Math.max.apply(null, arrNumberMax) + 1);\n            return old + 1;\n          });\n        }\n      });\n    }\n    setActiveModal(true);\n    }\n    if (open === \"create\") {\n      setLabels({\n        title: \"Adicionar menu ao fluxo\",\n        btn: \"Adicionar\"\n      });\n      setTextDig();\n      setArrayOption([]);\n      setActiveModal(true);\n    }\n  }, [open]);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleClose = async () => {\n    close(null);\n    setActiveModal(false);\n    setTimeout(() => {\n      setMedias([]);\n      setPreviewImg([]);\n      setPreviewAudios([]);\n      setPreviewVideos([]);\n      setArrayOption([]);\n      setElements([]);\n      setElementsSeq([]);\n      setElementsEdit([]);\n      setElementsSeqEdit([]);\n      setNumberMessages(0);\n      setNumberMessagesLast(0);\n      setNumberInterval(0);\n      setNumberIntervalLast(0);\n      setNumberAudio(0);\n      setNumberAudioLast(0);\n      setNumberVideo(0);\n      setNumberVideoLast(0);\n      setNumberImg(0);\n      setNumberImgLast(0);\n    }, 500);\n  };\n\n  const verifyButtonsUpload = () => {\n    const newArrImg = elementsSeq.filter(item => item.includes(\"img\"));\n    const newArrAudio = elementsSeq.filter(item => item.includes(\"audio\"));\n    const newArrVideo = elementsSeq.filter(item => item.includes(\"video\"));\n\n    for (let i = 0; i < numberImg; i++) {\n      const imgVerify = document.querySelector(\n        `.btn${capitalize(newArrImg[i])}`\n      );\n      if (imgVerify) {\n        return true;\n      }\n    }\n    for (let i = 0; i < numberAudio; i++) {\n      const audioVerify = document.querySelector(\n        `.btn${capitalize(newArrAudio[i])}`\n      );\n      if (audioVerify) {\n        return true;\n      }\n    }\n    for (let i = 0; i < numberVideo; i++) {\n      const videoVerify = document.querySelector(\n        `.btn${capitalize(newArrVideo[i])}`\n      );\n      if (videoVerify) {\n        return true;\n      }\n    }\n  };\n\n  const handleSaveNode = async () => {\n    if (open === \"edit\") {\n      setLoading(true);\n      const formData = new FormData();\n\n      medias.forEach(async (media, idx) => {\n        const file = media;\n\n        if (!file) {\n          return;\n        }\n\n        if (media?.type.split(\"/\")[0] == \"image\") {\n          new Compressor(file, {\n            quality: 0.7,\n\n            async success(media) {\n              formData.append(\"medias\", media);\n              formData.append(\"body\", media.name);\n            },\n            error(err) {\n              alert(\"erro\");\n              console.log(err.message);\n            }\n          });\n        } else {\n          formData.append(\"medias\", media);\n          formData.append(\"body\", media.name);\n        }\n      });\n\n      setTimeout(async () => {\n        if (\n          (numberAudio === 0 && numberVideo === 0 && numberImg === 0) ||\n          medias.length === 0\n        ) {\n          try {\n            const mountData = {\n              seq: elementsSeq,\n              elements: handleElements(null)\n            };\n            onUpdate({\n              ...data,\n              data: mountData\n            });\n            toast.success(\"Conteúdo adicionada com sucesso!\");\n            handleClose();\n            setLoading(false);\n\n            return;\n          } catch (e) {\n            setLoading(false);\n          }\n          return;\n        }\n        const verify = verifyButtonsUpload();\n        if (verify) {\n          setLoading(false);\n          return toast.error(\"Delete os cards vazios(Imagem, Audio e Video)\");\n        }\n        await api\n          .post(\"/flowbuilder/content\", formData)\n          .then(async (res) => {\n            const mountData = {\n              seq: elementsSeq,\n              elements: handleElements(res.data)\n            };\n            onUpdate({\n              ...data,\n              data: mountData\n            });\n            toast.success(\"Conteúdo adicionada com sucesso!\");\n            await handleClose();\n            setLoading(false);\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      }, 1500);\n    } else if (open === \"create\") {\n      setLoading(true);\n      const formData = new FormData();\n\n      medias.forEach(async (media, idx) => {\n        const file = media;\n\n        if (!file) {\n          return;\n        }\n\n        if (media?.type.split(\"/\")[0] == \"image\") {\n          new Compressor(file, {\n            quality: 0.7,\n\n            async success(media) {\n              formData.append(\"medias\", media);\n              formData.append(\"body\", media.name);\n            },\n            error(err) {\n              alert(\"erro\");\n              console.log(err.message);\n            }\n          });\n        } else {\n          formData.append(\"medias\", media);\n          formData.append(\"body\", media.name);\n        }\n      });\n\n      setTimeout(async () => {\n        if (numberAudio === 0 && numberVideo === 0 && numberImg === 0) {\n          try {\n            const mountData = {\n              seq: elementsSeq,\n              elements: handleElements(null)\n            };\n            onSave({\n              ...mountData\n            });\n            toast.success(\"Conteúdo adicionada com sucesso!\");\n            handleClose();\n            setLoading(false);\n\n            return;\n          } catch (e) {\n            setLoading(false);\n          }\n        }\n        const verify = verifyButtonsUpload();\n        if (verify) {\n          setLoading(false);\n          return toast.error(\"Delete os cards vazios(Imagem, Audio e Video)\");\n        }\n        await api\n          .post(\"/flowbuilder/content\", formData)\n          .then(res => {\n            const mountData = {\n              seq: elementsSeq,\n              elements: handleElements(res.data)\n            };\n            onSave({\n              ...mountData\n            });\n            toast.success(\"Conteúdo adicionada com sucesso!\");\n            handleClose();\n            setLoading(false);\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      }, 1500);\n    }\n  };\n\n  const scrollToBottom = className => {\n    const element = document.querySelector(className);\n    element.scrollTop = element.scrollHeight;\n  };\n\n  return (\n    <div>\n      <Dialog open={activeModal} fullWidth=\"md\" scroll=\"paper\">\n        {!loading && (\n          <DialogTitle id=\"form-dialog-title\">\n            Adicionar conteúdo ao fluxo\n          </DialogTitle>\n        )}\n        <Stack>\n          <Stack\n            className=\"body-card\"\n            style={{\n              gap: \"8px\",\n              padding: \"16px\",\n              overflow: \"auto\",\n              height: \"70vh\",\n              scrollBehavior: \"smooth\",\n              display: loading && \"none\"\n            }}\n          >\n            {elements.map(item => (\n              <>{item}</>\n            ))}\n            <Stack direction={\"row\"} gap={1}>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements(old => [\n                    ...old,\n                    messageLayout(numberMessagesLast)\n                  ]);\n                  setNumberMessages(old => {\n                    setElementsSeq(oldEleme => [\n                      ...oldEleme,\n                      `message${numberMessagesLast}`\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberMessagesLast(old => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <Message\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\"\n                  }}\n                />\n                Texto\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements(old => [\n                    ...old,\n                    intervalLayout(numberIntervalLast)\n                  ]);\n                  setNumberInterval(old => {\n                    setElementsSeq(oldEleme => [\n                      ...oldEleme,\n                      `interval${numberIntervalLast}`\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberIntervalLast(old => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <AccessTime\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\"\n                  }}\n                />\n                Intervalo\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements(old => [...old, imgLayout(numberImgLast)]);\n                  setNumberImg(old => {\n                    setElementsSeq(oldEleme => [\n                      ...oldEleme,\n                      `img${numberImgLast}`\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberImgLast(old => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <Image\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\"\n                  }}\n                />\n                Imagem\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements(old => [...old, audioLayout(numberAudioLast)]);\n                  setNumberAudio(old => {\n                    setElementsSeq(oldEleme => [\n                      ...oldEleme,\n                      `audio${numberAudioLast}`\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberAudioLast(old => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <MicNone\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\"\n                  }}\n                />\n                Audio\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements(old => [...old, videoLayout(numberVideoLast)]);\n                  setNumberVideo(old => {\n                    setElementsSeq(oldEleme => [\n                      ...oldEleme,\n                      `video${numberVideoLast}`\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberVideoLast(old => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <Videocam\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\"\n                  }}\n                />\n                Video\n              </Button>\n            </Stack>\n          </Stack>\n\n          <DialogActions>\n            <Button\n              onClick={handleClose}\n              color=\"secondary\"\n              variant=\"outlined\"\n              style={{ display: loading && \"none\" }}\n            >\n              {i18n.t(\"contactModal.buttons.cancel\")}\n            </Button>\n            <Button\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={() => handleSaveNode()}\n              style={{ display: loading && \"none\" }}\n            >\n              {`${labels.btn}`}\n            </Button>\n          </DialogActions>\n        </Stack>\n        {loading && (\n          <Stack\n            style={{\n              gap: \"8px\",\n              padding: \"16px\",\n              height: \"70vh\",\n              alignSelf: \"center\",\n              justifyContent: \"center\"\n            }}\n          >\n            <Stack>\n              <Typography>\n                Subindo os arquivos e criando o conteúdo...\n              </Typography>\n              <Stack style={{ alignSelf: \"center\", marginTop: \"12px\" }}>\n                <CircularProgress />\n              </Stack>\n            </Stack>\n          </Stack>\n        )}\n      </Dialog>\n    </div>\n  );\n};\n\nexport default FlowBuilderSingleBlockModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}