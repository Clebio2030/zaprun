{"ast":null,"code":"/* eslint-disable no-unused-vars */import React,{useState,useEffect,useReducer,useContext}from\"react\";import{toast}from\"react-toastify\";import{useHistory}from\"react-router-dom\";import{makeStyles}from\"@material-ui/core/styles\";import Paper from\"@material-ui/core/Paper\";import Button from\"@material-ui/core/Button\";import Table from\"@material-ui/core/Table\";import TableBody from\"@material-ui/core/TableBody\";import TableCell from\"@material-ui/core/TableCell\";import TableHead from\"@material-ui/core/TableHead\";import TableRow from\"@material-ui/core/TableRow\";import IconButton from\"@material-ui/core/IconButton\";import SearchIcon from\"@material-ui/icons/Search\";import TextField from\"@material-ui/core/TextField\";import InputAdornment from\"@material-ui/core/InputAdornment\";import DeleteOutlineIcon from\"@material-ui/icons/DeleteOutline\";import EditIcon from\"@material-ui/icons/Edit\";import DescriptionIcon from\"@material-ui/icons/Description\";import PlayCircleOutlineIcon from\"@material-ui/icons/PlayCircleOutline\";import PauseCircleOutlineIcon from\"@material-ui/icons/PauseCircleOutline\";import MainContainer from\"../../components/MainContainer\";import MainHeader from\"../../components/MainHeader\";import Title from\"../../components/Title\";import api from\"../../services/api\";import{i18n}from\"../../translate/i18n\";import TableRowSkeleton from\"../../components/TableRowSkeleton\";import CampaignModal from\"../../components/CampaignModal\";import ConfirmationModal from\"../../components/ConfirmationModal\";import toastError from\"../../errors/toastError\";import{Grid}from\"@material-ui/core\";import{isArray}from\"lodash\";import{useDate}from\"../../hooks/useDate\";import ForbiddenPage from\"../../components/ForbiddenPage\";import usePlans from\"../../hooks/usePlans\";import{AuthContext}from\"../../context/Auth/AuthContext\";const reducer=(state,action)=>{if(action.type===\"LOAD_CAMPAIGNS\"){const campaigns=action.payload;const newCampaigns=[];if(isArray(campaigns)){campaigns.forEach(campaign=>{const campaignIndex=state.findIndex(u=>u.id===campaign.id);if(campaignIndex!==-1){state[campaignIndex]=campaign;}else{newCampaigns.push(campaign);}});}return[...state,...newCampaigns];}if(action.type===\"UPDATE_CAMPAIGNS\"){const campaign=action.payload;const campaignIndex=state.findIndex(u=>u.id===campaign.id);if(campaignIndex!==-1){state[campaignIndex]=campaign;return[...state];}else{return[campaign,...state];}}if(action.type===\"DELETE_CAMPAIGN\"){const campaignId=action.payload;const campaignIndex=state.findIndex(u=>u.id===campaignId);if(campaignIndex!==-1){state.splice(campaignIndex,1);}return[...state];}if(action.type===\"RESET\"){return[];}};const useStyles=makeStyles(theme=>({mainPaper:{flex:1,// padding: theme.spacing(1),\npadding:theme.padding,overflowY:\"scroll\",...theme.scrollbarStyles}}));const Campaigns=()=>{const classes=useStyles();const history=useHistory();const[loading,setLoading]=useState(false);const[pageNumber,setPageNumber]=useState(1);const[hasMore,setHasMore]=useState(false);const[selectedCampaign,setSelectedCampaign]=useState(null);const[deletingCampaign,setDeletingCampaign]=useState(null);const[campaignModalOpen,setCampaignModalOpen]=useState(false);const[confirmModalOpen,setConfirmModalOpen]=useState(false);const[showCampaigns,setShowCampaigns]=useState(false);const[searchParam,setSearchParam]=useState(\"\");const[campaigns,dispatch]=useReducer(reducer,[]);//   const socketManager = useContext(SocketContext);\nconst{user,socket}=useContext(AuthContext);const{datetimeToClient}=useDate();const{getPlanCompany}=usePlans();useEffect(()=>{async function fetchData(){const companyId=user.companyId;const planConfigs=await getPlanCompany(undefined,companyId);if(!planConfigs.plan.useCampaigns){toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");setTimeout(()=>{history.push(\"/\");},1000);}}fetchData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(()=>{dispatch({type:\"RESET\"});setPageNumber(1);},[searchParam]);useEffect(()=>{setLoading(true);const delayDebounceFn=setTimeout(()=>{fetchCampaigns();},500);return()=>clearTimeout(delayDebounceFn);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[searchParam,pageNumber]);useEffect(()=>{const companyId=user.companyId;// const socket = socketManager.GetSocket();\nconst onCompanyCampaign=data=>{if(data.action===\"update\"||data.action===\"create\"){dispatch({type:\"UPDATE_CAMPAIGNS\",payload:data.record});}if(data.action===\"delete\"){dispatch({type:\"DELETE_CAMPAIGN\",payload:+data.id});}};socket.on(\"company-\".concat(companyId,\"-campaign\"),onCompanyCampaign);return()=>{socket.off(\"company-\".concat(companyId,\"-campaign\"),onCompanyCampaign);};},[user]);const fetchCampaigns=async()=>{try{const{data}=await api.get(\"/campaigns/\",{params:{searchParam,pageNumber}});dispatch({type:\"LOAD_CAMPAIGNS\",payload:data.records});setHasMore(data.hasMore);setLoading(false);}catch(err){toastError(err);}};const handleOpenCampaignModal=()=>{setSelectedCampaign(null);setCampaignModalOpen(true);};const handleCloseCampaignModal=()=>{setSelectedCampaign(null);setCampaignModalOpen(false);};const handleSearch=event=>{setSearchParam(event.target.value.toLowerCase());};const handleEditCampaign=campaign=>{setSelectedCampaign(campaign);setCampaignModalOpen(true);};const handleDeleteCampaign=async campaignId=>{try{await api.delete(\"/campaigns/\".concat(campaignId));toast.success(i18n.t(\"campaigns.toasts.deleted\"));}catch(err){toastError(err);}setDeletingCampaign(null);setSearchParam(\"\");setPageNumber(1);};const loadMore=()=>{setPageNumber(prevState=>prevState+1);};const handleScroll=e=>{if(!hasMore||loading)return;const{scrollTop,scrollHeight,clientHeight}=e.currentTarget;if(scrollHeight-(scrollTop+100)<clientHeight){loadMore();}};const formatStatus=val=>{switch(val){case\"INATIVA\":return\"Inativa\";case\"PROGRAMADA\":return\"Programada\";case\"EM_ANDAMENTO\":return\"Em Andamento\";case\"CANCELADA\":return\"Cancelada\";case\"FINALIZADA\":return\"Finalizada\";default:return val;}};const cancelCampaign=async campaign=>{try{await api.post(\"/campaigns/\".concat(campaign.id,\"/cancel\"));toast.success(i18n.t(\"campaigns.toasts.cancel\"));setPageNumber(1);fetchCampaigns();}catch(err){toast.error(err.message);}};const restartCampaign=async campaign=>{try{await api.post(\"/campaigns/\".concat(campaign.id,\"/restart\"));toast.success(i18n.t(\"campaigns.toasts.restart\"));setPageNumber(1);fetchCampaigns();}catch(err){toast.error(err.message);}};return/*#__PURE__*/React.createElement(MainContainer,null,/*#__PURE__*/React.createElement(ConfirmationModal,{title:deletingCampaign&&\"\".concat(i18n.t(\"campaigns.confirmationModal.deleteTitle\"),\" \").concat(deletingCampaign.name,\"?\"),open:confirmModalOpen,onClose:setConfirmModalOpen,onConfirm:()=>handleDeleteCampaign(deletingCampaign.id)},i18n.t(\"campaigns.confirmationModal.deleteMessage\")),campaignModalOpen&&/*#__PURE__*/React.createElement(CampaignModal,{resetPagination:()=>{setPageNumber(1);fetchCampaigns();},open:campaignModalOpen,onClose:handleCloseCampaignModal,\"aria-labelledby\":\"form-dialog-title\",campaignId:selectedCampaign&&selectedCampaign.id}),user.profile===\"user\"?/*#__PURE__*/React.createElement(ForbiddenPage,null):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MainHeader,null,/*#__PURE__*/React.createElement(Grid,{style:{width:\"99.6%\"},container:true},/*#__PURE__*/React.createElement(Grid,{xs:12,sm:8,item:true},/*#__PURE__*/React.createElement(Title,null,i18n.t(\"campaigns.title\"))),/*#__PURE__*/React.createElement(Grid,{xs:12,sm:4,item:true},/*#__PURE__*/React.createElement(Grid,{spacing:2,container:true},/*#__PURE__*/React.createElement(Grid,{xs:6,sm:6,item:true},/*#__PURE__*/React.createElement(TextField,{fullWidth:true,placeholder:i18n.t(\"campaigns.searchPlaceholder\"),type:\"search\",value:searchParam,onChange:handleSearch,InputProps:{startAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"start\"},/*#__PURE__*/React.createElement(SearchIcon,{style:{color:\"gray\"}}))}})),/*#__PURE__*/React.createElement(Grid,{xs:6,sm:6,item:true},/*#__PURE__*/React.createElement(Button,{fullWidth:true,variant:\"contained\",onClick:handleOpenCampaignModal,color:\"primary\"},i18n.t(\"campaigns.buttons.add\"))))))),/*#__PURE__*/React.createElement(Paper,{className:classes.mainPaper,variant:\"outlined\",onScroll:handleScroll},/*#__PURE__*/React.createElement(Table,{size:\"small\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"campaigns.table.name\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"campaigns.table.status\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"campaigns.table.contactList\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"campaigns.table.whatsapp\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"campaigns.table.scheduledAt\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"campaigns.table.completedAt\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"campaigns.table.confirmation\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"campaigns.table.actions\")))),/*#__PURE__*/React.createElement(TableBody,null,/*#__PURE__*/React.createElement(React.Fragment,null,campaigns.map(campaign=>/*#__PURE__*/React.createElement(TableRow,{key:campaign.id},/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},campaign.name),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},formatStatus(campaign.status)),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},campaign.contactListId?campaign.contactList.name:\"Não definida\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},campaign.whatsappId?campaign.whatsapp.name:\"Não definido\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},campaign.scheduledAt?datetimeToClient(campaign.scheduledAt):\"Sem agendamento\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},campaign.completedAt?datetimeToClient(campaign.completedAt):\"Não concluída\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},campaign.confirmation?\"Habilitada\":\"Desabilitada\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},campaign.status===\"EM_ANDAMENTO\"&&/*#__PURE__*/React.createElement(IconButton,{onClick:()=>cancelCampaign(campaign),title:\"Parar Campanha\",size:\"small\"},/*#__PURE__*/React.createElement(PauseCircleOutlineIcon,null)),campaign.status===\"CANCELADA\"&&/*#__PURE__*/React.createElement(IconButton,{onClick:()=>restartCampaign(campaign),title:\"Parar Campanha\",size:\"small\"},/*#__PURE__*/React.createElement(PlayCircleOutlineIcon,null)),/*#__PURE__*/React.createElement(IconButton,{onClick:()=>history.push(\"/campaign/\".concat(campaign.id,\"/report\")),size:\"small\"},/*#__PURE__*/React.createElement(DescriptionIcon,null)),/*#__PURE__*/React.createElement(IconButton,{size:\"small\",onClick:()=>handleEditCampaign(campaign)},/*#__PURE__*/React.createElement(EditIcon,null)),/*#__PURE__*/React.createElement(IconButton,{size:\"small\",onClick:e=>{setConfirmModalOpen(true);setDeletingCampaign(campaign);}},/*#__PURE__*/React.createElement(DeleteOutlineIcon,null))))),loading&&/*#__PURE__*/React.createElement(TableRowSkeleton,{columns:8})))))));};export default Campaigns;","map":{"version":3,"names":["React","useState","useEffect","useReducer","useContext","toast","useHistory","makeStyles","Paper","Button","Table","TableBody","TableCell","TableHead","TableRow","IconButton","SearchIcon","TextField","InputAdornment","DeleteOutlineIcon","EditIcon","DescriptionIcon","PlayCircleOutlineIcon","PauseCircleOutlineIcon","MainContainer","MainHeader","Title","api","i18n","TableRowSkeleton","CampaignModal","ConfirmationModal","toastError","Grid","isArray","useDate","ForbiddenPage","usePlans","AuthContext","reducer","state","action","type","campaigns","payload","newCampaigns","forEach","campaign","campaignIndex","findIndex","u","id","push","campaignId","splice","useStyles","theme","mainPaper","flex","padding","overflowY","scrollbarStyles","Campaigns","classes","history","loading","setLoading","pageNumber","setPageNumber","hasMore","setHasMore","selectedCampaign","setSelectedCampaign","deletingCampaign","setDeletingCampaign","campaignModalOpen","setCampaignModalOpen","confirmModalOpen","setConfirmModalOpen","showCampaigns","setShowCampaigns","searchParam","setSearchParam","dispatch","user","socket","datetimeToClient","getPlanCompany","fetchData","companyId","planConfigs","undefined","plan","useCampaigns","error","setTimeout","delayDebounceFn","fetchCampaigns","clearTimeout","onCompanyCampaign","data","record","on","concat","off","get","params","records","err","handleOpenCampaignModal","handleCloseCampaignModal","handleSearch","event","target","value","toLowerCase","handleEditCampaign","handleDeleteCampaign","delete","success","t","loadMore","prevState","handleScroll","e","scrollTop","scrollHeight","clientHeight","currentTarget","formatStatus","val","cancelCampaign","post","message","restartCampaign","createElement","title","name","open","onClose","onConfirm","resetPagination","profile","Fragment","style","width","container","xs","sm","item","spacing","fullWidth","placeholder","onChange","InputProps","startAdornment","position","color","variant","onClick","className","onScroll","size","align","map","key","status","contactListId","contactList","whatsappId","whatsapp","scheduledAt","completedAt","confirmation","columns"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/pages/Campaigns/index.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\n\r\nimport React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DescriptionIcon from \"@material-ui/icons/Description\";\r\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\r\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport CampaignModal from \"../../components/CampaignModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { isArray } from \"lodash\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CAMPAIGNS\") {\r\n    const campaigns = action.payload;\r\n    const newCampaigns = [];\r\n\r\n    if (isArray(campaigns)) {\r\n      campaigns.forEach((campaign) => {\r\n        const campaignIndex = state.findIndex((u) => u.id === campaign.id);\r\n        if (campaignIndex !== -1) {\r\n          state[campaignIndex] = campaign;\r\n        } else {\r\n          newCampaigns.push(campaign);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newCampaigns];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\r\n    const campaign = action.payload;\r\n    const campaignIndex = state.findIndex((u) => u.id === campaign.id);\r\n\r\n    if (campaignIndex !== -1) {\r\n      state[campaignIndex] = campaign;\r\n      return [...state];\r\n    } else {\r\n      return [campaign, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CAMPAIGN\") {\r\n    const campaignId = action.payload;\r\n\r\n    const campaignIndex = state.findIndex((u) => u.id === campaignId);\r\n    if (campaignIndex !== -1) {\r\n      state.splice(campaignIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    // padding: theme.spacing(1),\r\n    padding: theme.padding,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Campaigns = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\r\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\r\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [showCampaigns, setShowCampaigns] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [campaigns, dispatch] = useReducer(reducer, []);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n  const { datetimeToClient } = useDate();\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useCampaigns) {\r\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchCampaigns();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onCompanyCampaign = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_CAMPAIGNS\", payload: data.record });\r\n      }\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_CAMPAIGN\", payload: +data.id });\r\n      }\r\n    }\r\n\r\n    socket.on(`company-${companyId}-campaign`, onCompanyCampaign);\r\n    return () => {\r\n      socket.off(`company-${companyId}-campaign`, onCompanyCampaign);\r\n    };\r\n  }, [user]);\r\n\r\n  const fetchCampaigns = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/campaigns/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_CAMPAIGNS\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenCampaignModal = () => {\r\n    setSelectedCampaign(null);\r\n    setCampaignModalOpen(true);\r\n  };\r\n\r\n  const handleCloseCampaignModal = () => {\r\n    setSelectedCampaign(null);\r\n    setCampaignModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditCampaign = (campaign) => {\r\n    setSelectedCampaign(campaign);\r\n    setCampaignModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteCampaign = async (campaignId) => {\r\n    try {\r\n      await api.delete(`/campaigns/${campaignId}`);\r\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingCampaign(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const formatStatus = (val) => {\r\n    switch (val) {\r\n      case \"INATIVA\":\r\n        return \"Inativa\";\r\n      case \"PROGRAMADA\":\r\n        return \"Programada\";\r\n      case \"EM_ANDAMENTO\":\r\n        return \"Em Andamento\";\r\n      case \"CANCELADA\":\r\n        return \"Cancelada\";\r\n      case \"FINALIZADA\":\r\n        return \"Finalizada\";\r\n      default:\r\n        return val;\r\n    }\r\n  };\r\n\r\n  const cancelCampaign = async (campaign) => {\r\n    try {\r\n      await api.post(`/campaigns/${campaign.id}/cancel`);\r\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\r\n      setPageNumber(1);\r\n      fetchCampaigns();\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  const restartCampaign = async (campaign) => {\r\n    try {\r\n      await api.post(`/campaigns/${campaign.id}/restart`);\r\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\r\n      setPageNumber(1);\r\n      fetchCampaigns();\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingCampaign &&\r\n          `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${deletingCampaign.name}?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteCampaign(deletingCampaign.id)}\r\n      >\r\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      {campaignModalOpen && (\r\n        <CampaignModal\r\n          resetPagination={() => {\r\n            setPageNumber(1);\r\n            fetchCampaigns();\r\n          }}\r\n          open={campaignModalOpen}\r\n          onClose={handleCloseCampaignModal}\r\n          aria-labelledby=\"form-dialog-title\"\r\n          campaignId={selectedCampaign && selectedCampaign.id}\r\n        />\r\n      )}\r\n      {\r\n        user.profile === \"user\"?\r\n          <ForbiddenPage />\r\n          :\r\n          <>\r\n            <MainHeader>\r\n              <Grid style={{ width: \"99.6%\" }} container>\r\n                <Grid xs={12} sm={8} item>\r\n                  <Title>{i18n.t(\"campaigns.title\")}</Title>\r\n                </Grid>\r\n                <Grid xs={12} sm={4} item>\r\n                  <Grid spacing={2} container>\r\n                    <Grid xs={6} sm={6} item>\r\n                      <TextField\r\n                        fullWidth\r\n                        placeholder={i18n.t(\"campaigns.searchPlaceholder\")}\r\n                        type=\"search\"\r\n                        value={searchParam}\r\n                        onChange={handleSearch}\r\n                        InputProps={{\r\n                          startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                              <SearchIcon style={{ color: \"gray\" }} />\r\n                            </InputAdornment>\r\n                          ),\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid xs={6} sm={6} item>\r\n                      <Button\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        onClick={handleOpenCampaignModal}\r\n                        color=\"primary\"\r\n                      >\r\n                        {i18n.t(\"campaigns.buttons.add\")}\r\n                      </Button>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </MainHeader>\r\n            <Paper\r\n              className={classes.mainPaper}\r\n              variant=\"outlined\"\r\n              onScroll={handleScroll}\r\n            >\r\n              <Table size=\"small\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.name\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.status\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.contactList\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.whatsapp\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.scheduledAt\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.completedAt\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.confirmation\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"campaigns.table.actions\")}\r\n                    </TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  <>\r\n                    {campaigns.map((campaign) => (\r\n                      <TableRow key={campaign.id}>\r\n                        <TableCell align=\"center\">{campaign.name}</TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {formatStatus(campaign.status)}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {campaign.contactListId\r\n                            ? campaign.contactList.name\r\n                            : \"Não definida\"}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {campaign.whatsappId\r\n                            ? campaign.whatsapp.name\r\n                            : \"Não definido\"}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {campaign.scheduledAt\r\n                            ? datetimeToClient(campaign.scheduledAt)\r\n                            : \"Sem agendamento\"}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {campaign.completedAt\r\n                            ? datetimeToClient(campaign.completedAt)\r\n                            : \"Não concluída\"}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {campaign.confirmation ? \"Habilitada\" : \"Desabilitada\"}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {campaign.status === \"EM_ANDAMENTO\" && (\r\n                            <IconButton\r\n                              onClick={() => cancelCampaign(campaign)}\r\n                              title=\"Parar Campanha\"\r\n                              size=\"small\"\r\n                            >\r\n                              <PauseCircleOutlineIcon />\r\n                            </IconButton>\r\n                          )}\r\n                          {campaign.status === \"CANCELADA\" && (\r\n                            <IconButton\r\n                              onClick={() => restartCampaign(campaign)}\r\n                              title=\"Parar Campanha\"\r\n                              size=\"small\"\r\n                            >\r\n                              <PlayCircleOutlineIcon />\r\n                            </IconButton>\r\n                          )}\r\n                          <IconButton\r\n                            onClick={() =>\r\n                              history.push(`/campaign/${campaign.id}/report`)\r\n                            }\r\n                            size=\"small\"\r\n                          >\r\n                            <DescriptionIcon />\r\n                          </IconButton>\r\n                          <IconButton\r\n                            size=\"small\"\r\n                            onClick={() => handleEditCampaign(campaign)}\r\n                          >\r\n                            <EditIcon />\r\n                          </IconButton>\r\n\r\n                          <IconButton\r\n                            size=\"small\"\r\n                            onClick={(e) => {\r\n                              setConfirmModalOpen(true);\r\n                              setDeletingCampaign(campaign);\r\n                            }}\r\n                          >\r\n                            <DeleteOutlineIcon />\r\n                          </IconButton>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                    {loading && <TableRowSkeleton columns={8} />}\r\n                  </>\r\n                </TableBody>\r\n              </Table>\r\n            </Paper>\r\n          </>}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Campaigns;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}