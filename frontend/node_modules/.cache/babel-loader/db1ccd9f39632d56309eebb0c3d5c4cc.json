{"ast":null,"code":"import React,{useState}from'react';import Modal from'react-modal';import Camera,{FACING_MODES}from'react-html5-camera-photo';import'react-html5-camera-photo/build/css/index.css';Modal.setAppElement('#root');const customStyles={overlay:{backgroundColor:'rgba(0, 0, 0, 0.5)'// Fundo transparente\n},content:{width:'80%',height:'70%',maxWidth:'780px',maxHeight:'85vh',top:'50%',left:'50%',transform:'translate(-50%, -50%)',borderRadius:'8px',boxShadow:'0 0 10px rgba(0, 0, 0, 0.3)',border:'none',padding:'0',background:'none',display:'flex',flexDirection:'column',alignItems:'center'}};const ModalCamera=_ref=>{let{isOpen,onRequestClose,onCapture}=_ref;const[capturedImage,setCapturedImage]=useState(null);const handleTakePhoto=dataUri=>{setCapturedImage(dataUri);};const handleConfirm=()=>{// Converta a imagem capturada em um arquivo (Blob)\nfetch(capturedImage).then(res=>res.blob()).then(blob=>{// Chame a função de retorno com o arquivo da imagem capturada\nonCapture(blob);});// Feche o modal\nsetCapturedImage(null);onRequestClose();};return/*#__PURE__*/React.createElement(Modal,{isOpen:isOpen,onRequestClose:onRequestClose,style:customStyles},/*#__PURE__*/React.createElement(\"div\",{style:{flex:1}},/*#__PURE__*/React.createElement(Camera,{onTakePhoto:handleTakePhoto,idealFacingMode:FACING_MODES.ENVIRONMENT,isImageMirror:false,style:customStyles})),capturedImage&&handleConfirm());};export default ModalCamera;","map":{"version":3,"names":["React","useState","Modal","Camera","FACING_MODES","setAppElement","customStyles","overlay","backgroundColor","content","width","height","maxWidth","maxHeight","top","left","transform","borderRadius","boxShadow","border","padding","background","display","flexDirection","alignItems","ModalCamera","_ref","isOpen","onRequestClose","onCapture","capturedImage","setCapturedImage","handleTakePhoto","dataUri","handleConfirm","fetch","then","res","blob","createElement","style","flex","onTakePhoto","idealFacingMode","ENVIRONMENT","isImageMirror"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/components/CameraModal/index.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Modal from 'react-modal';\r\nimport Camera, { FACING_MODES } from 'react-html5-camera-photo';\r\nimport 'react-html5-camera-photo/build/css/index.css';\r\n\r\nModal.setAppElement('#root');\r\n\r\n\r\nconst customStyles = {\r\n  overlay: {\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)', // Fundo transparente\r\n  },\r\n  content: {\r\n    width: '80%',\r\n    height: '70%',\r\n    maxWidth: '780px',\r\n    maxHeight: '85vh',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    borderRadius: '8px',\r\n    boxShadow: '0 0 10px rgba(0, 0, 0, 0.3)',\r\n    border: 'none',\r\n    padding: '0',\r\n    background: 'none',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n};\r\n\r\nconst ModalCamera = ({ isOpen, onRequestClose, onCapture }) => {\r\n  const [capturedImage, setCapturedImage] = useState(null);\r\n\r\n  const handleTakePhoto = (dataUri) => {\r\n    setCapturedImage(dataUri);\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n\r\n    // Converta a imagem capturada em um arquivo (Blob)\r\n    fetch(capturedImage)\r\n      .then((res) => res.blob())\r\n      .then((blob) => {\r\n        // Chame a função de retorno com o arquivo da imagem capturada\r\n        onCapture(blob);\r\n      });\r\n\r\n    // Feche o modal\r\n    setCapturedImage(null);\r\n    onRequestClose();\r\n  };\r\n\r\n  return (\r\n   <Modal\r\n      isOpen={isOpen}\r\n      onRequestClose={onRequestClose}  \r\n      style={customStyles}    \r\n    >\r\n       <div style={{ flex: 1 }}>\r\n          <Camera\r\n            onTakePhoto={handleTakePhoto}\r\n            idealFacingMode={FACING_MODES.ENVIRONMENT}\r\n            isImageMirror={false}\r\n            style={customStyles}\r\n          />\r\n        </div>\r\n        {capturedImage && \r\n          handleConfirm()\r\n        }\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ModalCamera;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,aAAa,CAC/B,MAAO,CAAAC,MAAM,EAAIC,YAAY,KAAQ,0BAA0B,CAC/D,MAAO,8CAA8C,CAErDF,KAAK,CAACG,aAAa,CAAC,OAAO,CAAC,CAG5B,KAAM,CAAAC,YAAY,CAAG,CACnBC,OAAO,CAAE,CACPC,eAAe,CAAE,oBAAsB;AACzC,CAAC,CACDC,OAAO,CAAE,CACPC,KAAK,CAAE,KAAK,CACZC,MAAM,CAAE,KAAK,CACbC,QAAQ,CAAE,OAAO,CACjBC,SAAS,CAAE,MAAM,CACjBC,GAAG,CAAE,KAAK,CACVC,IAAI,CAAE,KAAK,CACXC,SAAS,CAAE,uBAAuB,CAClCC,YAAY,CAAE,KAAK,CACnBC,SAAS,CAAE,6BAA6B,CACxCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,GAAG,CACZC,UAAU,CAAE,MAAM,CAClBC,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,QAAQ,CACvBC,UAAU,CAAE,QACd,CACF,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAA2C,IAA1C,CAAEC,MAAM,CAAEC,cAAc,CAAEC,SAAU,CAAC,CAAAH,IAAA,CACxD,KAAM,CAACI,aAAa,CAAEC,gBAAgB,CAAC,CAAG9B,QAAQ,CAAC,IAAI,CAAC,CAExD,KAAM,CAAA+B,eAAe,CAAIC,OAAO,EAAK,CACnCF,gBAAgB,CAACE,OAAO,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAE1B;AACAC,KAAK,CAACL,aAAa,CAAC,CACjBM,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEE,IAAI,EAAK,CACd;AACAT,SAAS,CAACS,IAAI,CAAC,CACjB,CAAC,CAAC,CAEJ;AACAP,gBAAgB,CAAC,IAAI,CAAC,CACtBH,cAAc,CAAC,CAAC,CAClB,CAAC,CAED,mBACC5B,KAAA,CAAAuC,aAAA,CAACrC,KAAK,EACHyB,MAAM,CAAEA,MAAO,CACfC,cAAc,CAAEA,cAAe,CAC/BY,KAAK,CAAElC,YAAa,eAEnBN,KAAA,CAAAuC,aAAA,QAAKC,KAAK,CAAE,CAAEC,IAAI,CAAE,CAAE,CAAE,eACrBzC,KAAA,CAAAuC,aAAA,CAACpC,MAAM,EACLuC,WAAW,CAAEV,eAAgB,CAC7BW,eAAe,CAAEvC,YAAY,CAACwC,WAAY,CAC1CC,aAAa,CAAE,KAAM,CACrBL,KAAK,CAAElC,YAAa,CACrB,CACE,CAAC,CACLwB,aAAa,EACZI,aAAa,CAAC,CAEb,CAAC,CAEZ,CAAC,CAED,cAAe,CAAAT,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module"}