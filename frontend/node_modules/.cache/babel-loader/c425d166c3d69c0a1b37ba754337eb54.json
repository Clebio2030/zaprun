{"ast":null,"code":"import React,{useState,useEffect,useReducer,useContext,useRef}from\"react\";import{toast}from\"react-toastify\";import{makeStyles}from\"@material-ui/core/styles\";import Paper from\"@material-ui/core/Paper\";import Button from\"@material-ui/core/Button\";import Table from\"@material-ui/core/Table\";import TableBody from\"@material-ui/core/TableBody\";import TableCell from\"@material-ui/core/TableCell\";import TableHead from\"@material-ui/core/TableHead\";import TableRow from\"@material-ui/core/TableRow\";import IconButton from\"@material-ui/core/IconButton\";import SearchIcon from\"@material-ui/icons/Search\";import TextField from\"@material-ui/core/TextField\";import InputAdornment from\"@material-ui/core/InputAdornment\";import DeleteOutlineIcon from\"@material-ui/icons/DeleteOutline\";import EditIcon from\"@material-ui/icons/Edit\";import MainContainer from\"../../components/MainContainer\";import MainHeader from\"../../components/MainHeader\";import MainHeaderButtonsWrapper from\"../../components/MainHeaderButtonsWrapper\";import Title from\"../../components/Title\";import api from\"../../services/api\";import{i18n}from\"../../translate/i18n\";import TableRowSkeleton from\"../../components/TableRowSkeleton\";import TagModal from\"../../components/TagModal\";import ConfirmationModal from\"../../components/ConfirmationModal\";import toastError from\"../../errors/toastError\";import{Chip,Tooltip}from\"@material-ui/core\";import{AuthContext}from\"../../context/Auth/AuthContext\";import{MoreHoriz}from\"@material-ui/icons\";import ContactTagListModal from\"../../components/ContactTagListModal\";const reducer=(state,action)=>{switch(action.type){case\"LOAD_TAGS\":return[...state,...action.payload];case\"UPDATE_TAGS\":const tag=action.payload;const tagIndex=state.findIndex(s=>s.id===tag.id);if(tagIndex!==-1){state[tagIndex]=tag;return[...state];}else{return[tag,...state];}case\"DELETE_TAGS\":const tagId=action.payload;return state.filter(tag=>tag.id!==tagId);case\"RESET\":return[];default:return state;}};const useStyles=makeStyles(theme=>({mainPaper:{flex:1,padding:theme.spacing(1),overflowY:\"scroll\",...theme.scrollbarStyles}}));const Tags=()=>{const classes=useStyles();const{user,socket}=useContext(AuthContext);const[selectedTagContacts,setSelectedTagContacts]=useState([]);const[contactModalOpen,setContactModalOpen]=useState(false);const[loading,setLoading]=useState(false);const[pageNumber,setPageNumber]=useState(1);const[hasMore,setHasMore]=useState(false);const[selectedTagName,setSelectedTagName]=useState(\"\");const[selectedTag,setSelectedTag]=useState(null);const[deletingTag,setDeletingTag]=useState(null);const[confirmModalOpen,setConfirmModalOpen]=useState(false);const[searchParam,setSearchParam]=useState(\"\");const[tags,dispatch]=useReducer(reducer,[]);const[tagModalOpen,setTagModalOpen]=useState(false);const pageNumberRef=useRef(1);useEffect(()=>{const fetchMoreTags=async()=>{try{const{data}=await api.get(\"/tags/\",{params:{searchParam,pageNumber,kanban:0}});dispatch({type:\"LOAD_TAGS\",payload:data.tags});setHasMore(data.hasMore);setLoading(false);}catch(err){toastError(err);}};if(pageNumber>0){setLoading(true);fetchMoreTags();}},[searchParam,pageNumber]);useEffect(()=>{const onCompanyTags=data=>{if(data.action===\"update\"||data.action===\"create\"){dispatch({type:\"UPDATE_TAGS\",payload:data.tag});}if(data.action===\"delete\"){dispatch({type:\"DELETE_TAGS\",payload:+data.tagId});}};socket.on(\"company\".concat(user.companyId,\"-tag\"),onCompanyTags);return()=>{socket.off(\"company\".concat(user.companyId,\"-tag\"),onCompanyTags);};},[socket,user.companyId]);const handleOpenTagModal=()=>{setSelectedTag(null);setTagModalOpen(true);};const handleCloseTagModal=()=>{setSelectedTag(null);setTagModalOpen(false);};const handleSearch=event=>{const newSearchParam=event.target.value.toLowerCase();setSearchParam(newSearchParam);setPageNumber(1);dispatch({type:\"RESET\"});};const handleEditTag=tag=>{setSelectedTag(tag);setTagModalOpen(true);};const handleShowContacts=(contacts,tag)=>{setSelectedTagContacts(contacts);setContactModalOpen(true);setSelectedTagName(tag);};const handleCloseContactModal=()=>{setContactModalOpen(false);setSelectedTagContacts([]);setSelectedTagName(\"\");};const handleDeleteTag=async tagId=>{try{await api.delete(\"/tags/\".concat(tagId));toast.success(i18n.t(\"tags.toasts.deleted\"));}catch(err){toastError(err);}setDeletingTag(null);setSearchParam(\"\");setPageNumber(1);};const loadMore=()=>{setPageNumber(prevPageNumber=>prevPageNumber+1);};const handleScroll=e=>{if(!hasMore||loading)return;const{scrollTop,scrollHeight,clientHeight}=e.currentTarget;if(scrollHeight-(scrollTop+100)<clientHeight){loadMore();}};return/*#__PURE__*/React.createElement(MainContainer,{className:classes.mainContainer},contactModalOpen&&/*#__PURE__*/React.createElement(ContactTagListModal,{open:contactModalOpen,onClose:handleCloseContactModal,tag:selectedTagName}),/*#__PURE__*/React.createElement(ConfirmationModal,{title:deletingTag&&\"\".concat(i18n.t(\"tags.confirmationModal.deleteTitle\")),open:confirmModalOpen,onClose:()=>setConfirmModalOpen(false),onConfirm:()=>handleDeleteTag(deletingTag.id)},i18n.t(\"tags.confirmationModal.deleteMessage\")),/*#__PURE__*/React.createElement(TagModal,{open:tagModalOpen,onClose:handleCloseTagModal,\"aria-labelledby\":\"form-dialog-title\",tagId:selectedTag&&selectedTag.id,kanban:0}),/*#__PURE__*/React.createElement(MainHeader,null,/*#__PURE__*/React.createElement(Title,null,i18n.t(\"tags.title\"),\" (\",tags.length,\")\"),/*#__PURE__*/React.createElement(MainHeaderButtonsWrapper,null,/*#__PURE__*/React.createElement(TextField,{placeholder:i18n.t(\"contacts.searchPlaceholder\"),type:\"search\",value:searchParam,onChange:handleSearch,InputProps:{startAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"start\"},/*#__PURE__*/React.createElement(SearchIcon,{style:{color:\"gray\"}}))}}),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:handleOpenTagModal},i18n.t(\"tags.buttons.add\")))),/*#__PURE__*/React.createElement(Paper,{className:classes.mainPaper,variant:\"outlined\",onScroll:handleScroll},/*#__PURE__*/React.createElement(Table,{size:\"small\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"tags.table.id\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"tags.table.name\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"tags.table.contacts\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"tags.table.actions\")))),/*#__PURE__*/React.createElement(TableBody,null,/*#__PURE__*/React.createElement(React.Fragment,null,tags.map(tag=>{var _tag$contacts,_tag$contacts2;return/*#__PURE__*/React.createElement(TableRow,{key:tag.id},/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},tag.id),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},/*#__PURE__*/React.createElement(Chip,{variant:\"outlined\",style:{backgroundColor:tag.color,textShadow:\"1px 1px #000\",color:\"white\"},label:tag.name,size:\"small\"})),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},tag===null||tag===void 0?void 0:(_tag$contacts=tag.contacts)===null||_tag$contacts===void 0?void 0:_tag$contacts.length,/*#__PURE__*/React.createElement(IconButton,{size:\"small\",onClick:()=>handleShowContacts(tag===null||tag===void 0?void 0:tag.contacts,tag),disabled:(tag===null||tag===void 0?void 0:(_tag$contacts2=tag.contacts)===null||_tag$contacts2===void 0?void 0:_tag$contacts2.length)===0},/*#__PURE__*/React.createElement(MoreHoriz,null))),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},/*#__PURE__*/React.createElement(IconButton,{size:\"small\",onClick:()=>handleEditTag(tag)},/*#__PURE__*/React.createElement(EditIcon,null)),/*#__PURE__*/React.createElement(IconButton,{size:\"small\",onClick:()=>{setConfirmModalOpen(true);setDeletingTag(tag);}},/*#__PURE__*/React.createElement(DeleteOutlineIcon,null))));}),loading&&/*#__PURE__*/React.createElement(TableRowSkeleton,{key:\"skeleton\",columns:4}))))));};export default Tags;","map":{"version":3,"names":["React","useState","useEffect","useReducer","useContext","useRef","toast","makeStyles","Paper","Button","Table","TableBody","TableCell","TableHead","TableRow","IconButton","SearchIcon","TextField","InputAdornment","DeleteOutlineIcon","EditIcon","MainContainer","MainHeader","MainHeaderButtonsWrapper","Title","api","i18n","TableRowSkeleton","TagModal","ConfirmationModal","toastError","Chip","Tooltip","AuthContext","MoreHoriz","ContactTagListModal","reducer","state","action","type","payload","tag","tagIndex","findIndex","s","id","tagId","filter","useStyles","theme","mainPaper","flex","padding","spacing","overflowY","scrollbarStyles","Tags","classes","user","socket","selectedTagContacts","setSelectedTagContacts","contactModalOpen","setContactModalOpen","loading","setLoading","pageNumber","setPageNumber","hasMore","setHasMore","selectedTagName","setSelectedTagName","selectedTag","setSelectedTag","deletingTag","setDeletingTag","confirmModalOpen","setConfirmModalOpen","searchParam","setSearchParam","tags","dispatch","tagModalOpen","setTagModalOpen","pageNumberRef","fetchMoreTags","data","get","params","kanban","err","onCompanyTags","on","concat","companyId","off","handleOpenTagModal","handleCloseTagModal","handleSearch","event","newSearchParam","target","value","toLowerCase","handleEditTag","handleShowContacts","contacts","handleCloseContactModal","handleDeleteTag","delete","success","t","loadMore","prevPageNumber","handleScroll","e","scrollTop","scrollHeight","clientHeight","currentTarget","createElement","className","mainContainer","open","onClose","title","onConfirm","length","placeholder","onChange","InputProps","startAdornment","position","style","color","variant","onClick","onScroll","size","align","Fragment","map","_tag$contacts","_tag$contacts2","key","backgroundColor","textShadow","label","name","disabled","columns"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/pages/Tags/index.js"],"sourcesContent":["import React, {\r\n  useState,\r\n  useEffect,\r\n  useReducer,\r\n  useContext,\r\n  useRef,\r\n} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport TagModal from \"../../components/TagModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Chip, Tooltip } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { MoreHoriz } from \"@material-ui/icons\";\r\nimport ContactTagListModal from \"../../components/ContactTagListModal\";\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOAD_TAGS\":\r\n      return [...state, ...action.payload];\r\n    case \"UPDATE_TAGS\":\r\n      const tag = action.payload;\r\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\r\n\r\n      if (tagIndex !== -1) {\r\n        state[tagIndex] = tag;\r\n        return [...state];\r\n      } else {\r\n        return [tag, ...state];\r\n      }\r\n    case \"DELETE_TAGS\":\r\n      const tagId = action.payload;\r\n      return state.filter((tag) => tag.id !== tagId);\r\n    case \"RESET\":\r\n      return [];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Tags = () => {\r\n  const classes = useStyles();\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [selectedTagContacts, setSelectedTagContacts] = useState([]);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedTagName, setSelectedTagName] = useState(\"\");\r\n  const [selectedTag, setSelectedTag] = useState(null);\r\n  const [deletingTag, setDeletingTag] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [tags, dispatch] = useReducer(reducer, []);\r\n  const [tagModalOpen, setTagModalOpen] = useState(false);\r\n  const pageNumberRef = useRef(1);\r\n\r\n  useEffect(() => {\r\n    const fetchMoreTags = async () => {\r\n      try {\r\n        const { data } = await api.get(\"/tags/\", {\r\n          params: { searchParam, pageNumber, kanban: 0 },\r\n        });\r\n        dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\r\n        setHasMore(data.hasMore);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n\r\n    if (pageNumber > 0) {\r\n      setLoading(true);\r\n      fetchMoreTags();\r\n    }\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const onCompanyTags = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tag });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_TAGS\", payload: +data.tagId });\r\n      }\r\n    };\r\n    socket.on(`company${user.companyId}-tag`, onCompanyTags);\r\n\r\n    return () => {\r\n      socket.off(`company${user.companyId}-tag`, onCompanyTags);\r\n    };\r\n  }, [socket, user.companyId]);\r\n\r\n  const handleOpenTagModal = () => {\r\n    setSelectedTag(null);\r\n    setTagModalOpen(true);\r\n  };\r\n\r\n  const handleCloseTagModal = () => {\r\n    setSelectedTag(null);\r\n    setTagModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    const newSearchParam = event.target.value.toLowerCase();\r\n    setSearchParam(newSearchParam);\r\n    setPageNumber(1);\r\n    dispatch({ type: \"RESET\" });\r\n  };\r\n\r\n  const handleEditTag = (tag) => {\r\n    setSelectedTag(tag);\r\n    setTagModalOpen(true);\r\n  };\r\n\r\n  const handleShowContacts = (contacts, tag) => {\r\n    setSelectedTagContacts(contacts);\r\n    setContactModalOpen(true);\r\n    setSelectedTagName(tag);\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setContactModalOpen(false);\r\n    setSelectedTagContacts([]);\r\n    setSelectedTagName(\"\");\r\n  };\r\n\r\n  const handleDeleteTag = async (tagId) => {\r\n    try {\r\n      await api.delete(`/tags/${tagId}`);\r\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingTag(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      {contactModalOpen && (\r\n        <ContactTagListModal\r\n          open={contactModalOpen}\r\n          onClose={handleCloseContactModal}\r\n          tag={selectedTagName}\r\n        />\r\n      )}\r\n      <ConfirmationModal\r\n        title={deletingTag && `${i18n.t(\"tags.confirmationModal.deleteTitle\")}`}\r\n        open={confirmModalOpen}\r\n        onClose={() => setConfirmModalOpen(false)}\r\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\r\n      >\r\n        {i18n.t(\"tags.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <TagModal\r\n        open={tagModalOpen}\r\n        onClose={handleCloseTagModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        tagId={selectedTag && selectedTag.id}\r\n        kanban={0}\r\n      />\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"tags.title\")} ({tags.length})</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: \"gray\" }} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenTagModal}\r\n          >\r\n            {i18n.t(\"tags.buttons.add\")}\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">{i18n.t(\"tags.table.id\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"tags.table.name\")}</TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"tags.table.contacts\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"tags.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {tags.map((tag) => (\r\n                <TableRow key={tag.id}>\r\n                  <TableCell align=\"center\">{tag.id}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <Chip\r\n                      variant=\"outlined\"\r\n                      style={{\r\n                        backgroundColor: tag.color,\r\n                        textShadow: \"1px 1px #000\",\r\n                        color: \"white\",\r\n                      }}\r\n                      label={tag.name}\r\n                      size=\"small\"\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {tag?.contacts?.length}\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleShowContacts(tag?.contacts, tag)}\r\n                      disabled={tag?.contacts?.length === 0}\r\n                    >\r\n                      <MoreHoriz />\r\n                    </IconButton>\r\n                  </TableCell>\r\n\r\n                  <TableCell align=\"center\">\r\n                    <IconButton size=\"small\" onClick={() => handleEditTag(tag)}>\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingTag(tag);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n\r\n              {loading && <TableRowSkeleton key=\"skeleton\" columns={4} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Tags;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}