{"ast":null,"code":"import React,{useContext,useState}from'react';import Avatar from'@material-ui/core/Avatar';import makeStyles from'@material-ui/core/styles/makeStyles';import Button from'@material-ui/core/Button';import CloudUploadIcon from'@material-ui/icons/CloudUpload';import Box from'@material-ui/core/Box';import{AuthContext}from'../../context/Auth/AuthContext';const useStyles=makeStyles(theme=>({avatar:{width:theme.spacing(12),height:theme.spacing(12),margin:theme.spacing(2),cursor:'pointer',borderRadius:'50%',border:'2px solid #ccc'}}));const AvatarUploader=_ref=>{let{setAvatar,avatar,companyId}=_ref;const classes=useStyles();const[selectedFile,setSelectedFile]=useState(null);const[previewImage,setPreviewImage]=useState(null);const user=useContext(AuthContext);const handleFileChange=event=>{const file=event.target.files[0];setSelectedFile(file);setAvatar(file);if(file){const reader=new FileReader();reader.onload=()=>{setPreviewImage(reader.result);};reader.readAsDataURL(file);}};return/*#__PURE__*/React.createElement(Box,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},!previewImage&&avatar?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Avatar,{src:\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/public/company\").concat(companyId,\"/user/\").concat(avatar),style:{width:120,height:120}})):!avatar&&!previewImage?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Avatar,{src:\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/public/app/noimage.png\"),style:{width:120,height:120}})):/*#__PURE__*/React.createElement(Avatar,{alt:\"Preview Avatar\",src:previewImage?previewImage:user.avatar,style:{width:120,height:120}}),/*#__PURE__*/React.createElement(\"input\",{accept:\"image/*\",type:\"file\",id:\"avatar-upload\",style:{display:'none'},onChange:handleFileChange}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"avatar-upload\",style:{marginTop:10}},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",component:\"span\",startIcon:/*#__PURE__*/React.createElement(CloudUploadIcon,null)},\"Upload Avatar\")));};export default AvatarUploader;","map":{"version":3,"names":["React","useContext","useState","Avatar","makeStyles","Button","CloudUploadIcon","Box","AuthContext","useStyles","theme","avatar","width","spacing","height","margin","cursor","borderRadius","border","AvatarUploader","_ref","setAvatar","companyId","classes","selectedFile","setSelectedFile","previewImage","setPreviewImage","user","handleFileChange","event","file","target","files","reader","FileReader","onload","result","readAsDataURL","createElement","display","flexDirection","alignItems","Fragment","src","concat","process","env","REACT_APP_BACKEND_URL","style","alt","accept","type","id","onChange","htmlFor","marginTop","variant","component","startIcon"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/components/AvatarUpload/index.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Button from '@material-ui/core/Button';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport Box from '@material-ui/core/Box';\nimport { AuthContext } from '../../context/Auth/AuthContext';\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {\n    width: theme.spacing(12),\n    height: theme.spacing(12),\n    margin: theme.spacing(2),\n    cursor: 'pointer',\n    borderRadius: '50%',\n    border: '2px solid #ccc',\n  },\n}));\n\nconst AvatarUploader = ({ setAvatar, avatar, companyId }) => {\n  const classes = useStyles();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewImage, setPreviewImage] = useState(null);\n  const user = useContext(AuthContext);\n\n  const handleFileChange = (event) => {\n    const file = event.target.files[0];\n    setSelectedFile(file);\n    setAvatar(file);\n\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        setPreviewImage(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n      {!previewImage && avatar ?\n        <><Avatar\n          src={`${process.env.REACT_APP_BACKEND_URL}/public/company${companyId}/user/${avatar}`}\n          style={{ width: 120, height: 120 }}\n        /></>\n        : !avatar && !previewImage ? <><Avatar\n          src={`${process.env.REACT_APP_BACKEND_URL}/public/app/noimage.png`}\n          style={{ width: 120, height: 120 }}\n        /></> :\n          <Avatar\n            alt=\"Preview Avatar\"\n            src={previewImage ? previewImage : user.avatar}\n            style={{ width: 120, height: 120 }}\n          />\n      }\n\n\n      <input\n        accept=\"image/*\"\n        type=\"file\"\n        id=\"avatar-upload\"\n        style={{ display: 'none' }}\n        onChange={handleFileChange}\n      />\n      <label htmlFor=\"avatar-upload\" style={{ marginTop: 10 }}>\n        <Button\n          variant=\"contained\"\n          component=\"span\"\n          startIcon={<CloudUploadIcon />}\n        >\n          Upload Avatar\n        </Button>\n      </label>\n      {/**   <p>{selectedFile ? `Selected: ${selectedFile.name}` : 'No file selected'}</p>*/}\n    </Box>\n  );\n};\n\nexport default AvatarUploader;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}