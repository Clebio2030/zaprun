{"ast":null,"code":"import React,{useState,useEffect,useReducer,useContext}from\"react\";import{toast}from\"react-toastify\";import{useHistory}from\"react-router-dom\";import{makeStyles}from\"@material-ui/core/styles\";import Paper from\"@material-ui/core/Paper\";import Avatar from\"@material-ui/core/Avatar\";import WhatsAppIcon from\"@material-ui/icons/WhatsApp\";import SearchIcon from\"@material-ui/icons/Search\";import TextField from\"@material-ui/core/TextField\";import InputAdornment from\"@material-ui/core/InputAdornment\";import IconButton from\"@material-ui/core/IconButton\";import DeleteOutlineIcon from\"@material-ui/icons/DeleteOutline\";import EditIcon from\"@material-ui/icons/Edit\";import api from\"../../services/api\";import TableRowSkeleton from\"../../components/TableRowSkeleton\";import ContactModal from\"../../components/ContactModal\";import ConfirmationModal from\"../../components/ConfirmationModal\";import{i18n}from\"../../translate/i18n\";import MainHeader from\"../../components/MainHeader\";import Title from\"../../components/Title\";import MainHeaderButtonsWrapper from\"../../components/MainHeaderButtonsWrapper\";import MainContainer from\"../../components/MainContainer\";import toastError from\"../../errors/toastError\";import{AuthContext}from\"../../context/Auth/AuthContext\";import{Can}from\"../../components/Can\";import NewTicketModal from\"../../components/NewTicketModal\";import{SocketContext}from\"../../context/Socket/SocketContext\";import WebhookModal from\"../../components/WebhookModal\";import{AddCircle,Build,ContentCopy,DevicesFold,MoreVert,WebhookOutlined}from\"@mui/icons-material\";import{Button,CircularProgress,Grid,Menu,MenuItem,Stack}from\"@mui/material\";import FlowBuilderModal from\"../../components/FlowBuilderModal\";import{colorBackgroundTable,colorLineTable,colorLineTableHover,colorPrimary,colorTitleTable,colorTopTable}from\"../../styles/styles\";const reducer=(state,action)=>{if(action.type===\"LOAD_CONTACTS\"){const contacts=action.payload;const newContacts=[];contacts.forEach(contact=>{const contactIndex=state.findIndex(c=>c.id===contact.id);if(contactIndex!==-1){state[contactIndex]=contact;}else{newContacts.push(contact);}});return[...state,...newContacts];}if(action.type===\"UPDATE_CONTACTS\"){const contact=action.payload;const contactIndex=state.findIndex(c=>c.id===contact.id);if(contactIndex!==-1){state[contactIndex]=contact;return[...state];}else{return[contact,...state];}}if(action.type===\"DELETE_CONTACT\"){const contactId=action.payload;const contactIndex=state.findIndex(c=>c.id===contactId);if(contactIndex!==-1){state.splice(contactIndex,1);}return[...state];}if(action.type===\"RESET\"){return[];}};const useStyles=makeStyles(theme=>({mainPaper:{flex:1,backgroundColor:colorBackgroundTable(),borderRadius:12,padding:theme.spacing(1),overflowY:\"scroll\",...theme.scrollbarStyles}}));const FlowBuilder=()=>{const classes=useStyles();const history=useHistory();const[loading,setLoading]=useState(false);const[pageNumber,setPageNumber]=useState(1);const[searchParam,setSearchParam]=useState(\"\");const[contacts,dispatch]=useReducer(reducer,[]);const[webhooks,setWebhooks]=useState([]);const[selectedContactId,setSelectedContactId]=useState(null);const[selectedWebhookName,setSelectedWebhookName]=useState(null);const[contactModalOpen,setContactModalOpen]=useState(false);const[newTicketModalOpen,setNewTicketModalOpen]=useState(false);const[contactTicket,setContactTicket]=useState({});const[deletingContact,setDeletingContact]=useState(null);const[confirmOpen,setConfirmOpen]=useState(false);const[confirmDuplicateOpen,setConfirmDuplicateOpen]=useState(false);const[hasMore,setHasMore]=useState(false);const[reloadData,setReloadData]=useState(false);const{user,socket}=useContext(AuthContext);useEffect(()=>{dispatch({type:\"RESET\"});setPageNumber(1);},[searchParam]);useEffect(()=>{setLoading(true);const delayDebounceFn=setTimeout(()=>{const fetchContacts=async()=>{try{const{data}=await api.get(\"/flowbuilder\");setWebhooks(data.flows);dispatch({type:\"LOAD_CONTACTS\",payload:data.flows});setHasMore(data.hasMore);setLoading(false);}catch(err){toastError(err);}};fetchContacts();},500);return()=>clearTimeout(delayDebounceFn);},[searchParam,pageNumber,reloadData]);useEffect(()=>{const companyId=user.companyId;const onContact=data=>{if(data.action===\"update\"||data.action===\"create\"){dispatch({type:\"UPDATE_CONTACTS\",payload:data.contact});}if(data.action===\"delete\"){dispatch({type:\"DELETE_CONTACT\",payload:+data.contactId});}};socket.on(\"company-\".concat(companyId,\"-contact\"),onContact);return()=>{socket.disconnect();};},[]);const handleSearch=event=>{setSearchParam(event.target.value.toLowerCase());};const handleOpenContactModal=()=>{setSelectedContactId(null);setContactModalOpen(true);};const handleCloseContactModal=()=>{setSelectedContactId(null);setContactModalOpen(false);};const handleCloseOrOpenTicket=ticket=>{setNewTicketModalOpen(false);if(ticket!==undefined&&ticket.uuid!==undefined){history.push(\"/tickets/\".concat(ticket.uuid));}};const hadleEditContact=()=>{setSelectedContactId(deletingContact.id);setSelectedWebhookName(deletingContact.name);setContactModalOpen(true);};const handleDeleteWebhook=async webhookId=>{try{await api.delete(\"/flowbuilder/\".concat(webhookId)).then(res=>{setDeletingContact(null);setReloadData(old=>!old);});toast.success(\"Fluxo excluÃ­do com sucesso\");}catch(err){toastError(err);}};const handleDuplicateFlow=async flowId=>{try{await api.post(\"/flowbuilder/duplicate\",{flowId:flowId}).then(res=>{setDeletingContact(null);setReloadData(old=>!old);});toast.success(\"Fluxo duplicado com sucesso\");}catch(err){toastError(err);}};const loadMore=()=>{setPageNumber(prevState=>prevState+1);};const handleScroll=e=>{if(!hasMore||loading)return;const{scrollTop,scrollHeight,clientHeight}=e.currentTarget;if(scrollHeight-(scrollTop+100)<clientHeight){loadMore();}};const[anchorEl,setAnchorEl]=useState(null);const open=Boolean(anchorEl);const handleClick=event=>{setAnchorEl(event.currentTarget);};const handleClose=()=>{setAnchorEl(null);};const exportLink=()=>{history.push(\"/flowbuilder/\".concat(deletingContact.id));};return/*#__PURE__*/React.createElement(MainContainer,{className:classes.mainContainer},/*#__PURE__*/React.createElement(NewTicketModal,{modalOpen:newTicketModalOpen,initialContact:contactTicket,onClose:ticket=>{handleCloseOrOpenTicket(ticket);}}),/*#__PURE__*/React.createElement(FlowBuilderModal,{open:contactModalOpen,onClose:handleCloseContactModal,\"aria-labelledby\":\"form-dialog-title\",flowId:selectedContactId,nameWebhook:selectedWebhookName,onSave:()=>setReloadData(old=>!old)}),/*#__PURE__*/React.createElement(ConfirmationModal,{title:deletingContact?\"\".concat(i18n.t(\"contacts.confirmationModal.deleteTitle\"),\" \").concat(deletingContact.name,\"?\"):\"\".concat(i18n.t(\"contacts.confirmationModal.importTitlte\")),open:confirmOpen,onClose:setConfirmOpen,onConfirm:e=>deletingContact?handleDeleteWebhook(deletingContact.id):()=>{}},deletingContact?\"Tem certeza que deseja deletar este fluxo? Todas as integra\\xE7\\xF5es relacionados ser\\xE3o perdidos.\":\"\".concat(i18n.t(\"contacts.confirmationModal.importMessage\"))),/*#__PURE__*/React.createElement(ConfirmationModal,{title:deletingContact?\"Deseja duplicar o fluxo \".concat(deletingContact.name,\"?\"):\"\".concat(i18n.t(\"contacts.confirmationModal.importTitlte\")),open:confirmDuplicateOpen,onClose:setConfirmDuplicateOpen,onConfirm:e=>deletingContact?handleDuplicateFlow(deletingContact.id):()=>{}},deletingContact?\"Tem certeza que deseja duplicar este fluxo?\":\"\".concat(i18n.t(\"contacts.confirmationModal.importMessage\"))),/*#__PURE__*/React.createElement(MainHeader,null,/*#__PURE__*/React.createElement(Title,null,\"Fluxos de conversa\"),/*#__PURE__*/React.createElement(MainHeaderButtonsWrapper,null,/*#__PURE__*/React.createElement(TextField,{placeholder:i18n.t(\"contacts.searchPlaceholder\"),type:\"search\",value:searchParam,onChange:handleSearch,InputProps:{style:{color:colorTitleTable()},startAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"start\"},/*#__PURE__*/React.createElement(SearchIcon,{style:{color:\"gray\"}}))}}),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",onClick:handleOpenContactModal,style:{textTransform:\"none\",backgroundColor:colorPrimary()}},/*#__PURE__*/React.createElement(Stack,{direction:\"row\",gap:1},/*#__PURE__*/React.createElement(AddCircle,null),\"Adicionar Fluxo\")))),/*#__PURE__*/React.createElement(Paper,{className:classes.mainPaper,variant:\"outlined\",onScroll:handleScroll},/*#__PURE__*/React.createElement(Stack,null,/*#__PURE__*/React.createElement(Grid,{container:true,style:{padding:\"8px\"}},/*#__PURE__*/React.createElement(Grid,{item:true,xs:4,style:{color:colorTopTable()}},i18n.t(\"contacts.table.name\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:4,style:{color:colorTopTable()},align:\"center\"},\"Status\"),/*#__PURE__*/React.createElement(Grid,{item:true,xs:4,align:\"end\",style:{color:colorTopTable()}},i18n.t(\"contacts.table.actions\"))),/*#__PURE__*/React.createElement(React.Fragment,null,webhooks.map(contact=>/*#__PURE__*/React.createElement(Grid,{container:true,key:contact.id,sx:{padding:\"8px\",backgroundColor:colorLineTable(),borderRadius:2,marginTop:0.5,\"&:hover\":{backgroundColor:colorLineTableHover()}}},/*#__PURE__*/React.createElement(Grid,{item:true,xs:4,onClick:()=>history.push(\"/flowbuilder/\".concat(contact.id))},/*#__PURE__*/React.createElement(Stack,{justifyContent:\"center\",height:\"100%\",style:{color:\"#ededed\"}},/*#__PURE__*/React.createElement(Stack,{direction:\"row\"},/*#__PURE__*/React.createElement(DevicesFold,null),/*#__PURE__*/React.createElement(Stack,{justifyContent:\"center\",marginLeft:1},contact.name)))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:4,align:\"center\",style:{color:\"#ededed\"},onClick:()=>history.push(\"/flowbuilder/\".concat(contact.id))},/*#__PURE__*/React.createElement(Stack,{justifyContent:\"center\",height:\"100%\"},contact.active?\"Ativo\":\"Desativado\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:4,align:\"end\"},/*#__PURE__*/React.createElement(Button,{id:\"basic-button\",\"aria-controls\":open?\"basic-menu\":undefined,\"aria-haspopup\":\"true\",\"aria-expanded\":open?\"true\":undefined,onClick:e=>{handleClick(e);setDeletingContact(contact);},sx:{borderRadius:\"36px\",minWidth:\"24px\"}},/*#__PURE__*/React.createElement(MoreVert,{sx:{color:\"#ededed\",width:\"21px\",height:\"21px\"}}))))),/*#__PURE__*/React.createElement(Menu,{id:\"basic-menu\",anchorEl:anchorEl,open:open,sx:{borderRadius:'40px'},onClose:handleClose,MenuListProps:{\"aria-labelledby\":\"basic-button\"}},/*#__PURE__*/React.createElement(MenuItem,{onClick:()=>{handleClose();hadleEditContact();}},\"Editar nome\"),/*#__PURE__*/React.createElement(MenuItem,{onClick:()=>{handleClose();exportLink();}},\"Editar fluxo\"),/*#__PURE__*/React.createElement(MenuItem,{onClick:()=>{handleClose();setConfirmDuplicateOpen(true);}},\"Duplicar\"),/*#__PURE__*/React.createElement(MenuItem,{onClick:()=>{handleClose();setConfirmOpen(true);}},\"Excluir\")),loading&&/*#__PURE__*/React.createElement(Stack,{justifyContent:\"center\",alignItems:\"center\",minHeight:\"50vh\"},/*#__PURE__*/React.createElement(CircularProgress,null))))));};export default FlowBuilder;","map":{"version":3,"names":["React","useState","useEffect","useReducer","useContext","toast","useHistory","makeStyles","Paper","Avatar","WhatsAppIcon","SearchIcon","TextField","InputAdornment","IconButton","DeleteOutlineIcon","EditIcon","api","TableRowSkeleton","ContactModal","ConfirmationModal","i18n","MainHeader","Title","MainHeaderButtonsWrapper","MainContainer","toastError","AuthContext","Can","NewTicketModal","SocketContext","WebhookModal","AddCircle","Build","ContentCopy","DevicesFold","MoreVert","WebhookOutlined","Button","CircularProgress","Grid","Menu","MenuItem","Stack","FlowBuilderModal","colorBackgroundTable","colorLineTable","colorLineTableHover","colorPrimary","colorTitleTable","colorTopTable","reducer","state","action","type","contacts","payload","newContacts","forEach","contact","contactIndex","findIndex","c","id","push","contactId","splice","useStyles","theme","mainPaper","flex","backgroundColor","borderRadius","padding","spacing","overflowY","scrollbarStyles","FlowBuilder","classes","history","loading","setLoading","pageNumber","setPageNumber","searchParam","setSearchParam","dispatch","webhooks","setWebhooks","selectedContactId","setSelectedContactId","selectedWebhookName","setSelectedWebhookName","contactModalOpen","setContactModalOpen","newTicketModalOpen","setNewTicketModalOpen","contactTicket","setContactTicket","deletingContact","setDeletingContact","confirmOpen","setConfirmOpen","confirmDuplicateOpen","setConfirmDuplicateOpen","hasMore","setHasMore","reloadData","setReloadData","user","socket","delayDebounceFn","setTimeout","fetchContacts","data","get","flows","err","clearTimeout","companyId","onContact","on","concat","disconnect","handleSearch","event","target","value","toLowerCase","handleOpenContactModal","handleCloseContactModal","handleCloseOrOpenTicket","ticket","undefined","uuid","hadleEditContact","name","handleDeleteWebhook","webhookId","delete","then","res","old","success","handleDuplicateFlow","flowId","post","loadMore","prevState","handleScroll","e","scrollTop","scrollHeight","clientHeight","currentTarget","anchorEl","setAnchorEl","open","Boolean","handleClick","handleClose","exportLink","createElement","className","mainContainer","modalOpen","initialContact","onClose","nameWebhook","onSave","title","t","onConfirm","placeholder","onChange","InputProps","style","color","startAdornment","position","variant","onClick","textTransform","direction","gap","onScroll","container","item","xs","align","Fragment","map","key","sx","marginTop","justifyContent","height","marginLeft","active","minWidth","width","MenuListProps","alignItems","minHeight"],"sources":["C:/ProjectsCode/ZapRun/ZapRun/frontend/src/pages/FlowBuilder/index.js"],"sourcesContent":["import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport api from \"../../services/api\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport ContactModal from \"../../components/ContactModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../../components/Can\";\r\nimport NewTicketModal from \"../../components/NewTicketModal\";\r\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport WebhookModal from \"../../components/WebhookModal\";\r\nimport {\r\n  AddCircle,\r\n  Build,\r\n  ContentCopy,\r\n  DevicesFold,\r\n  MoreVert,\r\n  WebhookOutlined\r\n} from \"@mui/icons-material\";\r\n\r\nimport {\r\n  Button,\r\n  CircularProgress,\r\n  Grid,\r\n  Menu,\r\n  MenuItem,\r\n  Stack\r\n} from \"@mui/material\";\r\n\r\nimport FlowBuilderModal from \"../../components/FlowBuilderModal\";\r\n\r\nimport {\r\n  colorBackgroundTable,\r\n  colorLineTable,\r\n  colorLineTableHover,\r\n  colorPrimary,\r\n  colorTitleTable,\r\n  colorTopTable\r\n} from \"../../styles/styles\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CONTACTS\") {\r\n    const contacts = action.payload;\r\n    const newContacts = [];\r\n\r\n    contacts.forEach(contact => {\r\n      const contactIndex = state.findIndex(c => c.id === contact.id);\r\n      if (contactIndex !== -1) {\r\n        state[contactIndex] = contact;\r\n      } else {\r\n        newContacts.push(contact);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newContacts];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CONTACTS\") {\r\n    const contact = action.payload;\r\n    const contactIndex = state.findIndex(c => c.id === contact.id);\r\n\r\n    if (contactIndex !== -1) {\r\n      state[contactIndex] = contact;\r\n      return [...state];\r\n    } else {\r\n      return [contact, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CONTACT\") {\r\n    const contactId = action.payload;\r\n\r\n    const contactIndex = state.findIndex(c => c.id === contactId);\r\n    if (contactIndex !== -1) {\r\n      state.splice(contactIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    backgroundColor: colorBackgroundTable(),\r\n    borderRadius: 12,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles\r\n  }\r\n}));\r\n\r\nconst FlowBuilder = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [contacts, dispatch] = useReducer(reducer, []);\r\n  const [webhooks, setWebhooks] = useState([]);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [selectedWebhookName, setSelectedWebhookName] = useState(null);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\r\n  const [contactTicket, setContactTicket] = useState({});\r\n  const [deletingContact, setDeletingContact] = useState(null);\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [confirmDuplicateOpen, setConfirmDuplicateOpen] = useState(false);\r\n\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [reloadData, setReloadData] = useState(false);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/flowbuilder\");\r\n          setWebhooks(data.flows);\r\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.flows });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber, reloadData]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId\r\n   \r\n\r\n   const onContact = (data) => {\r\n    if (data.action === \"update\" || data.action === \"create\") {\r\n      dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\r\n    }\r\n\r\n    if (data.action === \"delete\") {\r\n      dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\r\n    }\r\n  }\r\n  \r\n  socket.on(`company-${companyId}-contact`, onContact);\r\n\r\n  return () => {\r\n    socket.disconnect();\r\n  };\r\n\r\n\r\n  }, []);\r\n\r\n  const handleSearch = event => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleOpenContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(false);\r\n  };\r\n\r\n  const handleCloseOrOpenTicket = ticket => {\r\n    setNewTicketModalOpen(false);\r\n    if (ticket !== undefined && ticket.uuid !== undefined) {\r\n      history.push(`/tickets/${ticket.uuid}`);\r\n    }\r\n  };\r\n\r\n  const hadleEditContact = () => {\r\n    setSelectedContactId(deletingContact.id);\r\n    setSelectedWebhookName(deletingContact.name);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteWebhook = async webhookId => {\r\n    try {\r\n      await api.delete(`/flowbuilder/${webhookId}`).then(res => {\r\n        setDeletingContact(null);\r\n        setReloadData(old => !old);\r\n      });\r\n      toast.success(\"Fluxo excluÃ­do com sucesso\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleDuplicateFlow = async flowId => {\r\n    try {\r\n      await api.post(`/flowbuilder/duplicate`, { flowId: flowId }).then(res => {\r\n        setDeletingContact(null);\r\n        setReloadData(old => !old);\r\n      });\r\n      toast.success(\"Fluxo duplicado com sucesso\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber(prevState => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = e => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleClick = event => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const exportLink = () => {\r\n    history.push(`/flowbuilder/${deletingContact.id}`)\r\n  }\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      <NewTicketModal\r\n        modalOpen={newTicketModalOpen}\r\n        initialContact={contactTicket}\r\n        onClose={ticket => {\r\n          handleCloseOrOpenTicket(ticket);\r\n        }}\r\n      />\r\n      <FlowBuilderModal\r\n        open={contactModalOpen}\r\n        onClose={handleCloseContactModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        flowId={selectedContactId}\r\n        nameWebhook={selectedWebhookName}\r\n        onSave={() => setReloadData(old => !old)}\r\n      ></FlowBuilderModal>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContact\r\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\r\n                deletingContact.name\r\n              }?`\r\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\r\n        }\r\n        open={confirmOpen}\r\n        onClose={setConfirmOpen}\r\n        onConfirm={e =>\r\n          deletingContact ? handleDeleteWebhook(deletingContact.id) : () => {}\r\n        }\r\n      >\r\n        {deletingContact\r\n          ? `Tem certeza que deseja deletar este fluxo? Todas as integraÃ§Ãµes relacionados serÃ£o perdidos.`\r\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\r\n      </ConfirmationModal>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContact\r\n            ? `Deseja duplicar o fluxo ${deletingContact.name}?`\r\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\r\n        }\r\n        open={confirmDuplicateOpen}\r\n        onClose={setConfirmDuplicateOpen}\r\n        onConfirm={e =>\r\n          deletingContact ? handleDuplicateFlow(deletingContact.id) : () => {}\r\n        }\r\n      >\r\n        {deletingContact\r\n          ? `Tem certeza que deseja duplicar este fluxo?`\r\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\r\n      </ConfirmationModal>\r\n      <MainHeader>\r\n        <Title>Fluxos de conversa</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              style: {\r\n                color: colorTitleTable()\r\n              },\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: \"gray\" }} />\r\n                </InputAdornment>\r\n              )\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={handleOpenContactModal}\r\n            style={{ textTransform: \"none\", backgroundColor: colorPrimary() }}\r\n          >\r\n            <Stack direction={\"row\"} gap={1}>\r\n              <AddCircle />\r\n              {\"Adicionar Fluxo\"}\r\n            </Stack>\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Stack>\r\n          <Grid container style={{ padding: \"8px\" }}>\r\n            <Grid item xs={4} style={{ color: colorTopTable() }}>\r\n              {i18n.t(\"contacts.table.name\")}\r\n            </Grid>\r\n            <Grid item xs={4} style={{ color: colorTopTable() }} align=\"center\">\r\n              Status\r\n            </Grid>\r\n            <Grid item xs={4} align=\"end\" style={{ color: colorTopTable() }}>\r\n              {i18n.t(\"contacts.table.actions\")}\r\n            </Grid>\r\n          </Grid>\r\n          <>\r\n            {webhooks.map(contact => (\r\n              <Grid               \r\n                container\r\n                key={contact.id}\r\n                sx={{\r\n                  padding: \"8px\",\r\n                  backgroundColor: colorLineTable(),\r\n                  borderRadius: 2,\r\n                  marginTop: 0.5,\r\n                  \"&:hover\": {\r\n                    backgroundColor: colorLineTableHover()\r\n                  }\r\n                }}\r\n              >\r\n                <Grid item xs={4}  onClick={() => history.push(`/flowbuilder/${contact.id}`)}>\r\n                  <Stack\r\n                    justifyContent={\"center\"}\r\n                    height={\"100%\"}\r\n                    style={{ color: \"#ededed\" }}\r\n                  >\r\n                    <Stack direction={\"row\"}>\r\n                      <DevicesFold />\r\n                      <Stack justifyContent={\"center\"} marginLeft={1}>\r\n                        {contact.name}\r\n                      </Stack>\r\n                    </Stack>\r\n                  </Stack>\r\n                </Grid>\r\n                <Grid item xs={4} align=\"center\" style={{ color: \"#ededed\" }}  onClick={() => history.push(`/flowbuilder/${contact.id}`)}>\r\n                  <Stack justifyContent={\"center\"} height={\"100%\"}>\r\n                    {contact.active ? \"Ativo\" : \"Desativado\"}\r\n                  </Stack>\r\n                </Grid>\r\n                <Grid item xs={4} align=\"end\">\r\n                  <Button\r\n                    id=\"basic-button\"\r\n                    aria-controls={open ? \"basic-menu\" : undefined}\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded={open ? \"true\" : undefined}\r\n                    onClick={(e) => {\r\n                      handleClick(e);\r\n                      setDeletingContact(contact);\r\n                    }}\r\n                    sx={{ borderRadius: \"36px\", minWidth: \"24px\" }}\r\n                  >\r\n                    <MoreVert\r\n                      sx={{ color: \"#ededed\", width: \"21px\", height: \"21px\" }}\r\n                    />\r\n                  </Button>\r\n                  {/* <IconButton\r\n                    size=\"small\"\r\n                    onClick={() => hadleEditContact(contact.id, contact.name)}\r\n                  >\r\n                    <EditIcon style={{ color: \"#ededed\" }} />\r\n                  </IconButton>\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    onClick={e => {\r\n                      setConfirmDuplicateOpen(true);\r\n                      setDeletingContact(contact);\r\n                    }}\r\n                  >\r\n                    <ContentCopy style={{ color: \"#ededed\" }} />\r\n                  </IconButton>\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    onClick={() => history.push(`/flowbuilder/${contact.id}`)}\r\n                  >\r\n                    <Stack sx={{ width: 24 }}>\r\n                      <Build sx={{ width: 20, color: \"#ededed\" }} />\r\n                    </Stack>\r\n                  </IconButton>\r\n                  <Can\r\n                    role={user.profile}\r\n                    perform=\"contacts-page:deleteContact\"\r\n                    yes={() => (\r\n                      <IconButton\r\n                        size=\"small\"\r\n                        onClick={e => {\r\n                          setConfirmOpen(true);\r\n                          setDeletingContact(contact);\r\n                        }}\r\n                      >\r\n                        <DeleteOutlineIcon style={{ color: \"#ededed\" }} />\r\n                      </IconButton>\r\n                    )}\r\n                  /> */}\r\n                </Grid>\r\n              </Grid>\r\n            ))}\r\n            <Menu\r\n              id=\"basic-menu\"\r\n              anchorEl={anchorEl}\r\n              open={open}\r\n              sx={{borderRadius: '40px'}}\r\n              onClose={handleClose}\r\n              MenuListProps={{\r\n                \"aria-labelledby\": \"basic-button\"\r\n              }}\r\n            >\r\n              <MenuItem onClick={() => {\r\n                handleClose()\r\n                hadleEditContact()\r\n                }}>Editar nome</MenuItem>\r\n              <MenuItem onClick={() => {\r\n                handleClose()\r\n                exportLink()\r\n                }}>Editar fluxo</MenuItem>\r\n              <MenuItem onClick={() => {\r\n                handleClose()\r\n                setConfirmDuplicateOpen(true);\r\n                }}>Duplicar</MenuItem>\r\n              <MenuItem onClick={() => {\r\n                handleClose()\r\n                setConfirmOpen(true);\r\n                }}>Excluir</MenuItem>\r\n            </Menu>\r\n            {loading && (\r\n              <Stack\r\n                justifyContent={\"center\"}\r\n                alignItems={\"center\"}\r\n                minHeight={\"50vh\"}\r\n              >\r\n                <CircularProgress />\r\n              </Stack>\r\n            )}\r\n          </>\r\n        </Stack>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default FlowBuilder;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}